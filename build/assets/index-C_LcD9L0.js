function P6(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n0={exports:{}},Ec={},i0={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk;function C6(){if(Pk)return et;Pk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function g(L){return L===null||typeof L!="object"?null:(L=h&&L[h]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function x(L,q,X){this.props=L,this.context=q,this.refs=w,this.updater=X||y}x.prototype.isReactComponent={},x.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function S(){}S.prototype=x.prototype;function k(L,q,X){this.props=L,this.context=q,this.refs=w,this.updater=X||y}var _=k.prototype=new S;_.constructor=k,b(_,x.prototype),_.isPureReactComponent=!0;var C=Array.isArray,N=Object.prototype.hasOwnProperty,A={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function O(L,q,X){var se,pe={},re=null,he=null;if(q!=null)for(se in q.ref!==void 0&&(he=q.ref),q.key!==void 0&&(re=""+q.key),q)N.call(q,se)&&!E.hasOwnProperty(se)&&(pe[se]=q[se]);var le=arguments.length-2;if(le===1)pe.children=X;else if(1<le){for(var ie=Array(le),fe=0;fe<le;fe++)ie[fe]=arguments[fe+2];pe.children=ie}if(L&&L.defaultProps)for(se in le=L.defaultProps,le)pe[se]===void 0&&(pe[se]=le[se]);return{$$typeof:t,type:L,key:re,ref:he,props:pe,_owner:A.current}}function R(L,q){return{$$typeof:t,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function H(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function B(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(X){return q[X]})}var D=/\/+/g;function $(L,q){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):q.toString(36)}function V(L,q,X,se,pe){var re=typeof L;(re==="undefined"||re==="boolean")&&(L=null);var he=!1;if(L===null)he=!0;else switch(re){case"string":case"number":he=!0;break;case"object":switch(L.$$typeof){case t:case e:he=!0}}if(he)return he=L,pe=pe(he),L=se===""?"."+$(he,0):se,C(pe)?(X="",L!=null&&(X=L.replace(D,"$&/")+"/"),V(pe,q,X,"",function(fe){return fe})):pe!=null&&(H(pe)&&(pe=R(pe,X+(!pe.key||he&&he.key===pe.key?"":(""+pe.key).replace(D,"$&/")+"/")+L)),q.push(pe)),1;if(he=0,se=se===""?".":se+":",C(L))for(var le=0;le<L.length;le++){re=L[le];var ie=se+$(re,le);he+=V(re,q,X,ie,pe)}else if(ie=g(L),typeof ie=="function")for(L=ie.call(L),le=0;!(re=L.next()).done;)re=re.value,ie=se+$(re,le++),he+=V(re,q,X,ie,pe);else if(re==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return he}function J(L,q,X){if(L==null)return L;var se=[],pe=0;return V(L,se,"","",function(re){return q.call(X,re,pe++)}),se}function K(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(X){(L._status===0||L._status===-1)&&(L._status=1,L._result=X)},function(X){(L._status===0||L._status===-1)&&(L._status=2,L._result=X)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var U={current:null},M={transition:null},Q={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:M,ReactCurrentOwner:A};function ee(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:J,forEach:function(L,q,X){J(L,function(){q.apply(this,arguments)},X)},count:function(L){var q=0;return J(L,function(){q++}),q},toArray:function(L){return J(L,function(q){return q})||[]},only:function(L){if(!H(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},et.Component=x,et.Fragment=r,et.Profiler=i,et.PureComponent=k,et.StrictMode=n,et.Suspense=d,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,et.act=ee,et.cloneElement=function(L,q,X){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var se=b({},L.props),pe=L.key,re=L.ref,he=L._owner;if(q!=null){if(q.ref!==void 0&&(re=q.ref,he=A.current),q.key!==void 0&&(pe=""+q.key),L.type&&L.type.defaultProps)var le=L.type.defaultProps;for(ie in q)N.call(q,ie)&&!E.hasOwnProperty(ie)&&(se[ie]=q[ie]===void 0&&le!==void 0?le[ie]:q[ie])}var ie=arguments.length-2;if(ie===1)se.children=X;else if(1<ie){le=Array(ie);for(var fe=0;fe<ie;fe++)le[fe]=arguments[fe+2];se.children=le}return{$$typeof:t,type:L.type,key:pe,ref:re,props:se,_owner:he}},et.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},et.createElement=O,et.createFactory=function(L){var q=O.bind(null,L);return q.type=L,q},et.createRef=function(){return{current:null}},et.forwardRef=function(L){return{$$typeof:c,render:L}},et.isValidElement=H,et.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:K}},et.memo=function(L,q){return{$$typeof:f,type:L,compare:q===void 0?null:q}},et.startTransition=function(L){var q=M.transition;M.transition={};try{L()}finally{M.transition=q}},et.unstable_act=ee,et.useCallback=function(L,q){return U.current.useCallback(L,q)},et.useContext=function(L){return U.current.useContext(L)},et.useDebugValue=function(){},et.useDeferredValue=function(L){return U.current.useDeferredValue(L)},et.useEffect=function(L,q){return U.current.useEffect(L,q)},et.useId=function(){return U.current.useId()},et.useImperativeHandle=function(L,q,X){return U.current.useImperativeHandle(L,q,X)},et.useInsertionEffect=function(L,q){return U.current.useInsertionEffect(L,q)},et.useLayoutEffect=function(L,q){return U.current.useLayoutEffect(L,q)},et.useMemo=function(L,q){return U.current.useMemo(L,q)},et.useReducer=function(L,q,X){return U.current.useReducer(L,q,X)},et.useRef=function(L){return U.current.useRef(L)},et.useState=function(L){return U.current.useState(L)},et.useSyncExternalStore=function(L,q,X){return U.current.useSyncExternalStore(L,q,X)},et.useTransition=function(){return U.current.useTransition()},et.version="18.3.1",et}var Ck;function Np(){return Ck||(Ck=1,i0.exports=C6()),i0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek;function E6(){if(Ek)return Ec;Ek=1;var t=Np(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,d,f){var p,h={},g=null,y=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(p in d)n.call(d,p)&&!a.hasOwnProperty(p)&&(h[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)h[p]===void 0&&(h[p]=d[p]);return{$$typeof:e,type:c,key:g,ref:y,props:h,_owner:i.current}}return Ec.Fragment=r,Ec.jsx=o,Ec.jsxs=o,Ec}var Ok;function O6(){return Ok||(Ok=1,n0.exports=E6()),n0.exports}var s=O6(),Cf={},a0={exports:{}},Qr={},s0={exports:{}},o0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik;function I6(){return Ik||(Ik=1,(function(t){function e(M,Q){var ee=M.length;M.push(Q);e:for(;0<ee;){var L=ee-1>>>1,q=M[L];if(0<i(q,Q))M[L]=Q,M[ee]=q,ee=L;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var Q=M[0],ee=M.pop();if(ee!==Q){M[0]=ee;e:for(var L=0,q=M.length,X=q>>>1;L<X;){var se=2*(L+1)-1,pe=M[se],re=se+1,he=M[re];if(0>i(pe,ee))re<q&&0>i(he,pe)?(M[L]=he,M[re]=ee,L=re):(M[L]=pe,M[se]=ee,L=se);else if(re<q&&0>i(he,ee))M[L]=he,M[re]=ee,L=re;else break e}}return Q}function i(M,Q){var ee=M.sortIndex-Q.sortIndex;return ee!==0?ee:M.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],f=[],p=1,h=null,g=3,y=!1,b=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var Q=r(f);Q!==null;){if(Q.callback===null)n(f);else if(Q.startTime<=M)n(f),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=r(f)}}function C(M){if(w=!1,_(M),!b)if(r(d)!==null)b=!0,K(N);else{var Q=r(f);Q!==null&&U(C,Q.startTime-M)}}function N(M,Q){b=!1,w&&(w=!1,S(O),O=-1),y=!0;var ee=g;try{for(_(Q),h=r(d);h!==null&&(!(h.expirationTime>Q)||M&&!B());){var L=h.callback;if(typeof L=="function"){h.callback=null,g=h.priorityLevel;var q=L(h.expirationTime<=Q);Q=t.unstable_now(),typeof q=="function"?h.callback=q:h===r(d)&&n(d),_(Q)}else n(d);h=r(d)}if(h!==null)var X=!0;else{var se=r(f);se!==null&&U(C,se.startTime-Q),X=!1}return X}finally{h=null,g=ee,y=!1}}var A=!1,E=null,O=-1,R=5,H=-1;function B(){return!(t.unstable_now()-H<R)}function D(){if(E!==null){var M=t.unstable_now();H=M;var Q=!0;try{Q=E(!0,M)}finally{Q?$():(A=!1,E=null)}}else A=!1}var $;if(typeof k=="function")$=function(){k(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=D,$=function(){J.postMessage(null)}}else $=function(){x(D,0)};function K(M){E=M,A||(A=!0,$())}function U(M,Q){O=x(function(){M(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,K(N))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(M){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var ee=g;g=Q;try{return M()}finally{g=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=g;g=M;try{return Q()}finally{g=ee}},t.unstable_scheduleCallback=function(M,Q,ee){var L=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?L+ee:L):ee=L,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ee+q,M={id:p++,callback:Q,priorityLevel:M,startTime:ee,expirationTime:q,sortIndex:-1},ee>L?(M.sortIndex=ee,e(f,M),r(d)===null&&M===r(f)&&(w?(S(O),O=-1):w=!0,U(C,ee-L))):(M.sortIndex=q,e(d,M),b||y||(b=!0,K(N))),M},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(M){var Q=g;return function(){var ee=g;g=Q;try{return M.apply(this,arguments)}finally{g=ee}}}})(o0)),o0}var Rk;function R6(){return Rk||(Rk=1,s0.exports=I6()),s0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k;function $6(){if($k)return Qr;$k=1;var t=Np(),e=R6();function r(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)n.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(l){return d.call(h,l)?!0:d.call(p,l)?!1:f.test(l)?h[l]=!0:(p[l]=!0,!1)}function y(l,u,m,v){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,u,m,v){if(u===null||typeof u>"u"||y(l,u,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(l,u,m,v,j,T,I){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=j,this.mustUseProperty=m,this.propertyName=l,this.type=u,this.sanitizeURL=T,this.removeEmptyString=I}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){x[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];x[u]=new w(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){x[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){x[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){x[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){x[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){x[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){x[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){x[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function k(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(S,k);x[u]=new w(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(S,k);x[u]=new w(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(S,k);x[u]=new w(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){x[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){x[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function _(l,u,m,v){var j=x.hasOwnProperty(u)?x[u]:null;(j!==null?j.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,m,j,v)&&(m=null),v||j===null?g(u)&&(m===null?l.removeAttribute(u):l.setAttribute(u,""+m)):j.mustUseProperty?l[j.propertyName]=m===null?j.type===3?!1:"":m:(u=j.attributeName,v=j.attributeNamespace,m===null?l.removeAttribute(u):(j=j.type,m=j===3||j===4&&m===!0?"":""+m,v?l.setAttributeNS(v,u,m):l.setAttribute(u,m))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),M=Symbol.iterator;function Q(l){return l===null||typeof l!="object"?null:(l=M&&l[M]||l["@@iterator"],typeof l=="function"?l:null)}var ee=Object.assign,L;function q(l){if(L===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);L=u&&u[1]||""}return`
`+L+l}var X=!1;function se(l,u){if(!l||X)return"";X=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ae){var v=ae}Reflect.construct(l,[],u)}else{try{u.call()}catch(ae){v=ae}l.call(u.prototype)}else{try{throw Error()}catch(ae){v=ae}l()}}catch(ae){if(ae&&v&&typeof ae.stack=="string"){for(var j=ae.stack.split(`
`),T=v.stack.split(`
`),I=j.length-1,F=T.length-1;1<=I&&0<=F&&j[I]!==T[F];)F--;for(;1<=I&&0<=F;I--,F--)if(j[I]!==T[F]){if(I!==1||F!==1)do if(I--,F--,0>F||j[I]!==T[F]){var G=`
`+j[I].replace(" at new "," at ");return l.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",l.displayName)),G}while(1<=I&&0<=F);break}}}finally{X=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?q(l):""}function pe(l){switch(l.tag){case 5:return q(l.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return l=se(l.type,!1),l;case 11:return l=se(l.type.render,!1),l;case 1:return l=se(l.type,!0),l;default:return""}}function re(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case E:return"Fragment";case A:return"Portal";case R:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case V:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case B:return(l.displayName||"Context")+".Consumer";case H:return(l._context.displayName||"Context")+".Provider";case D:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case J:return u=l.displayName||null,u!==null?u:re(l.type)||"Memo";case K:u=l._payload,l=l._init;try{return re(l(u))}catch{}}return null}function he(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(u);case 8:return u===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function le(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ie(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function fe(l){var u=ie(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),v=""+l[u];if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var j=m.get,T=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return j.call(this)},set:function(I){v=""+I,T.call(this,I)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(I){v=""+I},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function _e(l){l._valueTracker||(l._valueTracker=fe(l))}function ue(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),v="";return l&&(v=ie(l)?l.checked?"true":"false":l.value),l=v,l!==m?(u.setValue(l),!0):!1}function Z(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function me(l,u){var m=u.checked;return ee({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function Se(l,u){var m=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;m=le(u.value!=null?u.value:m),l._wrapperState={initialChecked:v,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function $e(l,u){u=u.checked,u!=null&&_(l,"checked",u,!1)}function Me(l,u){$e(l,u);var m=le(u.value),v=u.type;if(m!=null)v==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?Ue(l,u.type,m):u.hasOwnProperty("defaultValue")&&Ue(l,u.type,le(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function rt(l,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,m||u===l.value||(l.value=u),l.defaultValue=u}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function Ue(l,u,m){(u!=="number"||Z(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var Ct=Array.isArray;function ut(l,u,m,v){if(l=l.options,u){u={};for(var j=0;j<m.length;j++)u["$"+m[j]]=!0;for(m=0;m<l.length;m++)j=u.hasOwnProperty("$"+l[m].value),l[m].selected!==j&&(l[m].selected=j),j&&v&&(l[m].defaultSelected=!0)}else{for(m=""+le(m),u=null,j=0;j<l.length;j++){if(l[j].value===m){l[j].selected=!0,v&&(l[j].defaultSelected=!0);return}u!==null||l[j].disabled||(u=l[j])}u!==null&&(u.selected=!0)}}function Xe(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Bt(l,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(r(92));if(Ct(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),m=u}l._wrapperState={initialValue:le(m)}}function He(l,u){var m=le(u.value),v=le(u.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),u.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),v!=null&&(l.defaultValue=""+v)}function Wt(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function Ni(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function es(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?Ni(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Hr,Ht=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,v,j){MSApp.execUnsafeLocalFunction(function(){return l(u,m,v,j)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Hr.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Ze(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},At=["Webkit","ms","Moz","O"];Object.keys(jt).forEach(function(l){At.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),jt[u]=jt[l]})});function Js(l,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||jt.hasOwnProperty(l)&&jt[l]?(""+u).trim():u+"px"}function ts(l,u){l=l.style;for(var m in u)if(u.hasOwnProperty(m)){var v=m.indexOf("--")===0,j=Js(m,u[m],v);m==="float"&&(m="cssFloat"),v?l.setProperty(m,j):l[m]=j}}var jd=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qs(l,u){if(u){if(jd[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Kl(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function bn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Xl=null,oa=null,ki=null;function Yl(l){if(l=gc(l)){if(typeof Xl!="function")throw Error(r(280));var u=l.stateNode;u&&(u=Ud(u),Xl(l.stateNode,l.type,u))}}function Ve(l){oa?ki?ki.push(l):ki=[l]:oa=l}function Ft(){if(oa){var l=oa,u=ki;if(ki=oa=null,Yl(l),u)for(l=0;l<u.length;l++)Yl(u[l])}}function er(l,u){return l(u)}function Tr(){}var la=!1;function Gt(l,u,m){if(la)return l(u,m);la=!0;try{return er(l,u,m)}finally{la=!1,(oa!==null||ki!==null)&&(Tr(),Ft())}}function ur(l,u){var m=l.stateNode;if(m===null)return null;var v=Ud(m);if(v===null)return null;m=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,u,typeof m));return m}var ca=!1;if(c)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){ca=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{ca=!1}function an(l,u,m,v,j,T,I,F,G){var ae=Array.prototype.slice.call(arguments,3);try{u.apply(m,ae)}catch(ve){this.onError(ve)}}var ua=!1,wn=null,Jl=!1,jm=null,Mz={onError:function(l){ua=!0,wn=l}};function Dz(l,u,m,v,j,T,I,F,G){ua=!1,wn=null,an.apply(Mz,arguments)}function zz(l,u,m,v,j,T,I,F,G){if(Dz.apply(this,arguments),ua){if(ua){var ae=wn;ua=!1,wn=null}else throw Error(r(198));Jl||(Jl=!0,jm=ae)}}function ns(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function QS(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function ZS(l){if(ns(l)!==l)throw Error(r(188))}function Lz(l){var u=l.alternate;if(!u){if(u=ns(l),u===null)throw Error(r(188));return u!==l?null:l}for(var m=l,v=u;;){var j=m.return;if(j===null)break;var T=j.alternate;if(T===null){if(v=j.return,v!==null){m=v;continue}break}if(j.child===T.child){for(T=j.child;T;){if(T===m)return ZS(j),l;if(T===v)return ZS(j),u;T=T.sibling}throw Error(r(188))}if(m.return!==v.return)m=j,v=T;else{for(var I=!1,F=j.child;F;){if(F===m){I=!0,m=j,v=T;break}if(F===v){I=!0,v=j,m=T;break}F=F.sibling}if(!I){for(F=T.child;F;){if(F===m){I=!0,m=T,v=j;break}if(F===v){I=!0,v=T,m=j;break}F=F.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==v)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:u}function e_(l){return l=Lz(l),l!==null?t_(l):null}function t_(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=t_(l);if(u!==null)return u;l=l.sibling}return null}var r_=e.unstable_scheduleCallback,n_=e.unstable_cancelCallback,Bz=e.unstable_shouldYield,Fz=e.unstable_requestPaint,qt=e.unstable_now,qz=e.unstable_getCurrentPriorityLevel,Sm=e.unstable_ImmediatePriority,i_=e.unstable_UserBlockingPriority,Sd=e.unstable_NormalPriority,Uz=e.unstable_LowPriority,a_=e.unstable_IdlePriority,_d=null,si=null;function Vz(l){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(_d,l,void 0,(l.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:Gz,Wz=Math.log,Hz=Math.LN2;function Gz(l){return l>>>=0,l===0?32:31-(Wz(l)/Hz|0)|0}var Nd=64,kd=4194304;function Ql(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ad(l,u){var m=l.pendingLanes;if(m===0)return 0;var v=0,j=l.suspendedLanes,T=l.pingedLanes,I=m&268435455;if(I!==0){var F=I&~j;F!==0?v=Ql(F):(T&=I,T!==0&&(v=Ql(T)))}else I=m&~j,I!==0?v=Ql(I):T!==0&&(v=Ql(T));if(v===0)return 0;if(u!==0&&u!==v&&(u&j)===0&&(j=v&-v,T=u&-u,j>=T||j===16&&(T&4194240)!==0))return u;if((v&4)!==0&&(v|=m&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=v;0<u;)m=31-Ln(u),j=1<<m,v|=l[m],u&=~j;return v}function Kz(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xz(l,u){for(var m=l.suspendedLanes,v=l.pingedLanes,j=l.expirationTimes,T=l.pendingLanes;0<T;){var I=31-Ln(T),F=1<<I,G=j[I];G===-1?((F&m)===0||(F&v)!==0)&&(j[I]=Kz(F,u)):G<=u&&(l.expiredLanes|=F),T&=~F}}function _m(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function s_(){var l=Nd;return Nd<<=1,(Nd&4194240)===0&&(Nd=64),l}function Nm(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Zl(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Ln(u),l[u]=m}function Yz(l,u){var m=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<m;){var j=31-Ln(m),T=1<<j;u[j]=0,v[j]=-1,l[j]=-1,m&=~T}}function km(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var v=31-Ln(m),j=1<<v;j&u|l[v]&u&&(l[v]|=u),m&=~j}}var ct=0;function o_(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var l_,Am,c_,u_,d_,Tm=!1,Td=[],da=null,fa=null,ha=null,ec=new Map,tc=new Map,pa=[],Jz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f_(l,u){switch(l){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":ec.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(u.pointerId)}}function rc(l,u,m,v,j,T){return l===null||l.nativeEvent!==T?(l={blockedOn:u,domEventName:m,eventSystemFlags:v,nativeEvent:T,targetContainers:[j]},u!==null&&(u=gc(u),u!==null&&Am(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,j!==null&&u.indexOf(j)===-1&&u.push(j),l)}function Qz(l,u,m,v,j){switch(u){case"focusin":return da=rc(da,l,u,m,v,j),!0;case"dragenter":return fa=rc(fa,l,u,m,v,j),!0;case"mouseover":return ha=rc(ha,l,u,m,v,j),!0;case"pointerover":var T=j.pointerId;return ec.set(T,rc(ec.get(T)||null,l,u,m,v,j)),!0;case"gotpointercapture":return T=j.pointerId,tc.set(T,rc(tc.get(T)||null,l,u,m,v,j)),!0}return!1}function h_(l){var u=is(l.target);if(u!==null){var m=ns(u);if(m!==null){if(u=m.tag,u===13){if(u=QS(m),u!==null){l.blockedOn=u,d_(l.priority,function(){c_(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Pd(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=Cm(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var v=new m.constructor(m.type,m);rs=v,m.target.dispatchEvent(v),rs=null}else return u=gc(m),u!==null&&Am(u),l.blockedOn=m,!1;u.shift()}return!0}function p_(l,u,m){Pd(l)&&m.delete(u)}function Zz(){Tm=!1,da!==null&&Pd(da)&&(da=null),fa!==null&&Pd(fa)&&(fa=null),ha!==null&&Pd(ha)&&(ha=null),ec.forEach(p_),tc.forEach(p_)}function nc(l,u){l.blockedOn===u&&(l.blockedOn=null,Tm||(Tm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zz)))}function ic(l){function u(j){return nc(j,l)}if(0<Td.length){nc(Td[0],l);for(var m=1;m<Td.length;m++){var v=Td[m];v.blockedOn===l&&(v.blockedOn=null)}}for(da!==null&&nc(da,l),fa!==null&&nc(fa,l),ha!==null&&nc(ha,l),ec.forEach(u),tc.forEach(u),m=0;m<pa.length;m++)v=pa[m],v.blockedOn===l&&(v.blockedOn=null);for(;0<pa.length&&(m=pa[0],m.blockedOn===null);)h_(m),m.blockedOn===null&&pa.shift()}var Zs=C.ReactCurrentBatchConfig,Cd=!0;function eL(l,u,m,v){var j=ct,T=Zs.transition;Zs.transition=null;try{ct=1,Pm(l,u,m,v)}finally{ct=j,Zs.transition=T}}function tL(l,u,m,v){var j=ct,T=Zs.transition;Zs.transition=null;try{ct=4,Pm(l,u,m,v)}finally{ct=j,Zs.transition=T}}function Pm(l,u,m,v){if(Cd){var j=Cm(l,u,m,v);if(j===null)Gm(l,u,v,Ed,m),f_(l,v);else if(Qz(j,l,u,m,v))v.stopPropagation();else if(f_(l,v),u&4&&-1<Jz.indexOf(l)){for(;j!==null;){var T=gc(j);if(T!==null&&l_(T),T=Cm(l,u,m,v),T===null&&Gm(l,u,v,Ed,m),T===j)break;j=T}j!==null&&v.stopPropagation()}else Gm(l,u,v,null,m)}}var Ed=null;function Cm(l,u,m,v){if(Ed=null,l=bn(v),l=is(l),l!==null)if(u=ns(l),u===null)l=null;else if(m=u.tag,m===13){if(l=QS(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Ed=l,null}function m_(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qz()){case Sm:return 1;case i_:return 4;case Sd:case Uz:return 16;case a_:return 536870912;default:return 16}default:return 16}}var ma=null,Em=null,Od=null;function g_(){if(Od)return Od;var l,u=Em,m=u.length,v,j="value"in ma?ma.value:ma.textContent,T=j.length;for(l=0;l<m&&u[l]===j[l];l++);var I=m-l;for(v=1;v<=I&&u[m-v]===j[T-v];v++);return Od=j.slice(l,1<v?1-v:void 0)}function Id(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Rd(){return!0}function v_(){return!1}function sn(l){function u(m,v,j,T,I){this._reactName=m,this._targetInst=j,this.type=v,this.nativeEvent=T,this.target=I,this.currentTarget=null;for(var F in l)l.hasOwnProperty(F)&&(m=l[F],this[F]=m?m(T):T[F]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Rd:v_,this.isPropagationStopped=v_,this}return ee(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Rd)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Rd)},persist:function(){},isPersistent:Rd}),u}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Om=sn(eo),ac=ee({},eo,{view:0,detail:0}),rL=sn(ac),Im,Rm,sc,$d=ee({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mm,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==sc&&(sc&&l.type==="mousemove"?(Im=l.screenX-sc.screenX,Rm=l.screenY-sc.screenY):Rm=Im=0,sc=l),Im)},movementY:function(l){return"movementY"in l?l.movementY:Rm}}),y_=sn($d),nL=ee({},$d,{dataTransfer:0}),iL=sn(nL),aL=ee({},ac,{relatedTarget:0}),$m=sn(aL),sL=ee({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),oL=sn(sL),lL=ee({},eo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),cL=sn(lL),uL=ee({},eo,{data:0}),x_=sn(uL),dL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pL(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=hL[l])?!!u[l]:!1}function Mm(){return pL}var mL=ee({},ac,{key:function(l){if(l.key){var u=dL[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Id(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?fL[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mm,charCode:function(l){return l.type==="keypress"?Id(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Id(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),gL=sn(mL),vL=ee({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b_=sn(vL),yL=ee({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mm}),xL=sn(yL),bL=ee({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),wL=sn(bL),jL=ee({},$d,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),SL=sn(jL),_L=[9,13,27,32],Dm=c&&"CompositionEvent"in window,oc=null;c&&"documentMode"in document&&(oc=document.documentMode);var NL=c&&"TextEvent"in window&&!oc,w_=c&&(!Dm||oc&&8<oc&&11>=oc),j_=" ",S_=!1;function __(l,u){switch(l){case"keyup":return _L.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N_(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var to=!1;function kL(l,u){switch(l){case"compositionend":return N_(u);case"keypress":return u.which!==32?null:(S_=!0,j_);case"textInput":return l=u.data,l===j_&&S_?null:l;default:return null}}function AL(l,u){if(to)return l==="compositionend"||!Dm&&__(l,u)?(l=g_(),Od=Em=ma=null,to=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return w_&&u.locale!=="ko"?null:u.data;default:return null}}var TL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k_(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!TL[l.type]:u==="textarea"}function A_(l,u,m,v){Ve(v),u=Bd(u,"onChange"),0<u.length&&(m=new Om("onChange","change",null,m,v),l.push({event:m,listeners:u}))}var lc=null,cc=null;function PL(l){W_(l,0)}function Md(l){var u=so(l);if(ue(u))return l}function CL(l,u){if(l==="change")return u}var T_=!1;if(c){var zm;if(c){var Lm="oninput"in document;if(!Lm){var P_=document.createElement("div");P_.setAttribute("oninput","return;"),Lm=typeof P_.oninput=="function"}zm=Lm}else zm=!1;T_=zm&&(!document.documentMode||9<document.documentMode)}function C_(){lc&&(lc.detachEvent("onpropertychange",E_),cc=lc=null)}function E_(l){if(l.propertyName==="value"&&Md(cc)){var u=[];A_(u,cc,l,bn(l)),Gt(PL,u)}}function EL(l,u,m){l==="focusin"?(C_(),lc=u,cc=m,lc.attachEvent("onpropertychange",E_)):l==="focusout"&&C_()}function OL(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Md(cc)}function IL(l,u){if(l==="click")return Md(u)}function RL(l,u){if(l==="input"||l==="change")return Md(u)}function $L(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Bn=typeof Object.is=="function"?Object.is:$L;function uc(l,u){if(Bn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),v=Object.keys(u);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var j=m[v];if(!d.call(u,j)||!Bn(l[j],u[j]))return!1}return!0}function O_(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function I_(l,u){var m=O_(l);l=0;for(var v;m;){if(m.nodeType===3){if(v=l+m.textContent.length,l<=u&&v>=u)return{node:m,offset:u-l};l=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=O_(m)}}function R_(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?R_(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function $_(){for(var l=window,u=Z();u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=Z(l.document)}return u}function Bm(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function ML(l){var u=$_(),m=l.focusedElem,v=l.selectionRange;if(u!==m&&m&&m.ownerDocument&&R_(m.ownerDocument.documentElement,m)){if(v!==null&&Bm(m)){if(u=v.start,l=v.end,l===void 0&&(l=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(l,m.value.length);else if(l=(u=m.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var j=m.textContent.length,T=Math.min(v.start,j);v=v.end===void 0?T:Math.min(v.end,j),!l.extend&&T>v&&(j=v,v=T,T=j),j=I_(m,T);var I=I_(m,v);j&&I&&(l.rangeCount!==1||l.anchorNode!==j.node||l.anchorOffset!==j.offset||l.focusNode!==I.node||l.focusOffset!==I.offset)&&(u=u.createRange(),u.setStart(j.node,j.offset),l.removeAllRanges(),T>v?(l.addRange(u),l.extend(I.node,I.offset)):(u.setEnd(I.node,I.offset),l.addRange(u)))}}for(u=[],l=m;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)l=u[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var DL=c&&"documentMode"in document&&11>=document.documentMode,ro=null,Fm=null,dc=null,qm=!1;function M_(l,u,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;qm||ro==null||ro!==Z(v)||(v=ro,"selectionStart"in v&&Bm(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),dc&&uc(dc,v)||(dc=v,v=Bd(Fm,"onSelect"),0<v.length&&(u=new Om("onSelect","select",null,u,m),l.push({event:u,listeners:v}),u.target=ro)))}function Dd(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var no={animationend:Dd("Animation","AnimationEnd"),animationiteration:Dd("Animation","AnimationIteration"),animationstart:Dd("Animation","AnimationStart"),transitionend:Dd("Transition","TransitionEnd")},Um={},D_={};c&&(D_=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function zd(l){if(Um[l])return Um[l];if(!no[l])return l;var u=no[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in D_)return Um[l]=u[m];return l}var z_=zd("animationend"),L_=zd("animationiteration"),B_=zd("animationstart"),F_=zd("transitionend"),q_=new Map,U_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(l,u){q_.set(l,u),a(u,[l])}for(var Vm=0;Vm<U_.length;Vm++){var Wm=U_[Vm],zL=Wm.toLowerCase(),LL=Wm[0].toUpperCase()+Wm.slice(1);ga(zL,"on"+LL)}ga(z_,"onAnimationEnd"),ga(L_,"onAnimationIteration"),ga(B_,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(F_,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BL=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function V_(l,u,m){var v=l.type||"unknown-event";l.currentTarget=m,zz(v,u,void 0,l),l.currentTarget=null}function W_(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var v=l[m],j=v.event;v=v.listeners;e:{var T=void 0;if(u)for(var I=v.length-1;0<=I;I--){var F=v[I],G=F.instance,ae=F.currentTarget;if(F=F.listener,G!==T&&j.isPropagationStopped())break e;V_(j,F,ae),T=G}else for(I=0;I<v.length;I++){if(F=v[I],G=F.instance,ae=F.currentTarget,F=F.listener,G!==T&&j.isPropagationStopped())break e;V_(j,F,ae),T=G}}}if(Jl)throw l=jm,Jl=!1,jm=null,l}function St(l,u){var m=u[Zm];m===void 0&&(m=u[Zm]=new Set);var v=l+"__bubble";m.has(v)||(H_(u,l,2,!1),m.add(v))}function Hm(l,u,m){var v=0;u&&(v|=4),H_(m,l,v,u)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function hc(l){if(!l[Ld]){l[Ld]=!0,n.forEach(function(m){m!=="selectionchange"&&(BL.has(m)||Hm(m,!1,l),Hm(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Ld]||(u[Ld]=!0,Hm("selectionchange",!1,u))}}function H_(l,u,m,v){switch(m_(u)){case 1:var j=eL;break;case 4:j=tL;break;default:j=Pm}m=j.bind(null,u,m,l),j=void 0,!ca||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(j=!0),v?j!==void 0?l.addEventListener(u,m,{capture:!0,passive:j}):l.addEventListener(u,m,!0):j!==void 0?l.addEventListener(u,m,{passive:j}):l.addEventListener(u,m,!1)}function Gm(l,u,m,v,j){var T=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var I=v.tag;if(I===3||I===4){var F=v.stateNode.containerInfo;if(F===j||F.nodeType===8&&F.parentNode===j)break;if(I===4)for(I=v.return;I!==null;){var G=I.tag;if((G===3||G===4)&&(G=I.stateNode.containerInfo,G===j||G.nodeType===8&&G.parentNode===j))return;I=I.return}for(;F!==null;){if(I=is(F),I===null)return;if(G=I.tag,G===5||G===6){v=T=I;continue e}F=F.parentNode}}v=v.return}Gt(function(){var ae=T,ve=bn(m),ye=[];e:{var ge=q_.get(l);if(ge!==void 0){var Ne=Om,Pe=l;switch(l){case"keypress":if(Id(m)===0)break e;case"keydown":case"keyup":Ne=gL;break;case"focusin":Pe="focus",Ne=$m;break;case"focusout":Pe="blur",Ne=$m;break;case"beforeblur":case"afterblur":Ne=$m;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=iL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=xL;break;case z_:case L_:case B_:Ne=oL;break;case F_:Ne=wL;break;case"scroll":Ne=rL;break;case"wheel":Ne=SL;break;case"copy":case"cut":case"paste":Ne=cL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=b_}var Oe=(u&4)!==0,Ut=!Oe&&l==="scroll",te=Oe?ge!==null?ge+"Capture":null:ge;Oe=[];for(var Y=ae,ne;Y!==null;){ne=Y;var be=ne.stateNode;if(ne.tag===5&&be!==null&&(ne=be,te!==null&&(be=ur(Y,te),be!=null&&Oe.push(pc(Y,be,ne)))),Ut)break;Y=Y.return}0<Oe.length&&(ge=new Ne(ge,Pe,null,m,ve),ye.push({event:ge,listeners:Oe}))}}if((u&7)===0){e:{if(ge=l==="mouseover"||l==="pointerover",Ne=l==="mouseout"||l==="pointerout",ge&&m!==rs&&(Pe=m.relatedTarget||m.fromElement)&&(is(Pe)||Pe[Ai]))break e;if((Ne||ge)&&(ge=ve.window===ve?ve:(ge=ve.ownerDocument)?ge.defaultView||ge.parentWindow:window,Ne?(Pe=m.relatedTarget||m.toElement,Ne=ae,Pe=Pe?is(Pe):null,Pe!==null&&(Ut=ns(Pe),Pe!==Ut||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ne=null,Pe=ae),Ne!==Pe)){if(Oe=y_,be="onMouseLeave",te="onMouseEnter",Y="mouse",(l==="pointerout"||l==="pointerover")&&(Oe=b_,be="onPointerLeave",te="onPointerEnter",Y="pointer"),Ut=Ne==null?ge:so(Ne),ne=Pe==null?ge:so(Pe),ge=new Oe(be,Y+"leave",Ne,m,ve),ge.target=Ut,ge.relatedTarget=ne,be=null,is(ve)===ae&&(Oe=new Oe(te,Y+"enter",Pe,m,ve),Oe.target=ne,Oe.relatedTarget=Ut,be=Oe),Ut=be,Ne&&Pe)t:{for(Oe=Ne,te=Pe,Y=0,ne=Oe;ne;ne=io(ne))Y++;for(ne=0,be=te;be;be=io(be))ne++;for(;0<Y-ne;)Oe=io(Oe),Y--;for(;0<ne-Y;)te=io(te),ne--;for(;Y--;){if(Oe===te||te!==null&&Oe===te.alternate)break t;Oe=io(Oe),te=io(te)}Oe=null}else Oe=null;Ne!==null&&G_(ye,ge,Ne,Oe,!1),Pe!==null&&Ut!==null&&G_(ye,Ut,Pe,Oe,!0)}}e:{if(ge=ae?so(ae):window,Ne=ge.nodeName&&ge.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&ge.type==="file")var Ie=CL;else if(k_(ge))if(T_)Ie=RL;else{Ie=OL;var De=EL}else(Ne=ge.nodeName)&&Ne.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Ie=IL);if(Ie&&(Ie=Ie(l,ae))){A_(ye,Ie,m,ve);break e}De&&De(l,ge,ae),l==="focusout"&&(De=ge._wrapperState)&&De.controlled&&ge.type==="number"&&Ue(ge,"number",ge.value)}switch(De=ae?so(ae):window,l){case"focusin":(k_(De)||De.contentEditable==="true")&&(ro=De,Fm=ae,dc=null);break;case"focusout":dc=Fm=ro=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,M_(ye,m,ve);break;case"selectionchange":if(DL)break;case"keydown":case"keyup":M_(ye,m,ve)}var ze;if(Dm)e:{switch(l){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else to?__(l,m)&&(qe="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(qe="onCompositionStart");qe&&(w_&&m.locale!=="ko"&&(to||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&to&&(ze=g_()):(ma=ve,Em="value"in ma?ma.value:ma.textContent,to=!0)),De=Bd(ae,qe),0<De.length&&(qe=new x_(qe,l,null,m,ve),ye.push({event:qe,listeners:De}),ze?qe.data=ze:(ze=N_(m),ze!==null&&(qe.data=ze)))),(ze=NL?kL(l,m):AL(l,m))&&(ae=Bd(ae,"onBeforeInput"),0<ae.length&&(ve=new x_("onBeforeInput","beforeinput",null,m,ve),ye.push({event:ve,listeners:ae}),ve.data=ze))}W_(ye,u)})}function pc(l,u,m){return{instance:l,listener:u,currentTarget:m}}function Bd(l,u){for(var m=u+"Capture",v=[];l!==null;){var j=l,T=j.stateNode;j.tag===5&&T!==null&&(j=T,T=ur(l,m),T!=null&&v.unshift(pc(l,T,j)),T=ur(l,u),T!=null&&v.push(pc(l,T,j))),l=l.return}return v}function io(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function G_(l,u,m,v,j){for(var T=u._reactName,I=[];m!==null&&m!==v;){var F=m,G=F.alternate,ae=F.stateNode;if(G!==null&&G===v)break;F.tag===5&&ae!==null&&(F=ae,j?(G=ur(m,T),G!=null&&I.unshift(pc(m,G,F))):j||(G=ur(m,T),G!=null&&I.push(pc(m,G,F)))),m=m.return}I.length!==0&&l.push({event:u,listeners:I})}var FL=/\r\n?/g,qL=/\u0000|\uFFFD/g;function K_(l){return(typeof l=="string"?l:""+l).replace(FL,`
`).replace(qL,"")}function Fd(l,u,m){if(u=K_(u),K_(l)!==u&&m)throw Error(r(425))}function qd(){}var Km=null,Xm=null;function Ym(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Jm=typeof setTimeout=="function"?setTimeout:void 0,UL=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,VL=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(l){return X_.resolve(null).then(l).catch(WL)}:Jm;function WL(l){setTimeout(function(){throw l})}function Qm(l,u){var m=u,v=0;do{var j=m.nextSibling;if(l.removeChild(m),j&&j.nodeType===8)if(m=j.data,m==="/$"){if(v===0){l.removeChild(j),ic(u);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=j}while(m);ic(u)}function va(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function Y_(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return l;u--}else m==="/$"&&u++}l=l.previousSibling}return null}var ao=Math.random().toString(36).slice(2),oi="__reactFiber$"+ao,mc="__reactProps$"+ao,Ai="__reactContainer$"+ao,Zm="__reactEvents$"+ao,HL="__reactListeners$"+ao,GL="__reactHandles$"+ao;function is(l){var u=l[oi];if(u)return u;for(var m=l.parentNode;m;){if(u=m[Ai]||m[oi]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=Y_(l);l!==null;){if(m=l[oi])return m;l=Y_(l)}return u}l=m,m=l.parentNode}return null}function gc(l){return l=l[oi]||l[Ai],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function so(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Ud(l){return l[mc]||null}var eg=[],oo=-1;function ya(l){return{current:l}}function _t(l){0>oo||(l.current=eg[oo],eg[oo]=null,oo--)}function vt(l,u){oo++,eg[oo]=l.current,l.current=u}var xa={},Pr=ya(xa),Gr=ya(!1),as=xa;function lo(l,u){var m=l.type.contextTypes;if(!m)return xa;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var j={},T;for(T in m)j[T]=u[T];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=j),j}function Kr(l){return l=l.childContextTypes,l!=null}function Vd(){_t(Gr),_t(Pr)}function J_(l,u,m){if(Pr.current!==xa)throw Error(r(168));vt(Pr,u),vt(Gr,m)}function Q_(l,u,m){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var j in v)if(!(j in u))throw Error(r(108,he(l)||"Unknown",j));return ee({},m,v)}function Wd(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||xa,as=Pr.current,vt(Pr,l),vt(Gr,Gr.current),!0}function Z_(l,u,m){var v=l.stateNode;if(!v)throw Error(r(169));m?(l=Q_(l,u,as),v.__reactInternalMemoizedMergedChildContext=l,_t(Gr),_t(Pr),vt(Pr,l)):_t(Gr),vt(Gr,m)}var Ti=null,Hd=!1,tg=!1;function eN(l){Ti===null?Ti=[l]:Ti.push(l)}function KL(l){Hd=!0,eN(l)}function ba(){if(!tg&&Ti!==null){tg=!0;var l=0,u=ct;try{var m=Ti;for(ct=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Ti=null,Hd=!1}catch(j){throw Ti!==null&&(Ti=Ti.slice(l+1)),r_(Sm,ba),j}finally{ct=u,tg=!1}}return null}var co=[],uo=0,Gd=null,Kd=0,jn=[],Sn=0,ss=null,Pi=1,Ci="";function os(l,u){co[uo++]=Kd,co[uo++]=Gd,Gd=l,Kd=u}function tN(l,u,m){jn[Sn++]=Pi,jn[Sn++]=Ci,jn[Sn++]=ss,ss=l;var v=Pi;l=Ci;var j=32-Ln(v)-1;v&=~(1<<j),m+=1;var T=32-Ln(u)+j;if(30<T){var I=j-j%5;T=(v&(1<<I)-1).toString(32),v>>=I,j-=I,Pi=1<<32-Ln(u)+j|m<<j|v,Ci=T+l}else Pi=1<<T|m<<j|v,Ci=l}function rg(l){l.return!==null&&(os(l,1),tN(l,1,0))}function ng(l){for(;l===Gd;)Gd=co[--uo],co[uo]=null,Kd=co[--uo],co[uo]=null;for(;l===ss;)ss=jn[--Sn],jn[Sn]=null,Ci=jn[--Sn],jn[Sn]=null,Pi=jn[--Sn],jn[Sn]=null}var on=null,ln=null,Tt=!1,Fn=null;function rN(l,u){var m=An(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,u=l.deletions,u===null?(l.deletions=[m],l.flags|=16):u.push(m)}function nN(l,u){switch(l.tag){case 5:var m=l.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,on=l,ln=va(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,on=l,ln=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=ss!==null?{id:Pi,overflow:Ci}:null,l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=An(18,null,null,0),m.stateNode=u,m.return=l,l.child=m,on=l,ln=null,!0):!1;default:return!1}}function ig(l){return(l.mode&1)!==0&&(l.flags&128)===0}function ag(l){if(Tt){var u=ln;if(u){var m=u;if(!nN(l,u)){if(ig(l))throw Error(r(418));u=va(m.nextSibling);var v=on;u&&nN(l,u)?rN(v,m):(l.flags=l.flags&-4097|2,Tt=!1,on=l)}}else{if(ig(l))throw Error(r(418));l.flags=l.flags&-4097|2,Tt=!1,on=l}}}function iN(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;on=l}function Xd(l){if(l!==on)return!1;if(!Tt)return iN(l),Tt=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!Ym(l.type,l.memoizedProps)),u&&(u=ln)){if(ig(l))throw aN(),Error(r(418));for(;u;)rN(l,u),u=va(u.nextSibling)}if(iN(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(u===0){ln=va(l.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}l=l.nextSibling}ln=null}}else ln=on?va(l.stateNode.nextSibling):null;return!0}function aN(){for(var l=ln;l;)l=va(l.nextSibling)}function fo(){ln=on=null,Tt=!1}function sg(l){Fn===null?Fn=[l]:Fn.push(l)}var XL=C.ReactCurrentBatchConfig;function vc(l,u,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var v=m.stateNode}if(!v)throw Error(r(147,l));var j=v,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(I){var F=j.refs;I===null?delete F[T]:F[T]=I},u._stringRef=T,u)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function Yd(l,u){throw l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function sN(l){var u=l._init;return u(l._payload)}function oN(l){function u(te,Y){if(l){var ne=te.deletions;ne===null?(te.deletions=[Y],te.flags|=16):ne.push(Y)}}function m(te,Y){if(!l)return null;for(;Y!==null;)u(te,Y),Y=Y.sibling;return null}function v(te,Y){for(te=new Map;Y!==null;)Y.key!==null?te.set(Y.key,Y):te.set(Y.index,Y),Y=Y.sibling;return te}function j(te,Y){return te=Ta(te,Y),te.index=0,te.sibling=null,te}function T(te,Y,ne){return te.index=ne,l?(ne=te.alternate,ne!==null?(ne=ne.index,ne<Y?(te.flags|=2,Y):ne):(te.flags|=2,Y)):(te.flags|=1048576,Y)}function I(te){return l&&te.alternate===null&&(te.flags|=2),te}function F(te,Y,ne,be){return Y===null||Y.tag!==6?(Y=Jg(ne,te.mode,be),Y.return=te,Y):(Y=j(Y,ne),Y.return=te,Y)}function G(te,Y,ne,be){var Ie=ne.type;return Ie===E?ve(te,Y,ne.props.children,be,ne.key):Y!==null&&(Y.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===K&&sN(Ie)===Y.type)?(be=j(Y,ne.props),be.ref=vc(te,Y,ne),be.return=te,be):(be=wf(ne.type,ne.key,ne.props,null,te.mode,be),be.ref=vc(te,Y,ne),be.return=te,be)}function ae(te,Y,ne,be){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=Qg(ne,te.mode,be),Y.return=te,Y):(Y=j(Y,ne.children||[]),Y.return=te,Y)}function ve(te,Y,ne,be,Ie){return Y===null||Y.tag!==7?(Y=ms(ne,te.mode,be,Ie),Y.return=te,Y):(Y=j(Y,ne),Y.return=te,Y)}function ye(te,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Jg(""+Y,te.mode,ne),Y.return=te,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return ne=wf(Y.type,Y.key,Y.props,null,te.mode,ne),ne.ref=vc(te,null,Y),ne.return=te,ne;case A:return Y=Qg(Y,te.mode,ne),Y.return=te,Y;case K:var be=Y._init;return ye(te,be(Y._payload),ne)}if(Ct(Y)||Q(Y))return Y=ms(Y,te.mode,ne,null),Y.return=te,Y;Yd(te,Y)}return null}function ge(te,Y,ne,be){var Ie=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ie!==null?null:F(te,Y,""+ne,be);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case N:return ne.key===Ie?G(te,Y,ne,be):null;case A:return ne.key===Ie?ae(te,Y,ne,be):null;case K:return Ie=ne._init,ge(te,Y,Ie(ne._payload),be)}if(Ct(ne)||Q(ne))return Ie!==null?null:ve(te,Y,ne,be,null);Yd(te,ne)}return null}function Ne(te,Y,ne,be,Ie){if(typeof be=="string"&&be!==""||typeof be=="number")return te=te.get(ne)||null,F(Y,te,""+be,Ie);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case N:return te=te.get(be.key===null?ne:be.key)||null,G(Y,te,be,Ie);case A:return te=te.get(be.key===null?ne:be.key)||null,ae(Y,te,be,Ie);case K:var De=be._init;return Ne(te,Y,ne,De(be._payload),Ie)}if(Ct(be)||Q(be))return te=te.get(ne)||null,ve(Y,te,be,Ie,null);Yd(Y,be)}return null}function Pe(te,Y,ne,be){for(var Ie=null,De=null,ze=Y,qe=Y=0,hr=null;ze!==null&&qe<ne.length;qe++){ze.index>qe?(hr=ze,ze=null):hr=ze.sibling;var it=ge(te,ze,ne[qe],be);if(it===null){ze===null&&(ze=hr);break}l&&ze&&it.alternate===null&&u(te,ze),Y=T(it,Y,qe),De===null?Ie=it:De.sibling=it,De=it,ze=hr}if(qe===ne.length)return m(te,ze),Tt&&os(te,qe),Ie;if(ze===null){for(;qe<ne.length;qe++)ze=ye(te,ne[qe],be),ze!==null&&(Y=T(ze,Y,qe),De===null?Ie=ze:De.sibling=ze,De=ze);return Tt&&os(te,qe),Ie}for(ze=v(te,ze);qe<ne.length;qe++)hr=Ne(ze,te,qe,ne[qe],be),hr!==null&&(l&&hr.alternate!==null&&ze.delete(hr.key===null?qe:hr.key),Y=T(hr,Y,qe),De===null?Ie=hr:De.sibling=hr,De=hr);return l&&ze.forEach(function(Pa){return u(te,Pa)}),Tt&&os(te,qe),Ie}function Oe(te,Y,ne,be){var Ie=Q(ne);if(typeof Ie!="function")throw Error(r(150));if(ne=Ie.call(ne),ne==null)throw Error(r(151));for(var De=Ie=null,ze=Y,qe=Y=0,hr=null,it=ne.next();ze!==null&&!it.done;qe++,it=ne.next()){ze.index>qe?(hr=ze,ze=null):hr=ze.sibling;var Pa=ge(te,ze,it.value,be);if(Pa===null){ze===null&&(ze=hr);break}l&&ze&&Pa.alternate===null&&u(te,ze),Y=T(Pa,Y,qe),De===null?Ie=Pa:De.sibling=Pa,De=Pa,ze=hr}if(it.done)return m(te,ze),Tt&&os(te,qe),Ie;if(ze===null){for(;!it.done;qe++,it=ne.next())it=ye(te,it.value,be),it!==null&&(Y=T(it,Y,qe),De===null?Ie=it:De.sibling=it,De=it);return Tt&&os(te,qe),Ie}for(ze=v(te,ze);!it.done;qe++,it=ne.next())it=Ne(ze,te,qe,it.value,be),it!==null&&(l&&it.alternate!==null&&ze.delete(it.key===null?qe:it.key),Y=T(it,Y,qe),De===null?Ie=it:De.sibling=it,De=it);return l&&ze.forEach(function(T6){return u(te,T6)}),Tt&&os(te,qe),Ie}function Ut(te,Y,ne,be){if(typeof ne=="object"&&ne!==null&&ne.type===E&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case N:e:{for(var Ie=ne.key,De=Y;De!==null;){if(De.key===Ie){if(Ie=ne.type,Ie===E){if(De.tag===7){m(te,De.sibling),Y=j(De,ne.props.children),Y.return=te,te=Y;break e}}else if(De.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===K&&sN(Ie)===De.type){m(te,De.sibling),Y=j(De,ne.props),Y.ref=vc(te,De,ne),Y.return=te,te=Y;break e}m(te,De);break}else u(te,De);De=De.sibling}ne.type===E?(Y=ms(ne.props.children,te.mode,be,ne.key),Y.return=te,te=Y):(be=wf(ne.type,ne.key,ne.props,null,te.mode,be),be.ref=vc(te,Y,ne),be.return=te,te=be)}return I(te);case A:e:{for(De=ne.key;Y!==null;){if(Y.key===De)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){m(te,Y.sibling),Y=j(Y,ne.children||[]),Y.return=te,te=Y;break e}else{m(te,Y);break}else u(te,Y);Y=Y.sibling}Y=Qg(ne,te.mode,be),Y.return=te,te=Y}return I(te);case K:return De=ne._init,Ut(te,Y,De(ne._payload),be)}if(Ct(ne))return Pe(te,Y,ne,be);if(Q(ne))return Oe(te,Y,ne,be);Yd(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(m(te,Y.sibling),Y=j(Y,ne),Y.return=te,te=Y):(m(te,Y),Y=Jg(ne,te.mode,be),Y.return=te,te=Y),I(te)):m(te,Y)}return Ut}var ho=oN(!0),lN=oN(!1),Jd=ya(null),Qd=null,po=null,og=null;function lg(){og=po=Qd=null}function cg(l){var u=Jd.current;_t(Jd),l._currentValue=u}function ug(l,u,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===m)break;l=l.return}}function mo(l,u){Qd=l,og=po=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Xr=!0),l.firstContext=null)}function _n(l){var u=l._currentValue;if(og!==l)if(l={context:l,memoizedValue:u,next:null},po===null){if(Qd===null)throw Error(r(308));po=l,Qd.dependencies={lanes:0,firstContext:l}}else po=po.next=l;return u}var ls=null;function dg(l){ls===null?ls=[l]:ls.push(l)}function cN(l,u,m,v){var j=u.interleaved;return j===null?(m.next=m,dg(u)):(m.next=j.next,j.next=m),u.interleaved=m,Ei(l,v)}function Ei(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,m=l.alternate,m!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var wa=!1;function fg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uN(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Oi(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function ja(l,u,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(nt&2)!==0){var j=v.pending;return j===null?u.next=u:(u.next=j.next,j.next=u),v.pending=u,Ei(l,m)}return j=v.interleaved,j===null?(u.next=u,dg(v)):(u.next=j.next,j.next=u),v.interleaved=u,Ei(l,m)}function Zd(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var v=u.lanes;v&=l.pendingLanes,m|=v,u.lanes=m,km(l,m)}}function dN(l,u){var m=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var j=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var I={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?j=T=I:T=T.next=I,m=m.next}while(m!==null);T===null?j=T=u:T=T.next=u}else j=T=u;m={baseState:v.baseState,firstBaseUpdate:j,lastBaseUpdate:T,shared:v.shared,effects:v.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function ef(l,u,m,v){var j=l.updateQueue;wa=!1;var T=j.firstBaseUpdate,I=j.lastBaseUpdate,F=j.shared.pending;if(F!==null){j.shared.pending=null;var G=F,ae=G.next;G.next=null,I===null?T=ae:I.next=ae,I=G;var ve=l.alternate;ve!==null&&(ve=ve.updateQueue,F=ve.lastBaseUpdate,F!==I&&(F===null?ve.firstBaseUpdate=ae:F.next=ae,ve.lastBaseUpdate=G))}if(T!==null){var ye=j.baseState;I=0,ve=ae=G=null,F=T;do{var ge=F.lane,Ne=F.eventTime;if((v&ge)===ge){ve!==null&&(ve=ve.next={eventTime:Ne,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Pe=l,Oe=F;switch(ge=u,Ne=m,Oe.tag){case 1:if(Pe=Oe.payload,typeof Pe=="function"){ye=Pe.call(Ne,ye,ge);break e}ye=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Oe.payload,ge=typeof Pe=="function"?Pe.call(Ne,ye,ge):Pe,ge==null)break e;ye=ee({},ye,ge);break e;case 2:wa=!0}}F.callback!==null&&F.lane!==0&&(l.flags|=64,ge=j.effects,ge===null?j.effects=[F]:ge.push(F))}else Ne={eventTime:Ne,lane:ge,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ve===null?(ae=ve=Ne,G=ye):ve=ve.next=Ne,I|=ge;if(F=F.next,F===null){if(F=j.shared.pending,F===null)break;ge=F,F=ge.next,ge.next=null,j.lastBaseUpdate=ge,j.shared.pending=null}}while(!0);if(ve===null&&(G=ye),j.baseState=G,j.firstBaseUpdate=ae,j.lastBaseUpdate=ve,u=j.shared.interleaved,u!==null){j=u;do I|=j.lane,j=j.next;while(j!==u)}else T===null&&(j.shared.lanes=0);ds|=I,l.lanes=I,l.memoizedState=ye}}function fN(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],j=v.callback;if(j!==null){if(v.callback=null,v=m,typeof j!="function")throw Error(r(191,j));j.call(v)}}}var yc={},li=ya(yc),xc=ya(yc),bc=ya(yc);function cs(l){if(l===yc)throw Error(r(174));return l}function hg(l,u){switch(vt(bc,u),vt(xc,l),vt(li,yc),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:es(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=es(u,l)}_t(li),vt(li,u)}function go(){_t(li),_t(xc),_t(bc)}function hN(l){cs(bc.current);var u=cs(li.current),m=es(u,l.type);u!==m&&(vt(xc,l),vt(li,m))}function pg(l){xc.current===l&&(_t(li),_t(xc))}var Et=ya(0);function tf(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var mg=[];function gg(){for(var l=0;l<mg.length;l++)mg[l]._workInProgressVersionPrimary=null;mg.length=0}var rf=C.ReactCurrentDispatcher,vg=C.ReactCurrentBatchConfig,us=0,Ot=null,tr=null,dr=null,nf=!1,wc=!1,jc=0,YL=0;function Cr(){throw Error(r(321))}function yg(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!Bn(l[m],u[m]))return!1;return!0}function xg(l,u,m,v,j,T){if(us=T,Ot=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,rf.current=l===null||l.memoizedState===null?e6:t6,l=m(v,j),wc){T=0;do{if(wc=!1,jc=0,25<=T)throw Error(r(301));T+=1,dr=tr=null,u.updateQueue=null,rf.current=r6,l=m(v,j)}while(wc)}if(rf.current=of,u=tr!==null&&tr.next!==null,us=0,dr=tr=Ot=null,nf=!1,u)throw Error(r(300));return l}function bg(){var l=jc!==0;return jc=0,l}function ci(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Ot.memoizedState=dr=l:dr=dr.next=l,dr}function Nn(){if(tr===null){var l=Ot.alternate;l=l!==null?l.memoizedState:null}else l=tr.next;var u=dr===null?Ot.memoizedState:dr.next;if(u!==null)dr=u,tr=l;else{if(l===null)throw Error(r(310));tr=l,l={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},dr===null?Ot.memoizedState=dr=l:dr=dr.next=l}return dr}function Sc(l,u){return typeof u=="function"?u(l):u}function wg(l){var u=Nn(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var v=tr,j=v.baseQueue,T=m.pending;if(T!==null){if(j!==null){var I=j.next;j.next=T.next,T.next=I}v.baseQueue=j=T,m.pending=null}if(j!==null){T=j.next,v=v.baseState;var F=I=null,G=null,ae=T;do{var ve=ae.lane;if((us&ve)===ve)G!==null&&(G=G.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),v=ae.hasEagerState?ae.eagerState:l(v,ae.action);else{var ye={lane:ve,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};G===null?(F=G=ye,I=v):G=G.next=ye,Ot.lanes|=ve,ds|=ve}ae=ae.next}while(ae!==null&&ae!==T);G===null?I=v:G.next=F,Bn(v,u.memoizedState)||(Xr=!0),u.memoizedState=v,u.baseState=I,u.baseQueue=G,m.lastRenderedState=v}if(l=m.interleaved,l!==null){j=l;do T=j.lane,Ot.lanes|=T,ds|=T,j=j.next;while(j!==l)}else j===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function jg(l){var u=Nn(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var v=m.dispatch,j=m.pending,T=u.memoizedState;if(j!==null){m.pending=null;var I=j=j.next;do T=l(T,I.action),I=I.next;while(I!==j);Bn(T,u.memoizedState)||(Xr=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),m.lastRenderedState=T}return[T,v]}function pN(){}function mN(l,u){var m=Ot,v=Nn(),j=u(),T=!Bn(v.memoizedState,j);if(T&&(v.memoizedState=j,Xr=!0),v=v.queue,Sg(yN.bind(null,m,v,l),[l]),v.getSnapshot!==u||T||dr!==null&&dr.memoizedState.tag&1){if(m.flags|=2048,_c(9,vN.bind(null,m,v,j,u),void 0,null),fr===null)throw Error(r(349));(us&30)!==0||gN(m,u,j)}return j}function gN(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=Ot.updateQueue,u===null?(u={lastEffect:null,stores:null},Ot.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function vN(l,u,m,v){u.value=m,u.getSnapshot=v,xN(u)&&bN(l)}function yN(l,u,m){return m(function(){xN(u)&&bN(l)})}function xN(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!Bn(l,m)}catch{return!0}}function bN(l){var u=Ei(l,1);u!==null&&Wn(u,l,1,-1)}function wN(l){var u=ci();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:l},u.queue=l,l=l.dispatch=ZL.bind(null,Ot,l),[u.memoizedState,l]}function _c(l,u,m,v){return l={tag:l,create:u,destroy:m,deps:v,next:null},u=Ot.updateQueue,u===null?(u={lastEffect:null,stores:null},Ot.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect,m===null?u.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,u.lastEffect=l)),l}function jN(){return Nn().memoizedState}function af(l,u,m,v){var j=ci();Ot.flags|=l,j.memoizedState=_c(1|u,m,void 0,v===void 0?null:v)}function sf(l,u,m,v){var j=Nn();v=v===void 0?null:v;var T=void 0;if(tr!==null){var I=tr.memoizedState;if(T=I.destroy,v!==null&&yg(v,I.deps)){j.memoizedState=_c(u,m,T,v);return}}Ot.flags|=l,j.memoizedState=_c(1|u,m,T,v)}function SN(l,u){return af(8390656,8,l,u)}function Sg(l,u){return sf(2048,8,l,u)}function _N(l,u){return sf(4,2,l,u)}function NN(l,u){return sf(4,4,l,u)}function kN(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function AN(l,u,m){return m=m!=null?m.concat([l]):null,sf(4,4,kN.bind(null,u,l),m)}function _g(){}function TN(l,u){var m=Nn();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&yg(u,v[1])?v[0]:(m.memoizedState=[l,u],l)}function PN(l,u){var m=Nn();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&yg(u,v[1])?v[0]:(l=l(),m.memoizedState=[l,u],l)}function CN(l,u,m){return(us&21)===0?(l.baseState&&(l.baseState=!1,Xr=!0),l.memoizedState=m):(Bn(m,u)||(m=s_(),Ot.lanes|=m,ds|=m,l.baseState=!0),u)}function JL(l,u){var m=ct;ct=m!==0&&4>m?m:4,l(!0);var v=vg.transition;vg.transition={};try{l(!1),u()}finally{ct=m,vg.transition=v}}function EN(){return Nn().memoizedState}function QL(l,u,m){var v=ka(l);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},ON(l))IN(u,m);else if(m=cN(l,u,m,v),m!==null){var j=Br();Wn(m,l,v,j),RN(m,u,v)}}function ZL(l,u,m){var v=ka(l),j={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(ON(l))IN(u,j);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var I=u.lastRenderedState,F=T(I,m);if(j.hasEagerState=!0,j.eagerState=F,Bn(F,I)){var G=u.interleaved;G===null?(j.next=j,dg(u)):(j.next=G.next,G.next=j),u.interleaved=j;return}}catch{}finally{}m=cN(l,u,j,v),m!==null&&(j=Br(),Wn(m,l,v,j),RN(m,u,v))}}function ON(l){var u=l.alternate;return l===Ot||u!==null&&u===Ot}function IN(l,u){wc=nf=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function RN(l,u,m){if((m&4194240)!==0){var v=u.lanes;v&=l.pendingLanes,m|=v,u.lanes=m,km(l,m)}}var of={readContext:_n,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},e6={readContext:_n,useCallback:function(l,u){return ci().memoizedState=[l,u===void 0?null:u],l},useContext:_n,useEffect:SN,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,af(4194308,4,kN.bind(null,u,l),m)},useLayoutEffect:function(l,u){return af(4194308,4,l,u)},useInsertionEffect:function(l,u){return af(4,2,l,u)},useMemo:function(l,u){var m=ci();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var v=ci();return u=m!==void 0?m(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=QL.bind(null,Ot,l),[v.memoizedState,l]},useRef:function(l){var u=ci();return l={current:l},u.memoizedState=l},useState:wN,useDebugValue:_g,useDeferredValue:function(l){return ci().memoizedState=l},useTransition:function(){var l=wN(!1),u=l[0];return l=JL.bind(null,l[1]),ci().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var v=Ot,j=ci();if(Tt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=u(),fr===null)throw Error(r(349));(us&30)!==0||gN(v,u,m)}j.memoizedState=m;var T={value:m,getSnapshot:u};return j.queue=T,SN(yN.bind(null,v,T,l),[l]),v.flags|=2048,_c(9,vN.bind(null,v,T,m,u),void 0,null),m},useId:function(){var l=ci(),u=fr.identifierPrefix;if(Tt){var m=Ci,v=Pi;m=(v&~(1<<32-Ln(v)-1)).toString(32)+m,u=":"+u+"R"+m,m=jc++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=YL++,u=":"+u+"r"+m.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},t6={readContext:_n,useCallback:TN,useContext:_n,useEffect:Sg,useImperativeHandle:AN,useInsertionEffect:_N,useLayoutEffect:NN,useMemo:PN,useReducer:wg,useRef:jN,useState:function(){return wg(Sc)},useDebugValue:_g,useDeferredValue:function(l){var u=Nn();return CN(u,tr.memoizedState,l)},useTransition:function(){var l=wg(Sc)[0],u=Nn().memoizedState;return[l,u]},useMutableSource:pN,useSyncExternalStore:mN,useId:EN,unstable_isNewReconciler:!1},r6={readContext:_n,useCallback:TN,useContext:_n,useEffect:Sg,useImperativeHandle:AN,useInsertionEffect:_N,useLayoutEffect:NN,useMemo:PN,useReducer:jg,useRef:jN,useState:function(){return jg(Sc)},useDebugValue:_g,useDeferredValue:function(l){var u=Nn();return tr===null?u.memoizedState=l:CN(u,tr.memoizedState,l)},useTransition:function(){var l=jg(Sc)[0],u=Nn().memoizedState;return[l,u]},useMutableSource:pN,useSyncExternalStore:mN,useId:EN,unstable_isNewReconciler:!1};function qn(l,u){if(l&&l.defaultProps){u=ee({},u),l=l.defaultProps;for(var m in l)u[m]===void 0&&(u[m]=l[m]);return u}return u}function Ng(l,u,m,v){u=l.memoizedState,m=m(v,u),m=m==null?u:ee({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var lf={isMounted:function(l){return(l=l._reactInternals)?ns(l)===l:!1},enqueueSetState:function(l,u,m){l=l._reactInternals;var v=Br(),j=ka(l),T=Oi(v,j);T.payload=u,m!=null&&(T.callback=m),u=ja(l,T,j),u!==null&&(Wn(u,l,j,v),Zd(u,l,j))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var v=Br(),j=ka(l),T=Oi(v,j);T.tag=1,T.payload=u,m!=null&&(T.callback=m),u=ja(l,T,j),u!==null&&(Wn(u,l,j,v),Zd(u,l,j))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=Br(),v=ka(l),j=Oi(m,v);j.tag=2,u!=null&&(j.callback=u),u=ja(l,j,v),u!==null&&(Wn(u,l,v,m),Zd(u,l,v))}};function $N(l,u,m,v,j,T,I){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,T,I):u.prototype&&u.prototype.isPureReactComponent?!uc(m,v)||!uc(j,T):!0}function MN(l,u,m){var v=!1,j=xa,T=u.contextType;return typeof T=="object"&&T!==null?T=_n(T):(j=Kr(u)?as:Pr.current,v=u.contextTypes,T=(v=v!=null)?lo(l,j):xa),u=new u(m,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=lf,l.stateNode=u,u._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=j,l.__reactInternalMemoizedMaskedChildContext=T),u}function DN(l,u,m,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,v),u.state!==l&&lf.enqueueReplaceState(u,u.state,null)}function kg(l,u,m,v){var j=l.stateNode;j.props=m,j.state=l.memoizedState,j.refs={},fg(l);var T=u.contextType;typeof T=="object"&&T!==null?j.context=_n(T):(T=Kr(u)?as:Pr.current,j.context=lo(l,T)),j.state=l.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(Ng(l,u,T,m),j.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(u=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),u!==j.state&&lf.enqueueReplaceState(j,j.state,null),ef(l,m,j,v),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308)}function vo(l,u){try{var m="",v=u;do m+=pe(v),v=v.return;while(v);var j=m}catch(T){j=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:j,digest:null}}function Ag(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function Tg(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var n6=typeof WeakMap=="function"?WeakMap:Map;function zN(l,u,m){m=Oi(-1,m),m.tag=3,m.payload={element:null};var v=u.value;return m.callback=function(){mf||(mf=!0,Ug=v),Tg(l,u)},m}function LN(l,u,m){m=Oi(-1,m),m.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var j=u.value;m.payload=function(){return v(j)},m.callback=function(){Tg(l,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){Tg(l,u),typeof v!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})}),m}function BN(l,u,m){var v=l.pingCache;if(v===null){v=l.pingCache=new n6;var j=new Set;v.set(u,j)}else j=v.get(u),j===void 0&&(j=new Set,v.set(u,j));j.has(m)||(j.add(m),l=v6.bind(null,l,u,m),u.then(l,l))}function FN(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function qN(l,u,m,v,j){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=Oi(-1,1),u.tag=2,ja(m,u,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=j,l)}var i6=C.ReactCurrentOwner,Xr=!1;function Lr(l,u,m,v){u.child=l===null?lN(u,null,m,v):ho(u,l.child,m,v)}function UN(l,u,m,v,j){m=m.render;var T=u.ref;return mo(u,j),v=xg(l,u,m,v,T,j),m=bg(),l!==null&&!Xr?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~j,Ii(l,u,j)):(Tt&&m&&rg(u),u.flags|=1,Lr(l,u,v,j),u.child)}function VN(l,u,m,v,j){if(l===null){var T=m.type;return typeof T=="function"&&!Yg(T)&&T.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=T,WN(l,u,T,v,j)):(l=wf(m.type,null,v,u,u.mode,j),l.ref=u.ref,l.return=u,u.child=l)}if(T=l.child,(l.lanes&j)===0){var I=T.memoizedProps;if(m=m.compare,m=m!==null?m:uc,m(I,v)&&l.ref===u.ref)return Ii(l,u,j)}return u.flags|=1,l=Ta(T,v),l.ref=u.ref,l.return=u,u.child=l}function WN(l,u,m,v,j){if(l!==null){var T=l.memoizedProps;if(uc(T,v)&&l.ref===u.ref)if(Xr=!1,u.pendingProps=v=T,(l.lanes&j)!==0)(l.flags&131072)!==0&&(Xr=!0);else return u.lanes=l.lanes,Ii(l,u,j)}return Pg(l,u,m,v,j)}function HN(l,u,m){var v=u.pendingProps,j=v.children,T=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(xo,cn),cn|=m;else{if((m&1073741824)===0)return l=T!==null?T.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,vt(xo,cn),cn|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:m,vt(xo,cn),cn|=v}else T!==null?(v=T.baseLanes|m,u.memoizedState=null):v=m,vt(xo,cn),cn|=v;return Lr(l,u,j,m),u.child}function GN(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Pg(l,u,m,v,j){var T=Kr(m)?as:Pr.current;return T=lo(u,T),mo(u,j),m=xg(l,u,m,v,T,j),v=bg(),l!==null&&!Xr?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~j,Ii(l,u,j)):(Tt&&v&&rg(u),u.flags|=1,Lr(l,u,m,j),u.child)}function KN(l,u,m,v,j){if(Kr(m)){var T=!0;Wd(u)}else T=!1;if(mo(u,j),u.stateNode===null)uf(l,u),MN(u,m,v),kg(u,m,v,j),v=!0;else if(l===null){var I=u.stateNode,F=u.memoizedProps;I.props=F;var G=I.context,ae=m.contextType;typeof ae=="object"&&ae!==null?ae=_n(ae):(ae=Kr(m)?as:Pr.current,ae=lo(u,ae));var ve=m.getDerivedStateFromProps,ye=typeof ve=="function"||typeof I.getSnapshotBeforeUpdate=="function";ye||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(F!==v||G!==ae)&&DN(u,I,v,ae),wa=!1;var ge=u.memoizedState;I.state=ge,ef(u,v,I,j),G=u.memoizedState,F!==v||ge!==G||Gr.current||wa?(typeof ve=="function"&&(Ng(u,m,ve,v),G=u.memoizedState),(F=wa||$N(u,m,F,v,ge,G,ae))?(ye||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=G),I.props=v,I.state=G,I.context=ae,v=F):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{I=u.stateNode,uN(l,u),F=u.memoizedProps,ae=u.type===u.elementType?F:qn(u.type,F),I.props=ae,ye=u.pendingProps,ge=I.context,G=m.contextType,typeof G=="object"&&G!==null?G=_n(G):(G=Kr(m)?as:Pr.current,G=lo(u,G));var Ne=m.getDerivedStateFromProps;(ve=typeof Ne=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(F!==ye||ge!==G)&&DN(u,I,v,G),wa=!1,ge=u.memoizedState,I.state=ge,ef(u,v,I,j);var Pe=u.memoizedState;F!==ye||ge!==Pe||Gr.current||wa?(typeof Ne=="function"&&(Ng(u,m,Ne,v),Pe=u.memoizedState),(ae=wa||$N(u,m,ae,v,ge,Pe,G)||!1)?(ve||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,Pe,G),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,Pe,G)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||F===l.memoizedProps&&ge===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||F===l.memoizedProps&&ge===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Pe),I.props=v,I.state=Pe,I.context=G,v=ae):(typeof I.componentDidUpdate!="function"||F===l.memoizedProps&&ge===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||F===l.memoizedProps&&ge===l.memoizedState||(u.flags|=1024),v=!1)}return Cg(l,u,m,v,T,j)}function Cg(l,u,m,v,j,T){GN(l,u);var I=(u.flags&128)!==0;if(!v&&!I)return j&&Z_(u,m,!1),Ii(l,u,T);v=u.stateNode,i6.current=u;var F=I&&typeof m.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&I?(u.child=ho(u,l.child,null,T),u.child=ho(u,null,F,T)):Lr(l,u,F,T),u.memoizedState=v.state,j&&Z_(u,m,!0),u.child}function XN(l){var u=l.stateNode;u.pendingContext?J_(l,u.pendingContext,u.pendingContext!==u.context):u.context&&J_(l,u.context,!1),hg(l,u.containerInfo)}function YN(l,u,m,v,j){return fo(),sg(j),u.flags|=256,Lr(l,u,m,v),u.child}var Eg={dehydrated:null,treeContext:null,retryLane:0};function Og(l){return{baseLanes:l,cachePool:null,transitions:null}}function JN(l,u,m){var v=u.pendingProps,j=Et.current,T=!1,I=(u.flags&128)!==0,F;if((F=I)||(F=l!==null&&l.memoizedState===null?!1:(j&2)!==0),F?(T=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(j|=1),vt(Et,j&1),l===null)return ag(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(I=v.children,l=v.fallback,T?(v=u.mode,T=u.child,I={mode:"hidden",children:I},(v&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=I):T=jf(I,v,0,null),l=ms(l,v,m,null),T.return=u,l.return=u,T.sibling=l,u.child=T,u.child.memoizedState=Og(m),u.memoizedState=Eg,l):Ig(u,I));if(j=l.memoizedState,j!==null&&(F=j.dehydrated,F!==null))return a6(l,u,I,v,F,j,m);if(T){T=v.fallback,I=u.mode,j=l.child,F=j.sibling;var G={mode:"hidden",children:v.children};return(I&1)===0&&u.child!==j?(v=u.child,v.childLanes=0,v.pendingProps=G,u.deletions=null):(v=Ta(j,G),v.subtreeFlags=j.subtreeFlags&14680064),F!==null?T=Ta(F,T):(T=ms(T,I,m,null),T.flags|=2),T.return=u,v.return=u,v.sibling=T,u.child=v,v=T,T=u.child,I=l.child.memoizedState,I=I===null?Og(m):{baseLanes:I.baseLanes|m,cachePool:null,transitions:I.transitions},T.memoizedState=I,T.childLanes=l.childLanes&~m,u.memoizedState=Eg,v}return T=l.child,l=T.sibling,v=Ta(T,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=m),v.return=u,v.sibling=null,l!==null&&(m=u.deletions,m===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=v,u.memoizedState=null,v}function Ig(l,u){return u=jf({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function cf(l,u,m,v){return v!==null&&sg(v),ho(u,l.child,null,m),l=Ig(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function a6(l,u,m,v,j,T,I){if(m)return u.flags&256?(u.flags&=-257,v=Ag(Error(r(422))),cf(l,u,I,v)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(T=v.fallback,j=u.mode,v=jf({mode:"visible",children:v.children},j,0,null),T=ms(T,j,I,null),T.flags|=2,v.return=u,T.return=u,v.sibling=T,u.child=v,(u.mode&1)!==0&&ho(u,l.child,null,I),u.child.memoizedState=Og(I),u.memoizedState=Eg,T);if((u.mode&1)===0)return cf(l,u,I,null);if(j.data==="$!"){if(v=j.nextSibling&&j.nextSibling.dataset,v)var F=v.dgst;return v=F,T=Error(r(419)),v=Ag(T,v,void 0),cf(l,u,I,v)}if(F=(I&l.childLanes)!==0,Xr||F){if(v=fr,v!==null){switch(I&-I){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(v.suspendedLanes|I))!==0?0:j,j!==0&&j!==T.retryLane&&(T.retryLane=j,Ei(l,j),Wn(v,l,j,-1))}return Xg(),v=Ag(Error(r(421))),cf(l,u,I,v)}return j.data==="$?"?(u.flags|=128,u.child=l.child,u=y6.bind(null,l),j._reactRetry=u,null):(l=T.treeContext,ln=va(j.nextSibling),on=u,Tt=!0,Fn=null,l!==null&&(jn[Sn++]=Pi,jn[Sn++]=Ci,jn[Sn++]=ss,Pi=l.id,Ci=l.overflow,ss=u),u=Ig(u,v.children),u.flags|=4096,u)}function QN(l,u,m){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),ug(l.return,u,m)}function Rg(l,u,m,v,j){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:j}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=m,T.tailMode=j)}function ZN(l,u,m){var v=u.pendingProps,j=v.revealOrder,T=v.tail;if(Lr(l,u,v.children,m),v=Et.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&QN(l,m,u);else if(l.tag===19)QN(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(vt(Et,v),(u.mode&1)===0)u.memoizedState=null;else switch(j){case"forwards":for(m=u.child,j=null;m!==null;)l=m.alternate,l!==null&&tf(l)===null&&(j=m),m=m.sibling;m=j,m===null?(j=u.child,u.child=null):(j=m.sibling,m.sibling=null),Rg(u,!1,j,m,T);break;case"backwards":for(m=null,j=u.child,u.child=null;j!==null;){if(l=j.alternate,l!==null&&tf(l)===null){u.child=j;break}l=j.sibling,j.sibling=m,m=j,j=l}Rg(u,!0,m,null,T);break;case"together":Rg(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function uf(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Ii(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),ds|=u.lanes,(m&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,m=Ta(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=Ta(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function s6(l,u,m){switch(u.tag){case 3:XN(u),fo();break;case 5:hN(u);break;case 1:Kr(u.type)&&Wd(u);break;case 4:hg(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,j=u.memoizedProps.value;vt(Jd,v._currentValue),v._currentValue=j;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(vt(Et,Et.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?JN(l,u,m):(vt(Et,Et.current&1),l=Ii(l,u,m),l!==null?l.sibling:null);vt(Et,Et.current&1);break;case 19:if(v=(m&u.childLanes)!==0,(l.flags&128)!==0){if(v)return ZN(l,u,m);u.flags|=128}if(j=u.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),vt(Et,Et.current),v)break;return null;case 22:case 23:return u.lanes=0,HN(l,u,m)}return Ii(l,u,m)}var ek,$g,tk,rk;ek=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},$g=function(){},tk=function(l,u,m,v){var j=l.memoizedProps;if(j!==v){l=u.stateNode,cs(li.current);var T=null;switch(m){case"input":j=me(l,j),v=me(l,v),T=[];break;case"select":j=ee({},j,{value:void 0}),v=ee({},v,{value:void 0}),T=[];break;case"textarea":j=Xe(l,j),v=Xe(l,v),T=[];break;default:typeof j.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=qd)}Qs(m,v);var I;m=null;for(ae in j)if(!v.hasOwnProperty(ae)&&j.hasOwnProperty(ae)&&j[ae]!=null)if(ae==="style"){var F=j[ae];for(I in F)F.hasOwnProperty(I)&&(m||(m={}),m[I]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?T||(T=[]):(T=T||[]).push(ae,null));for(ae in v){var G=v[ae];if(F=j?.[ae],v.hasOwnProperty(ae)&&G!==F&&(G!=null||F!=null))if(ae==="style")if(F){for(I in F)!F.hasOwnProperty(I)||G&&G.hasOwnProperty(I)||(m||(m={}),m[I]="");for(I in G)G.hasOwnProperty(I)&&F[I]!==G[I]&&(m||(m={}),m[I]=G[I])}else m||(T||(T=[]),T.push(ae,m)),m=G;else ae==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,F=F?F.__html:void 0,G!=null&&F!==G&&(T=T||[]).push(ae,G)):ae==="children"?typeof G!="string"&&typeof G!="number"||(T=T||[]).push(ae,""+G):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(G!=null&&ae==="onScroll"&&St("scroll",l),T||F===G||(T=[])):(T=T||[]).push(ae,G))}m&&(T=T||[]).push("style",m);var ae=T;(u.updateQueue=ae)&&(u.flags|=4)}},rk=function(l,u,m,v){m!==v&&(u.flags|=4)};function Nc(l,u){if(!Tt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Er(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(u)for(var j=l.child;j!==null;)m|=j.lanes|j.childLanes,v|=j.subtreeFlags&14680064,v|=j.flags&14680064,j.return=l,j=j.sibling;else for(j=l.child;j!==null;)m|=j.lanes|j.childLanes,v|=j.subtreeFlags,v|=j.flags,j.return=l,j=j.sibling;return l.subtreeFlags|=v,l.childLanes=m,u}function o6(l,u,m){var v=u.pendingProps;switch(ng(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(u),null;case 1:return Kr(u.type)&&Vd(),Er(u),null;case 3:return v=u.stateNode,go(),_t(Gr),_t(Pr),gg(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Xd(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Fn!==null&&(Hg(Fn),Fn=null))),$g(l,u),Er(u),null;case 5:pg(u);var j=cs(bc.current);if(m=u.type,l!==null&&u.stateNode!=null)tk(l,u,m,v,j),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Er(u),null}if(l=cs(li.current),Xd(u)){v=u.stateNode,m=u.type;var T=u.memoizedProps;switch(v[oi]=u,v[mc]=T,l=(u.mode&1)!==0,m){case"dialog":St("cancel",v),St("close",v);break;case"iframe":case"object":case"embed":St("load",v);break;case"video":case"audio":for(j=0;j<fc.length;j++)St(fc[j],v);break;case"source":St("error",v);break;case"img":case"image":case"link":St("error",v),St("load",v);break;case"details":St("toggle",v);break;case"input":Se(v,T),St("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!T.multiple},St("invalid",v);break;case"textarea":Bt(v,T),St("invalid",v)}Qs(m,T),j=null;for(var I in T)if(T.hasOwnProperty(I)){var F=T[I];I==="children"?typeof F=="string"?v.textContent!==F&&(T.suppressHydrationWarning!==!0&&Fd(v.textContent,F,l),j=["children",F]):typeof F=="number"&&v.textContent!==""+F&&(T.suppressHydrationWarning!==!0&&Fd(v.textContent,F,l),j=["children",""+F]):i.hasOwnProperty(I)&&F!=null&&I==="onScroll"&&St("scroll",v)}switch(m){case"input":_e(v),rt(v,T,!0);break;case"textarea":_e(v),Wt(v);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(v.onclick=qd)}v=j,u.updateQueue=v,v!==null&&(u.flags|=4)}else{I=j.nodeType===9?j:j.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ni(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=I.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=I.createElement(m,{is:v.is}):(l=I.createElement(m),m==="select"&&(I=l,v.multiple?I.multiple=!0:v.size&&(I.size=v.size))):l=I.createElementNS(l,m),l[oi]=u,l[mc]=v,ek(l,u,!1,!1),u.stateNode=l;e:{switch(I=Kl(m,v),m){case"dialog":St("cancel",l),St("close",l),j=v;break;case"iframe":case"object":case"embed":St("load",l),j=v;break;case"video":case"audio":for(j=0;j<fc.length;j++)St(fc[j],l);j=v;break;case"source":St("error",l),j=v;break;case"img":case"image":case"link":St("error",l),St("load",l),j=v;break;case"details":St("toggle",l),j=v;break;case"input":Se(l,v),j=me(l,v),St("invalid",l);break;case"option":j=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},j=ee({},v,{value:void 0}),St("invalid",l);break;case"textarea":Bt(l,v),j=Xe(l,v),St("invalid",l);break;default:j=v}Qs(m,j),F=j;for(T in F)if(F.hasOwnProperty(T)){var G=F[T];T==="style"?ts(l,G):T==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Ht(l,G)):T==="children"?typeof G=="string"?(m!=="textarea"||G!=="")&&Ze(l,G):typeof G=="number"&&Ze(l,""+G):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?G!=null&&T==="onScroll"&&St("scroll",l):G!=null&&_(l,T,G,I))}switch(m){case"input":_e(l),rt(l,v,!1);break;case"textarea":_e(l),Wt(l);break;case"option":v.value!=null&&l.setAttribute("value",""+le(v.value));break;case"select":l.multiple=!!v.multiple,T=v.value,T!=null?ut(l,!!v.multiple,T,!1):v.defaultValue!=null&&ut(l,!!v.multiple,v.defaultValue,!0);break;default:typeof j.onClick=="function"&&(l.onclick=qd)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Er(u),null;case 6:if(l&&u.stateNode!=null)rk(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(m=cs(bc.current),cs(li.current),Xd(u)){if(v=u.stateNode,m=u.memoizedProps,v[oi]=u,(T=v.nodeValue!==m)&&(l=on,l!==null))switch(l.tag){case 3:Fd(v.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Fd(v.nodeValue,m,(l.mode&1)!==0)}T&&(u.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[oi]=u,u.stateNode=v}return Er(u),null;case 13:if(_t(Et),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Tt&&ln!==null&&(u.mode&1)!==0&&(u.flags&128)===0)aN(),fo(),u.flags|=98560,T=!1;else if(T=Xd(u),v!==null&&v.dehydrated!==null){if(l===null){if(!T)throw Error(r(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[oi]=u}else fo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Er(u),T=!1}else Fn!==null&&(Hg(Fn),Fn=null),T=!0;if(!T)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Et.current&1)!==0?rr===0&&(rr=3):Xg())),u.updateQueue!==null&&(u.flags|=4),Er(u),null);case 4:return go(),$g(l,u),l===null&&hc(u.stateNode.containerInfo),Er(u),null;case 10:return cg(u.type._context),Er(u),null;case 17:return Kr(u.type)&&Vd(),Er(u),null;case 19:if(_t(Et),T=u.memoizedState,T===null)return Er(u),null;if(v=(u.flags&128)!==0,I=T.rendering,I===null)if(v)Nc(T,!1);else{if(rr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(I=tf(l),I!==null){for(u.flags|=128,Nc(T,!1),v=I.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=m,m=u.child;m!==null;)T=m,l=v,T.flags&=14680066,I=T.alternate,I===null?(T.childLanes=0,T.lanes=l,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=I.childLanes,T.lanes=I.lanes,T.child=I.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=I.memoizedProps,T.memoizedState=I.memoizedState,T.updateQueue=I.updateQueue,T.type=I.type,l=I.dependencies,T.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return vt(Et,Et.current&1|2),u.child}l=l.sibling}T.tail!==null&&qt()>bo&&(u.flags|=128,v=!0,Nc(T,!1),u.lanes=4194304)}else{if(!v)if(l=tf(I),l!==null){if(u.flags|=128,v=!0,m=l.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),Nc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!I.alternate&&!Tt)return Er(u),null}else 2*qt()-T.renderingStartTime>bo&&m!==1073741824&&(u.flags|=128,v=!0,Nc(T,!1),u.lanes=4194304);T.isBackwards?(I.sibling=u.child,u.child=I):(m=T.last,m!==null?m.sibling=I:u.child=I,T.last=I)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=qt(),u.sibling=null,m=Et.current,vt(Et,v?m&1|2:m&1),u):(Er(u),null);case 22:case 23:return Kg(),v=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(cn&1073741824)!==0&&(Er(u),u.subtreeFlags&6&&(u.flags|=8192)):Er(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function l6(l,u){switch(ng(u),u.tag){case 1:return Kr(u.type)&&Vd(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return go(),_t(Gr),_t(Pr),gg(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return pg(u),null;case 13:if(_t(Et),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));fo()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return _t(Et),null;case 4:return go(),null;case 10:return cg(u.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var df=!1,Or=!1,c6=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function yo(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Mt(l,u,v)}else m.current=null}function Mg(l,u,m){try{m()}catch(v){Mt(l,u,v)}}var nk=!1;function u6(l,u){if(Km=Cd,l=$_(),Bm(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var j=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var I=0,F=-1,G=-1,ae=0,ve=0,ye=l,ge=null;t:for(;;){for(var Ne;ye!==m||j!==0&&ye.nodeType!==3||(F=I+j),ye!==T||v!==0&&ye.nodeType!==3||(G=I+v),ye.nodeType===3&&(I+=ye.nodeValue.length),(Ne=ye.firstChild)!==null;)ge=ye,ye=Ne;for(;;){if(ye===l)break t;if(ge===m&&++ae===j&&(F=I),ge===T&&++ve===v&&(G=I),(Ne=ye.nextSibling)!==null)break;ye=ge,ge=ye.parentNode}ye=Ne}m=F===-1||G===-1?null:{start:F,end:G}}else m=null}m=m||{start:0,end:0}}else m=null;for(Xm={focusedElem:l,selectionRange:m},Cd=!1,Ae=u;Ae!==null;)if(u=Ae,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Ae=l;else for(;Ae!==null;){u=Ae;try{var Pe=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Oe=Pe.memoizedProps,Ut=Pe.memoizedState,te=u.stateNode,Y=te.getSnapshotBeforeUpdate(u.elementType===u.type?Oe:qn(u.type,Oe),Ut);te.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ne=u.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(be){Mt(u,u.return,be)}if(l=u.sibling,l!==null){l.return=u.return,Ae=l;break}Ae=u.return}return Pe=nk,nk=!1,Pe}function kc(l,u,m){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var j=v=v.next;do{if((j.tag&l)===l){var T=j.destroy;j.destroy=void 0,T!==void 0&&Mg(u,m,T)}j=j.next}while(j!==v)}}function ff(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==u)}}function Dg(l){var u=l.ref;if(u!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof u=="function"?u(l):u.current=l}}function ik(l){var u=l.alternate;u!==null&&(l.alternate=null,ik(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[oi],delete u[mc],delete u[Zm],delete u[HL],delete u[GL])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function ak(l){return l.tag===5||l.tag===3||l.tag===4}function sk(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||ak(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function zg(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(l,u):m.insertBefore(l,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(l,m)):(u=m,u.appendChild(l)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=qd));else if(v!==4&&(l=l.child,l!==null))for(zg(l,u,m),l=l.sibling;l!==null;)zg(l,u,m),l=l.sibling}function Lg(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(Lg(l,u,m),l=l.sibling;l!==null;)Lg(l,u,m),l=l.sibling}var xr=null,Un=!1;function Sa(l,u,m){for(m=m.child;m!==null;)ok(l,u,m),m=m.sibling}function ok(l,u,m){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(_d,m)}catch{}switch(m.tag){case 5:Or||yo(m,u);case 6:var v=xr,j=Un;xr=null,Sa(l,u,m),xr=v,Un=j,xr!==null&&(Un?(l=xr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):xr.removeChild(m.stateNode));break;case 18:xr!==null&&(Un?(l=xr,m=m.stateNode,l.nodeType===8?Qm(l.parentNode,m):l.nodeType===1&&Qm(l,m),ic(l)):Qm(xr,m.stateNode));break;case 4:v=xr,j=Un,xr=m.stateNode.containerInfo,Un=!0,Sa(l,u,m),xr=v,Un=j;break;case 0:case 11:case 14:case 15:if(!Or&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){j=v=v.next;do{var T=j,I=T.destroy;T=T.tag,I!==void 0&&((T&2)!==0||(T&4)!==0)&&Mg(m,u,I),j=j.next}while(j!==v)}Sa(l,u,m);break;case 1:if(!Or&&(yo(m,u),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(F){Mt(m,u,F)}Sa(l,u,m);break;case 21:Sa(l,u,m);break;case 22:m.mode&1?(Or=(v=Or)||m.memoizedState!==null,Sa(l,u,m),Or=v):Sa(l,u,m);break;default:Sa(l,u,m)}}function lk(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new c6),u.forEach(function(v){var j=x6.bind(null,l,v);m.has(v)||(m.add(v),v.then(j,j))})}}function Vn(l,u){var m=u.deletions;if(m!==null)for(var v=0;v<m.length;v++){var j=m[v];try{var T=l,I=u,F=I;e:for(;F!==null;){switch(F.tag){case 5:xr=F.stateNode,Un=!1;break e;case 3:xr=F.stateNode.containerInfo,Un=!0;break e;case 4:xr=F.stateNode.containerInfo,Un=!0;break e}F=F.return}if(xr===null)throw Error(r(160));ok(T,I,j),xr=null,Un=!1;var G=j.alternate;G!==null&&(G.return=null),j.return=null}catch(ae){Mt(j,u,ae)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)ck(u,l),u=u.sibling}function ck(l,u){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Vn(u,l),ui(l),v&4){try{kc(3,l,l.return),ff(3,l)}catch(Oe){Mt(l,l.return,Oe)}try{kc(5,l,l.return)}catch(Oe){Mt(l,l.return,Oe)}}break;case 1:Vn(u,l),ui(l),v&512&&m!==null&&yo(m,m.return);break;case 5:if(Vn(u,l),ui(l),v&512&&m!==null&&yo(m,m.return),l.flags&32){var j=l.stateNode;try{Ze(j,"")}catch(Oe){Mt(l,l.return,Oe)}}if(v&4&&(j=l.stateNode,j!=null)){var T=l.memoizedProps,I=m!==null?m.memoizedProps:T,F=l.type,G=l.updateQueue;if(l.updateQueue=null,G!==null)try{F==="input"&&T.type==="radio"&&T.name!=null&&$e(j,T),Kl(F,I);var ae=Kl(F,T);for(I=0;I<G.length;I+=2){var ve=G[I],ye=G[I+1];ve==="style"?ts(j,ye):ve==="dangerouslySetInnerHTML"?Ht(j,ye):ve==="children"?Ze(j,ye):_(j,ve,ye,ae)}switch(F){case"input":Me(j,T);break;case"textarea":He(j,T);break;case"select":var ge=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!T.multiple;var Ne=T.value;Ne!=null?ut(j,!!T.multiple,Ne,!1):ge!==!!T.multiple&&(T.defaultValue!=null?ut(j,!!T.multiple,T.defaultValue,!0):ut(j,!!T.multiple,T.multiple?[]:"",!1))}j[mc]=T}catch(Oe){Mt(l,l.return,Oe)}}break;case 6:if(Vn(u,l),ui(l),v&4){if(l.stateNode===null)throw Error(r(162));j=l.stateNode,T=l.memoizedProps;try{j.nodeValue=T}catch(Oe){Mt(l,l.return,Oe)}}break;case 3:if(Vn(u,l),ui(l),v&4&&m!==null&&m.memoizedState.isDehydrated)try{ic(u.containerInfo)}catch(Oe){Mt(l,l.return,Oe)}break;case 4:Vn(u,l),ui(l);break;case 13:Vn(u,l),ui(l),j=l.child,j.flags&8192&&(T=j.memoizedState!==null,j.stateNode.isHidden=T,!T||j.alternate!==null&&j.alternate.memoizedState!==null||(qg=qt())),v&4&&lk(l);break;case 22:if(ve=m!==null&&m.memoizedState!==null,l.mode&1?(Or=(ae=Or)||ve,Vn(u,l),Or=ae):Vn(u,l),ui(l),v&8192){if(ae=l.memoizedState!==null,(l.stateNode.isHidden=ae)&&!ve&&(l.mode&1)!==0)for(Ae=l,ve=l.child;ve!==null;){for(ye=Ae=ve;Ae!==null;){switch(ge=Ae,Ne=ge.child,ge.tag){case 0:case 11:case 14:case 15:kc(4,ge,ge.return);break;case 1:yo(ge,ge.return);var Pe=ge.stateNode;if(typeof Pe.componentWillUnmount=="function"){v=ge,m=ge.return;try{u=v,Pe.props=u.memoizedProps,Pe.state=u.memoizedState,Pe.componentWillUnmount()}catch(Oe){Mt(v,m,Oe)}}break;case 5:yo(ge,ge.return);break;case 22:if(ge.memoizedState!==null){fk(ye);continue}}Ne!==null?(Ne.return=ge,Ae=Ne):fk(ye)}ve=ve.sibling}e:for(ve=null,ye=l;;){if(ye.tag===5){if(ve===null){ve=ye;try{j=ye.stateNode,ae?(T=j.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(F=ye.stateNode,G=ye.memoizedProps.style,I=G!=null&&G.hasOwnProperty("display")?G.display:null,F.style.display=Js("display",I))}catch(Oe){Mt(l,l.return,Oe)}}}else if(ye.tag===6){if(ve===null)try{ye.stateNode.nodeValue=ae?"":ye.memoizedProps}catch(Oe){Mt(l,l.return,Oe)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===l)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===l)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===l)break e;ve===ye&&(ve=null),ye=ye.return}ve===ye&&(ve=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Vn(u,l),ui(l),v&4&&lk(l);break;case 21:break;default:Vn(u,l),ui(l)}}function ui(l){var u=l.flags;if(u&2){try{e:{for(var m=l.return;m!==null;){if(ak(m)){var v=m;break e}m=m.return}throw Error(r(160))}switch(v.tag){case 5:var j=v.stateNode;v.flags&32&&(Ze(j,""),v.flags&=-33);var T=sk(l);Lg(l,T,j);break;case 3:case 4:var I=v.stateNode.containerInfo,F=sk(l);zg(l,F,I);break;default:throw Error(r(161))}}catch(G){Mt(l,l.return,G)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function d6(l,u,m){Ae=l,uk(l)}function uk(l,u,m){for(var v=(l.mode&1)!==0;Ae!==null;){var j=Ae,T=j.child;if(j.tag===22&&v){var I=j.memoizedState!==null||df;if(!I){var F=j.alternate,G=F!==null&&F.memoizedState!==null||Or;F=df;var ae=Or;if(df=I,(Or=G)&&!ae)for(Ae=j;Ae!==null;)I=Ae,G=I.child,I.tag===22&&I.memoizedState!==null?hk(j):G!==null?(G.return=I,Ae=G):hk(j);for(;T!==null;)Ae=T,uk(T),T=T.sibling;Ae=j,df=F,Or=ae}dk(l)}else(j.subtreeFlags&8772)!==0&&T!==null?(T.return=j,Ae=T):dk(l)}}function dk(l){for(;Ae!==null;){var u=Ae;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Or||ff(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Or)if(m===null)v.componentDidMount();else{var j=u.elementType===u.type?m.memoizedProps:qn(u.type,m.memoizedProps);v.componentDidUpdate(j,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&fN(u,T,v);break;case 3:var I=u.updateQueue;if(I!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}fN(u,I,m)}break;case 5:var F=u.stateNode;if(m===null&&u.flags&4){m=F;var G=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&m.focus();break;case"img":G.src&&(m.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ae=u.alternate;if(ae!==null){var ve=ae.memoizedState;if(ve!==null){var ye=ve.dehydrated;ye!==null&&ic(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Or||u.flags&512&&Dg(u)}catch(ge){Mt(u,u.return,ge)}}if(u===l){Ae=null;break}if(m=u.sibling,m!==null){m.return=u.return,Ae=m;break}Ae=u.return}}function fk(l){for(;Ae!==null;){var u=Ae;if(u===l){Ae=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Ae=m;break}Ae=u.return}}function hk(l){for(;Ae!==null;){var u=Ae;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{ff(4,u)}catch(G){Mt(u,m,G)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var j=u.return;try{v.componentDidMount()}catch(G){Mt(u,j,G)}}var T=u.return;try{Dg(u)}catch(G){Mt(u,T,G)}break;case 5:var I=u.return;try{Dg(u)}catch(G){Mt(u,I,G)}}}catch(G){Mt(u,u.return,G)}if(u===l){Ae=null;break}var F=u.sibling;if(F!==null){F.return=u.return,Ae=F;break}Ae=u.return}}var f6=Math.ceil,hf=C.ReactCurrentDispatcher,Bg=C.ReactCurrentOwner,kn=C.ReactCurrentBatchConfig,nt=0,fr=null,Kt=null,br=0,cn=0,xo=ya(0),rr=0,Ac=null,ds=0,pf=0,Fg=0,Tc=null,Yr=null,qg=0,bo=1/0,Ri=null,mf=!1,Ug=null,_a=null,gf=!1,Na=null,vf=0,Pc=0,Vg=null,yf=-1,xf=0;function Br(){return(nt&6)!==0?qt():yf!==-1?yf:yf=qt()}function ka(l){return(l.mode&1)===0?1:(nt&2)!==0&&br!==0?br&-br:XL.transition!==null?(xf===0&&(xf=s_()),xf):(l=ct,l!==0||(l=window.event,l=l===void 0?16:m_(l.type)),l)}function Wn(l,u,m,v){if(50<Pc)throw Pc=0,Vg=null,Error(r(185));Zl(l,m,v),((nt&2)===0||l!==fr)&&(l===fr&&((nt&2)===0&&(pf|=m),rr===4&&Aa(l,br)),Jr(l,v),m===1&&nt===0&&(u.mode&1)===0&&(bo=qt()+500,Hd&&ba()))}function Jr(l,u){var m=l.callbackNode;Xz(l,u);var v=Ad(l,l===fr?br:0);if(v===0)m!==null&&n_(m),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(m!=null&&n_(m),u===1)l.tag===0?KL(mk.bind(null,l)):eN(mk.bind(null,l)),VL(function(){(nt&6)===0&&ba()}),m=null;else{switch(o_(v)){case 1:m=Sm;break;case 4:m=i_;break;case 16:m=Sd;break;case 536870912:m=a_;break;default:m=Sd}m=Sk(m,pk.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function pk(l,u){if(yf=-1,xf=0,(nt&6)!==0)throw Error(r(327));var m=l.callbackNode;if(wo()&&l.callbackNode!==m)return null;var v=Ad(l,l===fr?br:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||u)u=bf(l,v);else{u=v;var j=nt;nt|=2;var T=vk();(fr!==l||br!==u)&&(Ri=null,bo=qt()+500,hs(l,u));do try{m6();break}catch(F){gk(l,F)}while(!0);lg(),hf.current=T,nt=j,Kt!==null?u=0:(fr=null,br=0,u=rr)}if(u!==0){if(u===2&&(j=_m(l),j!==0&&(v=j,u=Wg(l,j))),u===1)throw m=Ac,hs(l,0),Aa(l,v),Jr(l,qt()),m;if(u===6)Aa(l,v);else{if(j=l.current.alternate,(v&30)===0&&!h6(j)&&(u=bf(l,v),u===2&&(T=_m(l),T!==0&&(v=T,u=Wg(l,T))),u===1))throw m=Ac,hs(l,0),Aa(l,v),Jr(l,qt()),m;switch(l.finishedWork=j,l.finishedLanes=v,u){case 0:case 1:throw Error(r(345));case 2:ps(l,Yr,Ri);break;case 3:if(Aa(l,v),(v&130023424)===v&&(u=qg+500-qt(),10<u)){if(Ad(l,0)!==0)break;if(j=l.suspendedLanes,(j&v)!==v){Br(),l.pingedLanes|=l.suspendedLanes&j;break}l.timeoutHandle=Jm(ps.bind(null,l,Yr,Ri),u);break}ps(l,Yr,Ri);break;case 4:if(Aa(l,v),(v&4194240)===v)break;for(u=l.eventTimes,j=-1;0<v;){var I=31-Ln(v);T=1<<I,I=u[I],I>j&&(j=I),v&=~T}if(v=j,v=qt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*f6(v/1960))-v,10<v){l.timeoutHandle=Jm(ps.bind(null,l,Yr,Ri),v);break}ps(l,Yr,Ri);break;case 5:ps(l,Yr,Ri);break;default:throw Error(r(329))}}}return Jr(l,qt()),l.callbackNode===m?pk.bind(null,l):null}function Wg(l,u){var m=Tc;return l.current.memoizedState.isDehydrated&&(hs(l,u).flags|=256),l=bf(l,u),l!==2&&(u=Yr,Yr=m,u!==null&&Hg(u)),l}function Hg(l){Yr===null?Yr=l:Yr.push.apply(Yr,l)}function h6(l){for(var u=l;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var j=m[v],T=j.getSnapshot;j=j.value;try{if(!Bn(T(),j))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Aa(l,u){for(u&=~Fg,u&=~pf,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-Ln(u),v=1<<m;l[m]=-1,u&=~v}}function mk(l){if((nt&6)!==0)throw Error(r(327));wo();var u=Ad(l,0);if((u&1)===0)return Jr(l,qt()),null;var m=bf(l,u);if(l.tag!==0&&m===2){var v=_m(l);v!==0&&(u=v,m=Wg(l,v))}if(m===1)throw m=Ac,hs(l,0),Aa(l,u),Jr(l,qt()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,ps(l,Yr,Ri),Jr(l,qt()),null}function Gg(l,u){var m=nt;nt|=1;try{return l(u)}finally{nt=m,nt===0&&(bo=qt()+500,Hd&&ba())}}function fs(l){Na!==null&&Na.tag===0&&(nt&6)===0&&wo();var u=nt;nt|=1;var m=kn.transition,v=ct;try{if(kn.transition=null,ct=1,l)return l()}finally{ct=v,kn.transition=m,nt=u,(nt&6)===0&&ba()}}function Kg(){cn=xo.current,_t(xo)}function hs(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,UL(m)),Kt!==null)for(m=Kt.return;m!==null;){var v=m;switch(ng(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Vd();break;case 3:go(),_t(Gr),_t(Pr),gg();break;case 5:pg(v);break;case 4:go();break;case 13:_t(Et);break;case 19:_t(Et);break;case 10:cg(v.type._context);break;case 22:case 23:Kg()}m=m.return}if(fr=l,Kt=l=Ta(l.current,null),br=cn=u,rr=0,Ac=null,Fg=pf=ds=0,Yr=Tc=null,ls!==null){for(u=0;u<ls.length;u++)if(m=ls[u],v=m.interleaved,v!==null){m.interleaved=null;var j=v.next,T=m.pending;if(T!==null){var I=T.next;T.next=j,v.next=I}m.pending=v}ls=null}return l}function gk(l,u){do{var m=Kt;try{if(lg(),rf.current=of,nf){for(var v=Ot.memoizedState;v!==null;){var j=v.queue;j!==null&&(j.pending=null),v=v.next}nf=!1}if(us=0,dr=tr=Ot=null,wc=!1,jc=0,Bg.current=null,m===null||m.return===null){rr=1,Ac=u,Kt=null;break}e:{var T=l,I=m.return,F=m,G=u;if(u=br,F.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ae=G,ve=F,ye=ve.tag;if((ve.mode&1)===0&&(ye===0||ye===11||ye===15)){var ge=ve.alternate;ge?(ve.updateQueue=ge.updateQueue,ve.memoizedState=ge.memoizedState,ve.lanes=ge.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Ne=FN(I);if(Ne!==null){Ne.flags&=-257,qN(Ne,I,F,T,u),Ne.mode&1&&BN(T,ae,u),u=Ne,G=ae;var Pe=u.updateQueue;if(Pe===null){var Oe=new Set;Oe.add(G),u.updateQueue=Oe}else Pe.add(G);break e}else{if((u&1)===0){BN(T,ae,u),Xg();break e}G=Error(r(426))}}else if(Tt&&F.mode&1){var Ut=FN(I);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),qN(Ut,I,F,T,u),sg(vo(G,F));break e}}T=G=vo(G,F),rr!==4&&(rr=2),Tc===null?Tc=[T]:Tc.push(T),T=I;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var te=zN(T,G,u);dN(T,te);break e;case 1:F=G;var Y=T.type,ne=T.stateNode;if((T.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(_a===null||!_a.has(ne)))){T.flags|=65536,u&=-u,T.lanes|=u;var be=LN(T,F,u);dN(T,be);break e}}T=T.return}while(T!==null)}xk(m)}catch(Ie){u=Ie,Kt===m&&m!==null&&(Kt=m=m.return);continue}break}while(!0)}function vk(){var l=hf.current;return hf.current=of,l===null?of:l}function Xg(){(rr===0||rr===3||rr===2)&&(rr=4),fr===null||(ds&268435455)===0&&(pf&268435455)===0||Aa(fr,br)}function bf(l,u){var m=nt;nt|=2;var v=vk();(fr!==l||br!==u)&&(Ri=null,hs(l,u));do try{p6();break}catch(j){gk(l,j)}while(!0);if(lg(),nt=m,hf.current=v,Kt!==null)throw Error(r(261));return fr=null,br=0,rr}function p6(){for(;Kt!==null;)yk(Kt)}function m6(){for(;Kt!==null&&!Bz();)yk(Kt)}function yk(l){var u=jk(l.alternate,l,cn);l.memoizedProps=l.pendingProps,u===null?xk(l):Kt=u,Bg.current=null}function xk(l){var u=l;do{var m=u.alternate;if(l=u.return,(u.flags&32768)===0){if(m=o6(m,u,cn),m!==null){Kt=m;return}}else{if(m=l6(m,u),m!==null){m.flags&=32767,Kt=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{rr=6,Kt=null;return}}if(u=u.sibling,u!==null){Kt=u;return}Kt=u=l}while(u!==null);rr===0&&(rr=5)}function ps(l,u,m){var v=ct,j=kn.transition;try{kn.transition=null,ct=1,g6(l,u,m,v)}finally{kn.transition=j,ct=v}return null}function g6(l,u,m,v){do wo();while(Na!==null);if((nt&6)!==0)throw Error(r(327));m=l.finishedWork;var j=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var T=m.lanes|m.childLanes;if(Yz(l,T),l===fr&&(Kt=fr=null,br=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||gf||(gf=!0,Sk(Sd,function(){return wo(),null})),T=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||T){T=kn.transition,kn.transition=null;var I=ct;ct=1;var F=nt;nt|=4,Bg.current=null,u6(l,m),ck(m,l),ML(Xm),Cd=!!Km,Xm=Km=null,l.current=m,d6(m),Fz(),nt=F,ct=I,kn.transition=T}else l.current=m;if(gf&&(gf=!1,Na=l,vf=j),T=l.pendingLanes,T===0&&(_a=null),Vz(m.stateNode),Jr(l,qt()),u!==null)for(v=l.onRecoverableError,m=0;m<u.length;m++)j=u[m],v(j.value,{componentStack:j.stack,digest:j.digest});if(mf)throw mf=!1,l=Ug,Ug=null,l;return(vf&1)!==0&&l.tag!==0&&wo(),T=l.pendingLanes,(T&1)!==0?l===Vg?Pc++:(Pc=0,Vg=l):Pc=0,ba(),null}function wo(){if(Na!==null){var l=o_(vf),u=kn.transition,m=ct;try{if(kn.transition=null,ct=16>l?16:l,Na===null)var v=!1;else{if(l=Na,Na=null,vf=0,(nt&6)!==0)throw Error(r(331));var j=nt;for(nt|=4,Ae=l.current;Ae!==null;){var T=Ae,I=T.child;if((Ae.flags&16)!==0){var F=T.deletions;if(F!==null){for(var G=0;G<F.length;G++){var ae=F[G];for(Ae=ae;Ae!==null;){var ve=Ae;switch(ve.tag){case 0:case 11:case 15:kc(8,ve,T)}var ye=ve.child;if(ye!==null)ye.return=ve,Ae=ye;else for(;Ae!==null;){ve=Ae;var ge=ve.sibling,Ne=ve.return;if(ik(ve),ve===ae){Ae=null;break}if(ge!==null){ge.return=Ne,Ae=ge;break}Ae=Ne}}}var Pe=T.alternate;if(Pe!==null){var Oe=Pe.child;if(Oe!==null){Pe.child=null;do{var Ut=Oe.sibling;Oe.sibling=null,Oe=Ut}while(Oe!==null)}}Ae=T}}if((T.subtreeFlags&2064)!==0&&I!==null)I.return=T,Ae=I;else e:for(;Ae!==null;){if(T=Ae,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:kc(9,T,T.return)}var te=T.sibling;if(te!==null){te.return=T.return,Ae=te;break e}Ae=T.return}}var Y=l.current;for(Ae=Y;Ae!==null;){I=Ae;var ne=I.child;if((I.subtreeFlags&2064)!==0&&ne!==null)ne.return=I,Ae=ne;else e:for(I=Y;Ae!==null;){if(F=Ae,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:ff(9,F)}}catch(Ie){Mt(F,F.return,Ie)}if(F===I){Ae=null;break e}var be=F.sibling;if(be!==null){be.return=F.return,Ae=be;break e}Ae=F.return}}if(nt=j,ba(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(_d,l)}catch{}v=!0}return v}finally{ct=m,kn.transition=u}}return!1}function bk(l,u,m){u=vo(m,u),u=zN(l,u,1),l=ja(l,u,1),u=Br(),l!==null&&(Zl(l,1,u),Jr(l,u))}function Mt(l,u,m){if(l.tag===3)bk(l,l,m);else for(;u!==null;){if(u.tag===3){bk(u,l,m);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(_a===null||!_a.has(v))){l=vo(m,l),l=LN(u,l,1),u=ja(u,l,1),l=Br(),u!==null&&(Zl(u,1,l),Jr(u,l));break}}u=u.return}}function v6(l,u,m){var v=l.pingCache;v!==null&&v.delete(u),u=Br(),l.pingedLanes|=l.suspendedLanes&m,fr===l&&(br&m)===m&&(rr===4||rr===3&&(br&130023424)===br&&500>qt()-qg?hs(l,0):Fg|=m),Jr(l,u)}function wk(l,u){u===0&&((l.mode&1)===0?u=1:(u=kd,kd<<=1,(kd&130023424)===0&&(kd=4194304)));var m=Br();l=Ei(l,u),l!==null&&(Zl(l,u,m),Jr(l,m))}function y6(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),wk(l,m)}function x6(l,u){var m=0;switch(l.tag){case 13:var v=l.stateNode,j=l.memoizedState;j!==null&&(m=j.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(u),wk(l,m)}var jk;jk=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Gr.current)Xr=!0;else{if((l.lanes&m)===0&&(u.flags&128)===0)return Xr=!1,s6(l,u,m);Xr=(l.flags&131072)!==0}else Xr=!1,Tt&&(u.flags&1048576)!==0&&tN(u,Kd,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;uf(l,u),l=u.pendingProps;var j=lo(u,Pr.current);mo(u,m),j=xg(null,u,v,l,j,m);var T=bg();return u.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Kr(v)?(T=!0,Wd(u)):T=!1,u.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,fg(u),j.updater=lf,u.stateNode=j,j._reactInternals=u,kg(u,v,l,m),u=Cg(null,u,v,!0,T,m)):(u.tag=0,Tt&&T&&rg(u),Lr(null,u,j,m),u=u.child),u;case 16:v=u.elementType;e:{switch(uf(l,u),l=u.pendingProps,j=v._init,v=j(v._payload),u.type=v,j=u.tag=w6(v),l=qn(v,l),j){case 0:u=Pg(null,u,v,l,m);break e;case 1:u=KN(null,u,v,l,m);break e;case 11:u=UN(null,u,v,l,m);break e;case 14:u=VN(null,u,v,qn(v.type,l),m);break e}throw Error(r(306,v,""))}return u;case 0:return v=u.type,j=u.pendingProps,j=u.elementType===v?j:qn(v,j),Pg(l,u,v,j,m);case 1:return v=u.type,j=u.pendingProps,j=u.elementType===v?j:qn(v,j),KN(l,u,v,j,m);case 3:e:{if(XN(u),l===null)throw Error(r(387));v=u.pendingProps,T=u.memoizedState,j=T.element,uN(l,u),ef(u,v,null,m);var I=u.memoizedState;if(v=I.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){j=vo(Error(r(423)),u),u=YN(l,u,v,m,j);break e}else if(v!==j){j=vo(Error(r(424)),u),u=YN(l,u,v,m,j);break e}else for(ln=va(u.stateNode.containerInfo.firstChild),on=u,Tt=!0,Fn=null,m=lN(u,null,v,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(fo(),v===j){u=Ii(l,u,m);break e}Lr(l,u,v,m)}u=u.child}return u;case 5:return hN(u),l===null&&ag(u),v=u.type,j=u.pendingProps,T=l!==null?l.memoizedProps:null,I=j.children,Ym(v,j)?I=null:T!==null&&Ym(v,T)&&(u.flags|=32),GN(l,u),Lr(l,u,I,m),u.child;case 6:return l===null&&ag(u),null;case 13:return JN(l,u,m);case 4:return hg(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=ho(u,null,v,m):Lr(l,u,v,m),u.child;case 11:return v=u.type,j=u.pendingProps,j=u.elementType===v?j:qn(v,j),UN(l,u,v,j,m);case 7:return Lr(l,u,u.pendingProps,m),u.child;case 8:return Lr(l,u,u.pendingProps.children,m),u.child;case 12:return Lr(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(v=u.type._context,j=u.pendingProps,T=u.memoizedProps,I=j.value,vt(Jd,v._currentValue),v._currentValue=I,T!==null)if(Bn(T.value,I)){if(T.children===j.children&&!Gr.current){u=Ii(l,u,m);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var F=T.dependencies;if(F!==null){I=T.child;for(var G=F.firstContext;G!==null;){if(G.context===v){if(T.tag===1){G=Oi(-1,m&-m),G.tag=2;var ae=T.updateQueue;if(ae!==null){ae=ae.shared;var ve=ae.pending;ve===null?G.next=G:(G.next=ve.next,ve.next=G),ae.pending=G}}T.lanes|=m,G=T.alternate,G!==null&&(G.lanes|=m),ug(T.return,m,u),F.lanes|=m;break}G=G.next}}else if(T.tag===10)I=T.type===u.type?null:T.child;else if(T.tag===18){if(I=T.return,I===null)throw Error(r(341));I.lanes|=m,F=I.alternate,F!==null&&(F.lanes|=m),ug(I,m,u),I=T.sibling}else I=T.child;if(I!==null)I.return=T;else for(I=T;I!==null;){if(I===u){I=null;break}if(T=I.sibling,T!==null){T.return=I.return,I=T;break}I=I.return}T=I}Lr(l,u,j.children,m),u=u.child}return u;case 9:return j=u.type,v=u.pendingProps.children,mo(u,m),j=_n(j),v=v(j),u.flags|=1,Lr(l,u,v,m),u.child;case 14:return v=u.type,j=qn(v,u.pendingProps),j=qn(v.type,j),VN(l,u,v,j,m);case 15:return WN(l,u,u.type,u.pendingProps,m);case 17:return v=u.type,j=u.pendingProps,j=u.elementType===v?j:qn(v,j),uf(l,u),u.tag=1,Kr(v)?(l=!0,Wd(u)):l=!1,mo(u,m),MN(u,v,j),kg(u,v,j,m),Cg(null,u,v,!0,l,m);case 19:return ZN(l,u,m);case 22:return HN(l,u,m)}throw Error(r(156,u.tag))};function Sk(l,u){return r_(l,u)}function b6(l,u,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(l,u,m,v){return new b6(l,u,m,v)}function Yg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function w6(l){if(typeof l=="function")return Yg(l)?1:0;if(l!=null){if(l=l.$$typeof,l===D)return 11;if(l===J)return 14}return 2}function Ta(l,u){var m=l.alternate;return m===null?(m=An(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function wf(l,u,m,v,j,T){var I=2;if(v=l,typeof l=="function")Yg(l)&&(I=1);else if(typeof l=="string")I=5;else e:switch(l){case E:return ms(m.children,j,T,u);case O:I=8,j|=8;break;case R:return l=An(12,m,u,j|2),l.elementType=R,l.lanes=T,l;case $:return l=An(13,m,u,j),l.elementType=$,l.lanes=T,l;case V:return l=An(19,m,u,j),l.elementType=V,l.lanes=T,l;case U:return jf(m,j,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case H:I=10;break e;case B:I=9;break e;case D:I=11;break e;case J:I=14;break e;case K:I=16,v=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return u=An(I,m,u,j),u.elementType=l,u.type=v,u.lanes=T,u}function ms(l,u,m,v){return l=An(7,l,v,u),l.lanes=m,l}function jf(l,u,m,v){return l=An(22,l,v,u),l.elementType=U,l.lanes=m,l.stateNode={isHidden:!1},l}function Jg(l,u,m){return l=An(6,l,null,u),l.lanes=m,l}function Qg(l,u,m){return u=An(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function j6(l,u,m,v,j){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nm(0),this.expirationTimes=Nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.identifierPrefix=v,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function Zg(l,u,m,v,j,T,I,F,G){return l=new j6(l,u,m,F,G),u===1?(u=1,T===!0&&(u|=8)):u=0,T=An(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},fg(T),l}function S6(l,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:v==null?null:""+v,children:l,containerInfo:u,implementation:m}}function _k(l){if(!l)return xa;l=l._reactInternals;e:{if(ns(l)!==l||l.tag!==1)throw Error(r(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Kr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(Kr(m))return Q_(l,m,u)}return u}function Nk(l,u,m,v,j,T,I,F,G){return l=Zg(m,v,!0,l,j,T,I,F,G),l.context=_k(null),m=l.current,v=Br(),j=ka(m),T=Oi(v,j),T.callback=u??null,ja(m,T,j),l.current.lanes=j,Zl(l,j,v),Jr(l,v),l}function Sf(l,u,m,v){var j=u.current,T=Br(),I=ka(j);return m=_k(m),u.context===null?u.context=m:u.pendingContext=m,u=Oi(T,I),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=ja(j,u,I),l!==null&&(Wn(l,j,I,T),Zd(l,j,I)),I}function _f(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function kk(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function e0(l,u){kk(l,u),(l=l.alternate)&&kk(l,u)}function _6(){return null}var Ak=typeof reportError=="function"?reportError:function(l){console.error(l)};function t0(l){this._internalRoot=l}Nf.prototype.render=t0.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));Sf(l,u,null,null)},Nf.prototype.unmount=t0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;fs(function(){Sf(null,l,null,null)}),u[Ai]=null}};function Nf(l){this._internalRoot=l}Nf.prototype.unstable_scheduleHydration=function(l){if(l){var u=u_();l={blockedOn:null,target:l,priority:u};for(var m=0;m<pa.length&&u!==0&&u<pa[m].priority;m++);pa.splice(m,0,l),m===0&&h_(l)}};function r0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function kf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Tk(){}function N6(l,u,m,v,j){if(j){if(typeof v=="function"){var T=v;v=function(){var ae=_f(I);T.call(ae)}}var I=Nk(u,v,l,0,null,!1,!1,"",Tk);return l._reactRootContainer=I,l[Ai]=I.current,hc(l.nodeType===8?l.parentNode:l),fs(),I}for(;j=l.lastChild;)l.removeChild(j);if(typeof v=="function"){var F=v;v=function(){var ae=_f(G);F.call(ae)}}var G=Zg(l,0,!1,null,null,!1,!1,"",Tk);return l._reactRootContainer=G,l[Ai]=G.current,hc(l.nodeType===8?l.parentNode:l),fs(function(){Sf(u,G,m,v)}),G}function Af(l,u,m,v,j){var T=m._reactRootContainer;if(T){var I=T;if(typeof j=="function"){var F=j;j=function(){var G=_f(I);F.call(G)}}Sf(u,I,l,j)}else I=N6(m,u,l,j,v);return _f(I)}l_=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=Ql(u.pendingLanes);m!==0&&(km(u,m|1),Jr(u,qt()),(nt&6)===0&&(bo=qt()+500,ba()))}break;case 13:fs(function(){var v=Ei(l,1);if(v!==null){var j=Br();Wn(v,l,1,j)}}),e0(l,1)}},Am=function(l){if(l.tag===13){var u=Ei(l,134217728);if(u!==null){var m=Br();Wn(u,l,134217728,m)}e0(l,134217728)}},c_=function(l){if(l.tag===13){var u=ka(l),m=Ei(l,u);if(m!==null){var v=Br();Wn(m,l,u,v)}e0(l,u)}},u_=function(){return ct},d_=function(l,u){var m=ct;try{return ct=l,u()}finally{ct=m}},Xl=function(l,u,m){switch(u){case"input":if(Me(l,m),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var v=m[u];if(v!==l&&v.form===l.form){var j=Ud(v);if(!j)throw Error(r(90));ue(v),Me(v,j)}}}break;case"textarea":He(l,m);break;case"select":u=m.value,u!=null&&ut(l,!!m.multiple,u,!1)}},er=Gg,Tr=fs;var k6={usingClientEntryPoint:!1,Events:[gc,so,Ud,Ve,Ft,Gg]},Cc={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A6={bundleType:Cc.bundleType,version:Cc.version,rendererPackageName:Cc.rendererPackageName,rendererConfig:Cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=e_(l),l===null?null:l.stateNode},findFiberByHostInstance:Cc.findFiberByHostInstance||_6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{_d=Tf.inject(A6),si=Tf}catch{}}return Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k6,Qr.createPortal=function(l,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r0(u))throw Error(r(200));return S6(l,u,null,m)},Qr.createRoot=function(l,u){if(!r0(l))throw Error(r(299));var m=!1,v="",j=Ak;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(j=u.onRecoverableError)),u=Zg(l,1,!1,null,null,m,!1,v,j),l[Ai]=u.current,hc(l.nodeType===8?l.parentNode:l),new t0(u)},Qr.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=e_(u),l=l===null?null:l.stateNode,l},Qr.flushSync=function(l){return fs(l)},Qr.hydrate=function(l,u,m){if(!kf(u))throw Error(r(200));return Af(null,l,u,!0,m)},Qr.hydrateRoot=function(l,u,m){if(!r0(l))throw Error(r(405));var v=m!=null&&m.hydratedSources||null,j=!1,T="",I=Ak;if(m!=null&&(m.unstable_strictMode===!0&&(j=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(I=m.onRecoverableError)),u=Nk(u,null,l,1,m??null,j,!1,T,I),l[Ai]=u.current,hc(l),v)for(l=0;l<v.length;l++)m=v[l],j=m._getVersion,j=j(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,j]:u.mutableSourceEagerHydrationData.push(m,j);return new Nf(u)},Qr.render=function(l,u,m){if(!kf(u))throw Error(r(200));return Af(null,l,u,!1,m)},Qr.unmountComponentAtNode=function(l){if(!kf(l))throw Error(r(40));return l._reactRootContainer?(fs(function(){Af(null,null,l,!1,function(){l._reactRootContainer=null,l[Ai]=null})}),!0):!1},Qr.unstable_batchedUpdates=Gg,Qr.unstable_renderSubtreeIntoContainer=function(l,u,m,v){if(!kf(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return Af(l,u,m,!1,v)},Qr.version="18.3.1-next-f1338f8080-20240426",Qr}var Mk;function FI(){if(Mk)return a0.exports;Mk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),a0.exports=$6(),a0.exports}var Dk;function M6(){if(Dk)return Cf;Dk=1;var t=FI();return Cf.createRoot=t.createRoot,Cf.hydrateRoot=t.hydrateRoot,Cf}var D6=M6(),P=Np();const z=pt(P),Y1=P6({__proto__:null,default:z},[P]),z6="modulepreload",L6=function(t){return"/"+t},zk={},$a=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=o(r.map(f=>{if(f=L6(f),f in zk)return;zk[f]=!0;const p=f.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":z6,p||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),p)return new Promise((y,b)=>{g.addEventListener("load",y),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function kp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function B6(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(p){try{f(n.next(p))}catch(h){o(h)}}function d(p){try{f(n.throw(p))}catch(h){o(h)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((n=n.apply(t,e||[])).next())})}const F6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class J1 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class q6 extends J1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Lk extends J1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bk extends J1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qb||(qb={}));class U6{constructor(e,{headers:r={},customFetch:n,region:i=qb.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=F6(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return B6(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:c,method:d,body:f,signal:p,timeout:h}=n;let g={},{region:y}=n;y||(y=this.region);const b=new URL(`${this.url}/${r}`);y&&y!=="any"&&(g["x-region"]=y,b.searchParams.set("forceFunctionRegion",y));let w;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(g["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(g["Content-Type"]="application/json",w=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?w=JSON.stringify(f):w=f;let x=p;h&&(o=new AbortController,a=setTimeout(()=>o.abort(),h),p?(x=o.signal,p.addEventListener("abort",()=>o.abort())):x=o.signal);const S=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:w,signal:x}).catch(N=>{throw new q6(N)}),k=S.headers.get("x-relay-error");if(k&&k==="true")throw new Lk(S);if(!S.ok)throw new Bk(S);let _=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return _==="application/json"?C=yield S.json():_==="application/octet-stream"||_==="application/pdf"?C=yield S.blob():_==="text/event-stream"?C=S:_==="multipart/form-data"?C=yield S.formData():C=yield S.text(),{data:C,error:null,response:S}}catch(c){return{data:null,error:c,response:c instanceof Bk||c instanceof Lk?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var V6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},W6=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,c=null,d=null,f=a.status,p=a.statusText;if(a.ok){var h,g;if(r.method!=="HEAD"){var y;const S=await a.text();S===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?c=S:c=JSON.parse(S))}const w=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(g=a.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");w&&x&&x.length>1&&(d=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(o={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var b;const w=await a.text();try{o=JSON.parse(w),Array.isArray(o)&&a.status===404&&(c=[],o=null,f=200,p="OK")}catch{a.status===404&&w===""?(f=204,p="No Content"):o={message:w}}if(o&&r.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,f=200,p="OK"),o&&r.shouldThrowOnError)throw new V6(o)}return{error:o,data:c,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let c="";const d=a?.cause;if(d){var f,p,h,g;const b=(f=d?.message)!==null&&f!==void 0?f:"",w=(p=d?.code)!==null&&p!==void 0?p:"";c=`${(h=a?.name)!==null&&h!==void 0?h:"FetchError"}: ${a?.message}`,c+=`

Caused by: ${(g=d?.name)!==null&&g!==void 0?g:"Error"}: ${b}`,w&&(c+=` (${w})`),d?.stack&&(c+=`
${d.stack}`)}else{var y;c=(y=a?.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(o=a?.name)!==null&&o!==void 0?o:"FetchError"}: ${a?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},H6=class extends W6{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Fk=new RegExp("[,()]");var Mo=class extends H6{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Fk.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Fk.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},G6=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",o),n&&d.append("Prefer",`count=${n}`),new Mo({method:i,url:c,headers:d,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);a.searchParams.set("columns",d.join(","))}}return new Mo({method:i,url:a,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const o="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),n&&d.append("Prefer",`count=${n}`),i||d.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);c.searchParams.set("columns",p.join(","))}}return new Mo({method:o,url:c,headers:d,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Mo({method:n,url:i,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Mo({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},K6=class qI{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new G6(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new qI(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let c;const d=new URL(`${this.url}/rpc/${e}`);let f;const p=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(p)),h=n&&Object.values(r).some(p);h?(c="POST",f=r):n||i?(c=n?"HEAD":"GET",Object.entries(r).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{d.searchParams.append(y,b)})):(c="POST",f=r);const g=new Headers(this.headers);return h?g.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&g.set("Prefer",`count=${a}`),new Mo({method:c,url:d,headers:g,schema:this.schemaName,body:f,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class X6{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Y6="2.90.1",J6=`realtime-js/${Y6}`,UI="1.0.0",Q6="2.0.0",qk=UI,Ub=1e4,Z6=1e3,eB=100;var Ia;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ia||(Ia={}));var sr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(sr||(sr={}));var Jn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jn||(Jn={}));var Vb;(function(t){t.websocket="websocket"})(Vb||(Vb={}));var Ns;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ns||(Ns={}));class tB{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,a;const o=e.topic,c=(i=e.ref)!==null&&i!==void 0?i:"",d=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+o.length+f.length+h.length,y=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(y),w=0;b.setUint8(w++,this.KINDS.userBroadcastPush),b.setUint8(w++,d.length),b.setUint8(w++,c.length),b.setUint8(w++,o.length),b.setUint8(w++,f.length),b.setUint8(w++,h.length),b.setUint8(w++,r),Array.from(d,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(c,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(o,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(f,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(h,S=>b.setUint8(w++,S.charCodeAt(0)));var x=new Uint8Array(y.byteLength+n.byteLength);return x.set(new Uint8Array(y),0),x.set(new Uint8Array(n),y.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,o,c,d]=n;return r({join_ref:i,ref:a,topic:o,event:c,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(e.slice(d,d+i));d=d+i;const p=n.decode(e.slice(d,d+a));d=d+a;const h=n.decode(e.slice(d,d+o));d=d+o;const g=e.slice(d,e.byteLength),y=c===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,b={type:this.BROADCAST_EVENT,event:p,payload:y};return o>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class VI{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(yt||(yt={}));const Uk=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=rB(o,t,e,i),a),{}):{}},rB=(t,e,r,n)=>{const i=e.find(c=>c.name===t),a=i?.type,o=r[t];return a&&!n.includes(a)?WI(a,o):Wb(o)},WI=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return sB(e,r)}switch(t){case yt.bool:return nB(e);case yt.float4:case yt.float8:case yt.int2:case yt.int4:case yt.int8:case yt.numeric:case yt.oid:return iB(e);case yt.json:case yt.jsonb:return aB(e);case yt.timestamp:return oB(e);case yt.abstime:case yt.date:case yt.daterange:case yt.int4range:case yt.int8range:case yt.money:case yt.reltime:case yt.text:case yt.time:case yt.timestamptz:case yt.timetz:case yt.tsrange:case yt.tstzrange:return Wb(e);default:return Wb(e)}},Wb=t=>t,nB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},iB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},aB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},sB=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>WI(e,c))}return t},oB=t=>typeof t=="string"?t.replace(" ","T"):t,HI=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class l0{constructor(e,r,n={},i=Ub){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Vk;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Vk||(Vk={}));class Qc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qc.syncState(this.state,i,a,o),this.pendingDiffs.forEach(d=>{this.state=Qc.syncDiff(this.state,d,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Qc.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),c={},d={};return this.map(a,(f,p)=>{o[f]||(d[f]=p)}),this.map(o,(f,p)=>{const h=a[f];if(h){const g=p.map(x=>x.presence_ref),y=h.map(x=>x.presence_ref),b=p.filter(x=>y.indexOf(x.presence_ref)<0),w=h.filter(x=>g.indexOf(x.presence_ref)<0);b.length>0&&(c[f]=b),w.length>0&&(d[f]=w)}else c[f]=p}),this.syncDiff(a,{joins:c,leaves:d},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var f;const p=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),p.length>0){const h=e[c].map(y=>y.presence_ref),g=p.filter(y=>h.indexOf(y.presence_ref)<0);e[c].unshift(...g)}n(c,p,d)}),this.map(o,(c,d)=>{let f=e[c];if(!f)return;const p=d.map(h=>h.presence_ref);f=f.filter(h=>p.indexOf(h.presence_ref)<0),e[c]=f,i(c,f,d),f.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wk;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Wk||(Wk={}));var Zc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zc||(Zc={}));var zi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zi||(zi={}));class Fo{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new l0(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new VI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Qc(this),this.broadcastEndpointURL=HI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==sr.closed){const{config:{broadcast:o,presence:c,private:d}}=this.params,f=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Zc.PRESENCE]&&this.bindings[Zc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},g={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(zi.CHANNEL_ERROR,y)),this._onClose(()=>e?.(zi.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e?.(zi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(b=w?.length)!==null&&b!==void 0?b:0,S=[];for(let k=0;k<x;k++){const _=w[k],{filter:{event:C,schema:N,table:A,filter:E}}=_,O=y&&y[k];if(O&&O.event===C&&Fo.isFilterValueEqual(O.schema,N)&&Fo.isFilterValueEqual(O.table,A)&&Fo.isFilterValueEqual(O.filter,E))S.push(Object.assign(Object.assign({},_),{id:O.id}));else{this.unsubscribe(),this.state=sr.errored,e?.(zi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(zi.SUBSCRIBED);return}}).receive("error",y=>{this.state=sr.errored,e?.(zi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(zi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===sr.joined&&e===Zc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,d;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new l0(this,Jn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=sr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new l0(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>eB){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:p}=Jn;if(n&&[c,d,f,p].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,w,x;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(w=y.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(y=>y.callback(g,n)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var b,w,x,S,k,_,C,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const A=y.id,E=(b=y.filter)===null||b===void 0?void 0:b.event;return A&&((w=r.ids)===null||w===void 0?void 0:w.includes(A))&&(E==="*"||E?.toLocaleLowerCase()===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((S=y.filter)===null||S===void 0)&&S.table)||y.filter.table===((k=r.data)===null||k===void 0?void 0:k.table))}else{const A=(C=(_=y?.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return A==="*"||A===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:w,table:x,commit_timestamp:S,type:k,errors:_}=b;g=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:S,eventType:k,new:{},old:{},errors:_}),this._getPayloadRecords(b))}y.callback(g,n)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Fo.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jn.close,{},e)}_onError(e){this._on(Jn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Uk(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Uk(e.columns,e.old_record)),r}}const c0=()=>{},Ef={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lB=[1e3,2e3,5e3,1e4],cB=1e4,uB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dB{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ub,this.transport=null,this.heartbeatIntervalMs=Ef.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=c0,this.ref=0,this.reconnectTimer=null,this.vsn=qk,this.logger=c0,this.conn=null,this.sendBuffer=[],this.serializer=new tB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Vb.websocket}`,this.httpEndpoint=HI(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=X6.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ia.connecting:return Ns.Connecting;case Ia.open:return Ns.Open;case Ia.closing:return Ns.Closing;default:return Ns.Closed}}isConnected(){return this.connectionState()===Ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Fo(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Z6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ef.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:o}=r,c=o?`(${o})`:"",d=a.status||"";this.log("receive",`${d} ${n} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ia.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ia.open||this.conn.readyState===Ia.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([uB],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:J6};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Jn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new VI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ef.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,c,d,f,p,h,g,y;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Ub,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Ef.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:c0,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:qk,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>lB[b-1]||cB),this.vsn){case UI:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((b,w)=>w(JSON.stringify(b))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:((b,w)=>w(JSON.parse(b)));break;case Q6:this.encode=(g=e?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var uu=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fB(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function hB(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function pB(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const c=fB(t.baseUrl,n,i),d=await hB(t.auth),f=await e(c,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...d,...o},body:a?JSON.stringify(a):void 0}),p=await f.text(),h=(f.headers.get("content-type")||"").includes("application/json"),g=h&&p?JSON.parse(p):p;if(!f.ok){const y=h?g:void 0,b=y?.error;throw new uu(b?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:b?.type,icebergCode:b?.code,details:y})}return{status:f.status,headers:f.headers,data:g}}}}function Of(t){return t.join("")}var mB=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Of(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Of(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Of(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Of(t.namespace)}`}),!0}catch(e){if(e instanceof uu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof uu&&r.status===409)return;throw r}}};function jo(t){return t.join("")}var gB=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof uu&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof uu&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},vB=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=pB({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new mB(this.client,e),this.tableOps=new gB(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Ap=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function It(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var yB=class extends Ap{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hb=class extends Ap{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Q1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xB=()=>Response,Gb=t=>{if(Array.isArray(t))return t.map(r=>Gb(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Gb(n)}),e},bB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wB=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function jB(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SB(t){var e=jB(t,"string");return du(e)=="symbol"?e:e+""}function _B(t,e,r){return(e=SB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(r),!0).forEach(function(n){_B(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const u0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},NB=async(t,e,r)=>{t instanceof await xB()&&!r?.noResolveJson?t.json().then(n=>{const i=t.status||500,a=n?.statusCode||i+"";e(new yB(u0(n),i,a))}).catch(n=>{e(new Hb(u0(n),n))}):e(new Hb(u0(t),t))},kB=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(bB(n)?(i.headers=Fe({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Fe(Fe({},i),r))};async function sd(t,e,r,n,i,a){return new Promise((o,c)=>{t(r,kB(e,n,i,a)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>NB(d,c,n))})}async function fu(t,e,r,n){return sd(t,"GET",e,r,n)}async function Yn(t,e,r,n,i){return sd(t,"POST",e,n,i,r)}async function Kb(t,e,r,n,i){return sd(t,"PUT",e,n,i,r)}async function AB(t,e,r,n){return sd(t,"HEAD",e,Fe(Fe({},r),{},{noResolveJson:!0}),n)}async function Z1(t,e,r,n,i){return sd(t,"DELETE",e,n,i,r)}var TB=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(It(e))return{data:null,error:e};throw e}}};let GI;GI=Symbol.toStringTag;var PB=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[GI]="BlobDownloadBuilder",this.promise=null}asStream(){return new TB(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(It(e))return{data:null,error:e};throw e}}};const CB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var EB=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Q1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let a;const o=Fe(Fe({},Gk),n);let c=Fe(Fe({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",i.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),d&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(d))):(a=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,d&&(c["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(c=Fe(Fe({},c),n.headers));const f=i._removeEmptyFolders(e),p=i._getFinalPath(f),h=await(t=="PUT"?Kb:Yn)(i.fetch,`${i.url}/object/${p}`,a,Fe({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const a=i._removeEmptyFolders(t),o=i._getFinalPath(a),c=new URL(i.url+`/object/upload/sign/${o}`);c.searchParams.set("token",e);try{let d;const f=Fe({upsert:Gk.upsert},n),p=Fe(Fe({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{data:{path:a,fullPath:(await Kb(i.fetch,c.toString(),d,{headers:p})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(It(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=Fe({},r.headers);e?.upsert&&(i["x-upsert"]="true");const a=await Yn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+a.url),c=o.searchParams.get("token");if(!c)throw new Ap("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Yn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await Yn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),a=await Yn(n.fetch,`${n.url}/object/sign/${i}`,Fe({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await Yn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Fe(Fe({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",a=this._getFinalPath(t),o=()=>fu(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new PB(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Gb(await fu(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await AB(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(It(n)&&n instanceof Hb){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const a=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&n.push(o);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}async remove(t){var e=this;try{return{data:await Z1(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=Fe(Fe(Fe({},CB),e),{},{prefix:t||""});return{data:await Yn(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=Fe({},t);return{data:await Yn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const KI="2.90.1",XI={"X-Client-Info":`storage-js/${KI}`};var OB=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Fe(Fe({},XI),e),this.fetch=Q1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await fu(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await fu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Yn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Kb(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Yn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Z1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},IB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Fe(Fe({},XI),e),this.fetch=Q1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Yn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await fu(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Z1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!wB(t))throw new Ap("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new vB({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...c)=>{try{return{data:await o.apply(i,c),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const ej={"X-Client-Info":`storage-js/${KI}`,"Content-Type":"application/json"};var YI=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function pn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var d0=class extends YI{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},RB=class extends YI{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const tj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$B=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kk=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),MB=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const o=a?.statusCode||a?.code||n+"";e(new d0(Kk(a),n,o))}).catch(()=>{const a=n+"";e(new d0(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";e(new d0(i.statusText||`HTTP ${n} error`,n,a))}}else e(new RB(Kk(t),t))},DB=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?($B(n)?(i.headers=Fe({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Fe(Fe({},i),r)):i};async function zB(t,e,r,n,i,a){return new Promise((o,c)=>{t(r,DB(e,n,i,a)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>MB(d,c,n))})}async function mn(t,e,r,n,i){return zB(t,"POST",e,n,i,r)}var LB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Fe(Fe({},ej),e),this.fetch=tj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await mn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await mn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}},BB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Fe(Fe({},ej),e),this.fetch=tj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await mn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await mn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await mn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}},FB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Fe(Fe({},ej),e),this.fetch=tj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await mn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}},qB=class extends FB{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new UB(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},UB=class extends LB{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Fe(Fe({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Fe(Fe({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new VB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},VB=class extends BB{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Fe(Fe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Fe(Fe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Fe(Fe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Fe(Fe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Fe(Fe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},WB=class extends OB{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new EB(this.url,this.headers,t,this.fetch)}get vectors(){return new qB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new IB(this.url+"/iceberg",this.headers,this.fetch)}};const JI="2.90.1",Do=30*1e3,Xb=3,f0=Xb*Do,HB="http://localhost:9999",GB="supabase.auth.token",KB={"X-Client-Info":`gotrue-js/${JI}`},Yb="X-Supabase-Api-Version",QI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YB=600*1e3;class hu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Re(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class JB extends hu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function QB(t){return Re(t)&&t.name==="AuthApiError"}class ks extends hu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class na extends hu{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class un extends na{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZB(t){return Re(t)&&t.name==="AuthSessionMissingError"}class So extends na{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class If extends na{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rf extends na{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function e8(t){return Re(t)&&t.name==="AuthImplicitGrantRedirectError"}class Xk extends na{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class t8 extends na{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Jb extends na{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function h0(t){return Re(t)&&t.name==="AuthRetryableFetchError"}class Yk extends na{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Qb extends na{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jk=` 	
\r=`.split(""),r8=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Jk.length;e+=1)t[Jk[e].charCodeAt(0)]=-2;for(let e=0;e<lh.length;e+=1)t[lh[e].charCodeAt(0)]=e;return t})();function Qk(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lh[n]),e.queuedBits-=6}}function ZI(t,e,r){const n=r8[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zk(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{a8(o,n,r)};for(let o=0;o<t.length;o+=1)ZI(t.charCodeAt(o),i,a);return e.join("")}function n8(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function i8(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}n8(n,e)}}function a8(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Jo(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)ZI(t.charCodeAt(i),r,n);return new Uint8Array(e)}function s8(t){const e=[];return i8(t,r=>e.push(r)),new Uint8Array(e)}function As(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Qk(i,r,n)),Qk(null,r,n),e.join("")}function o8(t){return Math.round(Date.now()/1e3)+t}function l8(){return Symbol("auth-callback")}const Sr=()=>typeof window<"u"&&typeof document<"u",gs={tested:!1,writable:!1},e4=()=>{if(!Sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gs.tested)return gs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gs.tested=!0,gs.writable=!0}catch{gs.tested=!0,gs.writable=!1}return gs.writable};function c8(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const t4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),u8=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},vs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wr=async(t,e)=>{await t.removeItem(e)};class Tp{constructor(){this.promise=new Tp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Tp.promiseConstructor=Promise;function p0(t){const e=t.split(".");if(e.length!==3)throw new Qb("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!XB.test(e[n]))throw new Qb("JWT not in base64url format");return{header:JSON.parse(Zk(e[0])),payload:JSON.parse(Zk(e[1])),signature:Jo(e[2]),raw:{header:e[0],payload:e[1]}}}async function d8(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function f8(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function h8(t){return("0"+t.toString(16)).substr(-2)}function p8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,h8).join("")}async function m8(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function g8(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await m8(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _o(t,e,r=!1){const n=p8();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await zo(t,`${e}-code-verifier`,i);const a=await g8(n);return[a,n===a?"plain":"s256"]}const v8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y8(t){const e=t.headers.get(Yb);if(!e||!e.match(v8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function x8(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function b8(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const w8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function No(t){if(!w8.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function m0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function j8(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function e2(t){return JSON.parse(JSON.stringify(t))}const ws=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),S8=[502,503,504];async function t2(t){var e;if(!u8(t))throw new Jb(ws(t),0);if(S8.includes(t.status))throw new Jb(ws(t),t.status);let r;try{r=await t.json()}catch(a){throw new ks(ws(a),a)}let n;const i=y8(t);if(i&&i.getTime()>=QI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Yk(ws(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new un}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Yk(ws(r),t.status,r.weak_password.reasons);throw new JB(ws(r),t.status||500,n)}const _8=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Be(t,e,r,n){var i;const a=Object.assign({},n?.headers);a[Yb]||(a[Yb]=QI["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await N8(t,e,r+c,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function N8(t,e,r,n,i,a){const o=_8(e,n,i,a);let c;try{c=await t(r,Object.assign({},o))}catch(d){throw console.error(d),new Jb(ws(d),0)}if(c.ok||await t2(c),n?.noResolveJson)return c;try{return await c.json()}catch(d){await t2(d)}}function Kn(t){var e;let r=null;T8(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=o8(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function r2(t){const e=Kn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ma(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function k8(t){return{data:t,error:null}}function A8(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=kp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},o);return{data:{properties:c,user:d},error:null}}function n2(t){return t}function T8(t){return t.access_token&&t.refresh_token&&t.expires_in}const g0=["global","local","others"];class P8{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=t4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=g0[0]){if(g0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${g0.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ma})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=kp(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:A8,redirectTo:r?.redirectTo})}catch(r){if(Re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ma})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:n2});if(p.error)throw p.error;const h=await p.json(),g=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);f[`${x}Page`]=w}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if(Re(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){No(e);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ma})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){No(e);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ma})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){No(e);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ma})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){No(e.userId);try{const{data:r,error:n}=await Be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteFactor(e){No(e.userId),No(e.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:n2});if(p.error)throw p.error;const h=await p.json(),g=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);f[`${x}Page`]=w}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if(Re(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}}function i2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ko={debug:!!(globalThis&&e4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class r4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class C8 extends r4{}async function E8(t,e,r){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new C8(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ko.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function O8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function n4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function I8(t){return parseInt(t,16)}function R8(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function $8(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:c,requestId:d,resources:f,scheme:p,uri:h,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=n4(t.address),b=p?`${p}://${n}`:n,w=t.statement?`${t.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${y}

${w}`;let S=`URI: ${h}
Version: ${g}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),c&&(S+=`
Not Before: ${c.toISOString()}`),d&&(S+=`
Request ID: ${d}`),f){let k=`
Resources:`;for(const _ of f){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);k+=`
- ${_}`}S+=k}return`${x}
${S}`}class Yt extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class ch extends Yt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function M8({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Yt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Yt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Yt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Yt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Yt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Yt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(i4(o)){if(a.rp.id!==o)return new Yt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Yt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Yt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function D8({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(i4(n)){if(r.rpId!==n)return new Yt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Yt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class z8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const L8=new z8;function B8(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=kp(t,["challenge","user","excludeCredentials"]),a=Jo(e).buffer,o=Object.assign(Object.assign({},r),{id:Jo(r.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Jo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function F8(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=kp(t,["challenge","allowCredentials"]),i=Jo(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},c),{id:Jo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function q8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:As(new Uint8Array(t.response.attestationObject)),clientDataJSON:As(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function U8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:As(new Uint8Array(i.authenticatorData)),clientDataJSON:As(new Uint8Array(i.clientDataJSON)),signature:As(new Uint8Array(i.signature)),userHandle:i.userHandle?As(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function i4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function a2(){var t,e;return!!(Sr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function V8(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ch("Browser returned unexpected credential type",e)}:{data:null,error:new ch("Empty credential response",e)}}catch(e){return{data:null,error:M8({error:e,options:t})}}}async function W8(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ch("Browser returned unexpected credential type",e)}:{data:null,error:new ch("Empty credential response",e)}}catch(e){return{data:null,error:D8({error:e,options:t})}}}const H8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},G8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uh(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const c=n[a];e(c)?n[a]=uh(c,o):n[a]=uh(o)}else n[a]=o}return n}function K8(t,e){return uh(H8,t,e||{})}function X8(t,e){return uh(G8,t,e||{})}class Y8{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:c};const d=i??L8.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=K8(o.webauthn.credential_options.publicKey,a?.create),{data:p,error:h}=await V8({publicKey:f,signal:d});return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{const f=X8(o.webauthn.credential_options.publicKey,a?.request),{data:p,error:h}=await W8(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new ks("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new hu("rpId is required for WebAuthn authentication")};try{if(!a2())return{data:null,error:new ks("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:c};const{webauthn:d}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new ks("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new hu("rpId is required for WebAuthn registration")};try{if(!a2())return{data:null,error:new ks("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new ks("Unexpected error in register",o)}}}}O8();const J8={url:HB,storageKey:GB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function s2(t,e,r){return await r()}const Ao={};class pu{get jwks(){var e,r;return(r=(e=Ao[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ao[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},J8),e);if(this.storageKey=a.storageKey,this.instanceID=(r=pu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,pu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Sr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new P8({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=t4(a.fetch),this.lock=a.lock||s2,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Sr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=E8:this.lock=s2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Y8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:e4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=i2(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=i2(this.memoryStorage)),Sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${JI}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Sr()&&(r=c8(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Sr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),e8(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Re(r)?this._returnResult({error:r}):this._returnResult({error:new ks("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Kn}),{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:p,password:h,options:g}=e;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await _o(this.storage,this.storageKey)),a=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:p,password:h,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:b},xform:Kn})}else if("phone"in e){const{phone:p,password:h,options:g}=e;a=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:h,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Kn})}else throw new If("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return await wr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await wr(this.storage,`${this.storageKey}-code-verifier`),Re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:c}=e;r=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:r2})}else if("phone"in e){const{phone:a,password:o,options:c}=e;r=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:r2})}else throw new If("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new So;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,c,d,f,p,h,g;let y,b;if("message"in e)y=e.message,b=e.signature;else{const{chain:w,wallet:x,statement:S,options:k}=e;let _;if(Sr())if(typeof x=="object")_=x;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")_=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const C=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),N=await _.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=n4(N[0]);let E=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const R=await _.request({method:"eth_chainId"});E=I8(R)}const O={domain:C.host,address:A,statement:S,uri:C.href,version:"1",chainId:E,nonce:(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=k?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=k?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=k?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=k?.signInWithEthereum)===null||p===void 0?void 0:p.resources};y=$8(O),b=await _.request({method:"personal_sign",params:[R8(y),A]})}try{const{data:w,error:x}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:b},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Kn});if(x)throw x;if(!w||!w.session||!w.user){const S=new So;return this._returnResult({data:{user:null,session:null},error:S})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(Re(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,i,a,o,c,d,f,p,h,g,y;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:x,wallet:S,statement:k,options:_}=e;let C;if(Sr())if(typeof S=="object")C=S;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))C=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const N=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const A=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),k?{statement:k}:null));let E;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")E=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)E=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=_?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((f=_?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(p=_?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const A=await C.signMessage(new TextEncoder().encode(b),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=A}}try{const{data:x,error:S}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:As(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Kn});if(S)throw S;if(!x||!x.session||!x.user){const k=new So;return this._returnResult({data:{user:null,session:null},error:k})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:S})}catch(x){if(Re(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await vs(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new t8;const{data:a,error:o}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Kn});if(await wr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const c=new So;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await wr(this.storage,`${this.storageKey}-code-verifier`),Re(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,c=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Kn}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new So;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:c,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await _o(this.storage,this.storageKey));const{error:h}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:p}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new If("You must provide either an email or phone number.")}catch(c){if(await wr(this.storage,`${this.storageKey}-code-verifier`),Re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Kn});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,o;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await _o(this.storage,this.storageKey));const f=await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:k8});return!((a=f.data)===null||a===void 0)&&a.url&&Sr()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await wr(this.storage,`${this.storageKey}-code-verifier`),Re(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new un;const{error:i}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Re(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await Be(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:c}=await Be(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new If("You must provide either an email or phone number and a type")}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<f0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await vs(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=m0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=j8(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ma}):await this._useSession(async r=>{var n,i,a;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ma})})}catch(r){if(Re(r))return ZB(r)&&(await this._removeSession(),await wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new un;const o=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await _o(this.storage,this.storageKey));const{data:f,error:p}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:o.access_token,xform:Ma});if(p)throw p;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await wr(this.storage,`${this.storageKey}-code-verifier`),Re(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new un;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=p0(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:c}=r;if(c)throw c;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new un;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Sr())throw new Rf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xk("No code detected.");const{data:k,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:d,token_type:f}=e;if(!a||!c||!o||!f)throw new Rf("No session defined in URL");const p=Math.round(Date.now()/1e3),h=parseInt(c);let g=p+h;d&&(g=parseInt(d));const y=g-p;y*1e3<=Do&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const b=g-h;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,p);const{data:w,error:x}=await this._getUser(a);if(x)throw x;const S={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:g,refresh_token:o,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(n){if(Re(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await vs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(QB(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=l8(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await _o(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await wr(this.storage,`${this.storageKey}-code-verifier`),Re(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,c,d,f,p;const{data:h,error:g}=a;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",y,{headers:this.headers,jwt:(p=(f=h.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Sr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Re(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:c,token:d,access_token:f,nonce:p}=e,h=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Kn}),{data:g,error:y}=h;return y?this._returnResult({data:{user:null,session:null},error:y}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new So}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:y}))}catch(i){if(await wr(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await f8(async i=>(i>0&&await d8(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&h0(a)&&Date.now()+o-n<Do})}catch(n){if(this._debug(r,"error",n),Re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Sr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await vs(this.storage,this.storageKey);if(i&&this.userStorage){let o=await vs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await zo(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:m0()}else if(i&&!i.user&&!i.user){const o=await vs(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await wr(this.storage,this.storageKey+"-user"),await zo(this.storage,this.storageKey,i)):i.user=m0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<f0;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${f0}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),h0(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Tp;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new un;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Re(a)){const o={data:null,error:a};return h0(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(d){a.push(d)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=e2(i);await zo(this.storage,this.storageKey,a)}else{const i=e2(r);await zo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wr(this.storage,this.storageKey),await wr(this.storage,this.storageKey+"-code-verifier"),await wr(this.storage,this.storageKey+"-user"),this.userStorage&&await wr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Sr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Do);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Do);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Do}ms, refresh threshold is ${Xb} ticks`),i<=Xb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof r4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await _o(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?q8(e.webauthn.credential_response):U8(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:B8(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:F8(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=p0(n.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new un})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new un});const o=await Be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Sr()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new un});const o=await Be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Sr()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new un})})}catch(e){if(Re(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new un})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+YB>i)return n;const{data:a,error:o}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:b}=await this.getSession();if(b||!y.session)return this._returnResult({data:null,error:b});n=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:d}}=p0(n);r?.allowExpired||x8(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const p=b8(i.alg),h=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,h,o,s8(`${c}.${d}`)))throw new Qb("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}}pu.nextInstanceID={};const Q8=pu,Z8="2.90.1";let Hc="";typeof Deno<"u"?Hc="deno":typeof document<"u"?Hc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hc="react-native":Hc="node";const eF={"X-Client-Info":`supabase-js-${Hc}/${Z8}`},tF={headers:eF},rF={schema:"public"},nF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iF={};function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function aF(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sF(t){var e=aF(t,"string");return mu(e)=="symbol"?e:e+""}function oF(t,e,r){return(e=sF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(r),!0).forEach(function(n){oF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const lF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cF=()=>Headers,uF=(t,e,r)=>{const n=lF(r),i=cF();return async(a,o)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:t;let f=new i(o?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(a,Dt(Dt({},o),{},{headers:f}))}};function dF(t){return t.endsWith("/")?t:t+"/"}function fF(t,e){var r,n;const{db:i,auth:a,realtime:o,global:c}=t,{db:d,auth:f,realtime:p,global:h}=e,g={db:Dt(Dt({},d),i),auth:Dt(Dt({},f),a),realtime:Dt(Dt({},p),o),storage:{},global:Dt(Dt(Dt({},h),c),{},{headers:Dt(Dt({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function hF(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dF(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var pF=class extends Q8{constructor(t){super(t)}},mF=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const a=hF(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:rF,realtime:iF,auth:Dt(Dt({},nF),{},{storageKey:o}),global:tF},d=fF(r??{},c);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=uF(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Dt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new K6(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new WB(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new U6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:o,lock:c,debug:d,throwOnError:f},p,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pF({url:this.authUrl.href,headers:Dt(Dt({},g),p),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:c,debug:d,throwOnError:f,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new dB(this.realtimeUrl.href,Dt(Dt({},t),{},{params:Dt(Dt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const gF=(t,e,r)=>new mF(t,e,r);function vF(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}vF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const st="tzorfzsdhyceyumhlfdp",Fr="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR6b3JmenNkaHljZXl1bWhsZmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYxMDMyMDksImV4cCI6MjA2MTY3OTIwOX0.2qCFMZpdXEyLKitpoB9BvgSxz2YEKMSsbb4Q0GVP4Cw",Da=Object.freeze(Object.defineProperty({__proto__:null,projectId:st,publicAnonKey:Fr},Symbol.toStringTag,{value:"Module"})),$i="btcwheel_",Qt={getItem:t=>{try{return localStorage.getItem(`${$i}${t}`)}catch(e){return console.error("localStorage getItem error:",e),null}},setItem:(t,e)=>{try{localStorage.setItem(`${$i}${t}`,e),window.dispatchEvent(new CustomEvent("btcwheel-storage",{detail:{key:t,value:e}}))}catch(r){console.error("localStorage setItem error:",r)}},removeItem:t=>{try{localStorage.removeItem(`${$i}${t}`),window.dispatchEvent(new CustomEvent("btcwheel-storage",{detail:{key:t,value:null}}))}catch(e){console.error("localStorage removeItem error:",e)}},clear:()=>{try{const t=[];for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);r&&r.startsWith($i)&&t.push(r)}t.forEach(e=>localStorage.removeItem(e))}catch(t){console.error("localStorage clear error:",t)}},isAvailable:()=>{try{const t=`${$i}__test__`;return localStorage.setItem(t,"test"),localStorage.removeItem(t),!0}catch{return!1}},getAllKeys:()=>{try{const t=[];for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);r&&r.startsWith($i)&&t.push(r.replace($i,""))}return t}catch(t){return console.error("localStorage getAllKeys error:",t),[]}},migrateFromOldKeys:t=>{try{console.log(" Migrating localStorage keys with prefix:",$i),t.forEach(e=>{const r=localStorage.getItem(e);r!==null&&(Qt.setItem(e,r),localStorage.removeItem(e),console.log(` Migrated: ${e}  ${$i}${e}`))}),console.log(" Migration complete")}catch(e){console.error("localStorage migration error:",e)}}},yF={getItem:t=>Qt.getItem(t),setItem:(t,e)=>Qt.setItem(t,e),removeItem:t=>Qt.removeItem(t)},Zb=`https://${st}.supabase.co`,ew=Fr,bt=!!(Zb&&ew&&Zb!==""&&ew!==""),We=bt?gF(Zb,ew,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:typeof window<"u"?yF:void 0}}):null,xF=()=>We;async function bF(t){if(!bt||!We)return null;try{const{data:e,error:r}=await We.from("user_progress").select("*").eq("user_id",t).single();if(r){const n=["42P01","PGRST116","PGRST204","PGRST205","42703","42809"],i=r.code||"";return n.includes(i)||console.error("Error fetching user progress:",r),null}return e}catch{return null}}async function wF(t,e){if(!bt||!We)return null;try{const r={user_id:t,level:1,xp:0,xp_to_next_level:1e3,streak:0,badges:[],lessons_completed:0,total_lessons:15,current_lesson:1},{data:n,error:i}=await We.from("user_progress").insert(r).select().single();if(i){const a=["42P01","PGRST116","PGRST204","PGRST205","42703","42809"],o=i.code||"";return a.includes(o)||console.error("Error creating user progress:",i),null}return await We.from("leaderboard_entries").insert({user_id:t,username:e,total_xp:0,level:1,streak:0,badges_count:0}).catch(()=>{}),n}catch{return null}}async function jF(t,e){if(!bt||!We)return!1;try{const{error:r}=await We.from("user_progress").update(e).eq("user_id",t);if(r){const n=["42P01","PGRST116","PGRST204","PGRST205","42703","42809"],i=r.code||"";return n.includes(i)||console.error("Error updating user progress:",r),!1}if(e.xp!==void 0||e.level!==void 0)try{const{data:n}=await We.from("user_progress").select("xp, level, streak, badges").eq("user_id",t).single();n&&(await We.from("leaderboard_entries").update({total_xp:n.xp,level:n.level,streak:n.streak,badges_count:n.badges?.length||0}).eq("user_id",t).catch(()=>{}),await We.rpc("update_leaderboard_ranks").catch(()=>{}))}catch{}return!0}catch{return!1}}async function l2(t,e,r,n){if(!bt||!We)return!1;try{const{error:i}=await We.from("user_activities").insert({user_id:t,activity_type:e,activity_description:r,xp_earned:n});return!i}catch{return!1}}async function v0(t,e=10){if(!bt||!We)return[];try{const{data:r,error:n}=await We.from("user_activities").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(e);if(n){const i=["42P01","PGRST116","PGRST204","PGRST205","42703","42809"],a=n.code||"";return i.includes(a)||console.error("Error fetching user activities:",n),[]}return r||[]}catch{return[]}}async function SF(t=50){if(!bt||!We)return[];try{const{data:e,error:r}=await We.from("leaderboard_entries").select("*").order("total_xp",{ascending:!1}).limit(t);if(r){const n=["42P01","PGRST116","PGRST204","PGRST205","42703","42809"],i=r.code||"";return n.includes(i)||console.error("Error fetching leaderboard:",r),[]}return e||[]}catch{return[]}}var _F=FI();const NF=pt(_F);function kF(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const AF=t=>{switch(t){case"success":return CF;case"info":return OF;case"warning":return EF;case"error":return IF;default:return null}},TF=Array(12).fill(0),PF=({visible:t,className:e})=>z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},z.createElement("div",{className:"sonner-spinner"},TF.map((r,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),CF=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EF=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OF=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),IF=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),RF=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$F=()=>{const[t,e]=z.useState(document.hidden);return z.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let tw=1;class MF{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,a=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:tw++,o=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:n}),{...d,...e,id:a,dismissible:c,title:n}):d):this.addToast({title:n,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=n!==void 0,o;const c=i.then(async f=>{if(o=["resolve",f],z.isValidElement(f))a=!1,this.create({id:n,type:"default",message:f});else if(zF(f)&&!f.ok){a=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,b=typeof h=="object"&&!z.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...b})}else if(f instanceof Error){a=!1;const h=typeof r.error=="function"?await r.error(f):r.error,g=typeof r.description=="function"?await r.description(f):r.description,b=typeof h=="object"&&!z.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...b})}else if(r.success!==void 0){a=!1;const h=typeof r.success=="function"?await r.success(f):r.success,g=typeof r.description=="function"?await r.description(f):r.description,b=typeof h=="object"&&!z.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:g,...b})}}).catch(async f=>{if(o=["reject",f],r.error!==void 0){a=!1;const p=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,y=typeof p=="object"&&!z.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:h,...y})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,p)=>c.then(()=>o[0]==="reject"?p(o[1]):f(o[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,r)=>{const n=r?.id||tw++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Zr=new MF,DF=(t,e)=>{const r=e?.id||tw++;return Zr.addToast({title:t,...e,id:r}),r},zF=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",LF=DF,BF=()=>Zr.toasts,FF=()=>Zr.getActiveToasts(),de=Object.assign(LF,{success:Zr.success,info:Zr.info,warning:Zr.warning,error:Zr.error,custom:Zr.custom,message:Zr.message,promise:Zr.promise,dismiss:Zr.dismiss,loading:Zr.loading},{getHistory:BF,getToasts:FF});kF("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function $f(t){return t.label!==void 0}const qF=3,UF="24px",VF="16px",c2=4e3,WF=356,HF=14,GF=45,KF=200;function di(...t){return t.filter(Boolean).join(" ")}function XF(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const YF=t=>{var e,r,n,i,a,o,c,d,f;const{invert:p,toast:h,unstyled:g,interacting:y,setHeights:b,visibleToasts:w,heights:x,index:S,toasts:k,expanded:_,removeToast:C,defaultRichColors:N,closeButton:A,style:E,cancelButtonStyle:O,actionButtonStyle:R,className:H="",descriptionClassName:B="",duration:D,position:$,gap:V,expandByDefault:J,classNames:K,icons:U,closeButtonAriaLabel:M="Close toast"}=t,[Q,ee]=z.useState(null),[L,q]=z.useState(null),[X,se]=z.useState(!1),[pe,re]=z.useState(!1),[he,le]=z.useState(!1),[ie,fe]=z.useState(!1),[_e,ue]=z.useState(!1),[Z,me]=z.useState(0),[Se,$e]=z.useState(0),Me=z.useRef(h.duration||D||c2),rt=z.useRef(null),Ue=z.useRef(null),Ct=S===0,ut=S+1<=w,Xe=h.type,Bt=h.dismissible!==!1,He=h.className||"",Wt=h.descriptionClassName||"",Ni=z.useMemo(()=>x.findIndex(Ve=>Ve.toastId===h.id)||0,[x,h.id]),es=z.useMemo(()=>{var Ve;return(Ve=h.closeButton)!=null?Ve:A},[h.closeButton,A]),Hr=z.useMemo(()=>h.duration||D||c2,[h.duration,D]),Ht=z.useRef(0),Ze=z.useRef(0),jt=z.useRef(0),At=z.useRef(null),[Js,ts]=$.split("-"),jd=z.useMemo(()=>x.reduce((Ve,Ft,er)=>er>=Ni?Ve:Ve+Ft.height,0),[x,Ni]),Qs=$F(),Kl=h.invert||p,rs=Xe==="loading";Ze.current=z.useMemo(()=>Ni*V+jd,[Ni,jd]),z.useEffect(()=>{Me.current=Hr},[Hr]),z.useEffect(()=>{se(!0)},[]),z.useEffect(()=>{const Ve=Ue.current;if(Ve){const Ft=Ve.getBoundingClientRect().height;return $e(Ft),b(er=>[{toastId:h.id,height:Ft,position:h.position},...er]),()=>b(er=>er.filter(Tr=>Tr.toastId!==h.id))}},[b,h.id]),z.useLayoutEffect(()=>{if(!X)return;const Ve=Ue.current,Ft=Ve.style.height;Ve.style.height="auto";const er=Ve.getBoundingClientRect().height;Ve.style.height=Ft,$e(er),b(Tr=>Tr.find(Gt=>Gt.toastId===h.id)?Tr.map(Gt=>Gt.toastId===h.id?{...Gt,height:er}:Gt):[{toastId:h.id,height:er,position:h.position},...Tr])},[X,h.title,h.description,b,h.id,h.jsx,h.action,h.cancel]);const bn=z.useCallback(()=>{re(!0),me(Ze.current),b(Ve=>Ve.filter(Ft=>Ft.toastId!==h.id)),setTimeout(()=>{C(h)},KF)},[h,C,b,Ze]);z.useEffect(()=>{if(h.promise&&Xe==="loading"||h.duration===1/0||h.type==="loading")return;let Ve;return _||y||Qs?(()=>{if(jt.current<Ht.current){const Tr=new Date().getTime()-Ht.current;Me.current=Me.current-Tr}jt.current=new Date().getTime()})():(()=>{Me.current!==1/0&&(Ht.current=new Date().getTime(),Ve=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),bn()},Me.current))})(),()=>clearTimeout(Ve)},[_,y,h,Xe,Qs,bn]),z.useEffect(()=>{h.delete&&(bn(),h.onDismiss==null||h.onDismiss.call(h,h))},[bn,h.delete]);function Xl(){var Ve;if(U?.loading){var Ft;return z.createElement("div",{className:di(K?.loader,h==null||(Ft=h.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":Xe==="loading"},U.loading)}return z.createElement(PF,{className:di(K?.loader,h==null||(Ve=h.classNames)==null?void 0:Ve.loader),visible:Xe==="loading"})}const oa=h.icon||U?.[Xe]||AF(Xe);var ki,Yl;return z.createElement("li",{tabIndex:0,ref:Ue,className:di(H,He,K?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,K?.default,K?.[Xe],h==null||(r=h.classNames)==null?void 0:r[Xe]),"data-sonner-toast":"","data-rich-colors":(ki=h.richColors)!=null?ki:N,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":X,"data-promise":!!h.promise,"data-swiped":_e,"data-removed":pe,"data-visible":ut,"data-y-position":Js,"data-x-position":ts,"data-index":S,"data-front":Ct,"data-swiping":he,"data-dismissible":Bt,"data-type":Xe,"data-invert":Kl,"data-swipe-out":ie,"data-swipe-direction":L,"data-expanded":!!(_||J&&X),"data-testid":h.testId,style:{"--index":S,"--toasts-before":S,"--z-index":k.length-S,"--offset":`${pe?Z:Ze.current}px`,"--initial-height":J?"auto":`${Se}px`,...E,...h.style},onDragEnd:()=>{le(!1),ee(null),At.current=null},onPointerDown:Ve=>{Ve.button!==2&&(rs||!Bt||(rt.current=new Date,me(Ze.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(le(!0),At.current={x:Ve.clientX,y:Ve.clientY})))},onPointerUp:()=>{var Ve,Ft,er;if(ie||!Bt)return;At.current=null;const Tr=Number(((Ve=Ue.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),la=Number(((Ft=Ue.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gt=new Date().getTime()-((er=rt.current)==null?void 0:er.getTime()),ur=Q==="x"?Tr:la,ca=Math.abs(ur)/Gt;if(Math.abs(ur)>=GF||ca>.11){me(Ze.current),h.onDismiss==null||h.onDismiss.call(h,h),q(Q==="x"?Tr>0?"right":"left":la>0?"down":"up"),bn(),fe(!0);return}else{var yr,an;(yr=Ue.current)==null||yr.style.setProperty("--swipe-amount-x","0px"),(an=Ue.current)==null||an.style.setProperty("--swipe-amount-y","0px")}ue(!1),le(!1),ee(null)},onPointerMove:Ve=>{var Ft,er,Tr;if(!At.current||!Bt||((Ft=window.getSelection())==null?void 0:Ft.toString().length)>0)return;const Gt=Ve.clientY-At.current.y,ur=Ve.clientX-At.current.x;var ca;const yr=(ca=t.swipeDirections)!=null?ca:XF($);!Q&&(Math.abs(ur)>1||Math.abs(Gt)>1)&&ee(Math.abs(ur)>Math.abs(Gt)?"x":"y");let an={x:0,y:0};const ua=wn=>1/(1.5+Math.abs(wn)/20);if(Q==="y"){if(yr.includes("top")||yr.includes("bottom"))if(yr.includes("top")&&Gt<0||yr.includes("bottom")&&Gt>0)an.y=Gt;else{const wn=Gt*ua(Gt);an.y=Math.abs(wn)<Math.abs(Gt)?wn:Gt}}else if(Q==="x"&&(yr.includes("left")||yr.includes("right")))if(yr.includes("left")&&ur<0||yr.includes("right")&&ur>0)an.x=ur;else{const wn=ur*ua(ur);an.x=Math.abs(wn)<Math.abs(ur)?wn:ur}(Math.abs(an.x)>0||Math.abs(an.y)>0)&&ue(!0),(er=Ue.current)==null||er.style.setProperty("--swipe-amount-x",`${an.x}px`),(Tr=Ue.current)==null||Tr.style.setProperty("--swipe-amount-y",`${an.y}px`)}},es&&!h.jsx&&Xe!=="loading"?z.createElement("button",{"aria-label":M,"data-disabled":rs,"data-close-button":!0,onClick:rs||!Bt?()=>{}:()=>{bn(),h.onDismiss==null||h.onDismiss.call(h,h)},className:di(K?.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(Yl=U?.close)!=null?Yl:RF):null,(Xe||h.icon||h.promise)&&h.icon!==null&&(U?.[Xe]!==null||h.icon)?z.createElement("div",{"data-icon":"",className:di(K?.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Xl():null,h.type!=="loading"?oa:null):null,z.createElement("div",{"data-content":"",className:di(K?.content,h==null||(a=h.classNames)==null?void 0:a.content)},z.createElement("div",{"data-title":"",className:di(K?.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?z.createElement("div",{"data-description":"",className:di(B,Wt,K?.description,h==null||(c=h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),z.isValidElement(h.cancel)?h.cancel:h.cancel&&$f(h.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:Ve=>{$f(h.cancel)&&Bt&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Ve),bn())},className:di(K?.cancelButton,h==null||(d=h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,z.isValidElement(h.action)?h.action:h.action&&$f(h.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:Ve=>{$f(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Ve),!Ve.defaultPrevented&&bn())},className:di(K?.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function u2(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function JF(t,e){const r={};return[t,e].forEach((n,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",c=a?VF:UF;function d(f){["top","right","bottom","left"].forEach(p=>{r[`${o}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${o}-${f}`]=c:r[`${o}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):d(c)}),r}const To=z.forwardRef(function(e,r){const{id:n,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,mobileOffset:h,theme:g="light",richColors:y,duration:b,style:w,visibleToasts:x=qF,toastOptions:S,dir:k=u2(),gap:_=HF,icons:C,containerAriaLabel:N="Notifications"}=e,[A,E]=z.useState([]),O=z.useMemo(()=>n?A.filter(X=>X.toasterId===n):A.filter(X=>!X.toasterId),[A,n]),R=z.useMemo(()=>Array.from(new Set([a].concat(O.filter(X=>X.position).map(X=>X.position)))),[O,a]),[H,B]=z.useState([]),[D,$]=z.useState(!1),[V,J]=z.useState(!1),[K,U]=z.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=z.useRef(null),Q=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=z.useRef(null),L=z.useRef(!1),q=z.useCallback(X=>{E(se=>{var pe;return(pe=se.find(re=>re.id===X.id))!=null&&pe.delete||Zr.dismiss(X.id),se.filter(({id:re})=>re!==X.id)})},[]);return z.useEffect(()=>Zr.subscribe(X=>{if(X.dismiss){requestAnimationFrame(()=>{E(se=>se.map(pe=>pe.id===X.id?{...pe,delete:!0}:pe))});return}setTimeout(()=>{NF.flushSync(()=>{E(se=>{const pe=se.findIndex(re=>re.id===X.id);return pe!==-1?[...se.slice(0,pe),{...se[pe],...X},...se.slice(pe+1)]:[X,...se]})})})}),[A]),z.useEffect(()=>{if(g!=="system"){U(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;const X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:se})=>{U(se?"dark":"light")})}catch{X.addListener(({matches:pe})=>{try{U(pe?"dark":"light")}catch(re){console.error(re)}})}},[g]),z.useEffect(()=>{A.length<=1&&$(!1)},[A]),z.useEffect(()=>{const X=se=>{var pe;if(o.every(le=>se[le]||se.code===le)){var he;$(!0),(he=M.current)==null||he.focus()}se.code==="Escape"&&(document.activeElement===M.current||(pe=M.current)!=null&&pe.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[o]),z.useEffect(()=>{if(M.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,L.current=!1)}},[M.current]),z.createElement("section",{ref:r,"aria-label":`${N} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((X,se)=>{var pe;const[re,he]=X.split("-");return O.length?z.createElement("ol",{key:X,dir:k==="auto"?u2():k,tabIndex:-1,ref:M,className:f,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":re,"data-x-position":he,style:{"--front-toast-height":`${((pe=H[0])==null?void 0:pe.height)||0}px`,"--width":`${WF}px`,"--gap":`${_}px`,...w,...JF(p,h)},onBlur:le=>{L.current&&!le.currentTarget.contains(le.relatedTarget)&&(L.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||L.current||(L.current=!0,ee.current=le.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{V||$(!1)},onDragEnd:()=>$(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},O.filter(le=>!le.position&&se===0||le.position===X).map((le,ie)=>{var fe,_e;return z.createElement(YF,{key:le.id,icons:C,index:ie,toast:le,defaultRichColors:y,duration:(fe=S?.duration)!=null?fe:b,className:S?.className,descriptionClassName:S?.descriptionClassName,invert:i,visibleToasts:x,closeButton:(_e=S?.closeButton)!=null?_e:d,interacting:V,position:X,style:S?.style,unstyled:S?.unstyled,classNames:S?.classNames,cancelButtonStyle:S?.cancelButtonStyle,actionButtonStyle:S?.actionButtonStyle,closeButtonAriaLabel:S?.closeButtonAriaLabel,removeToast:q,toasts:O.filter(ue=>ue.position==le.position),heights:H.filter(ue=>ue.position==le.position),setHeights:B,expandByDefault:c,gap:_,expanded:D,swipeDirections:e.swipeDirections})})):null}))});function yn(){const[t,e]=P.useState(null),[r,n]=P.useState(null),[i,a]=P.useState(!0);P.useEffect(()=>{const p=bt;if(console.log(" [useAuth] Checking authentication..."),console.log(" [useAuth] Supabase configured:",p),!p){console.log(" [useAuth] Supabase not configured, using local mode");const y=Qt.getItem("btcwheel_local_user");if(y)try{const b=JSON.parse(y);e(b),console.log(" [useAuth] Local user found:",b.email)}catch(b){console.error(" [useAuth] Error parsing local user:",b),Qt.removeItem("btcwheel_local_user")}else console.log(" [useAuth] No local user found");a(!1);return}console.log(" [useAuth] Checking Supabase session..."),We.auth.getSession().then(({data:y})=>{const b=y.session;if(b)console.log(" [useAuth] Session found! User:",b.user.email),console.log(" [useAuth] Access token:",b.access_token.substring(0,20)+"..."),n(b),e(b?.user??null),a(!1);else{console.log(" [useAuth] No active session found - checking for local demo user");const w=Qt.getItem("btcwheel_local_user");if(w)try{const x=JSON.parse(w);x.app_metadata?.provider==="local"&&(e(x),console.log(" [useAuth] Local demo user found:",x.email))}catch(x){console.error(" [useAuth] Error parsing local user:",x)}a(!1)}});const{data:{subscription:h}}=We.auth.onAuthStateChange((y,b)=>{if(console.log(" [useAuth] Auth state changed:",y),b)console.log(" [useAuth] New session:",b.user.email),n(b),e(b.user);else{console.log(" [useAuth] Session cleared"),n(null);const w=Qt.getItem("btcwheel_local_user");if(w){const x=JSON.parse(w);x.app_metadata?.provider==="local"?e(x):e(null)}else e(null)}a(!1)}),g=y=>{if(y.detail?.key==="btcwheel_local_user"){console.log(" [useAuth] Local storage update detected:",y.detail.key);const b=y.detail.value;if(b)try{const w=JSON.parse(b);e(w)}catch(w){console.error("Error parsing local user update",w)}else e(null)}};return window.addEventListener("btcwheel-storage",g),()=>{h.unsubscribe(),window.removeEventListener("btcwheel-storage",g)}},[]);const o=async(p,h)=>{if(!bt){const g=Qt.getItem("btcwheel_local_user");if(g){const y=JSON.parse(g);if(y.email===p)return e(y),de.success("Accesso effettuato!"),{user:y,error:null}}return de.error("Credenziali non valide"),{user:null,error:new Error("Invalid credentials")}}try{const{data:g,error:y}=await We.auth.signInWithPassword({email:p,password:h});return y?(de.error(y.message),{user:null,error:y}):(de.success("Accesso effettuato!"),{user:g.user,error:null})}catch(g){return console.error("Sign in error:",g),de.error("Errore durante l'accesso"),{user:null,error:g}}},c=async(p,h,g)=>{if(!bt){const y={id:`local-${Date.now()}`,email:p,user_metadata:{name:g||"User"},app_metadata:{provider:"local"},aud:"authenticated",created_at:new Date().toISOString()};return Qt.setItem("btcwheel_local_user",JSON.stringify(y)),e(y),de.success("Account creato! Benvenuto!"),{user:y,error:null}}try{console.log(" [useAuth] Signing up via server endpoint...");const{projectId:y}=await $a(async()=>{const{projectId:k}=await Promise.resolve().then(()=>Da);return{projectId:k}},void 0),b=await fetch(`https://${y}.supabase.co/functions/v1/make-server-7c0f82ca/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p,password:h,name:g||"User"})});if(b.status===404||b.status>=500){console.warn(` [useAuth] Server error (${b.status}), falling back to direct signup`);const{data:k,error:_}=await We.auth.signUp({email:p,password:h,options:{data:{name:g||"User"}}});if(_)throw _;return de.success("Account creato! Controlla la tua email per confermare."),{user:k.user,error:null}}const w=await b.json();if(!b.ok||w.error)return console.error(" [useAuth] Signup error:",w.error),de.error(w.error||"Errore durante la registrazione"),{user:null,error:new Error(w.error)};console.log(" [useAuth] User created successfully via server"),console.log(" [useAuth] Auto-signing in...");const{data:x,error:S}=await We.auth.signInWithPassword({email:p,password:h});return S?(console.error(" [useAuth] Auto-signin error:",S),de.success("Account creato! Puoi ora effettuare il login."),{user:null,error:S}):(console.log(" [useAuth] User signed in successfully"),de.success("Account creato e accesso effettuato! Benvenuto! "),{user:x.user,error:null})}catch(y){return console.error(" [useAuth] Sign up error:",y),de.error("Errore durante la registrazione"),{user:null,error:y}}},d=async()=>{if(console.log(" [useAuth] Signing out..."),!bt)return console.log(" [useAuth] Local mode - clearing localStorage"),Qt.removeItem("btcwheel_local_user"),e(null),de.success("Disconnesso"),{error:null};try{console.log(" [useAuth] Cloud mode - signing out from Supabase");const{error:p}=await We.auth.signOut();return p?(console.error(" [useAuth] Logout error:",p),de.error(p.message),{error:p}):(console.log(" [useAuth] Successfully signed out"),de.success("Disconnesso"),{error:null})}catch(p){return console.error(" [useAuth] Sign out error:",p),de.error("Errore durante la disconnessione"),{error:p}}},f=async()=>{if(!bt)return de.error("Google Sign-In richiede configurazione Supabase"),{user:null,error:new Error("Supabase not configured")};try{const{data:p,error:h}=await We.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}`}});return h?(de.error(h.message),{user:null,error:h}):{user:p,error:null}}catch(p){return console.error("Google sign in error:",p),de.error("Errore durante l'accesso con Google"),{user:null,error:p}}};return{user:t,session:r,loading:i,signIn:o,signUp:c,signOut:d,signInWithGoogle:f,loginAsGuest:async()=>{console.log(" [useAuth] Logging in as Guest...");const p={id:`guest-${Date.now()}`,email:"guest@btcwheel.app",user_metadata:{name:"Ospite"},app_metadata:{provider:"local"},aud:"authenticated",created_at:new Date().toISOString()};return Qt.setItem("btcwheel_local_user",JSON.stringify(p)),e(p),de.success("Accesso come ospite effettuato!"),{user:p,error:null}},signInWithEmail:o,signUpWithEmail:c,signInWithMagicLink:f}}async function QF(t){try{const e=`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/analyze-profile`,r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fr}`},body:JSON.stringify(t)});if(!r.ok)return console.error("Server error:",r.status),Mf(t);const n=await r.json();return n.useFallback?(console.warn("Using fallback recommendations (OpenAI not available on server)"),Mf(t)):n.recommendation?(console.log(" AI-powered recommendations generated successfully!"),n.recommendation):Mf(t)}catch(e){return console.error("Error calling analyze-profile endpoint:",e),Mf(t)}}function Mf(t){return t.experienceLevel==="beginner"&&t.optionsKnowledge==="none"?{startingLesson:1,recommendedPath:["Lezione 1: Introduzione Bitcoin","Lezione 2: Wheel Strategy Basics","Lezione 3: Fondamenti Opzioni","Lezione 4: Put Cash-Secured","Lezione 6: Gestione Rischio"],estimatedDuration:"3-4 settimane",focusAreas:["Basi del Bitcoin e volatilit","Comprendere le opzioni Put e Call","Gestione rischio fondamentale","Pratica con simulatore"],tips:["Inizia con piccole somme nel simulatore","Studia ogni giorno 15-20 minuti","Non saltare le basi delle opzioni","Fai domande alla mascotte quando hai dubbi"],customMessage:" Benvenuto! Sei all'inizio del tuo viaggio nel trading di opzioni Bitcoin. Inizieremo dalle basi assolute per costruire una solida fondazione. Prenditi il tuo tempo e completa ogni lezione con attenzione!"}:t.experienceLevel==="intermediate"||t.tradingKnowledge==="basic"?{startingLesson:3,recommendedPath:["Lezione 3: Fondamenti Opzioni","Lezione 5: Strike Selection","Lezione 7: Time Decay","Lezione 9: Roll & Adjust","Lezione 11: Greeks Avanzati"],estimatedDuration:"2-3 settimane",focusAreas:["Selezione strike ottimale","Time decay e gestione tempo","Tecniche di roll avanzate","Greeks per decisioni informate"],tips:["Concentrati sulla gestione delle posizioni","Pratica roll scenarios nel simulatore","Studia i Greeks in dettaglio","Tieni un journal delle tue simulazioni"],customMessage:" Ottimo! Hai gi delle basi. Ci concentreremo su strategie intermedie e gestione avanzata delle posizioni. Il tuo obiettivo  padroneggiare il roll e l'aggiustamento delle posizioni."}:{startingLesson:7,recommendedPath:["Lezione 7: Time Decay","Lezione 9: Roll & Adjust","Lezione 11: Greeks Avanzati","Lezione 12: Portfolio Management","Lezione 15: Strategie Multi-Leg"],estimatedDuration:"1-2 settimane",focusAreas:["Greeks avanzati e volatilit","Portfolio diversification","Strategie multi-leg complesse","Ottimizzazione fiscale"],tips:["Sperimenta con strategie avanzate","Ottimizza il tuo portfolio per rischio/rendimento","Studia le implicazioni fiscali","Pratica scenari complessi di mercato"],customMessage:" Eccellente! Sei un trader esperto. Ci focalizzeremo su strategie avanzate, ottimizzazione del portfolio e tecniche professionali. Pronto per portare il tuo trading al livello successivo!"}}function a4(){const{user:t}=yn(),[e,r]=P.useState({completed:!1,profile:null,recommendations:null}),[n,i]=P.useState(!0),[a,o]=P.useState(!1);P.useEffect(()=>{(async()=>{i(!0);try{const h=t?`btc-wheel-onboarding-${t.id}`:"btc-wheel-onboarding",g=Qt.getItem(h);g&&r(JSON.parse(g))}catch(h){console.error("Error loading onboarding state:",h)}finally{i(!1)}})()},[t]);const c=P.useCallback(async p=>{console.log(" useOnboarding: completeOnboarding called with profile:",p),o(!0);try{let h=null;try{console.log(" useOnboarding: Calling analyzeUserProfile..."),h=await QF(p),console.log(" useOnboarding: AI analysis successful:",h)}catch(b){console.warn(" useOnboarding: AI analysis failed, continuing with onboarding:",b)}const g={completed:!0,profile:p,recommendations:h},y=t?`btc-wheel-onboarding-${t.id}`:"btc-wheel-onboarding";return console.log(" useOnboarding: Saving to localStorage with key:",y),Qt.setItem(y,JSON.stringify(g)),r(g),console.log(" useOnboarding: State saved successfully"),h}catch(h){console.error(" useOnboarding: Error completing onboarding:",h);const g={completed:!0,profile:p,recommendations:null},y=t?`btc-wheel-onboarding-${t.id}`:"btc-wheel-onboarding";return console.log(" useOnboarding: Saving fallback state to localStorage"),Qt.setItem(y,JSON.stringify(g)),r(g),console.log(" useOnboarding: Fallback state saved"),null}finally{console.log(" useOnboarding: Setting analyzing to false"),o(!1)}},[t]),d=P.useCallback(()=>{const p={completed:!0,profile:null,recommendations:null},h=t?`btc-wheel-onboarding-${t.id}`:"btc-wheel-onboarding";Qt.setItem(h,JSON.stringify(p)),r(p)},[t]),f=P.useCallback(async()=>{const p=t?`btc-wheel-onboarding-${t.id}`:"btc-wheel-onboarding";Qt.removeItem(p),r({completed:!1,profile:null,recommendations:null})},[t]);return{onboarding:e,loading:n,analyzing:a,completeOnboarding:c,skipOnboarding:d,resetOnboarding:f,shouldShowOnboarding:!n&&!e.completed}}function d2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Pp(...t){return e=>{let r=!1;const n=t.map(i=>{const a=d2(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():d2(t[i],null)}}}}function Ki(...t){return P.useCallback(Pp(...t),t)}var ZF=Symbol.for("react.lazy"),dh=Y1[" use ".trim().toString()];function eq(t){return typeof t=="object"&&t!==null&&"then"in t}function s4(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===ZF&&"_payload"in t&&eq(t._payload)}function od(t){const e=tq(t),r=P.forwardRef((n,i)=>{let{children:a,...o}=n;s4(a)&&typeof dh=="function"&&(a=dh(a._payload));const c=P.Children.toArray(a),d=c.find(nq);if(d){const f=d.props.children,p=c.map(h=>h===d?P.Children.count(f)>1?P.Children.only(null):P.isValidElement(f)?f.props.children:null:h);return s.jsx(e,{...o,ref:i,children:P.isValidElement(f)?P.cloneElement(f,void 0,p):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var o4=od("Slot");function tq(t){const e=P.forwardRef((r,n)=>{let{children:i,...a}=r;if(s4(i)&&typeof dh=="function"&&(i=dh(i._payload)),P.isValidElement(i)){const o=aq(i),c=iq(a,i.props);return i.type!==P.Fragment&&(c.ref=n?Pp(n,o):o),P.cloneElement(i,c)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rq=Symbol("radix.slottable");function nq(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rq}function iq(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function aq(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function l4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=l4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=l4(t))&&(n&&(n+=" "),n+=e);return n}const f2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,h2=tt,rj=(t,e)=>r=>{var n;if(e?.variants==null)return h2(t,r?.class,r?.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(f=>{const p=r?.[f],h=a?.[f];if(p===null)return null;const g=f2(p)||f2(h);return i[f][g]}),c=r&&Object.entries(r).reduce((f,p)=>{let[h,g]=p;return g===void 0||(f[h]=g),f},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:h,className:g,...y}=p;return Object.entries(y).every(b=>{let[w,x]=b;return Array.isArray(x)?x.includes({...a,...c}[w]):{...a,...c}[w]===x})?[...f,h,g]:f},[]);return h2(t,o,d,r?.class,r?.className)},sq=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},oq=(t,e)=>({classGroupId:t,validator:e}),c4=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),fh="-",p2=[],lq="arbitrary..",cq=t=>{const e=dq(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return uq(o);const c=o.split(fh),d=c[0]===""&&c.length>1?1:0;return u4(c,d,e)},getConflictingClassGroupIds:(o,c)=>{if(c){const d=n[o],f=r[o];return d?f?sq(f,d):d:f||p2}return r[o]||p2}}},u4=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const i=t[e],a=r.nextPart.get(i);if(a){const f=u4(t,e+1,a);if(f)return f}const o=r.validators;if(o===null)return;const c=e===0?t.join(fh):t.slice(e).join(fh),d=o.length;for(let f=0;f<d;f++){const p=o[f];if(p.validator(c))return p.classGroupId}},uq=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?lq+n:void 0})(),dq=t=>{const{theme:e,classGroups:r}=t;return fq(r,e)},fq=(t,e)=>{const r=c4();for(const n in t){const i=t[n];nj(i,r,n,e)}return r},nj=(t,e,r,n)=>{const i=t.length;for(let a=0;a<i;a++){const o=t[a];hq(o,e,r,n)}},hq=(t,e,r,n)=>{if(typeof t=="string"){pq(t,e,r);return}if(typeof t=="function"){mq(t,e,r,n);return}gq(t,e,r,n)},pq=(t,e,r)=>{const n=t===""?e:d4(e,t);n.classGroupId=r},mq=(t,e,r,n)=>{if(vq(t)){nj(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(oq(r,t))},gq=(t,e,r,n)=>{const i=Object.entries(t),a=i.length;for(let o=0;o<a;o++){const[c,d]=i[o];nj(d,d4(e,c),r,n)}},d4=(t,e)=>{let r=t;const n=e.split(fh),i=n.length;for(let a=0;a<i;a++){const o=n[a];let c=r.nextPart.get(o);c||(c=c4(),r.nextPart.set(o,c)),r=c}return r},vq=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,yq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const i=(a,o)=>{r[a]=o,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(a){let o=r[a];if(o!==void 0)return o;if((o=n[a])!==void 0)return i(a,o),o},set(a,o){a in r?r[a]=o:i(a,o)}}},rw="!",m2=":",xq=[],g2=(t,e,r,n,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),bq=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const a=[];let o=0,c=0,d=0,f;const p=i.length;for(let w=0;w<p;w++){const x=i[w];if(o===0&&c===0){if(x===m2){a.push(i.slice(d,w)),d=w+1;continue}if(x==="/"){f=w;continue}}x==="["?o++:x==="]"?o--:x==="("?c++:x===")"&&c--}const h=a.length===0?i:i.slice(d);let g=h,y=!1;h.endsWith(rw)?(g=h.slice(0,-1),y=!0):h.startsWith(rw)&&(g=h.slice(1),y=!0);const b=f&&f>d?f-d:void 0;return g2(a,y,g,b)};if(e){const i=e+m2,a=n;n=o=>o.startsWith(i)?a(o.slice(i.length)):g2(xq,!1,o,void 0,!0)}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},wq=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let a=0;a<r.length;a++){const o=r[a],c=o[0]==="[",d=e.has(o);c||d?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(o)):i.push(o)}return i.length>0&&(i.sort(),n.push(...i)),n}},jq=t=>({cache:yq(t.cacheSize),parseClassName:bq(t),sortModifiers:wq(t),...cq(t)}),Sq=/\s+/,_q=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],c=t.trim().split(Sq);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:h,modifiers:g,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:w}=r(p);if(h){d=p+(d.length>0?" "+d:d);continue}let x=!!w,S=n(x?b.substring(0,w):b);if(!S){if(!x){d=p+(d.length>0?" "+d:d);continue}if(S=n(b),!S){d=p+(d.length>0?" "+d:d);continue}x=!1}const k=g.length===0?"":g.length===1?g[0]:a(g).join(":"),_=y?k+rw:k,C=_+S;if(o.indexOf(C)>-1)continue;o.push(C);const N=i(S,x);for(let A=0;A<N.length;++A){const E=N[A];o.push(_+E)}d=p+(d.length>0?" "+d:d)}return d},Nq=(...t)=>{let e=0,r,n,i="";for(;e<t.length;)(r=t[e++])&&(n=f4(r))&&(i&&(i+=" "),i+=n);return i},f4=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=f4(t[n]))&&(r&&(r+=" "),r+=e);return r},kq=(t,...e)=>{let r,n,i,a;const o=d=>{const f=e.reduce((p,h)=>h(p),t());return r=jq(f),n=r.cache.get,i=r.cache.set,a=c,c(d)},c=d=>{const f=n(d);if(f)return f;const p=_q(d,r);return i(d,p),p};return a=o,(...d)=>a(Nq(...d))},Aq=[],nr=t=>{const e=r=>r[t]||Aq;return e.isThemeGetter=!0,e},h4=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,p4=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Tq=/^\d+\/\d+$/,Pq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Cq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Eq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Oq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Iq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Po=t=>Tq.test(t),Ye=t=>!!t&&!Number.isNaN(Number(t)),Ca=t=>!!t&&Number.isInteger(Number(t)),y0=t=>t.endsWith("%")&&Ye(t.slice(0,-1)),Mi=t=>Pq.test(t),Rq=()=>!0,$q=t=>Cq.test(t)&&!Eq.test(t),m4=()=>!1,Mq=t=>Oq.test(t),Dq=t=>Iq.test(t),zq=t=>!Ce(t)&&!Ee(t),Lq=t=>El(t,y4,m4),Ce=t=>h4.test(t),ys=t=>El(t,x4,$q),x0=t=>El(t,Vq,Ye),v2=t=>El(t,g4,m4),Bq=t=>El(t,v4,Dq),Df=t=>El(t,b4,Mq),Ee=t=>p4.test(t),Oc=t=>Ol(t,x4),Fq=t=>Ol(t,Wq),y2=t=>Ol(t,g4),qq=t=>Ol(t,y4),Uq=t=>Ol(t,v4),zf=t=>Ol(t,b4,!0),El=(t,e,r)=>{const n=h4.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},Ol=(t,e,r=!1)=>{const n=p4.exec(t);return n?n[1]?e(n[1]):r:!1},g4=t=>t==="position"||t==="percentage",v4=t=>t==="image"||t==="url",y4=t=>t==="length"||t==="size"||t==="bg-size",x4=t=>t==="length",Vq=t=>t==="number",Wq=t=>t==="family-name",b4=t=>t==="shadow",Hq=()=>{const t=nr("color"),e=nr("font"),r=nr("text"),n=nr("font-weight"),i=nr("tracking"),a=nr("leading"),o=nr("breakpoint"),c=nr("container"),d=nr("spacing"),f=nr("radius"),p=nr("shadow"),h=nr("inset-shadow"),g=nr("text-shadow"),y=nr("drop-shadow"),b=nr("blur"),w=nr("perspective"),x=nr("aspect"),S=nr("ease"),k=nr("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...C(),Ee,Ce],A=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],O=()=>[Ee,Ce,d],R=()=>[Po,"full","auto",...O()],H=()=>[Ca,"none","subgrid",Ee,Ce],B=()=>["auto",{span:["full",Ca,Ee,Ce]},Ca,Ee,Ce],D=()=>[Ca,"auto",Ee,Ce],$=()=>["auto","min","max","fr",Ee,Ce],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...O()],U=()=>[Po,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],M=()=>[t,Ee,Ce],Q=()=>[...C(),y2,v2,{position:[Ee,Ce]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",qq,Lq,{size:[Ee,Ce]}],q=()=>[y0,Oc,ys],X=()=>["","none","full",f,Ee,Ce],se=()=>["",Ye,Oc,ys],pe=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Ye,y0,y2,v2],le=()=>["","none",b,Ee,Ce],ie=()=>["none",Ye,Ee,Ce],fe=()=>["none",Ye,Ee,Ce],_e=()=>[Ye,Ee,Ce],ue=()=>[Po,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mi],breakpoint:[Mi],color:[Rq],container:[Mi],"drop-shadow":[Mi],ease:["in","out","in-out"],font:[zq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mi],shadow:[Mi],spacing:["px",Ye],text:[Mi],"text-shadow":[Mi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Po,Ce,Ee,x]}],container:["container"],columns:[{columns:[Ye,Ce,Ee,c]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Ca,"auto",Ee,Ce]}],basis:[{basis:[Po,"full","auto",c,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,Po,"auto","initial","none",Ce]}],grow:[{grow:["",Ye,Ee,Ce]}],shrink:[{shrink:["",Ye,Ee,Ce]}],order:[{order:[Ca,"first","last","none",Ee,Ce]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[c,"screen",...U()]}],"min-w":[{"min-w":[c,"screen","none",...U()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",r,Oc,ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ee,x0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",y0,Ce]}],"font-family":[{font:[Fq,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ee,Ce]}],"line-clamp":[{"line-clamp":[Ye,"none",Ee,x0]}],leading:[{leading:[a,...O()]}],"list-image":[{"list-image":["none",Ee,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",Ee,ys]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[Ye,"auto",Ee,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ca,Ee,Ce],radial:["",Ee,Ce],conic:[Ca,Ee,Ce]},Uq,Bq]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,Ee,Ce]}],"outline-w":[{outline:["",Ye,Oc,ys]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",p,zf,Df]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",h,zf,Df]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[Ye,ys]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",g,zf,Df]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[Ye,Ee,Ce]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[Ee,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,Ce]}],filter:[{filter:["","none",Ee,Ce]}],blur:[{blur:le()}],brightness:[{brightness:[Ye,Ee,Ce]}],contrast:[{contrast:[Ye,Ee,Ce]}],"drop-shadow":[{"drop-shadow":["","none",y,zf,Df]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",Ye,Ee,Ce]}],"hue-rotate":[{"hue-rotate":[Ye,Ee,Ce]}],invert:[{invert:["",Ye,Ee,Ce]}],saturate:[{saturate:[Ye,Ee,Ce]}],sepia:[{sepia:["",Ye,Ee,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,Ce]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,Ee,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,Ee,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,Ee,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,Ee,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ye,Ee,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,Ee,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,Ee,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,Ee,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",Ee,Ce]}],ease:[{ease:["linear","initial",S,Ee,Ce]}],delay:[{delay:[Ye,Ee,Ce]}],animate:[{animate:["none",k,Ee,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ee,Ce]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[Ee,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,Ce]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[Ye,Oc,ys,x0]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Gq=kq(Hq);function gr(...t){return Gq(tt(t))}const Kq=rj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function xe({className:t,variant:e,size:r,asChild:n=!1,...i}){const a=n?o4:"button";return s.jsx(a,{"data-slot":"button",className:gr(Kq({variant:e,size:r,className:t})),...i})}function oe({className:t,...e}){return s.jsx("div",{"data-slot":"card",className:gr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}const Xq=rj("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Je({className:t,variant:e,asChild:r=!1,...n}){const i=r?o4:"span";return s.jsx(i,{"data-slot":"badge",className:gr(Xq({variant:e}),t),...n})}const ij=P.createContext({});function Cp(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const w4=typeof window<"u",j4=w4?P.useLayoutEffect:P.useEffect,Ep=P.createContext(null);function aj(t,e){t.indexOf(e)===-1&&t.push(e)}function sj(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const bi=(t,e,r)=>r>e?e:r<t?t:r;let oj=()=>{};const Xi={},S4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _4(t){return typeof t=="object"&&t!==null}const N4=t=>/^0[^.\s]+$/u.test(t);function lj(t){let e;return()=>(e===void 0&&(e=t()),e)}const Rn=t=>t,Yq=(t,e)=>r=>e(t(r)),ld=(...t)=>t.reduce(Yq),gu=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class cj{constructor(){this.subscriptions=[]}add(e){return aj(this.subscriptions,e),()=>sj(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qi=t=>t*1e3,On=t=>t/1e3;function k4(t,e){return e?t*(1e3/e):0}const A4=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Jq=1e-7,Qq=12;function Zq(t,e,r,n,i){let a,o,c=0;do o=e+(r-e)/2,a=A4(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>Jq&&++c<Qq);return o}function cd(t,e,r,n){if(t===e&&r===n)return Rn;const i=a=>Zq(a,0,1,t,r);return a=>a===0||a===1?a:A4(i(a),e,n)}const T4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,P4=t=>e=>1-t(1-e),C4=cd(.33,1.53,.69,.99),uj=P4(C4),E4=T4(uj),O4=t=>(t*=2)<1?.5*uj(t):.5*(2-Math.pow(2,-10*(t-1))),dj=t=>1-Math.sin(Math.acos(t)),I4=P4(dj),R4=T4(dj),eU=cd(.42,0,1,1),tU=cd(0,0,.58,1),$4=cd(.42,0,.58,1),rU=t=>Array.isArray(t)&&typeof t[0]!="number",M4=t=>Array.isArray(t)&&typeof t[0]=="number",nU={linear:Rn,easeIn:eU,easeInOut:$4,easeOut:tU,circIn:dj,circInOut:R4,circOut:I4,backIn:uj,backInOut:E4,backOut:C4,anticipate:O4},iU=t=>typeof t=="string",x2=t=>{if(M4(t)){oj(t.length===4);const[e,r,n,i]=t;return cd(e,r,n,i)}else if(iU(t))return nU[t];return t},Lf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aU(t,e){let r=new Set,n=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){o.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,h=!1,g=!1)=>{const b=g&&i?r:n;return h&&o.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),o.delete(p)},process:p=>{if(c=p,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(d),r.clear(),i=!1,a&&(a=!1,f.process(p))}};return f}const sU=40;function D4(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=Lf.reduce((_,C)=>(_[C]=aU(a),_),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:p,update:h,preRender:g,render:y,postRender:b}=o,w=()=>{const _=Xi.useManualTiming?i.timestamp:performance.now();r=!1,Xi.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(_-i.timestamp,sU),1)),i.timestamp=_,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),p.process(i),h.process(i),g.process(i),y.process(i),b.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(w))},x=()=>{r=!0,n=!0,i.isProcessing||t(w)};return{schedule:Lf.reduce((_,C)=>{const N=o[C];return _[C]=(A,E=!1,O=!1)=>(r||x(),N.schedule(A,E,O)),_},{}),cancel:_=>{for(let C=0;C<Lf.length;C++)o[Lf[C]].cancel(_)},state:i,steps:o}}const{schedule:kt,cancel:Va,state:Nr,steps:b0}=D4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0);let ih;function oU(){ih=void 0}const qr={now:()=>(ih===void 0&&qr.set(Nr.isProcessing||Xi.useManualTiming?Nr.timestamp:performance.now()),ih),set:t=>{ih=t,queueMicrotask(oU)}},z4=t=>e=>typeof e=="string"&&e.startsWith(t),L4=z4("--"),lU=z4("var(--"),fj=t=>lU(t)?cU.test(t.split("/*")[0].trim()):!1,cU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function b2(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vu={...Il,transform:t=>bi(0,1,t)},Bf={...Il,default:1},eu=t=>Math.round(t*1e5)/1e5,hj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uU(t){return t==null}const dU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pj=(t,e)=>r=>!!(typeof r=="string"&&dU.test(r)&&r.startsWith(t)||e&&!uU(r)&&Object.prototype.hasOwnProperty.call(r,e)),B4=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,c]=n.match(hj);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},fU=t=>bi(0,255,t),w0={...Il,transform:t=>Math.round(fU(t))},Ts={test:pj("rgb","red"),parse:B4("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+w0.transform(t)+", "+w0.transform(e)+", "+w0.transform(r)+", "+eu(vu.transform(n))+")"};function hU(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const nw={test:pj("#"),parse:hU,transform:Ts.transform},ud=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ea=ud("deg"),gi=ud("%"),ke=ud("px"),pU=ud("vh"),mU=ud("vw"),w2={...gi,parse:t=>gi.parse(t)/100,transform:t=>gi.transform(t*100)},qo={test:pj("hsl","hue"),parse:B4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+gi.transform(eu(e))+", "+gi.transform(eu(r))+", "+eu(vu.transform(n))+")"},Jt={test:t=>Ts.test(t)||nw.test(t)||qo.test(t),parse:t=>Ts.test(t)?Ts.parse(t):qo.test(t)?qo.parse(t):nw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ts.transform(t):qo.transform(t),getAnimatableNone:t=>{const e=Jt.parse(t);return e.alpha=0,Jt.transform(e)}},gU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vU(t){return isNaN(t)&&typeof t=="string"&&(t.match(hj)?.length||0)+(t.match(gU)?.length||0)>0}const F4="number",q4="color",yU="var",xU="var(",j2="${}",bU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yu(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(bU,d=>(Jt.test(d)?(n.color.push(a),i.push(q4),r.push(Jt.parse(d))):d.startsWith(xU)?(n.var.push(a),i.push(yU),r.push(d)):(n.number.push(a),i.push(F4),r.push(parseFloat(d))),++a,j2)).split(j2);return{values:r,split:c,indexes:n,types:i}}function U4(t){return yu(t).values}function V4(t){const{split:e,types:r}=yu(t),n=e.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],i[o]!==void 0){const c=r[o];c===F4?a+=eu(i[o]):c===q4?a+=Jt.transform(i[o]):a+=i[o]}return a}}const wU=t=>typeof t=="number"?0:Jt.test(t)?Jt.getAnimatableNone(t):t;function jU(t){const e=U4(t);return V4(t)(e.map(wU))}const Wa={test:vU,parse:U4,createTransformer:V4,getAnimatableNone:jU};function j0(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function SU({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const c=r<.5?r*(1+e):r+e-r*e,d=2*r-c;i=j0(d,c,t+1/3),a=j0(d,c,t),o=j0(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function hh(t,e){return r=>r>0?e:t}const $t=(t,e,r)=>t+(e-t)*r,S0=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},_U=[nw,Ts,qo],NU=t=>_U.find(e=>e.test(t));function S2(t){const e=NU(t);if(!e)return!1;let r=e.parse(t);return e===qo&&(r=SU(r)),r}const _2=(t,e)=>{const r=S2(t),n=S2(e);if(!r||!n)return hh(t,e);const i={...r};return a=>(i.red=S0(r.red,n.red,a),i.green=S0(r.green,n.green,a),i.blue=S0(r.blue,n.blue,a),i.alpha=$t(r.alpha,n.alpha,a),Ts.transform(i))},iw=new Set(["none","hidden"]);function kU(t,e){return iw.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function AU(t,e){return r=>$t(t,e,r)}function mj(t){return typeof t=="number"?AU:typeof t=="string"?fj(t)?hh:Jt.test(t)?_2:CU:Array.isArray(t)?W4:typeof t=="object"?Jt.test(t)?_2:TU:hh}function W4(t,e){const r=[...t],n=r.length,i=t.map((a,o)=>mj(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function TU(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=mj(t[i])(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function PU(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][n[a]],c=t.values[o]??0;r[i]=c,n[a]++}return r}const CU=(t,e)=>{const r=Wa.createTransformer(e),n=yu(t),i=yu(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?iw.has(t)&&!i.values.length||iw.has(e)&&!n.values.length?kU(t,e):ld(W4(PU(n,i),i.values),r):hh(t,e)};function H4(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?$t(t,e,r):mj(t)(t,e)}const EU=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>kt.update(e,r),stop:()=>Va(e),now:()=>Nr.isProcessing?Nr.timestamp:qr.now()}},G4=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let a=0;a<i;a++)n+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},ph=2e4;function gj(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<ph;)e+=r,n=t.next(e);return e>=ph?1/0:e}function OU(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(gj(n),ph);return{type:"keyframes",ease:a=>n.next(i*a).value/e,duration:On(i)}}const IU=5;function K4(t,e,r){const n=Math.max(e-IU,0);return k4(r-t(n),e-n)}const zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_0=.001;function RU({duration:t=zt.duration,bounce:e=zt.bounce,velocity:r=zt.velocity,mass:n=zt.mass}){let i,a,o=1-e;o=bi(zt.minDamping,zt.maxDamping,o),t=bi(zt.minDuration,zt.maxDuration,On(t)),o<1?(i=f=>{const p=f*o,h=p*t,g=p-r,y=aw(f,o),b=Math.exp(-h);return _0-g/y*b},a=f=>{const h=f*o*t,g=h*r+r,y=Math.pow(o,2)*Math.pow(f,2)*t,b=Math.exp(-h),w=aw(Math.pow(f,2),o);return(-i(f)+_0>0?-1:1)*((g-y)*b)/w}):(i=f=>{const p=Math.exp(-f*t),h=(f-r)*t+1;return-_0+p*h},a=f=>{const p=Math.exp(-f*t),h=(r-f)*(t*t);return p*h});const c=5/t,d=MU(i,a,c);if(t=qi(t),isNaN(d))return{stiffness:zt.stiffness,damping:zt.damping,duration:t};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:o*2*Math.sqrt(n*f),duration:t}}}const $U=12;function MU(t,e,r){let n=r;for(let i=1;i<$U;i++)n=n-t(n)/e(n);return n}function aw(t,e){return t*Math.sqrt(1-e*e)}const DU=["duration","bounce"],zU=["stiffness","damping","mass"];function N2(t,e){return e.some(r=>t[r]!==void 0)}function LU(t){let e={velocity:zt.velocity,stiffness:zt.stiffness,damping:zt.damping,mass:zt.mass,isResolvedFromDuration:!1,...t};if(!N2(t,zU)&&N2(t,DU))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*bi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:zt.mass,stiffness:i,damping:a}}else{const r=RU(t);e={...e,...r,mass:zt.mass},e.isResolvedFromDuration=!0}return e}function mh(t=zt.visualDuration,e=zt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:f,mass:p,duration:h,velocity:g,isResolvedFromDuration:y}=LU({...r,velocity:-On(r.velocity||0)}),b=g||0,w=f/(2*Math.sqrt(d*p)),x=o-a,S=On(Math.sqrt(d/p)),k=Math.abs(x)<5;n||(n=k?zt.restSpeed.granular:zt.restSpeed.default),i||(i=k?zt.restDelta.granular:zt.restDelta.default);let _;if(w<1){const N=aw(S,w);_=A=>{const E=Math.exp(-w*S*A);return o-E*((b+w*S*x)/N*Math.sin(N*A)+x*Math.cos(N*A))}}else if(w===1)_=N=>o-Math.exp(-S*N)*(x+(b+S*x)*N);else{const N=S*Math.sqrt(w*w-1);_=A=>{const E=Math.exp(-w*S*A),O=Math.min(N*A,300);return o-E*((b+w*S*x)*Math.sinh(O)+N*x*Math.cosh(O))/N}}const C={calculatedDuration:y&&h||null,next:N=>{const A=_(N);if(y)c.done=N>=h;else{let E=N===0?b:0;w<1&&(E=N===0?qi(b):K4(_,N,A));const O=Math.abs(E)<=n,R=Math.abs(o-A)<=i;c.done=O&&R}return c.value=c.done?o:A,c},toString:()=>{const N=Math.min(gj(C),ph),A=G4(E=>C.next(N*E).value,N,30);return N+"ms "+A},toTransition:()=>{}};return C}mh.applyToOptions=t=>{const e=OU(t,100,mh);return t.ease=e.ease,t.duration=qi(e.duration),t.type="keyframes",t};function sw({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:f=.5,restSpeed:p}){const h=t[0],g={done:!1,value:h},y=O=>c!==void 0&&O<c||d!==void 0&&O>d,b=O=>c===void 0?d:d===void 0||Math.abs(c-O)<Math.abs(d-O)?c:d;let w=r*e;const x=h+w,S=o===void 0?x:o(x);S!==x&&(w=S-h);const k=O=>-w*Math.exp(-O/n),_=O=>S+k(O),C=O=>{const R=k(O),H=_(O);g.done=Math.abs(R)<=f,g.value=g.done?S:H};let N,A;const E=O=>{y(g.value)&&(N=O,A=mh({keyframes:[g.value,b(g.value)],velocity:K4(_,O,g.value),damping:i,stiffness:a,restDelta:f,restSpeed:p}))};return E(0),{calculatedDuration:null,next:O=>{let R=!1;return!A&&N===void 0&&(R=!0,C(O),E(O)),N!==void 0&&O>=N?A.next(O-N):(!R&&C(O),g)}}}function BU(t,e,r){const n=[],i=r||Xi.mix||H4,a=t.length-1;for(let o=0;o<a;o++){let c=i(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||Rn:e;c=ld(d,c)}n.push(c)}return n}function FU(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(oj(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=BU(e,n,i),d=c.length,f=p=>{if(o&&p<t[0])return e[0];let h=0;if(d>1)for(;h<t.length-2&&!(p<t[h+1]);h++);const g=gu(t[h],t[h+1],p);return c[h](g)};return r?p=>f(bi(t[0],t[a-1],p)):f}function qU(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=gu(0,e,n);t.push($t(r,1,i))}}function UU(t){const e=[0];return qU(e,t.length-1),e}function VU(t,e){return t.map(r=>r*e)}function WU(t,e){return t.map(()=>e||$4).splice(0,t.length-1)}function tu({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=rU(n)?n.map(x2):x2(n),a={done:!1,value:e[0]},o=VU(r&&r.length===e.length?r:UU(e),t),c=FU(o,e,{ease:Array.isArray(i)?i:WU(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const HU=t=>t!==null;function vj(t,{repeat:e,repeatType:r="loop"},n,i=1){const a=t.filter(HU),c=i<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!c||n===void 0?a[c]:n}const GU={decay:sw,inertia:sw,tween:tu,keyframes:tu,spring:mh};function X4(t){typeof t.type=="string"&&(t.type=GU[t.type])}class yj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const KU=t=>t/100;class xj extends yj{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==qr.now()&&this.tick(qr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;X4(e);const{type:r=tu,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:c}=e;const d=r||tu;d!==tu&&typeof c[0]!="number"&&(this.mixKeyframes=ld(KU,H4(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=gj(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=f}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:p,repeat:h,repeatType:g,repeatDelay:y,type:b,onUpdate:w,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,C=n;if(h){const O=Math.min(this.currentTime,i)/c;let R=Math.floor(O),H=O%1;!H&&O>=1&&(H=1),H===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(g==="reverse"?(H=1-H,y&&(H-=y/c)):g==="mirror"&&(C=o)),_=bi(0,1,H)*c}const N=k?{done:!1,value:p[0]}:C.next(_);a&&(N.value=a(N.value));let{done:A}=N;!k&&d!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return E&&b!==sw&&(N.value=vj(p,this.options,x,this.speed)),w&&w(N.value),E&&this.finish(),N}then(e,r){return this.finished.then(e,r)}get duration(){return On(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+On(e)}get time(){return On(this.currentTime)}set time(e){e=qi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(qr.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=On(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=EU,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function XU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ps=t=>t*180/Math.PI,ow=t=>{const e=Ps(Math.atan2(t[1],t[0]));return lw(e)},YU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ow,rotateZ:ow,skewX:t=>Ps(Math.atan(t[1])),skewY:t=>Ps(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lw=t=>(t=t%360,t<0&&(t+=360),t),k2=ow,A2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),T2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),JU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:A2,scaleY:T2,scale:t=>(A2(t)+T2(t))/2,rotateX:t=>lw(Ps(Math.atan2(t[6],t[5]))),rotateY:t=>lw(Ps(Math.atan2(-t[2],t[0]))),rotateZ:k2,rotate:k2,skewX:t=>Ps(Math.atan(t[4])),skewY:t=>Ps(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cw(t){return t.includes("scale")?1:0}function uw(t,e){if(!t||t==="none")return cw(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=JU,i=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=YU,i=c}if(!i)return cw(e);const a=n[e],o=i[1].split(",").map(ZU);return typeof a=="function"?a(o):o[a]}const QU=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return uw(r,e)};function ZU(t){return parseFloat(t.trim())}const Rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$l=new Set(Rl),P2=t=>t===Il||t===ke,eV=new Set(["x","y","z"]),tV=Rl.filter(t=>!eV.has(t));function rV(t){const e=[];return tV.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const La={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>uw(e,"x"),y:(t,{transform:e})=>uw(e,"y")};La.translateX=La.x;La.translateY=La.y;const $s=new Set;let dw=!1,fw=!1,hw=!1;function Y4(){if(fw){const t=Array.from($s).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=rV(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{n.getValue(a)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}fw=!1,dw=!1,$s.forEach(t=>t.complete(hw)),$s.clear()}function J4(){$s.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fw=!0)})}function nV(){hw=!0,J4(),Y4(),hw=!1}class bj{constructor(e,r,n,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?($s.add(this),dw||(dw=!0,kt.read(J4),kt.resolveKeyframes(Y4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const a=i?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}XU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$s.delete(this)}cancel(){this.state==="scheduled"&&($s.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iV=t=>t.startsWith("--");function aV(t,e,r){iV(e)?t.style.setProperty(e,r):t.style[e]=r}const sV=lj(()=>window.ScrollTimeline!==void 0),oV={};function lV(t,e){const r=lj(t);return()=>oV[e]??r()}const Q4=lV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gc=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,C2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gc([0,.65,.55,1]),circOut:Gc([.55,0,1,.45]),backIn:Gc([.31,.01,.66,-.59]),backOut:Gc([.33,1.53,.69,.99])};function Z4(t,e){if(t)return typeof t=="function"?Q4()?G4(t,e):"ease-out":M4(t)?Gc(t):Array.isArray(t)?t.map(r=>Z4(r,e)||C2.easeOut):C2[t]}function cV(t,e,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},f=void 0){const p={[e]:r};d&&(p.offset=d);const h=Z4(c,i);Array.isArray(h)&&(p.easing=h);const g={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(p,g)}function eR(t){return typeof t=="function"&&"applyToOptions"in t}function uV({type:t,...e}){return eR(t)&&Q4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class dV extends yj{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,oj(typeof e.type!="string");const f=uV(e);this.animation=cV(r,n,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=vj(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):aV(r,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return On(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+On(e)}get time(){return On(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=qi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&sV()?(this.animation.timeline=e,Rn):r(this)}}const tR={anticipate:O4,backInOut:E4,circInOut:R4};function fV(t){return t in tR}function hV(t){typeof t.ease=="string"&&fV(t.ease)&&(t.ease=tR[t.ease])}const N0=10;class pV extends dV{constructor(e){hV(e),X4(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new xj({...o,autoplay:!1}),d=Math.max(N0,qr.now()-this.startTime),f=bi(0,N0,d-N0);r.setWithVelocity(c.sample(Math.max(0,d-f)).value,c.sample(d).value,f),c.stop()}}const E2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wa.test(t)||t==="0")&&!t.startsWith("url("));function mV(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function gV(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=E2(i,e),c=E2(a,e);return!o||!c?!1:mV(t)||(r==="spring"||eR(r))&&n}function pw(t){t.duration=0,t.type="keyframes"}const vV=new Set(["opacity","clipPath","filter","transform"]),yV=lj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xV(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:a,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return yV()&&r&&vV.has(r)&&(r!=="transform"||!f)&&!d&&!n&&i!=="mirror"&&a!==0&&o!=="inertia"}const bV=40;class wV extends yj{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:f,element:p,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=qr.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:f,element:p,...h},y=p?.KeyframeResolver||bj;this.keyframeResolver=new y(c,(b,w,x)=>this.onKeyframesResolved(b,w,g,!x),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:f,onUpdate:p}=n;this.resolvedAt=qr.now(),gV(e,a,o,c)||((Xi.instantAnimations||!d)&&p?.(vj(e,n,r)),e[0]=e[e.length-1],pw(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>bV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},y=!f&&xV(g)?new pV({...g,element:g.motionValue.owner.current}):new xj(g);y.finished.then(()=>this.notifyFinished()).catch(Rn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),nV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const jV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SV(t){const e=jV.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function rR(t,e,r=1){const[n,i]=SV(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return S4(o)?parseFloat(o):o}return fj(i)?rR(i,e,r+1):i}function wj(t,e){return t?.[e]??t?.default??t}const _V={type:"spring",stiffness:500,damping:25,restSpeed:10},NV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kV={type:"keyframes",duration:.8},AV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TV=(t,{keyframes:e})=>e.length>2?kV:$l.has(t)?t.startsWith("scale")?NV(e[1]):_V:AV;function PV({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const CV=t=>t!==null;function EV(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(CV),a=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[a]}function nR(t,e,r,n=0,i=1){const a=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),o=t.size,c=(o-1)*n;return typeof r=="function"?r(a,o):i===1?a*n:c-a*n}const jj=(t,e,r,n={},i,a)=>o=>{const c=wj(n,t)||{},d=c.delay||n.delay||0;let{elapsed:f=0}=n;f=f-qi(d);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};PV(c)||Object.assign(p,TV(t,p)),p.duration&&(p.duration=qi(p.duration)),p.repeatDelay&&(p.repeatDelay=qi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let h=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(pw(p),p.delay===0&&(h=!0)),(Xi.instantAnimations||Xi.skipAnimations)&&(h=!0,pw(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,h&&!a&&e.get()!==void 0){const g=EV(p.keyframes,c);if(g!==void 0){kt.update(()=>{p.onUpdate(g),p.onComplete()});return}}return c.isSync?new xj(p):new wV(p)},iR=new Set(["width","height","top","left","right","bottom",...Rl]),O2=30,OV=t=>!isNaN(parseFloat(t));class IV{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=qr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=qr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=OV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new cj);const n=this.events[e].add(r);return e==="change"?()=>{n(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>O2)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,O2);return k4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nl(t,e){return new IV(t,e)}function I2(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Sj(t,e,r,n){if(typeof e=="function"){const[i,a]=I2(n);e=e(r!==void 0?r:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=I2(n);e=e(r!==void 0?r:t.custom,i,a)}return e}function Qo(t,e,r){const n=t.getProps();return Sj(n,e,r!==void 0?r:n.custom,t)}const mw=t=>Array.isArray(t);function RV(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,nl(r))}function $V(t){return mw(t)?t[t.length-1]||0:t}function MV(t,e){const r=Qo(t,e);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const c=$V(a[o]);RV(t,o,c)}}const Dr=t=>!!(t&&t.getVelocity);function DV(t){return!!(Dr(t)&&t.add)}function gw(t,e){const r=t.getValue("willChange");if(DV(r))return r.add(e);if(!r&&Xi.WillChange){const n=new Xi.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function _j(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const zV="framerAppearId",aR="data-"+_j(zV);function sR(t){return t.props[aR]}function LV({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function oR(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(a=n);const d=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const h=t.getValue(p,t.latestValues[p]??null),g=c[p];if(g===void 0||f&&LV(f,p))continue;const y={delay:r,...wj(a||{},p)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(g)&&g===b&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const S=sR(t);if(S){const k=window.MotionHandoffAnimation(S,p,kt);k!==null&&(y.startTime=k,w=!0)}}gw(t,p),h.start(jj(p,h,g,t.shouldReduceMotion&&iR.has(p)?{type:!1}:y,t,w));const x=h.animation;x&&d.push(x)}return o&&Promise.all(d).then(()=>{kt.update(()=>{o&&MV(t,o)})}),d}function vw(t,e,r={}){const n=Qo(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(oR(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:h}=i;return BV(t,e,d,f,p,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,f]=c==="beforeChildren"?[a,o]:[o,a];return d().then(()=>f())}else return Promise.all([a(),o(r.delay)])}function BV(t,e,r=0,n=0,i=0,a=1,o){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(vw(d,e,{...o,delay:r+(typeof n=="function"?0:n)+nR(t.variantChildren,d,n,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function FV(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>vw(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=vw(t,e,r);else{const i=typeof e=="function"?Qo(t,e,r.custom):e;n=Promise.all(oR(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const qV={test:t=>t==="auto",parse:t=>t},lR=t=>e=>e.test(t),cR=[Il,ke,gi,Ea,mU,pU,qV],R2=t=>cR.find(lR(t));function UV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||N4(t):!0}const VV=new Set(["brightness","contrast","saturate","opacity"]);function WV(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(hj)||[];if(!n)return t;const i=r.replace(n,"");let a=VV.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const HV=/\b([a-z-]*)\(.*?\)/gu,yw={...Wa,getAnimatableNone:t=>{const e=t.match(HV);return e?e.map(WV).join(" "):t}},$2={...Il,transform:Math.round},GV={rotate:Ea,rotateX:Ea,rotateY:Ea,rotateZ:Ea,scale:Bf,scaleX:Bf,scaleY:Bf,scaleZ:Bf,skew:Ea,skewX:Ea,skewY:Ea,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:vu,originX:w2,originY:w2,originZ:ke},Nj={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,inset:ke,insetBlock:ke,insetBlockStart:ke,insetBlockEnd:ke,insetInline:ke,insetInlineStart:ke,insetInlineEnd:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,paddingBlock:ke,paddingBlockStart:ke,paddingBlockEnd:ke,paddingInline:ke,paddingInlineStart:ke,paddingInlineEnd:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,marginBlock:ke,marginBlockStart:ke,marginBlockEnd:ke,marginInline:ke,marginInlineStart:ke,marginInlineEnd:ke,backgroundPositionX:ke,backgroundPositionY:ke,...GV,zIndex:$2,fillOpacity:vu,strokeOpacity:vu,numOctaves:$2},KV={...Nj,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:yw,WebkitFilter:yw},uR=t=>KV[t];function dR(t,e){let r=uR(t);return r!==yw&&(r=Wa),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const XV=new Set(["auto","none","0"]);function YV(t,e,r){let n=0,i;for(;n<t.length&&!i;){const a=t[n];typeof a=="string"&&!XV.has(a)&&yu(a).values.length&&(i=t[n]),n++}if(i&&r)for(const a of e)t[a]=dR(r,i)}class JV extends bj{constructor(e,r,n,i,a){super(e,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let h=e[p];if(typeof h=="string"&&(h=h.trim(),fj(h))){const g=rR(h,r.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!iR.has(n)||e.length!==2)return;const[i,a]=e,o=R2(i),c=R2(a),d=b2(i),f=b2(a);if(d!==f&&La[n]){this.needsMeasurement=!0;return}if(o!==c)if(P2(o)&&P2(c))for(let p=0;p<e.length;p++){const h=e[p];typeof h=="string"&&(e[p]=parseFloat(h))}else La[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||UV(e[i]))&&n.push(i);n.length&&YV(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=La[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=La[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function fR(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const hR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function pR(t){return _4(t)&&"offsetHeight"in t}const{schedule:kj}=D4(queueMicrotask,!1),Xn={x:!1,y:!1};function mR(){return Xn.x||Xn.y}function QV(t){return t==="x"||t==="y"?Xn[t]?null:(Xn[t]=!0,()=>{Xn[t]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}function gR(t,e){const r=fR(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function M2(t){return!(t.pointerType==="touch"||mR())}function ZV(t,e,r={}){const[n,i,a]=gR(t,r),o=c=>{if(!M2(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const p=h=>{M2(h)&&(f(h),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,i)};return n.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const vR=(t,e)=>e?t===e?!0:vR(t,e.parentElement):!1,Aj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,e9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yR(t){return e9.has(t.tagName)||t.isContentEditable===!0}const ah=new WeakSet;function D2(t){return e=>{e.key==="Enter"&&t(e)}}function k0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const t9=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=D2(()=>{if(ah.has(r))return;k0(r,"down");const i=D2(()=>{k0(r,"up")}),a=()=>k0(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function z2(t){return Aj(t)&&!mR()}function r9(t,e,r={}){const[n,i,a]=gR(t,r),o=c=>{const d=c.currentTarget;if(!z2(c))return;ah.add(d);const f=e(d,c),p=(y,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",g),ah.has(d)&&ah.delete(d),z2(y)&&typeof f=="function"&&f(y,{success:b})},h=y=>{p(y,d===window||d===document||r.useGlobalTarget||vR(d,y.target))},g=y=>{p(y,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",g,i)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),pR(c)&&(c.addEventListener("focus",f=>t9(f,i)),!yR(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function xR(t){return _4(t)&&"ownerSVGElement"in t}function n9(t){return xR(t)&&t.tagName==="svg"}const i9=[...cR,Jt,Wa],a9=t=>i9.find(lR(t)),L2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:L2(),y:L2()}),B2=()=>({min:0,max:0}),or=()=>({x:B2(),y:B2()}),xw={current:null},bR={current:!1},s9=typeof window<"u";function o9(){if(bR.current=!0,!!s9)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xw.current=t.matches;t.addEventListener("change",e),e()}else xw.current=!1}const l9=new WeakMap;function Op(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xu(t){return typeof t=="string"||Array.isArray(t)}const Tj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pj=["initial",...Tj];function Ip(t){return Op(t.animate)||Pj.some(e=>xu(t[e]))}function wR(t){return!!(Ip(t)||t.variants)}function c9(t,e,r){for(const n in e){const i=e[n],a=r[n];if(Dr(i))t.addValue(n,i);else if(Dr(a))t.addValue(n,nl(i,{owner:t}));else if(a!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,nl(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const F2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let gh={};function jR(t){gh=t}function u9(){return gh}class d9{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=qr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,kt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Ip(r),this.isVariantNode=wR(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in h){const y=h[g];d[g]!==void 0&&Dr(y)&&y.set(d[g])}}mount(e){this.current=e,l9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(bR.current||o9(),this.shouldReduceMotion=xw.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Va(this.notifyUpdate),Va(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=$l.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&kt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gh){const r=gh[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):or()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<F2.length;n++){const i=F2[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=c9(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=nl(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(S4(n)||N4(n))?n=parseFloat(n):!a9(n)&&Wa.test(r)&&(n=dR(e,r)),this.setBaseTarget(e,Dr(n)?n.get():n)),Dr(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Sj(this.props,r,this.presenceContext?.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Dr(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new cj),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){kj.render(this.render)}}class Ga{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SR extends d9{constructor(){super(...arguments),this.KeyframeResolver=JV}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function _R({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function f9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function h9(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function A0(t){return t===void 0||t===1}function bw({scale:t,scaleX:e,scaleY:r}){return!A0(t)||!A0(e)||!A0(r)}function js(t){return bw(t)||NR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function NR(t){return q2(t.x)||q2(t.y)}function q2(t){return t&&t!=="0%"}function vh(t,e,r){const n=t-r,i=e*n;return r+i}function U2(t,e,r,n,i){return i!==void 0&&(t=vh(t,i,n)),vh(t,r,n)+e}function ww(t,e=0,r=1,n,i){t.min=U2(t.min,e,r,n,i),t.max=U2(t.max,e,r,n,i)}function kR(t,{x:e,y:r}){ww(t.x,e.translate,e.scale,e.originPoint),ww(t.y,r.translate,r.scale,r.originPoint)}const V2=.999999999999,W2=1.0000000000001;function p9(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let c=0;c<i;c++){a=r[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kR(t,o)),n&&js(a.latestValues)&&Wo(t,a.latestValues))}e.x<W2&&e.x>V2&&(e.x=1),e.y<W2&&e.y>V2&&(e.y=1)}function Vo(t,e){t.min=t.min+e,t.max=t.max+e}function H2(t,e,r,n,i=.5){const a=$t(t.min,t.max,i);ww(t,e,r,a,n)}function Wo(t,e){H2(t.x,e.x,e.scaleX,e.scale,e.originX),H2(t.y,e.y,e.scaleY,e.scale,e.originY)}function AR(t,e){return _R(h9(t.getBoundingClientRect(),e))}function m9(t,e,r){const n=AR(t,r),{scroll:i}=e;return i&&(Vo(n.x,i.offset.x),Vo(n.y,i.offset.y)),n}const g9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},v9=Rl.length;function y9(t,e,r){let n="",i=!0;for(let a=0;a<v9;a++){const o=Rl[a],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const f=hR(c,Nj[o]);if(!d){i=!1;const p=g9[o]||o;n+=`${p}(${f}) `}r&&(e[o]=f)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function Cj(t,e,r){const{style:n,vars:i,transformOrigin:a}=t;let o=!1,c=!1;for(const d in e){const f=e[d];if($l.has(d)){o=!0;continue}else if(L4(d)){i[d]=f;continue}else{const p=hR(f,Nj[d]);d.startsWith("origin")?(c=!0,a[d]=p):n[d]=p}}if(e.transform||(o||r?n.transform=y9(e,t.transform,r):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=a;n.transformOrigin=`${d} ${f} ${p}`}}function TR(t,{style:e,vars:r},n,i){const a=t.style;let o;for(o in e)a[o]=e[o];i?.applyProjectionStyles(a,n);for(o in r)a.setProperty(o,r[o])}function G2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ic={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ke.test(t))t=parseFloat(t);else return t;const r=G2(t,e.target.x),n=G2(t,e.target.y);return`${r}% ${n}%`}},x9={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Wa.parse(t);if(i.length>5)return n;const a=Wa.createTransformer(t),o=typeof i[0]!="number"?1:0,c=r.x.scale*e.x,d=r.y.scale*e.y;i[0+o]/=c,i[1+o]/=d;const f=$t(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=f),typeof i[3+o]=="number"&&(i[3+o]/=f),a(i)}},jw={borderRadius:{...Ic,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ic,borderTopRightRadius:Ic,borderBottomLeftRadius:Ic,borderBottomRightRadius:Ic,boxShadow:x9};function PR(t,{layout:e,layoutId:r}){return $l.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!jw[t]||t==="opacity")}function Ej(t,e,r){const n=t.style,i=e?.style,a={};if(!n)return a;for(const o in n)(Dr(n[o])||i&&Dr(i[o])||PR(o,t)||r?.getValue(o)?.liveStyle!==void 0)&&(a[o]=n[o]);return a}function b9(t){return window.getComputedStyle(t)}class w9 extends SR{constructor(){super(...arguments),this.type="html",this.renderInstance=TR}readValueFromInstance(e,r){if($l.has(r))return this.projection?.isProjecting?cw(r):QU(e,r);{const n=b9(e),i=(L4(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return AR(e,r)}build(e,r,n){Cj(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Ej(e,r,n)}}const j9={offset:"stroke-dashoffset",array:"stroke-dasharray"},S9={offset:"strokeDashoffset",array:"strokeDasharray"};function _9(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?j9:S9;t[a.offset]=ke.transform(-n);const o=ke.transform(e),c=ke.transform(r);t[a.array]=`${o} ${c}`}const N9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function CR(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},d,f,p){if(Cj(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g}=t;h.transform&&(g.transform=h.transform,delete h.transform),(g.transform||h.transformOrigin)&&(g.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),g.transform&&(g.transformBox=p?.transformBox??"fill-box",delete h.transformBox);for(const y of N9)h[y]!==void 0&&(g[y]=h[y],delete h[y]);e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),i!==void 0&&_9(h,i,a,o,!1)}const ER=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),OR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function k9(t,e,r,n){TR(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(ER.has(i)?i:_j(i),e.attrs[i])}function IR(t,e,r){const n=Ej(t,e,r);for(const i in t)if(Dr(t[i])||Dr(e[i])){const a=Rl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=t[i]}return n}class A9 extends SR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=or}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if($l.has(r)){const n=uR(r);return n&&n.default||0}return r=ER.has(r)?r:_j(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return IR(e,r,n)}build(e,r,n){CR(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){k9(e,r,n,i)}mount(e){this.isSVGTag=OR(e.tagName),super.mount(e)}}const T9=Pj.length;function RR(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?RR(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<T9;r++){const n=Pj[r],i=t.props[n];(xu(i)||i===!1)&&(e[n]=i)}return e}function $R(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const P9=[...Tj].reverse(),C9=Tj.length;function E9(t){return e=>Promise.all(e.map(({animation:r,options:n})=>FV(t,r,n)))}function O9(t){let e=E9(t),r=K2(),n=!0;const i=d=>(f,p)=>{const h=Qo(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:g,transitionEnd:y,...b}=h;f={...f,...b,...y}}return f};function a(d){e=d(t)}function o(d){const{props:f}=t,p=RR(t.parent)||{},h=[],g=new Set;let y={},b=1/0;for(let x=0;x<C9;x++){const S=P9[x],k=r[S],_=f[S]!==void 0?f[S]:p[S],C=xu(_),N=S===d?k.isActive:null;N===!1&&(b=x);let A=_===p[S]&&_!==f[S]&&C;if(A&&n&&t.manuallyAnimateOnMount&&(A=!1),k.protectedKeys={...y},!k.isActive&&N===null||!_&&!k.prevProp||Op(_)||typeof _=="boolean")continue;const E=I9(k.prevProp,_);let O=E||S===d&&k.isActive&&!A&&C||x>b&&C,R=!1;const H=Array.isArray(_)?_:[_];let B=H.reduce(i(S),{});N===!1&&(B={});const{prevResolvedValues:D={}}=k,$={...D,...B},V=U=>{O=!0,g.has(U)&&(R=!0,g.delete(U)),k.needsAnimating[U]=!0;const M=t.getValue(U);M&&(M.liveStyle=!1)};for(const U in $){const M=B[U],Q=D[U];if(y.hasOwnProperty(U))continue;let ee=!1;mw(M)&&mw(Q)?ee=!$R(M,Q):ee=M!==Q,ee?M!=null?V(U):g.add(U):M!==void 0&&g.has(U)?V(U):k.protectedKeys[U]=!0}k.prevProp=_,k.prevResolvedValues=B,k.isActive&&(y={...y,...B}),n&&t.blockInitialAnimation&&(O=!1);const J=A&&E;O&&(!J||R)&&h.push(...H.map(U=>{const M={type:S};if(typeof U=="string"&&n&&!J&&t.manuallyAnimateOnMount&&t.parent){const{parent:Q}=t,ee=Qo(Q,U);if(Q.enteringChildren&&ee){const{delayChildren:L}=ee.transition||{};M.delay=nR(Q.enteringChildren,t,L)}}return{animation:U,options:M}}))}if(g.size){const x={};if(typeof f.initial!="boolean"){const S=Qo(t,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(x.transition=S.transition)}g.forEach(S=>{const k=t.getBaseTarget(S),_=t.getValue(S);_&&(_.liveStyle=!0),x[S]=k??null}),h.push({animation:x})}let w=!!h.length;return n&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(h):Promise.resolve()}function c(d,f){if(r[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(d,f)),r[d].isActive=f;const p=o(d);for(const h in r)r[h].protectedKeys={};return p}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>r,reset:()=>{r=K2()}}}function I9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$R(e,t):!1}function xs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K2(){return{animate:xs(!0),whileInView:xs(),whileHover:xs(),whileTap:xs(),whileDrag:xs(),whileFocus:xs(),exit:xs()}}const MR=1e-4,R9=1-MR,$9=1+MR,DR=.01,M9=0-DR,D9=0+DR;function Ur(t){return t.max-t.min}function z9(t,e,r){return Math.abs(t-e)<=r}function X2(t,e,r,n=.5){t.origin=n,t.originPoint=$t(e.min,e.max,t.origin),t.scale=Ur(r)/Ur(e),t.translate=$t(r.min,r.max,t.origin)-t.originPoint,(t.scale>=R9&&t.scale<=$9||isNaN(t.scale))&&(t.scale=1),(t.translate>=M9&&t.translate<=D9||isNaN(t.translate))&&(t.translate=0)}function ru(t,e,r,n){X2(t.x,e.x,r.x,n?n.originX:void 0),X2(t.y,e.y,r.y,n?n.originY:void 0)}function Y2(t,e,r){t.min=r.min+e.min,t.max=t.min+Ur(e)}function L9(t,e,r){Y2(t.x,e.x,r.x),Y2(t.y,e.y,r.y)}function J2(t,e,r){t.min=e.min-r.min,t.max=t.min+Ur(e)}function yh(t,e,r){J2(t.x,e.x,r.x),J2(t.y,e.y,r.y)}function Q2(t,e,r,n,i){return t-=e,t=vh(t,1/r,n),i!==void 0&&(t=vh(t,1/i,n)),t}function B9(t,e=0,r=1,n=.5,i,a=t,o=t){if(gi.test(e)&&(e=parseFloat(e),e=$t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=$t(a.min,a.max,n);t===a&&(c-=e),t.min=Q2(t.min,e,r,c,i),t.max=Q2(t.max,e,r,c,i)}function Z2(t,e,[r,n,i],a,o){B9(t,e[r],e[n],e[i],e.scale,a,o)}const F9=["x","scaleX","originX"],q9=["y","scaleY","originY"];function eA(t,e,r,n){Z2(t.x,e,F9,r?r.x:void 0,n?n.x:void 0),Z2(t.y,e,q9,r?r.y:void 0,n?n.y:void 0)}function tA(t,e){t.min=e.min,t.max=e.max}function Hn(t,e){tA(t.x,e.x),tA(t.y,e.y)}function rA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nA(t){return t.translate===0&&t.scale===1}function zR(t){return nA(t.x)&&nA(t.y)}function iA(t,e){return t.min===e.min&&t.max===e.max}function U9(t,e){return iA(t.x,e.x)&&iA(t.y,e.y)}function aA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function LR(t,e){return aA(t.x,e.x)&&aA(t.y,e.y)}function sA(t){return Ur(t.x)/Ur(t.y)}function oA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function En(t){return[t("x"),t("y")]}function V9(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=r?.z||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:f,rotate:p,rotateX:h,rotateY:g,skewX:y,skewY:b}=r;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),h&&(n+=`rotateX(${h}deg) `),g&&(n+=`rotateY(${g}deg) `),y&&(n+=`skewX(${y}deg) `),b&&(n+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const BR=["TopLeft","TopRight","BottomLeft","BottomRight"],W9=BR.length,lA=t=>typeof t=="string"?parseFloat(t):t,cA=t=>typeof t=="number"||ke.test(t);function H9(t,e,r,n,i,a){i?(t.opacity=$t(0,r.opacity??1,G9(n)),t.opacityExit=$t(e.opacity??1,0,K9(n))):a&&(t.opacity=$t(e.opacity??1,r.opacity??1,n));for(let o=0;o<W9;o++){const c=`border${BR[o]}Radius`;let d=uA(e,c),f=uA(r,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||cA(d)===cA(f)?(t[c]=Math.max($t(lA(d),lA(f),n),0),(gi.test(f)||gi.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||r.rotate)&&(t.rotate=$t(e.rotate||0,r.rotate||0,n))}function uA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const G9=FR(0,.5,I4),K9=FR(.5,.95,Rn);function FR(t,e,r){return n=>n<t?0:n>e?1:r(gu(t,e,n))}function X9(t,e){const r=qr.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(Va(n),t(a-e))};return kt.setup(n,!0),()=>Va(n)}function bu(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function sh(t){return Dr(t)?t.get():t}function Y9(t,e,r){const n=Dr(t)?t:nl(t);return n.start(jj("",n,e,r)),n.animation}const J9=(t,e)=>t.depth-e.depth;class Q9{constructor(){this.children=[],this.isDirty=!1}add(e){aj(this.children,e),this.isDirty=!0}remove(e){sj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(J9),this.isDirty=!1,this.children.forEach(e)}}class Z9{constructor(){this.members=[]}add(e){aj(this.members,e),e.scheduleRender()}remove(e){if(sj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const oh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},T0=["","X","Y","Z"],e7=1e3;let t7=0;function P0(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function qR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=sR(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",kt,!(i||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&qR(n)}function UR({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},c=e?.()){this.id=t7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(i7),this.nodes.forEach(l7),this.nodes.forEach(c7),this.nodes.forEach(a7)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q9)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cj),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=xR(o)&&!n9(o),this.instance=o;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,h=0;const g=()=>this.root.updateBlockedByResize=!1;kt.read(()=>{h=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==h&&(h=y,this.root.updateBlockedByResize=!0,p&&p(),p=X9(g,250),oh.hasAnimatedSinceResize&&(oh.hasAnimatedSinceResize=!1,this.nodes.forEach(hA)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:h,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||p7,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=f.getProps(),S=!this.targetLayout||!LR(this.targetLayout,y),k=!h&&g;if(this.options.layoutRoot||this.resumeFrom||k||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...wj(b,"layout"),onPlay:w,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,k)}else h||hA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Va(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const h=this.path[p];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(o7),this.nodes.forEach(r7),this.nodes.forEach(n7)):this.nodes.forEach(fA),this.clearAllSnapshots();const c=qr.now();Nr.delta=bi(0,1e3/60,c-Nr.timestamp),Nr.timestamp=c,Nr.isProcessing=!0,b0.update.process(Nr),b0.preRender.process(Nr),b0.render.process(Nr),Nr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s7),this.sharedNodes.forEach(d7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ur(this.snapshot.measuredBox.x)&&!Ur(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=or(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!zR(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;o&&this.instance&&(c||js(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),m7(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return or();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(g7))){const{scroll:f}=this.root;f&&(Vo(c.x,f.offset.x),Vo(c.y,f.offset.y))}return c}removeElementScroll(o){const c=or();if(Hn(c,o),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:h}=f;f!==this.root&&p&&h.layoutScroll&&(p.wasRoot&&Hn(c,o),Vo(c.x,p.offset.x),Vo(c.y,p.offset.y))}return c}applyTransform(o,c=!1){const d=or();Hn(d,o);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Wo(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),js(p.latestValues)&&Wo(d,p.latestValues)}return js(this.latestValues)&&Wo(d,this.latestValues),d}removeTransform(o){const c=or();Hn(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!js(f.latestValues))continue;bw(f.latestValues)&&f.updateSnapshot();const p=or(),h=f.measurePageBox();Hn(p,h),eA(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return js(this.latestValues)&&eA(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:h}=this.options;if(!this.layout||!(p||h))return;this.resolvedRelativeTargetAt=Nr.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=or(),this.targetWithTransforms=or()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),L9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),kR(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||bw(this.parent.latestValues)||NR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,d){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=or(),this.relativeTargetOrigin=or(),yh(this.relativeTargetOrigin,c,d),Hn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Nr.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Hn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;p9(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=or());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rA(this.prevProjectionDelta.x,this.projectionDelta.x),rA(this.prevProjectionDelta.y,this.projectionDelta.y)),ru(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!oA(this.projectionDelta.x,this.prevProjectionDelta.x)||!oA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(o,c=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},h=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=or(),y=d?d.source:void 0,b=this.layout?this.layout.source:void 0,w=y!==b,x=this.getStack(),S=!x||x.members.length<=1,k=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(h7));this.animationProgress=0;let _;this.mixTargetDelta=C=>{const N=C/1e3;pA(h.x,o.x,N),pA(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yh(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f7(this.relativeTarget,this.relativeTargetOrigin,g,N),_&&U9(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=or()),Hn(_,this.relativeTarget)),w&&(this.animationValues=p,H9(p,f,this.latestValues,N,k,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Va(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{oh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nl(0)),this.currentAnimation=Y9(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:p}=o;if(!(!c||!d||!f)){if(this!==o&&this.layout&&f&&VR(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||or();const h=Ur(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+h;const g=Ur(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}Hn(c,d),Wo(c,p),ru(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Z9),this.sharedNodes.get(o).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&P0("z",o,f,this.animationValues);for(let p=0;p<T0.length;p++)P0(`rotate${T0[p]}`,o,f,this.animationValues),P0(`skew${T0[p]}`,o,f,this.animationValues);o.render();for(const p in f)o.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=sh(c?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=sh(c?.pointerEvents)||""),this.hasProjected&&!js(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let h=V9(this.projectionDeltaWithTransform,this.treeScale,p);d&&(h=d(p,h)),o.transform=h;const{x:g,y}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,f.animationValues?o.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:o.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in jw){if(p[b]===void 0)continue;const{correct:w,applyTo:x,isCSSVariable:S}=jw[b],k=h==="none"?p[b]:w(p[b],f);if(x){const _=x.length;for(let C=0;C<_;C++)o[x[C]]=k}else S?this.options.visualElement.renderState.vars[b]=k:o[b]=k}this.options.layoutId&&(o.pointerEvents=f===this?sh(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(dA),this.root.sharedNodes.clear()}}}function r7(t){t.updateLayout()}function n7(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?En(p=>{const h=a?e.measuredBox[p]:e.layoutBox[p],g=Ur(h);h.min=r[p].min,h.max=h.min+g}):VR(i,e.layoutBox,r)&&En(p=>{const h=a?e.measuredBox[p]:e.layoutBox[p],g=Ur(r[p]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+g)});const o=Uo();ru(o,r,e.layoutBox);const c=Uo();a?ru(c,t.applyTransform(n,!0),e.measuredBox):ru(c,r,e.layoutBox);const d=!zR(o);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:h,layout:g}=p;if(h&&g){const y=or();yh(y,e.layoutBox,h.layoutBox);const b=or();yh(b,r,g.layoutBox),LR(y,b)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function i7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function a7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function s7(t){t.clearSnapshot()}function dA(t){t.clearMeasurements()}function fA(t){t.isLayoutDirty=!1}function o7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function l7(t){t.resolveTargetDelta()}function c7(t){t.calcProjection()}function u7(t){t.resetSkewAndRotation()}function d7(t){t.removeLeadSnapshot()}function pA(t,e,r){t.translate=$t(e.translate,0,r),t.scale=$t(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function mA(t,e,r,n){t.min=$t(e.min,r.min,n),t.max=$t(e.max,r.max,n)}function f7(t,e,r,n){mA(t.x,e.x,r.x,n),mA(t.y,e.y,r.y,n)}function h7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const p7={duration:.45,ease:[.4,0,.1,1]},gA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vA=gA("applewebkit/")&&!gA("chrome/")?Math.round:Rn;function yA(t){t.min=vA(t.min),t.max=vA(t.max)}function m7(t){yA(t.x),yA(t.y)}function VR(t,e,r){return t==="position"||t==="preserve-aspect"&&!z9(sA(e),sA(r),.2)}function g7(t){return t!==t.root&&t.scroll?.wasRoot}const v7=UR({attachResizeListener:(t,e)=>bu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),C0={current:void 0},WR=UR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!C0.current){const t=new v7({});t.mount(window),t.setOptions({layoutScroll:!0}),C0.current=t}return C0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Oj=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function y7(...t){return e=>{let r=!1;const n=t.map(i=>{const a=xA(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():xA(t[i],null)}}}}function x7(...t){return P.useCallback(y7(...t),t)}class b7 extends P.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=pR(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function w7({children:t,isPresent:e,anchorX:r,root:n}){const i=P.useId(),a=P.useRef(null),o=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=P.useContext(Oj),d=t.props?.ref??t?.ref,f=x7(a,d);return P.useInsertionEffect(()=>{const{width:p,height:h,top:g,left:y,right:b}=o.current;if(e||!a.current||!p||!h)return;const w=r==="left"?`left: ${y}`:`right: ${b}`;a.current.dataset.motionPopId=i;const x=document.createElement("style");c&&(x.nonce=c);const S=n??document.head;return S.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(x)&&S.removeChild(x)}},[e]),s.jsx(b7,{isPresent:e,childRef:a,sizeRef:o,children:P.cloneElement(t,{ref:f})})}const j7=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:d})=>{const f=Cp(S7),p=P.useId();let h=!0,g=P.useMemo(()=>(h=!1,{id:p,initial:e,isPresent:r,custom:i,onExitComplete:y=>{f.set(y,!0);for(const b of f.values())if(!b)return;n&&n()},register:y=>(f.set(y,!1),()=>f.delete(y))}),[r,f,n]);return a&&h&&(g={...g}),P.useMemo(()=>{f.forEach((y,b)=>f.set(b,!1))},[r]),P.useEffect(()=>{!r&&!f.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(w7,{isPresent:r,anchorX:c,root:d,children:t})),s.jsx(Ep.Provider,{value:g,children:t})};function S7(){return new Map}function HR(t=!0){const e=P.useContext(Ep);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,a=P.useId();P.useEffect(()=>{if(t)return i(a)},[t]);const o=P.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,o]:[!0]}const Ff=t=>t.key||"";function bA(t){const e=[];return P.Children.forEach(t,r=>{P.isValidElement(r)&&e.push(r)}),e}const ii=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[f,p]=HR(o),h=P.useMemo(()=>bA(t),[t]),g=o&&!f?[]:h.map(Ff),y=P.useRef(!0),b=P.useRef(h),w=Cp(()=>new Map),x=P.useRef(new Set),[S,k]=P.useState(h),[_,C]=P.useState(h);j4(()=>{y.current=!1,b.current=h;for(let E=0;E<_.length;E++){const O=Ff(_[E]);g.includes(O)?(w.delete(O),x.current.delete(O)):w.get(O)!==!0&&w.set(O,!1)}},[_,g.length,g.join("-")]);const N=[];if(h!==S){let E=[...h];for(let O=0;O<_.length;O++){const R=_[O],H=Ff(R);g.includes(H)||(E.splice(O,0,R),N.push(R))}return a==="wait"&&N.length&&(E=N),C(bA(E)),k(h),null}const{forceRender:A}=P.useContext(ij);return s.jsx(s.Fragment,{children:_.map(E=>{const O=Ff(E),R=o&&!f?!1:h===_||g.includes(O),H=()=>{if(x.current.has(O))return;if(x.current.add(O),w.has(O))w.set(O,!0);else return;let B=!0;w.forEach(D=>{D||(B=!1)}),B&&(A?.(),C(b.current),o&&p?.(),n&&n())};return s.jsx(j7,{isPresent:R,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:R?void 0:H,anchorX:c,children:E},O)})})},GR=P.createContext({strict:!1}),wA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let jA=!1;function _7(){if(jA)return;const t={};for(const e in wA)t[e]={isEnabled:r=>wA[e].some(n=>!!r[n])};jR(t),jA=!0}function KR(){return _7(),u9()}function N7(t){const e=KR();for(const r in t)e[r]={...e[r],...t[r]};jR(e)}const k7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||k7.has(t)}let XR=t=>!xh(t);function A7(t){typeof t=="function"&&(XR=e=>e.startsWith("on")?!xh(e):t(e))}try{A7(require("@emotion/is-prop-valid").default)}catch{}function T7(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(XR(i)||r===!0&&xh(i)||!e&&!xh(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const Rp=P.createContext({});function P7(t,e){if(Ip(t)){const{initial:r,animate:n}=t;return{initial:r===!1||xu(r)?r:void 0,animate:xu(n)?n:void 0}}return t.inherit!==!1?e:{}}function C7(t){const{initial:e,animate:r}=P7(t,P.useContext(Rp));return P.useMemo(()=>({initial:e,animate:r}),[SA(e),SA(r)])}function SA(t){return Array.isArray(t)?t.join(" "):t}const Ij=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YR(t,e,r){for(const n in e)!Dr(e[n])&&!PR(n,r)&&(t[n]=e[n])}function E7({transformTemplate:t},e){return P.useMemo(()=>{const r=Ij();return Cj(r,e,t),Object.assign({},r.vars,r.style)},[e])}function O7(t,e){const r=t.style||{},n={};return YR(n,r,t),Object.assign(n,E7(t,e)),n}function I7(t,e){const r={},n=O7(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const JR=()=>({...Ij(),attrs:{}});function R7(t,e,r,n){const i=P.useMemo(()=>{const a=JR();return CR(a,e,OR(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};YR(a,t.style,t),i.style={...a,...i.style}}return i}const $7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rj(t){return typeof t!="string"||t.includes("-")?!1:!!($7.indexOf(t)>-1||/[A-Z]/u.test(t))}function M7(t,e,r,{latestValues:n},i,a=!1,o){const d=(o??Rj(t)?R7:I7)(e,n,i,t),f=T7(e,typeof t=="string",a),p=t!==P.Fragment?{...f,...d,ref:r}:{},{children:h}=e,g=P.useMemo(()=>Dr(h)?h.get():h,[h]);return P.createElement(t,{...p,children:g})}function D7({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:z7(r,n,i,t),renderState:e()}}function z7(t,e,r,n){const i={},a=n(t,{});for(const g in a)i[g]=sh(a[g]);let{initial:o,animate:c}=t;const d=Ip(t),f=wR(t);e&&f&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let p=r?r.initial===!1:!1;p=p||o===!1;const h=p?c:o;if(h&&typeof h!="boolean"&&!Op(h)){const g=Array.isArray(h)?h:[h];for(let y=0;y<g.length;y++){const b=Sj(t,g[y]);if(b){const{transitionEnd:w,transition:x,...S}=b;for(const k in S){let _=S[k];if(Array.isArray(_)){const C=p?_.length-1:0;_=_[C]}_!==null&&(i[k]=_)}for(const k in w)i[k]=w[k]}}}return i}const QR=t=>(e,r)=>{const n=P.useContext(Rp),i=P.useContext(Ep),a=()=>D7(t,e,n,i);return r?a():Cp(a)},L7=QR({scrapeMotionValuesFromProps:Ej,createRenderState:Ij}),B7=QR({scrapeMotionValuesFromProps:IR,createRenderState:JR}),F7=Symbol.for("motionComponentSymbol");function q7(t,e,r){const n=P.useRef(r);P.useInsertionEffect(()=>{n.current=r});const i=P.useRef(null);return P.useCallback(a=>{a&&t.onMount?.(a),e&&(a?e.mount(a):e.unmount());const o=n.current;if(typeof o=="function")if(a){const c=o(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[e])}const ZR=P.createContext({});function Kc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function U7(t,e,r,n,i,a){const{visualElement:o}=P.useContext(Rp),c=P.useContext(GR),d=P.useContext(Ep),f=P.useContext(Oj).reducedMotion,p=P.useRef(null);n=n||c.renderer,!p.current&&n&&(p.current=n(t,{visualState:e,parent:o,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f,isSVG:a}));const h=p.current,g=P.useContext(ZR);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&V7(p.current,r,i,g);const y=P.useRef(!1);P.useInsertionEffect(()=>{h&&y.current&&h.update(r,d)});const b=r[aR],w=P.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return j4(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),P.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),w.current=!1),h.enteringChildren=void 0)}),h}function V7(t,e,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:e$(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&Kc(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:f})}function e$(t){if(t)return t.options.allowProjection!==!1?t.projection:e$(t.parent)}function E0(t,{forwardMotionProps:e=!1,type:r}={},n,i){n&&N7(n);const a=r?r==="svg":Rj(t),o=a?B7:L7;function c(f,p){let h;const g={...P.useContext(Oj),...f,layoutId:W7(f)},{isStatic:y}=g,b=C7(f),w=o(f,y);if(!y&&w4){H7();const x=G7(g);h=x.MeasureLayout,b.visualElement=U7(t,w,g,i,x.ProjectionNode,a)}return s.jsxs(Rp.Provider,{value:b,children:[h&&b.visualElement?s.jsx(h,{visualElement:b.visualElement,...g}):null,M7(t,f,q7(w,b.visualElement,p),w,y,e,a)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=P.forwardRef(c);return d[F7]=t,d}function W7({layoutId:t}){const e=P.useContext(ij).id;return e&&t!==void 0?e+"-"+t:t}function H7(t,e){P.useContext(GR).strict}function G7(t){const e=KR(),{drag:r,layout:n}=e;if(!r&&!n)return{};const i={...r,...n};return{MeasureLayout:r?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function K7(t,e){if(typeof Proxy>"u")return E0;const r=new Map,n=(a,o)=>E0(a,o,t,e),i=(a,o)=>n(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?n:(r.has(o)||r.set(o,E0(o,void 0,t,e)),r.get(o))})}const X7=(t,e)=>e.isSVG??Rj(t)?new A9(e):new w9(e,{allowProjection:t!==P.Fragment});class Y7 extends Ga{constructor(e){super(e),e.animationState||(e.animationState=O9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Op(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let J7=0;class Q7 extends Ga{constructor(){super(...arguments),this.id=J7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Z7={animation:{Feature:Y7},exit:{Feature:Q7}};function dd(t){return{point:{x:t.pageX,y:t.pageY}}}const eW=t=>e=>Aj(e)&&t(e,dd(e));function nu(t,e,r,n){return bu(t,e,eW(r),n)}const t$=({current:t})=>t?t.ownerDocument.defaultView:null,_A=(t,e)=>Math.abs(t-e);function tW(t,e){const r=_A(t.x,e.x),n=_A(t.y,e.y);return Math.sqrt(r**2+n**2)}const NA=new Set(["auto","scroll"]);class r${constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=I0(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=tW(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:x}=y,{timestamp:S}=Nr;this.history.push({...x,timestamp:S});const{onStart:k,onMove:_}=this.handlers;b||(k&&k(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=O0(b,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:S}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=I0(y.type==="pointercancel"?this.lastMoveEventInfo:O0(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,k),x&&x(y,k)},!Aj(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const d=dd(e),f=O0(d,this.transformPagePoint),{point:p}=f,{timestamp:h}=Nr;this.history=[{...p,timestamp:h}];const{onSessionStart:g}=r;g&&g(e,I0(f,this.history)),this.removeListeners=ld(nu(this.contextWindow,"pointermove",this.handlePointerMove),nu(this.contextWindow,"pointerup",this.handlePointerUp),nu(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(NA.has(n.overflowX)||NA.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:i.x-r.x,y:i.y-r.y};a.x===0&&a.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,i),kt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Va(this.updatePoint)}}function O0(t,e){return e?{point:e(t.point)}:t}function kA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function I0({point:t},e){return{point:t,delta:kA(t,n$(e)),offset:kA(t,rW(e)),velocity:nW(e,.1)}}function rW(t){return t[0]}function n$(t){return t[t.length-1]}function nW(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=n$(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>qi(e)));)r--;if(!n)return{x:0,y:0};const a=On(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function iW(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?$t(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?$t(r,t,n.max):Math.min(t,r)),t}function AA(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function aW(t,{top:e,left:r,bottom:n,right:i}){return{x:AA(t.x,r,i),y:AA(t.y,e,n)}}function TA(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function sW(t,e){return{x:TA(t.x,e.x),y:TA(t.y,e.y)}}function oW(t,e){let r=.5;const n=Ur(t),i=Ur(e);return i>n?r=gu(e.min,e.max-n,t.min):n>i&&(r=gu(t.min,t.max-i,e.min)),bi(0,1,r)}function lW(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Sw=.35;function cW(t=Sw){return t===!1?t=0:t===!0&&(t=Sw),{x:PA(t,"left","right"),y:PA(t,"top","bottom")}}function PA(t,e,r){return{min:CA(t,e),max:CA(t,r)}}function CA(t,e){return typeof t=="number"?t:t[e]||0}const uW=new WeakMap;class dW{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=or(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=h=>{r?(this.stopAnimation(),this.snapToCursor(dd(h).point)):this.pauseAnimation()},o=(h,g)=>{this.stopAnimation();const{drag:y,dragPropagation:b,onDragStart:w}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QV(y),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),En(S=>{let k=this.getAxisMotionValue(S).get()||0;if(gi.test(k)){const{projection:_}=this.visualElement;if(_&&_.layout){const C=_.layout.layoutBox[S];C&&(k=Ur(C)*(parseFloat(k)/100))}}this.originPoint[S]=k}),w&&kt.postRender(()=>w(h,g)),gw(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},c=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:w,onDrag:x}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:S}=g;if(b&&this.currentDirection===null){this.currentDirection=fW(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,S),this.updateAxis("y",g.point,S),this.visualElement.render(),x&&x(h,g)},d=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g,this.stop(h,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>En(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new r$(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:t$(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&kt.postRender(()=>c(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!qf(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=iW(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Kc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=aW(n.layoutBox,e):this.constraints=!1,this.elastic=cW(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&En(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=lW(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Kc(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=m9(n,i.root,this.visualElement.getTransformPagePoint());let o=sW(i.layout.layoutBox,a);if(r){const c=r(f9(o));this.hasMutatedConstraints=!!c,c&&(o=_R(c))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=En(p=>{if(!qf(p,r,this.currentDirection))return;let h=d&&d[p]||{};o&&(h={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,b={type:"inertia",velocity:n?e[p]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(p,b)});return Promise.all(f).then(c)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return gw(this.visualElement,e),n.start(jj(e,n,0,r,this.visualElement,!1))}stopAnimation(){En(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){En(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){En(r=>{const{drag:n}=this.getProps();if(!qf(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[r],d=a.get()||0;a.set(e[r]-$t(o,c,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Kc(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};En(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=oW({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),En(o=>{if(!qf(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:f}=this.constraints[o];c.set($t(d,f,i[o]))})}addListeners(){if(!this.visualElement.current)return;uW.set(this.visualElement,this);const e=this.visualElement.current,r=nu(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&!yR(d.target)&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Kc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kt.read(n);const o=bu(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(En(p=>{const h=this.getAxisMotionValue(p);h&&(this.originPoint[p]+=d[p].translate,h.set(h.get()+d[p].translate))}),this.visualElement.render())}));return()=>{o(),r(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Sw,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function qf(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function fW(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class hW extends Ga{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new dW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const EA=t=>(e,r)=>{t&&kt.postRender(()=>t(e,r))};class pW extends Ga{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new r$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:t$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:EA(e),onStart:EA(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&kt.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=nu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let R0=!1;class mW extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),R0&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),oh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,R0=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||kt.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kj.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;R0=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function i$(t){const[e,r]=HR(),n=P.useContext(ij);return s.jsx(mW,{...t,layoutGroup:n,switchLayoutGroup:P.useContext(ZR),isPresent:e,safeToRemove:r})}const gW={pan:{Feature:pW},drag:{Feature:hW,ProjectionNode:WR,MeasureLayout:i$}};function OA(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&kt.postRender(()=>a(e,dd(e)))}class vW extends Ga{mount(){const{current:e}=this.node;e&&(this.unmount=ZV(e,(r,n)=>(OA(this.node,n,"Start"),i=>OA(this.node,i,"End"))))}unmount(){}}class yW extends Ga{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ld(bu(this.node.current,"focus",()=>this.onFocus()),bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function IA(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&kt.postRender(()=>a(e,dd(e)))}class xW extends Ga{mount(){const{current:e}=this.node;e&&(this.unmount=r9(e,(r,n)=>(IA(this.node,n,"Start"),(i,{success:a})=>IA(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _w=new WeakMap,$0=new WeakMap,bW=t=>{const e=_w.get(t.target);e&&e(t)},wW=t=>{t.forEach(bW)};function jW({root:t,...e}){const r=t||document;$0.has(r)||$0.set(r,{});const n=$0.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(wW,{root:t,...e})),n[i]}function SW(t,e,r){const n=jW(e);return _w.set(t,r),n.observe(t),()=>{_w.delete(t),n.unobserve(t)}}const _W={some:0,all:1};class NW extends Ga{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:_W[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:h}=this.node.getProps(),g=f?p:h;g&&g(d)};return SW(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(kW(e,r))&&this.startObserver()}unmount(){}}function kW({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const AW={inView:{Feature:NW},tap:{Feature:xW},focus:{Feature:yW},hover:{Feature:vW}},TW={layout:{ProjectionNode:WR,MeasureLayout:i$}},PW={...Z7,...AW,...gW,...TW},W=K7(PW,X7);class CW{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,r){this.componentControls.forEach(n=>{n.start(e.nativeEvent||e,r)})}cancel(){this.componentControls.forEach(e=>{e.cancel()})}stop(){this.componentControls.forEach(e=>{e.stop()})}}const EW=()=>new CW;function OW(){return Cp(EW)}const IW={some:0,all:1};function RW(t,e,{root:r,margin:n,amount:i="some"}={}){const a=fR(t),o=new WeakMap,c=f=>{f.forEach(p=>{const h=o.get(p.target);if(p.isIntersecting!==!!h)if(p.isIntersecting){const g=e(p.target,p);typeof g=="function"?o.set(p.target,g):d.unobserve(p.target)}else typeof h=="function"&&(h(p),o.delete(p.target))})},d=new IntersectionObserver(c,{root:r,rootMargin:n,threshold:typeof i=="number"?i:IW[i]});return a.forEach(f=>d.observe(f)),()=>d.disconnect()}function a$(t,{root:e,margin:r,amount:n,once:i=!1,initial:a=!1}={}){const[o,c]=P.useState(a);return P.useEffect(()=>{if(!t.current||i&&o)return;const d=()=>(c(!0),i?void 0:()=>c(!1)),f={root:e&&e.current||void 0,margin:r,amount:n};return RW(t.current,d,f)},[e,t,r,i,n]),o}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MW=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),RA=t=>{const e=MW(t);return e.charAt(0).toUpperCase()+e.slice(1)},s$=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...c},d)=>P.createElement("svg",{ref:d,...DW,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:s$("lucide",i),...c},[...o.map(([f,p])=>P.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const r=P.forwardRef(({className:n,...i},a)=>P.createElement(zW,{ref:a,iconNode:e,className:s$(`lucide-${$W(RA(t))}`,`lucide-${t}`,n),...i}));return r.displayName=RA(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],il=je("activity",LW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],M0=je("arrow-down",BW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wu=je("arrow-left",FW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],$A=je("arrow-right-left",qW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ui=je("arrow-right",UW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],D0=je("arrow-up",VW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],HW=je("award",WW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],KW=je("ban",GW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],YW=je("bell",XW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],o$=je("bitcoin",JW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ju=je("book-open",QW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],MA=je("book",ZW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],tH=je("bot",eH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],fi=je("brain",rH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bh=je("calendar",nH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$p=je("chart-column",iH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mp=je("check",aH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],l$=je("chevron-left",sH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dp=je("chevron-right",oH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],cH=je("chrome",lH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hi=je("circle-alert",uH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Nw=je("circle-check-big",dH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rt=je("circle-check",fH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pH=je("circle-help",hH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Rr=je("circle-x",mH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vH=je("circle",gH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],zp=je("clock",yH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bH=je("copy",xH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wh=je("crown",wH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Yi=je("database",jH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],al=je("dollar-sign",SH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],$j=je("download",_H);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]],kw=je("euro",NH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],AH=je("external-link",kH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],PH=je("eye-off",TH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mj=je("eye",CH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],OH=je("file-json",EH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],z0=je("file-text",IH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],sl=je("flame",RH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],MH=je("graduation-cap",$H);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zH=je("house",DH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],BH=je("info",LH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Dj=je("layout-dashboard",FH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],c$=je("lightbulb",qH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],zj=je("link",UH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mr=je("loader-circle",VH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],HH=je("loader",WH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ls=je("lock",GH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],u$=je("log-out",KH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],DA=je("mail",XH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],zA=je("medal",YH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],QH=je("message-circle",JH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],eG=je("percent",ZH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]],rG=je("piggy-bank",tG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],jh=je("play",nG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],aG=je("plus",iG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],d$=je("refresh-ccw",sG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wi=je("refresh-cw",oG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Sh=je("rocket",lG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uf=je("save",cG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],f$=je("search",uG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fG=je("send",dG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h$=je("settings",hG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ji=je("shield",pG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],gG=je("smartphone",mG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],mt=je("sparkles",vG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],iu=je("star",yG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zr=je("target",xG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],wG=je("trash-2",bG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],SG=je("trending-down",jG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ht=je("trending-up",_G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Vt=je("trophy",NG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],LA=je("upload",kG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],TG=je("user-check",AG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_h=je("user",PG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],vi=je("users",CG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]],OG=je("vibrate",EG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],RG=je("volume-2",IG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],MG=je("volume-x",$G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],zG=je("wallet",DG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ws=je("x",LG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qi=je("zap",BG),p$={excited:"/mascot-excited.png",logo:"/logo.svg"},FG=p$.excited,qG=p$.logo,Rc=FG,BA=qG;function FA({end:t,duration:e=2}){const[r,n]=P.useState(0),i=P.useRef(null),a=a$(i);return P.useEffect(()=>{if(!a)return;let o,c;const d=f=>{o||(o=f);const p=Math.min((f-o)/(e*1e3),1);n(Math.floor(p*t)),p<1&&(c=requestAnimationFrame(d))};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[t,e,a]),s.jsx("span",{ref:i,children:r.toLocaleString()})}function $c({delay:t=0,color:e}){return s.jsx(W.div,{className:`absolute w-32 h-32 rounded-full blur-3xl ${e} opacity-20`,animate:{x:[0,100,0],y:[0,-100,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,delay:t,ease:"easeInOut"}})}function UG({onNavigate:t}){const[e,r]=P.useState(null),[n,i]=P.useState({x:0,y:0}),a=P.useRef(null);P.useEffect(()=>{const p=h=>{i({x:h.clientX,y:h.clientY})};return window.addEventListener("mousemove",p),()=>window.removeEventListener("mousemove",p)},[]);const o=[{icon:fi,title:"AI Tutor Personalizzato",description:"Prof Satoshi, la tua mascotte AI, ti guida con consigli personalizzati basati sul tuo livello e stile di apprendimento.",gradient:"from-purple-500 to-blue-500",glowColor:"shadow-purple-500/50",stats:"GPT-4o powered"},{icon:zr,title:"Missioni Guidate",description:"Impara attraverso missioni progressive che ti portano da principiante a master trader della Wheel Strategy.",gradient:"from-blue-500 to-cyan-500",glowColor:"shadow-blue-500/50",stats:"5 livelli progressivi"},{icon:$p,title:"Paper Trading Reale",description:"Simula trades con prezzi Bitcoin live senza rischiare capitale. Guadagna XP e sblocca strategie avanzate.",gradient:"from-orange-500 to-pink-500",glowColor:"shadow-orange-500/50",stats:"Dati market live"},{icon:Vt,title:"Gamification Completa",description:"Sistema XP, badge, streak giornalieri e leaderboard globale. Competi con altri trader e sali di livello.",gradient:"from-green-500 to-teal-500",glowColor:"shadow-green-500/50",stats:"20+ badge unici"},{icon:ju,title:"Lezioni Interattive",description:"Quiz, flashcard e contenuti progressivi dal basic all'avanzato. Ogni lezione ti porta pi vicino alla maestria.",gradient:"from-pink-500 to-purple-500",glowColor:"shadow-pink-500/50",stats:"15+ lezioni"},{icon:vi,title:"Community Globale",description:"Unisciti a migliaia di trader. Condividi strategie, confronta performance e impara dai migliori.",gradient:"from-indigo-500 to-purple-500",glowColor:"shadow-indigo-500/50",stats:"Leaderboard live"}],c=[{value:1e4,label:"Studenti Attivi",icon:vi,suffix:"+"},{value:95,label:"Success Rate",icon:ht,suffix:"%"},{value:4.9,label:"Rating Medio",icon:iu,suffix:"/5",decimals:!0},{value:5e5,label:"Missioni Completate",icon:zr,suffix:"+"}],d=[{name:"Marco R.",role:"Beginner Trader",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Marco",content:"In 2 settimane ho capito la Wheel Strategy meglio di quanto avessi fatto in 6 mesi di video YouTube. Le missioni sono geniali!",rating:5},{name:"Giulia T.",role:"Intermediate Investor",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Giulia",content:"Il paper trading mi ha permesso di fare pratica senza stress. Ora gestisco le opzioni Bitcoin con sicurezza nel mondo reale.",rating:5},{name:"Luca M.",role:"Advanced Trader",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Luca",content:"Prof Satoshi  come avere un mentor personale 24/7. I suoi consigli sono sempre spot-on e mi hanno fatto evitare errori costosi.",rating:5}],f=[{name:"Free",price:"0",description:"Perfetto per iniziare",features:["Accesso a tutte le lezioni base","3 missioni guidate","Paper trading limitato","Leaderboard locale","Prof Satoshi con limiti"],cta:"Inizia Gratis",popular:!1},{name:"Pro",price:"9.99",period:"/mese",description:"Il pi popolare",features:["Tutte le lezioni + contenuti premium","Tutte le 15+ missioni","Paper trading illimitato","Leaderboard globale","Prof Satoshi AI illimitato","Analytics avanzati","Supporto prioritario"],cta:"Diventa Pro",popular:!0},{name:"Enterprise",price:"Custom",description:"Per team e organizzazioni",features:["Tutto di Pro +","Dashboard team","Report personalizzati","API access","Onboarding dedicato","SLA garantito"],cta:"Contattaci",popular:!1}];return s.jsxs("div",{className:"min-h-screen bg-gray-950 text-white overflow-hidden",children:[s.jsx(W.nav,{className:"fixed top-0 w-full bg-gray-950/80 backdrop-blur-xl border-b border-gray-800 z-50",initial:{y:-100},animate:{y:0},transition:{duration:.6,ease:"easeOut"},children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 md:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(W.div,{className:"flex items-center gap-3",whileHover:{scale:1.05},children:[s.jsx(W.div,{className:"w-10 h-10 relative",animate:{rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:s.jsx("img",{src:BA,alt:"btcwheel Logo",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 4px 12px rgba(52, 211, 153, 0.4))"}})}),s.jsx("span",{className:"text-white font-bold text-xl",children:"btcwheel"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[s.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white transition-colors",children:"Funzionalit"}),s.jsx("a",{href:"#pricing",className:"text-gray-400 hover:text-white transition-colors",children:"Prezzi"}),s.jsx("a",{href:"#testimonials",className:"text-gray-400 hover:text-white transition-colors",children:"Testimonianze"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xe,{variant:"ghost",onClick:()=>t("auth"),className:"text-gray-400 hover:text-white hover:bg-gray-800",children:"Accedi"}),s.jsx(xe,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg shadow-blue-500/50",onClick:()=>t("onboarding"),children:"Inizia Gratis"})]})]})})}),s.jsxs("section",{className:"relative pt-32 pb-20 md:pt-40 md:pb-32 overflow-hidden",ref:a,children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx($c,{delay:0,color:"bg-blue-600"}),s.jsx($c,{delay:2,color:"bg-purple-600"}),s.jsx($c,{delay:4,color:"bg-orange-600"}),s.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(59, 130, 246, 0.1) 1px, transparent 1px)",backgroundSize:"50px 50px",transform:"perspective(500px) rotateX(60deg) translateZ(-100px)"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950 via-gray-950/90 to-gray-950"})]}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 relative z-10",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsxs(W.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:[s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(Je,{className:"mb-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white border-0 px-4 py-2",children:[s.jsx(mt,{className:"w-4 h-4 mr-2"}),"Nuovo: AI Tutor con GPT-4o"]})}),s.jsxs(W.h1,{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:["Impara la Bitcoin Wheel Strategy con il",s.jsx(W.span,{className:"block mt-2 bg-gradient-to-r from-blue-400 via-purple-400 to-orange-400 bg-clip-text text-transparent",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"},children:"Metodo Pi Efficace"}),"al Mondo"]}),s.jsxs(W.p,{className:"text-gray-400 mb-8 text-xl leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:["Da zero a master trader in 30 giorni. Impara con missioni guidate, AI tutor personalizzato e paper trading sicuro.",s.jsx("span",{className:"text-white font-semibold",children:" Niente rischi, solo risultati."})]}),s.jsxs(W.div,{className:"flex flex-col sm:flex-row gap-4 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[s.jsx(W.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(xe,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 h-14 px-8 shadow-2xl shadow-blue-500/50 text-lg group",onClick:()=>t("onboarding"),children:[s.jsx(Sh,{className:"w-5 h-5 mr-2 group-hover:translate-y-[-4px] transition-transform"}),"Inizia il Percorso Gratis",s.jsx(Ui,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}),s.jsx(W.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(xe,{size:"lg",variant:"outline",className:"h-14 px-8 border-2 border-gray-300 bg-gray-900/50 backdrop-blur hover:bg-gray-800 hover:border-white text-white text-lg group",onClick:()=>{const p=document.getElementById("demo-video");p&&p.scrollIntoView({behavior:"smooth"})},children:[s.jsx(jh,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Guarda Demo"]})})]}),s.jsx(W.div,{className:"flex items-center gap-6 flex-wrap",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[{icon:Ls,text:"Nessuna carta richiesta"},{icon:Ji,text:"100% sicuro"},{icon:vi,text:"10K+ studenti"}].map((p,h)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center",children:s.jsx(p.icon,{className:"w-4 h-4 text-green-400"})}),s.jsx("span",{className:"text-gray-400",children:p.text})]},h))})]}),s.jsx(W.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative",children:s.jsxs("div",{className:"relative",children:[s.jsxs(W.div,{className:"relative z-20 mb-8",animate:{y:[0,-20,0],rotate:[0,-3,3,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[s.jsxs(W.div,{className:"relative w-64 h-64 md:w-80 md:h-80 mx-auto",whileHover:{scale:1.1,rotate:[0,-10,10,0]},transition:{duration:.3},children:[s.jsx(W.div,{className:"absolute inset-0 rounded-full bg-blue-500 opacity-20",animate:{scale:[1,1.3,1],opacity:[.2,0,.2]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s.jsx(W.div,{className:"absolute inset-0 rounded-full bg-purple-500 opacity-20",animate:{scale:[1,1.5,1],opacity:[.2,0,.2]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:.5}}),s.jsx("img",{src:Rc,alt:"Prof Satoshi - Your AI Trading Tutor",className:"w-full h-full object-contain relative z-10",style:{filter:"drop-shadow(0 20px 40px rgba(59, 130, 246, 0.6))"},onError:p=>{console.error(" Error loading Landing Page Mascot:",Rc),p.currentTarget.style.display="none"},onLoad:()=>console.log(" Landing Page Mascot Loaded:",Rc)}),[...Array(8)].map((p,h)=>s.jsx(W.div,{className:"absolute w-3 h-3 bg-yellow-400 rounded-full",style:{top:`${20+Math.random()*60}%`,left:`${20+Math.random()*60}%`},animate:{scale:[0,1.5,0],opacity:[0,1,0],y:[0,-30],x:[0,(Math.random()-.5)*20]},transition:{duration:2,repeat:1/0,delay:h*.3,ease:"easeOut"}},h))]}),s.jsxs(W.div,{className:"absolute top-0 -left-4 md:-left-12 bg-white rounded-2xl px-4 py-3 shadow-2xl border-2 border-blue-500",initial:{opacity:0,scale:0,x:-20},animate:{opacity:1,scale:1,x:0},transition:{delay:1,type:"spring",bounce:.5},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"w-4 h-4 text-blue-500"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Ciao! Sono Prof Satoshi! "})]}),s.jsx("div",{className:"absolute -bottom-2 left-8 w-4 h-4 bg-white border-r-2 border-b-2 border-blue-500 rotate-45"})]})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl blur-3xl opacity-50 animate-pulse"}),s.jsx(W.div,{className:"relative z-10",animate:{rotateY:[0,5,0,-5,0],rotateX:[0,2,0,-2,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{transformStyle:"preserve-3d",perspective:1e3},children:s.jsxs(oe,{className:"p-8 bg-gradient-to-br from-gray-900 to-gray-800 backdrop-blur-xl border-2 border-gray-700 shadow-2xl rounded-3xl",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(W.div,{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-pink-500 rounded-2xl flex items-center justify-center",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},children:s.jsx(Vt,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Il Tuo Progresso"}),s.jsx("p",{className:"text-white font-bold text-lg",children:"Level 12 - Master Trader"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"XP Progress"}),s.jsx("span",{className:"text-white font-semibold",children:"7,850 / 10,000"})]}),s.jsx("div",{className:"h-3 bg-gray-800 rounded-full overflow-hidden",children:s.jsx(W.div,{className:"h-full bg-gradient-to-r from-blue-600 via-purple-600 to-orange-600",initial:{width:0},animate:{width:"78.5%"},transition:{duration:2,delay:.5}})})]}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"12",label:"Missioni",color:"blue"},{value:"8",label:"Badge",color:"purple"},{value:"45",label:"Streak",color:"orange"}].map((p,h)=>s.jsxs(W.div,{className:`bg-${p.color}-500/10 border border-${p.color}-500/20 p-3 rounded-xl text-center`,whileHover:{scale:1.05,y:-5},transition:{type:"spring",stiffness:300},children:[s.jsx("p",{className:`text-${p.color}-400 font-bold text-xl mb-1`,children:p.value}),s.jsx("p",{className:"text-gray-200 text-sm font-medium",children:p.label})]},h))})]})]})}),s.jsx(W.div,{className:"absolute -top-8 -right-8 z-20",animate:{y:[0,-10,0],rotate:[0,10,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0},children:s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white px-6 py-3 rounded-2xl shadow-2xl shadow-green-500/50 flex items-center gap-2 border border-green-400/50",children:[s.jsx(mt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-bold text-lg",children:"+200 XP"})]})}),s.jsx(W.div,{className:"absolute -bottom-6 -left-6 z-20",animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:4,repeat:1/0},children:s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 text-white p-5 rounded-3xl shadow-2xl shadow-purple-500/50 border border-purple-400/50",children:s.jsx(Vt,{className:"w-10 h-10"})})}),s.jsx(W.div,{className:"absolute top-1/2 -left-12 z-20",animate:{x:[0,-10,0],rotate:[0,-10,0]},transition:{duration:2.5,repeat:1/0},children:s.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white p-4 rounded-2xl shadow-2xl shadow-orange-500/50",children:s.jsx(sl,{className:"w-8 h-8"})})})]})})]})})]}),s.jsx("section",{className:"py-16 border-y border-gray-800 bg-gray-900/50 backdrop-blur",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:c.map((p,h)=>s.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.1},className:"text-center group",children:[s.jsx(W.div,{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-2xl mb-4 border border-blue-500/20",whileHover:{scale:1.1,rotate:5},children:s.jsx(p.icon,{className:"w-8 h-8 text-blue-400 group-hover:text-blue-300 transition-colors"})}),s.jsx("p",{className:"text-4xl font-bold text-white mb-2",children:p.decimals?s.jsxs(s.Fragment,{children:[s.jsx(FA,{end:p.value}),p.suffix]}):s.jsxs(s.Fragment,{children:[s.jsx(FA,{end:p.value}),p.suffix]})}),s.jsx("p",{className:"text-gray-400",children:p.label})]},h))})})}),s.jsx("section",{className:"py-20 md:py-32 relative overflow-hidden bg-gradient-to-b from-gray-950 via-blue-950/20 to-gray-950",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsx(W.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative order-2 md:order-1",children:s.jsxs(W.div,{className:"relative w-full max-w-md mx-auto",animate:{y:[0,-15,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/30 to-blue-600/30 rounded-full blur-3xl"}),s.jsx(W.img,{src:Rc,alt:"Prof Satoshi AI Tutor",className:"w-full h-full object-contain relative z-10",style:{filter:"drop-shadow(0 20px 60px rgba(139, 92, 246, 0.6))"},whileHover:{scale:1.05,rotate:[0,-5,5,0]},transition:{duration:.3}}),s.jsxs(W.div,{className:"absolute top-10 -right-4 bg-gradient-to-br from-blue-500 to-purple-600 text-white px-4 py-2 rounded-full shadow-xl flex items-center gap-2",animate:{y:[0,-10,0],rotate:[0,5,0]},transition:{duration:3,repeat:1/0,delay:.5},children:[s.jsx(fi,{className:"w-4 h-4"}),s.jsx("span",{className:"font-semibold text-sm",children:"GPT-4o"})]}),s.jsxs(W.div,{className:"absolute bottom-20 -left-4 bg-gradient-to-br from-green-500 to-teal-600 text-white px-4 py-2 rounded-full shadow-xl flex items-center gap-2",animate:{y:[0,10,0],rotate:[0,-5,0]},transition:{duration:3,repeat:1/0,delay:1},children:[s.jsx(mt,{className:"w-4 h-4"}),s.jsx("span",{className:"font-semibold text-sm",children:"24/7 Disponibile"})]})]})}),s.jsxs(W.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"order-1 md:order-2",children:[s.jsxs(Je,{className:"mb-6 bg-purple-500/10 text-purple-400 border border-purple-500/20 px-4 py-2",children:[s.jsx(fi,{className:"w-4 h-4 mr-2"}),"Incontra Prof Satoshi"]}),s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Il Tuo",s.jsx("span",{className:"block mt-2 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"AI Tutor Personale"})]}),s.jsxs("div",{className:"space-y-4 text-gray-300 text-lg mb-8",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Prof Satoshi"}),"  la tua mascotte AI alimentata da GPT-4o che ti accompagna in ogni passo del tuo percorso di apprendimento."]}),s.jsxs("p",{children:["Non  solo un chatbot -  un ",s.jsx("strong",{className:"text-white",children:"mentor intelligente"})," che:"]})]}),s.jsx("div",{className:"space-y-4",children:[{icon:zr,text:"Analizza il tuo livello e crea percorsi personalizzati"},{icon:mt,text:"Ti d consigli in tempo reale durante le missioni"},{icon:Vt,text:"Celebra i tuoi successi e ti motiva nei momenti difficili"},{icon:fi,text:"Risponde a qualsiasi domanda sulla Wheel Strategy"}].map((p,h)=>s.jsxs(W.div,{className:"flex items-start gap-4 group",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:h*.1},children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform border border-purple-500/20",children:s.jsx(p.icon,{className:"w-5 h-5 text-purple-400"})}),s.jsx("p",{className:"text-gray-300 leading-relaxed pt-2",children:p.text})]},h))}),s.jsx(W.div,{className:"mt-8",whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(xe,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 h-14 px-8 shadow-2xl shadow-purple-500/50 text-lg group",onClick:()=>t("onboarding"),children:[s.jsx(mt,{className:"w-5 h-5 mr-2 group-hover:rotate-12 transition-transform"}),"Chatta con Prof Satoshi Ora",s.jsx(Ui,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})})}),s.jsxs("section",{id:"features",className:"py-20 md:py-32 relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 relative z-10",children:[s.jsxs(W.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[s.jsxs(Je,{className:"mb-6 bg-blue-500/10 text-blue-400 border border-blue-500/20 px-4 py-2",children:[s.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Funzionalit"]}),s.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Tutto ci che ti serve per",s.jsx("span",{className:"block mt-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"padroneggiare la Wheel Strategy"})]}),s.jsx("p",{className:"text-gray-400 text-xl max-w-3xl mx-auto",children:"Un ecosistema completo di strumenti educativi, gamification e AI per portarti da principiante a esperto."})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((p,h)=>s.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.1},onMouseEnter:()=>r(h),onMouseLeave:()=>r(null),children:s.jsx(W.div,{whileHover:{scale:1.05,rotateY:5,rotateX:5},transition:{type:"spring",stiffness:300},style:{transformStyle:"preserve-3d"},children:s.jsxs(oe,{className:`p-8 h-full bg-gradient-to-br from-gray-900 to-gray-800 border-2 transition-all duration-300 ${e===h?`border-blue-500/50 shadow-2xl ${p.glowColor}`:"border-gray-700 shadow-lg"}`,children:[s.jsxs(W.div,{className:`w-16 h-16 bg-gradient-to-br ${p.gradient} rounded-2xl flex items-center justify-center mb-6 relative`,animate:e===h?{rotate:[0,10,-10,0],scale:[1,1.1,1]}:{},transition:{duration:.5},children:[s.jsx(p.icon,{className:"w-8 h-8 text-white"}),e===h&&s.jsx(W.div,{className:"absolute inset-0 bg-white rounded-2xl",initial:{opacity:0},animate:{opacity:[0,.2,0]},transition:{duration:1,repeat:1/0}})]}),s.jsx(Je,{className:"mb-4 bg-gray-800 text-gray-300 border-0 px-3 py-1",children:p.stats}),s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:p.title}),s.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:p.description}),s.jsxs(xe,{variant:"ghost",className:"p-0 h-auto text-blue-400 hover:text-blue-300 group",children:["Scopri di pi",s.jsx(Dp,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})})},h))})]})]}),s.jsxs("section",{className:"py-20 md:py-32 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx($c,{delay:1,color:"bg-purple-600"}),s.jsx($c,{delay:3,color:"bg-blue-600"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 relative z-10",children:[s.jsxs(W.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[s.jsx(Je,{className:"mb-6 bg-purple-500/10 text-purple-400 border border-purple-500/20 px-4 py-2",children:"Come Funziona"}),s.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Da zero a master in",s.jsx("span",{className:"block mt-2 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"3 semplici step"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[s.jsx("div",{className:"hidden md:block absolute top-1/4 left-0 right-0 h-1",children:s.jsx(W.div,{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-orange-500 opacity-30",initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:1.5}})}),[{step:"1",title:"Onboarding AI",description:"Rispondi a 5 domande e lascia che l'AI crei un percorso personalizzato basato sul tuo livello e obiettivi.",icon:fi,color:"from-blue-500 to-cyan-500"},{step:"2",title:"Impara & Pratica",description:"Completa missioni guidate, lezioni interattive e paper trading. Prof Satoshi ti assiste in ogni momento.",icon:zr,color:"from-purple-500 to-pink-500"},{step:"3",title:"Diventa Master",description:"Guadagna XP, sblocca badge, scala la leaderboard e applica le tue skills nel mondo reale.",icon:Vt,color:"from-orange-500 to-red-500"}].map((p,h)=>s.jsx(W.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.2},className:"relative",children:s.jsx(W.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:s.jsxs(oe,{className:"p-8 text-center h-full bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-gray-700 hover:border-gray-600 transition-all",children:[s.jsxs(W.div,{className:`w-24 h-24 bg-gradient-to-br ${p.color} rounded-3xl flex items-center justify-center mx-auto mb-6 relative`,whileHover:{rotate:360},transition:{duration:.8},children:[s.jsx(p.icon,{className:"w-12 h-12 text-white"}),s.jsx(W.div,{className:"absolute inset-0 rounded-3xl",animate:{boxShadow:["0 0 20px rgba(59, 130, 246, 0.3)","0 0 40px rgba(147, 51, 234, 0.5)","0 0 20px rgba(59, 130, 246, 0.3)"]},transition:{duration:2,repeat:1/0}})]}),s.jsx(W.div,{className:"w-14 h-14 bg-gradient-to-br from-gray-800 to-gray-900 text-white rounded-full flex items-center justify-center mx-auto mb-6 font-bold text-2xl border-2 border-gray-700",whileHover:{scale:1.2},children:p.step}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:p.title}),s.jsx("p",{className:"text-gray-400 leading-relaxed",children:p.description})]})})},h))]})]})]}),s.jsx("section",{id:"testimonials",className:"py-20 md:py-32 bg-gray-900/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:[s.jsxs(W.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[s.jsxs(Je,{className:"mb-6 bg-orange-500/10 text-orange-400 border border-orange-500/20 px-4 py-2",children:[s.jsx(iu,{className:"w-4 h-4 mr-2"}),"Testimonianze"]}),s.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Cosa dicono i nostri",s.jsx("span",{className:"block mt-2 bg-gradient-to-r from-orange-400 to-pink-400 bg-clip-text text-transparent",children:"studenti"})]})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:d.map((p,h)=>s.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.1},children:s.jsx(W.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:s.jsxs(oe,{className:"p-8 h-full bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-gray-700 hover:border-yellow-500/50 transition-all",children:[s.jsx("div",{className:"flex items-center gap-1 mb-6",children:[...Array(p.rating)].map((g,y)=>s.jsx(W.div,{initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{delay:y*.1},children:s.jsx(iu,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"})},y))}),s.jsxs("p",{className:"text-gray-300 mb-8 italic leading-relaxed text-lg",children:['"',p.content,'"']}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:p.avatar,alt:p.name,className:"w-14 h-14 rounded-full border-2 border-gray-700"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-bold",children:p.name}),s.jsx("p",{className:"text-gray-400",children:p.role})]})]})]})})},h))})]})}),s.jsxs("section",{id:"pricing",className:"py-20 md:py-32 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 relative z-10",children:[s.jsxs(W.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[s.jsx(Je,{className:"mb-6 bg-green-500/10 text-green-400 border border-green-500/20 px-4 py-2",children:"Prezzi"}),s.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Scegli il piano",s.jsx("span",{className:"block mt-2 bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent",children:"perfetto per te"})]}),s.jsx("p",{className:"text-gray-400 text-xl max-w-3xl mx-auto",children:"Inizia gratis e passa a Pro quando sei pronto. Nessun impegno, cancella quando vuoi."})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:f.map((p,h)=>s.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.1},children:s.jsxs(W.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},className:"relative h-full",children:[p.popular&&s.jsx(W.div,{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl blur-xl opacity-50",animate:{opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0}}),s.jsxs(oe,{className:`p-8 h-full relative ${p.popular?"bg-gradient-to-br from-blue-600 to-purple-600 border-0":"bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-gray-700"}`,children:[p.popular&&s.jsx(W.div,{className:"absolute -top-5 left-1/2 transform -translate-x-1/2",animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},children:s.jsx(Je,{className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white border-0 px-4 py-2 shadow-lg",children:" Pi Popolare"})}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:p.name}),s.jsx("p",{className:p.popular?"text-blue-100":"text-gray-400",children:p.description})]}),s.jsx("div",{className:"text-center mb-8",children:s.jsx("span",{className:"text-white",children:p.price==="Custom"?s.jsx("span",{className:"text-4xl font-bold",children:"Custom"}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-6xl font-bold",children:["",p.price]}),p.period&&s.jsx("span",{className:"text-gray-400 text-xl",children:p.period})]})})}),s.jsx("ul",{className:"space-y-4 mb-8",children:p.features.map((g,y)=>s.jsxs(W.li,{className:"flex items-start gap-3",initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:y*.05},children:[s.jsx(Rt,{className:`w-6 h-6 flex-shrink-0 ${p.popular?"text-white":"text-blue-400"}`}),s.jsx("span",{className:`${p.popular?"text-white":"text-gray-300"} leading-relaxed`,children:g})]},y))}),s.jsx(W.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(xe,{className:`w-full h-14 text-lg font-semibold ${p.popular?"bg-white text-blue-600 hover:bg-gray-100 shadow-2xl":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-xl"}`,onClick:()=>t("auth"),children:p.cta})})]})]})},h))})]})]}),s.jsxs("section",{className:"py-20 md:py-32 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-orange-600"}),s.jsx("div",{className:"absolute inset-0",children:[...Array(30)].map((p,h)=>s.jsx(W.div,{className:"absolute w-2 h-2 bg-white rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-50,0],opacity:[0,1,0],scale:[0,1,0]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*3}},h))}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 md:px-6 text-center relative z-10",children:s.jsxs(W.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8},children:[s.jsxs(W.div,{className:"relative w-32 h-32 mx-auto mb-8",animate:{y:[0,-15,0],rotate:[0,-5,5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[s.jsx(W.div,{className:"absolute inset-0 rounded-full bg-white/30",animate:{scale:[1,1.5,1],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s.jsx("img",{src:Rc,alt:"Prof Satoshi ti aspetta!",className:"w-full h-full object-contain relative z-10",style:{filter:"drop-shadow(0 10px 30px rgba(255, 255, 255, 0.4))"}}),[...Array(5)].map((p,h)=>s.jsx(W.div,{className:"absolute w-2 h-2 bg-white rounded-full",style:{top:`${20+Math.random()*60}%`,left:`${20+Math.random()*60}%`},animate:{scale:[0,1.5,0],opacity:[0,1,0],y:[0,-20]},transition:{duration:2,repeat:1/0,delay:h*.4,ease:"easeOut"}},h))]}),s.jsx("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Pronto a Diventare un Master Trader?"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Unisciti a migliaia di studenti che stanno gi padroneggiando la Bitcoin Wheel Strategy. Inizia gratis oggi!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(W.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsxs(xe,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 h-16 px-10 text-lg font-bold shadow-2xl group",onClick:()=>t("onboarding"),children:[s.jsx(Sh,{className:"w-6 h-6 mr-2 group-hover:translate-y-[-4px] transition-transform"}),"Inizia Ora Gratis",s.jsx(Ui,{className:"w-6 h-6 ml-2 group-hover:translate-x-2 transition-transform"})]})}),s.jsx(W.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx(xe,{size:"lg",variant:"outline",className:"h-16 px-10 border-2 border-white bg-white/10 backdrop-blur hover:bg-white/20 text-white text-lg font-bold",onClick:()=>t("auth"),children:"Hai gi un account? Accedi"})})]})]})})]}),s.jsx("footer",{className:"py-12 border-t border-gray-800 bg-gray-950",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(W.div,{className:"w-10 h-10",animate:{rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:s.jsx("img",{src:BA,alt:"btcwheel Logo",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 2px 8px rgba(52, 211, 153, 0.4))"}})}),s.jsx("span",{className:"text-white font-bold text-xl",children:"btcwheel"})]}),s.jsx("p",{className:"text-gray-400",children:"Impara la Bitcoin Wheel Strategy con AI tutor personale e simulazioni trading."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Prodotto"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white transition-colors",children:"Funzionalit"})}),s.jsx("li",{children:s.jsx("a",{href:"#pricing",className:"text-gray-400 hover:text-white transition-colors",children:"Prezzi"})}),s.jsx("li",{children:s.jsx("a",{href:"#testimonials",className:"text-gray-400 hover:text-white transition-colors",children:"Testimonianze"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Risorse"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Blog"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Guide"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"FAQ"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Legale"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Terms"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Cookies"})})]})]})]}),s.jsx("div",{className:"pt-8 border-t border-gray-800 text-center text-gray-400",children:s.jsx("p",{children:" 2024 btcwheel. Tutti i diritti riservati."})})]})})]})}const VG="/favicon.svg";function en({currentView:t,onNavigate:e,onMascotToggle:r,mascotVisible:n}){const{signOut:i}=yn(),a=[{id:"home",icon:zH,label:"Home"},{id:"dashboard",icon:Dj,label:"Dashboard"},{id:"lessons",icon:ju,label:"Lezioni"},{id:"simulation",icon:ht,label:"Trading"},{id:"exchange",icon:zj,label:"Exchange"},{id:"leaderboard",icon:Vt,label:"Classifica"}],o=async()=>{console.log(" [Navigation] Logging out..."),await i(),setTimeout(()=>{window.location.reload()},300)};return s.jsxs(s.Fragment,{children:[s.jsxs("nav",{className:"hidden md:flex fixed left-0 top-0 h-screen w-20 bg-gray-900/95 backdrop-blur-xl border-r border-white/10 flex-col items-center py-6 z-50 safe-area-left",children:[s.jsx("div",{className:"mb-8 w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 p-2 shadow-lg shadow-emerald-500/20",children:s.jsx("img",{src:VG,alt:"btcwheel",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"flex-1 flex flex-col gap-4 w-full px-3",children:a.map(c=>{const d=c.icon,f=t===c.id;return s.jsxs(W.button,{onClick:()=>e(c.id),className:`relative group flex flex-col items-center justify-center gap-1 p-3 rounded-xl transition-all ${f?"bg-emerald-500/20 text-emerald-400":"text-gray-400 hover:text-white hover:bg-white/5"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(d,{className:"w-5 h-5"}),s.jsx("span",{className:"text-[9px] font-medium",children:c.label}),f&&s.jsx(W.div,{className:"absolute -left-3 top-1/2 -translate-y-1/2 w-1 h-8 bg-emerald-500 rounded-r-full",layoutId:"activeIndicator",transition:{type:"spring",stiffness:300,damping:30}}),s.jsx("div",{className:"absolute left-full ml-4 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-50 border border-white/10",children:c.label})]},c.id)})}),r&&s.jsx("button",{onClick:r,className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all mb-4 ${n?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"bg-white/5 text-gray-400 hover:text-white hover:bg-white/10"}`,title:n?"Nascondi Prof Satoshi":"Mostra Prof Satoshi",children:s.jsx(mt,{className:"w-5 h-5"})}),s.jsx("button",{onClick:o,className:"w-12 h-12 rounded-xl bg-red-500/10 text-red-400 hover:bg-red-500/20 flex items-center justify-center transition-all group",title:"Logout",children:s.jsx(u$,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 h-20 bg-gray-900/95 backdrop-blur-xl border-t border-white/10 z-50 safe-area-bottom",children:s.jsx("div",{className:"h-full flex items-center justify-around px-2",children:a.map(c=>{const d=c.icon,f=t===c.id;return s.jsxs(W.button,{onClick:()=>e(c.id),className:`flex flex-col items-center justify-center gap-1 p-2 rounded-xl transition-all min-w-[60px] ${f?"text-emerald-400":"text-gray-400"}`,whileTap:{scale:.9},children:[s.jsx(d,{className:"w-5 h-5"}),s.jsx("span",{className:"text-[9px] font-medium",children:c.label}),f&&s.jsx(W.div,{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-emerald-500 rounded-t-full",layoutId:"mobileActiveIndicator",transition:{type:"spring",stiffness:300,damping:30}})]},c.id)})})})]})}function WG(t,e=[]){let r=[];function n(a,o){const c=P.createContext(o);c.displayName=a+"Context";const d=r.length;r=[...r,o];const f=h=>{const{scope:g,children:y,...b}=h,w=g?.[t]?.[d]||c,x=P.useMemo(()=>b,Object.values(b));return s.jsx(w.Provider,{value:x,children:y})};f.displayName=a+"Provider";function p(h,g){const y=g?.[t]?.[d]||c,b=P.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=r.map(o=>P.createContext(o));return function(c){const d=c?.[t]||a;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[n,HG(i,...e)]}function HG(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const h=d(a)[`__scope${f}`];return{...c,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function m$(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...r)=>e.current?.(...r),[])}var Ha=globalThis?.document?P.useLayoutEffect:()=>{},GG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lj=GG.reduce((t,e)=>{const r=od(`Primitive.${e}`),n=P.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),L0={exports:{}},B0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA;function KG(){if(qA)return B0;qA=1;var t=Np();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(h,g){var y=g(),b=n({inst:{value:y,getSnapshot:g}}),w=b[0].inst,x=b[1];return a(function(){w.value=y,w.getSnapshot=g,d(w)&&x({inst:w})},[h,y,g]),i(function(){return d(w)&&x({inst:w}),h(function(){d(w)&&x({inst:w})})},[h]),o(y),y}function d(h){var g=h.getSnapshot;h=h.value;try{var y=g();return!r(h,y)}catch{return!0}}function f(h,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return B0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,B0}var UA;function XG(){return UA||(UA=1,L0.exports=KG()),L0.exports}var YG=XG();function JG(){return YG.useSyncExternalStore(QG,()=>!0,()=>!1)}function QG(){return()=>{}}var Bj="Avatar",[ZG]=WG(Bj),[eK,g$]=ZG(Bj),v$=P.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=P.useState("idle");return s.jsx(eK,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Lj.span,{...n,ref:e})})});v$.displayName=Bj;var y$="AvatarImage",tK=P.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=g$(y$,r),c=rK(n,a),d=m$(f=>{i(f),o.onImageLoadingStatusChange(f)});return Ha(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?s.jsx(Lj.img,{...a,ref:e,src:n}):null});tK.displayName=y$;var x$="AvatarFallback",b$=P.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=g$(x$,r),[o,c]=P.useState(n===void 0);return P.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Lj.span,{...i,ref:e}):null});b$.displayName=x$;function VA(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function rK(t,{referrerPolicy:e,crossOrigin:r}){const n=JG(),i=P.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,c]=P.useState(()=>VA(a,t));return Ha(()=>{c(VA(a,t))},[a,t]),Ha(()=>{const d=h=>()=>{c(h)};if(!a)return;const f=d("loaded"),p=d("error");return a.addEventListener("load",f),a.addEventListener("error",p),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",f),a.removeEventListener("error",p)}},[a,r,e]),o}var nK=v$,iK=b$;function Su({className:t,...e}){return s.jsx(nK,{"data-slot":"avatar",className:gr("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function _u({className:t,...e}){return s.jsx(iK,{"data-slot":"avatar-fallback",className:gr("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function Fj({onNavigate:t}){const{user:e,signOut:r}=yn(),[n,i]=P.useState(!1);if(!e)return null;const a=e.user_metadata?.name||e.email?.split("@")[0]||"Utente",o=a.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2),c=async()=>{console.log(" [UserMenu] Logging out..."),i(!1),await r(),setTimeout(()=>{window.location.reload()},300)};return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[s.jsx(Su,{className:"w-10 h-10 border-2 border-white/50",children:s.jsx(_u,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:o})}),s.jsxs("div",{className:"hidden md:block text-left",children:[s.jsx("p",{className:"text-sm font-semibold text-white",children:a}),s.jsx("p",{className:"text-xs text-white/70",children:e.email})]})]}),s.jsx(ii,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),s.jsx(W.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-64 z-50",children:s.jsxs(oe,{className:"p-4 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-3 mb-3 border-b border-gray-200",children:[s.jsx(Su,{className:"w-12 h-12",children:s.jsx(_u,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:o})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:a}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:e.email})]})]}),s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:[s.jsx(Ji,{className:"w-3 h-3"}),e.app_metadata?.provider==="google"?"Google Account":"Email Account"]})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(xe,{variant:"ghost",className:"w-full justify-start",onClick:()=>{i(!1)},children:[s.jsx(_h,{className:"w-4 h-4 mr-2"}),"Profilo"]}),s.jsxs(xe,{variant:"ghost",className:"w-full justify-start",onClick:()=>{i(!1),t?.("settings")},children:[s.jsx(h$,{className:"w-4 h-4 mr-2"}),"Impostazioni"]}),s.jsxs(xe,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:c,children:[s.jsx(u$,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})]})})]})}function Ka(){const{user:t}=yn(),e=!bt||!t,[r,n]=P.useState({level:1,xp:0,xpToNextLevel:1e3,streak:0,badges:[],lessonsCompleted:0,totalLessons:15,currentLesson:1,completedLessons:[],perfectQuizzes:0,profitableSimulations:0}),[i,a]=P.useState([]),[o,c]=P.useState(!0),[d,f]=P.useState(!1),p=P.useCallback(async()=>{c(!0);try{if(e){const x=Qt.getItem("btc-wheel-progress");if(x){const S=JSON.parse(x);n({...S,completedLessons:S.completedLessons||[],perfectQuizzes:S.perfectQuizzes||0,profitableSimulations:S.profitableSimulations||0})}c(!1);return}if(t){let x=await bF(t.id);if(!x){const k=t.user_metadata?.username||t.email?.split("@")[0]||"User";x=await wF(t.id,k)}x&&n({level:x.level,xp:x.xp,xpToNextLevel:x.xp_to_next_level,streak:x.streak,badges:x.badges||[],lessonsCompleted:x.lessons_completed,totalLessons:x.total_lessons,currentLesson:x.current_lesson,completedLessons:x.completed_lessons||[],perfectQuizzes:x.perfect_quizzes||0,profitableSimulations:x.profitable_simulations||0});const S=await v0(t.id,10);a(S)}}catch(x){console.error("Error loading progress:",x)}finally{c(!1)}},[t,e]);P.useEffect(()=>{p()},[p]);const h=P.useCallback(async x=>{f(!0);try{const S={...r,...x};if(Qt.setItem("btc-wheel-progress",JSON.stringify(S)),!e&&t){const k={level:x.level,xp:x.xp,xp_to_next_level:x.xpToNextLevel,streak:x.streak,badges:x.badges,lessons_completed:x.lessonsCompleted,current_lesson:x.currentLesson};await jF(t.id,k)}return n(S),!0}catch(S){return console.error("Error syncing progress:",S),!1}finally{f(!1)}},[t,r,e]),g=P.useCallback(async x=>{const S=r.xp+x;let k=r.level,_=r.xpToNextLevel;S>=r.xpToNextLevel&&(k+=1,_=r.xpToNextLevel+500);const C={...r,xp:S,level:k,xpToNextLevel:_};n(C),t&&await h(C)},[r,t,h]),y=P.useCallback(async x=>{const S=x||r.currentLesson,k=r.completedLessons||[],_=k.includes(S),C={...r,lessonsCompleted:_?r.lessonsCompleted:r.lessonsCompleted+1,currentLesson:r.currentLesson+1,completedLessons:_?k:[...k,S]};if(n(C),t){await h(C),await l2(t.id,"lesson_completed",`Completata lezione ${S}`,250);const N=await v0(t.id,10);a(N)}return C},[r,t,h]),b=P.useCallback(async x=>{if(r.badges.includes(x))return;const S={...r,badges:[...r.badges,x]};if(n(S),t){await h(S),await l2(t.id,"badge_earned",`Sbloccato badge: ${x}`,500);const k=await v0(t.id,10);a(k)}},[r,t,h]),w=P.useCallback(async x=>{const S={...r,streak:x};n(S),t&&await h(S)},[r,t,h]);return{progress:r,activities:i,loading:o,syncing:d,addXP:g,completeLesson:y,addBadge:b,updateStreak:w,syncProgress:h,reloadProgress:p}}function aK({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const{progress:n}=Ka(),[i,a]=P.useState(null),o=[{id:1,title:"Introduzione al Bitcoin",status:"completed",xp:100,category:"Fondamenti"},{id:2,title:"Cos' la Wheel Strategy",status:"completed",xp:100,category:"Fondamenti"},{id:3,title:"Vendere Cash-Secured Puts",status:"completed",xp:150,category:"Strategie Base"},{id:4,title:"Vendere Covered Calls",status:"completed",xp:150,category:"Strategie Base"},{id:5,title:"Gestione del Rischio",status:"completed",xp:200,category:"Risk Management"},{id:6,title:"Calcolo della Volatilit",status:"completed",xp:200,category:"Analisi Tecnica"},{id:7,title:"Strike Selection",status:"completed",xp:200,category:"Analisi Tecnica"},{id:8,title:"Premium Collection",status:"completed",xp:250,category:"Strategie Avanzate"},{id:9,title:"Roll & Adjust",status:"current",xp:250,category:"Strategie Avanzate"},{id:10,title:"Trade Psychology",status:"locked",xp:300,category:"Psicologia"},{id:11,title:"Portfolio Sizing",status:"locked",xp:300,category:"Portfolio Management"},{id:12,title:"Market Analysis",status:"locked",xp:350,category:"Analisi Mercato"},{id:13,title:"Advanced Strategies",status:"locked",xp:400,category:"Strategie Avanzate"},{id:14,title:"Tax Considerations",status:"locked",xp:400,category:"Fiscalit"},{id:15,title:"Master Exam",status:"locked",xp:500,category:"Certificazione"}],c=d=>({Fondamenti:"from-blue-500 to-cyan-500","Strategie Base":"from-emerald-500 to-teal-500","Risk Management":"from-orange-500 to-red-500","Analisi Tecnica":"from-violet-500 to-purple-500","Strategie Avanzate":"from-pink-500 to-rose-500",Psicologia:"from-amber-500 to-yellow-500","Portfolio Management":"from-indigo-500 to-blue-500","Analisi Mercato":"from-teal-500 to-cyan-500",Fiscalit:"from-slate-500 to-gray-500",Certificazione:"from-yellow-400 to-orange-500"})[d]||"from-gray-500 to-gray-600";return s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white",children:[s.jsx("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),s.jsx("div",{className:"fixed top-0 right-0 w-[500px] h-[500px] bg-emerald-500/10 rounded-full blur-[150px] pointer-events-none"}),s.jsx("div",{className:"fixed bottom-0 left-0 w-[500px] h-[500px] bg-orange-500/10 rounded-full blur-[150px] pointer-events-none"}),s.jsx(en,{currentView:"home",onNavigate:t,onMascotToggle:r,mascotVisible:e}),s.jsx(W.header,{className:"relative bg-gradient-to-br from-gray-900/50 to-gray-800/50 safe-area-top sticky top-0 z-40 backdrop-blur-xl border-b border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:s.jsx("div",{className:"px-4 py-5 md:px-6 md:py-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-1",children:"Percorso di Apprendimento"}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[n.lessonsCompleted," di ",n.totalLessons," lezioni completate"]})]}),s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[s.jsxs(W.div,{className:"flex items-center gap-2 bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/20 backdrop-blur-sm rounded-xl px-3 py-2",whileHover:{scale:1.05},children:[s.jsx(sl,{className:"w-4 h-4 text-orange-400 flex-shrink-0"}),s.jsx("span",{className:"text-white font-semibold",children:n.streak})]}),s.jsxs(W.div,{className:"flex items-center gap-2 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 border border-emerald-500/20 backdrop-blur-sm rounded-xl px-3 py-2",whileHover:{scale:1.05},children:[s.jsx(Qi,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),s.jsx("span",{className:"text-white font-semibold",children:n.xp})]}),s.jsx("div",{className:"hidden md:block",children:s.jsx(Fj,{onNavigate:t})})]})]}),s.jsxs(W.div,{className:"mt-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Completamento Corso"}),s.jsxs("span",{className:"text-sm font-bold text-emerald-400",children:[Math.round(n.lessonsCompleted/n.totalLessons*100),"%"]})]}),s.jsx("div",{className:"relative h-2 bg-white/5 rounded-full overflow-hidden backdrop-blur-sm border border-white/10",children:s.jsx(W.div,{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-full",initial:{width:0},animate:{width:`${n.lessonsCompleted/n.totalLessons*100}%`},transition:{duration:1,ease:"easeOut",delay:.3}})})]})]})})}),s.jsxs("main",{className:"relative max-w-6xl mx-auto px-4 py-6 md:px-6 md:py-8",children:[s.jsxs(W.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[s.jsx(oe,{className:"p-4 bg-gradient-to-br from-emerald-600 to-teal-600 border-0 text-white",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm",children:s.jsx(zr,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-emerald-100 text-sm",children:"Livello"}),s.jsx("p",{className:"text-2xl font-bold",children:n.level})]})]})}),s.jsx(oe,{className:"p-4 bg-gradient-to-br from-orange-600 to-red-600 border-0 text-white",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm",children:s.jsx(sl,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm",children:"Streak"}),s.jsx("p",{className:"text-2xl font-bold",children:n.streak})]})]})}),s.jsx(oe,{className:"p-4 bg-gradient-to-br from-violet-600 to-purple-600 border-0 text-white",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm",children:s.jsx(Vt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm",children:"Badge"}),s.jsx("p",{className:"text-2xl font-bold",children:n.badges.length})]})]})}),s.jsx(oe,{className:"p-4 bg-gradient-to-br from-blue-600 to-cyan-600 border-0 text-white",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm",children:s.jsx(ju,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm",children:"Lezioni"}),s.jsx("p",{className:"text-2xl font-bold",children:n.lessonsCompleted})]})]})})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(ju,{className:"w-5 h-5 text-emerald-400"}),"Tutte le Lezioni"]}),s.jsx("div",{className:"space-y-3",children:o.map((d,f)=>{const p=d.status==="locked",h=d.status==="current",g=d.status==="completed";return s.jsx(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+f*.05},onHoverStart:()=>a(d.id),onHoverEnd:()=>a(null),whileHover:p?{}:{x:4},children:s.jsxs(oe,{className:`
                      relative overflow-hidden transition-all
                      ${p?"bg-gray-800/20 border-white/5 cursor-not-allowed":"bg-gradient-to-br from-gray-800/50 to-gray-900/50 border-white/10 hover:border-white/20 cursor-pointer"}
                      ${h?"ring-2 ring-emerald-500/50 ring-offset-2 ring-offset-gray-950":""}
                    `,onClick:()=>!p&&t("lesson"),children:[h&&s.jsx(W.div,{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 via-teal-500/10 to-emerald-500/10",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:3,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 100%"}}),s.jsxs("div",{className:"relative p-4 md:p-5 flex items-center gap-4",children:[s.jsxs("div",{className:`
                        relative flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center
                        ${g?"bg-gradient-to-br from-emerald-500 to-teal-500":h?"bg-gradient-to-br from-orange-500 to-red-500":"bg-gray-700/50"}
                      `,children:[g&&s.jsx(Mp,{className:"w-6 h-6 text-white"}),h&&s.jsx(W.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:s.jsx(jh,{className:"w-6 h-6 text-white"})}),p&&s.jsx(Ls,{className:"w-6 h-6 text-gray-500"}),h&&s.jsx(W.div,{className:"absolute inset-0 rounded-xl bg-orange-500",initial:{scale:1,opacity:.5},animate:{scale:1.5,opacity:0},transition:{duration:2,repeat:1/0}})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3 mb-1",children:[s.jsx("h3",{className:`font-semibold ${p?"text-gray-500":"text-white"}`,children:d.title}),h&&s.jsx(W.div,{animate:{rotate:[0,14,-14,14,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:s.jsx(mt,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"})})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Je,{className:`
                              text-xs border-0
                              ${p?"bg-gray-700/50 text-gray-500":`bg-gradient-to-r ${c(d.category)} text-white`}
                            `,children:d.category}),s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(Qi,{className:`w-3 h-3 ${p?"text-gray-600":"text-yellow-400"}`}),s.jsxs("span",{className:p?"text-gray-600":"text-gray-400",children:[d.xp," XP"]})]}),g&&s.jsx(Je,{variant:"outline",className:"text-xs border-emerald-500/30 text-emerald-400 bg-emerald-500/10",children:"Completata"}),h&&s.jsx(Je,{variant:"outline",className:"text-xs border-orange-500/30 text-orange-400 bg-orange-500/10",children:"In Corso"})]})]}),!p&&s.jsx(W.div,{animate:i===d.id?{x:[0,4,0]}:{},transition:{duration:1,repeat:1/0},children:s.jsx(Dp,{className:"w-5 h-5 text-gray-500 flex-shrink-0"})})]}),h&&s.jsx("div",{className:"relative h-1 bg-white/5",children:s.jsx(W.div,{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-emerald-500 to-teal-500",initial:{width:"0%"},animate:{width:"45%"},transition:{duration:1,delay:.5}})})]})},d.id)})})]}),s.jsx(W.div,{className:"mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:s.jsxs(oe,{className:"relative p-6 md:p-8 bg-gradient-to-br from-emerald-600 to-teal-600 border-0 text-white overflow-hidden",children:[s.jsx(W.div,{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:4,repeat:1/0}}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:s.jsx(iu,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Continua il tuo percorso!"}),s.jsxs("p",{className:"text-emerald-100",children:["Hai completato ",n.lessonsCompleted," lezioni. Ancora ",n.totalLessons-n.lessonsCompleted," da scoprire!"]})]})]}),s.jsxs(xe,{onClick:()=>t("lesson"),className:"bg-white text-emerald-600 hover:bg-gray-100 font-semibold",children:[s.jsx(jh,{className:"w-4 h-4 mr-2"}),"Riprendi Lezione"]})]})]})})]})]})}function sK(t,e=[]){let r=[];function n(a,o){const c=P.createContext(o);c.displayName=a+"Context";const d=r.length;r=[...r,o];const f=h=>{const{scope:g,children:y,...b}=h,w=g?.[t]?.[d]||c,x=P.useMemo(()=>b,Object.values(b));return s.jsx(w.Provider,{value:x,children:y})};f.displayName=a+"Provider";function p(h,g){const y=g?.[t]?.[d]||c,b=P.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=r.map(o=>P.createContext(o));return function(c){const d=c?.[t]||a;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[n,oK(i,...e)]}function oK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const h=d(a)[`__scope${f}`];return{...c,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var lK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w$=lK.reduce((t,e)=>{const r=od(`Primitive.${e}`),n=P.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),qj="Progress",Uj=100,[cK]=sK(qj),[uK,dK]=cK(qj),j$=P.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=fK,...o}=t;(i||i===0)&&!WA(i)&&console.error(hK(`${i}`,"Progress"));const c=WA(i)?i:Uj;n!==null&&!HA(n,c)&&console.error(pK(`${n}`,"Progress"));const d=HA(n,c)?n:null,f=Nh(d)?a(d,c):void 0;return s.jsx(uK,{scope:r,value:d,max:c,children:s.jsx(w$.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Nh(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":N$(d,c),"data-value":d??void 0,"data-max":c,...o,ref:e})})});j$.displayName=qj;var S$="ProgressIndicator",_$=P.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=dK(S$,r);return s.jsx(w$.div,{"data-state":N$(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});_$.displayName=S$;function fK(t,e){return`${Math.round(t/e*100)}%`}function N$(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Nh(t){return typeof t=="number"}function WA(t){return Nh(t)&&!isNaN(t)&&t>0}function HA(t,e){return Nh(t)&&!isNaN(t)&&t<=e&&t>=0}function hK(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Uj}\`.`}function pK(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Uj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var mK=j$,gK=_$;function ni({className:t,value:e,...r}){return s.jsx(mK,{"data-slot":"progress",className:gr("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:s.jsx(gK,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const vK={"first-lesson":{name:"Prima Lezione",icon:iu,color:"from-yellow-400 to-yellow-600"},"week-streak":{name:"Settimana Perfetta",icon:sl,color:"from-orange-400 to-orange-600"},"quick-learner":{name:"Apprendimento Rapido",icon:Qi,color:"from-blue-400 to-blue-600"},"paper-trader":{name:"Paper Trader",icon:ht,color:"from-green-400 to-green-600"}};function yK({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const{progress:n}=Ka(),i=P.useRef(null),a=a$(i,{once:!0}),o=[{label:"Lezioni",value:n.lessonsCompleted,total:n.totalLessons,icon:ju,gradient:"from-emerald-400 to-teal-500",percentage:n.lessonsCompleted/n.totalLessons*100},{label:"Streak",value:n.streak,total:30,icon:sl,gradient:"from-pink-500 to-red-500",percentage:n.streak/30*100},{label:"Quiz",value:24,total:30,icon:Rt,gradient:"from-lime-400 to-green-500",percentage:80},{label:"Trading",value:12,total:20,icon:$p,gradient:"from-purple-500 to-violet-600",percentage:60}],c=[{title:"Continua a Imparare",description:"Strike Price Selection",icon:jh,gradient:"from-emerald-500 to-teal-600",action:()=>t("lessons"),badge:""},{title:"Connetti Exchange",description:"Importa i tuoi trade reali",icon:zj,gradient:"from-pink-500 to-purple-600",action:()=>t("exchange")},{title:"Wheel Strategy",description:"Dashboard 0DTE Trading",icon:zr,gradient:"from-blue-500 to-cyan-600",action:()=>t("wheel-strategy")},{title:"Simulatore Trading",description:"Pratica le strategie",icon:ht,gradient:"from-purple-600 to-fuchsia-600",action:()=>t("longterm")},{title:"Test Skills",description:"Quiz Intelligenti AI",icon:fi,gradient:"from-orange-500 to-red-600",action:()=>t("lessons")}],d=[{icon:Nw,text:"Lezione completata",time:"2 ore fa",color:"text-emerald-400"},{icon:Vt,text:"Nuovo badge ottenuto!",time:"1 giorno fa",color:"text-yellow-400"},{icon:ht,text:"Trade simulato",time:"2 giorni fa",color:"text-blue-400"}];return s.jsxs("div",{className:"min-h-screen bg-[#0a1628]",children:[s.jsx(en,{currentView:"dashboard",onNavigate:t,mascotVisible:e,onMascotToggle:r}),s.jsx("div",{className:"md:pl-20",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-[1600px]",children:[s.jsxs(oe,{className:"p-6 bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Su,{className:"w-16 h-16 border-4 border-emerald-500 shadow-lg shadow-emerald-500/30",children:s.jsx(_u,{className:"bg-gradient-to-br from-emerald-600 to-teal-600 text-white text-xl font-bold",children:"CU"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:"Bentornato, Crypto User "}),s.jsx("p",{className:"text-sm text-gray-400",children:"Continua il tuo percorso verso il trading professionale"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Fj,{onNavigate:t}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[s.jsx(mt,{className:"w-4 h-4 text-emerald-400"}),s.jsxs("span",{className:"text-sm text-gray-400",children:["Livello ",n.level]})]}),s.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[s.jsx(sl,{className:"w-4 h-4 text-orange-400"}),s.jsxs("span",{className:"text-sm text-gray-400",children:[n.streak," giorni"]})]})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-1",children:[" Progresso Livello ",n.level]}),s.jsxs("span",{className:"text-sm font-semibold text-emerald-400",children:[n.xp," / ",n.xpToNextLevel," XP"]})]}),s.jsx(ni,{value:n.xp/n.xpToNextLevel*100,className:"h-2 bg-slate-800"})]})]}),s.jsx("div",{ref:i,className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:o.map((f,p)=>{const h=f.icon;return s.jsx(W.div,{initial:{opacity:0,y:20},animate:a?{opacity:1,y:0}:{},transition:{delay:p*.1},children:s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 hover:border-slate-600/50 transition-all",children:[s.jsx("div",{className:`h-2 -mx-4 -mt-4 mb-4 rounded-t-lg bg-gradient-to-r ${f.gradient}`}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(h,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-3xl font-bold text-white leading-none",children:f.value}),s.jsxs("p",{className:"text-sm text-gray-500",children:["/ ",f.total]})]})]}),s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:f.label}),s.jsx(ni,{value:f.percentage,className:"h-1.5 bg-slate-800"})]})},f.label)})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Sh,{className:"w-5 h-5 text-emerald-400"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:"Azioni Rapide"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((f,p)=>{const h=f.icon;return s.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:p*.05},whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},children:s.jsxs(oe,{onClick:f.action,className:`relative overflow-hidden p-5 cursor-pointer border-0 bg-gradient-to-br ${f.gradient} hover:shadow-xl transition-all duration-300 group`,children:[f.badge&&s.jsx("div",{className:"absolute top-3 right-3 text-xl",children:f.badge}),s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:s.jsx(h,{className:"w-6 h-6 text-white"})}),s.jsx("h4",{className:"text-base font-bold text-white mb-1",children:f.title}),s.jsx("p",{className:"text-white/90 text-sm",children:f.description}),s.jsx("div",{className:"mt-3 text-white text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:""})]})},f.title)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(zp,{className:"w-5 h-5 text-orange-400"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:"Attivit Recente"})]}),s.jsx(oe,{className:"p-5 bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50",children:s.jsx("div",{className:"space-y-4",children:d.map((f,p)=>{const h=f.icon;return s.jsxs(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:p*.1},className:"flex items-center gap-3 p-3 rounded-lg bg-slate-800/30 hover:bg-slate-800/50 transition-colors",children:[s.jsx("div",{className:`w-10 h-10 rounded-full bg-slate-700/50 flex items-center justify-center ${f.color}`,children:s.jsx(h,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-white",children:f.text}),s.jsx("p",{className:"text-xs text-gray-500",children:f.time})]})]},p)})})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(HW,{className:"w-5 h-5 text-yellow-400"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:"I Tuoi Badge"})]}),s.jsx("button",{onClick:()=>t("leaderboard"),className:"text-sm text-emerald-400 hover:text-emerald-300 transition-colors",children:"Vedi tutti "})]}),s.jsx(oe,{className:"p-6 bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50",children:n.badges.length>0?s.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.badges.slice(0,4).map(f=>{const p=vK[f];if(!p)return null;const h=p.icon;return s.jsx(W.div,{whileHover:{scale:1.05,rotate:5},className:"cursor-pointer",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-16 mx-auto mb-2 bg-gradient-to-br ${p.color} rounded-full flex items-center justify-center shadow-lg`,children:s.jsx(h,{className:"w-8 h-8 text-white"})}),s.jsx("p",{className:"text-xs text-gray-300",children:p.name})]})},f)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Vt,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Completa lezioni per sbloccare badge!"})]})})]}),s.jsx("div",{children:s.jsxs(oe,{className:"p-5 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 backdrop-blur-xl border border-emerald-500/30",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded-full"}),s.jsx("h4",{className:"font-bold text-white",children:"Prossimo Traguardo"})]}),s.jsxs("p",{className:"text-sm text-emerald-300",children:["Livello ",n.level+1]})]}),s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center",children:s.jsx(zr,{className:"w-6 h-6 text-white"})})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Progressi"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-emerald-300",children:s.jsxs("span",{className:"font-medium",children:[Math.round(n.xp/n.xpToNextLevel*100),"%"]})})]}),s.jsxs("div",{className:"space-y-2 text-xs text-gray-400",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["Completa 3 lezioni (",n.lessonsCompleted,"/3)"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Mantieni lo streak (100 XP)"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Completa 2 quiz (80 XP)"})]})]})]})})]})]})]})})]})}function rn(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function Ml(t,e=[]){let r=[];function n(a,o){const c=P.createContext(o),d=r.length;r=[...r,o];const f=h=>{const{scope:g,children:y,...b}=h,w=g?.[t]?.[d]||c,x=P.useMemo(()=>b,Object.values(b));return s.jsx(w.Provider,{value:x,children:y})};f.displayName=a+"Provider";function p(h,g){const y=g?.[t]?.[d]||c,b=P.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=r.map(o=>P.createContext(o));return function(c){const d=c?.[t]||a;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[n,xK(i,...e)]}function xK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const h=d(a)[`__scope${f}`];return{...c,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function bK(t){const e=wK(t),r=P.forwardRef((n,i)=>{const{children:a,...o}=n,c=P.Children.toArray(a),d=c.find(SK);if(d){const f=d.props.children,p=c.map(h=>h===d?P.Children.count(f)>1?P.Children.only(null):P.isValidElement(f)?f.props.children:null:h);return s.jsx(e,{...o,ref:i,children:P.isValidElement(f)?P.cloneElement(f,void 0,p):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function wK(t){const e=P.forwardRef((r,n)=>{const{children:i,...a}=r;if(P.isValidElement(i)){const o=NK(i),c=_K(a,i.props);return i.type!==P.Fragment&&(c.ref=n?Pp(n,o):o),P.cloneElement(i,c)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jK=Symbol("radix.slottable");function SK(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jK}function _K(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function NK(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var kK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xn=kK.reduce((t,e)=>{const r=bK(`Primitive.${e}`),n=P.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function GA(t){const e=AK(t),r=P.forwardRef((n,i)=>{const{children:a,...o}=n,c=P.Children.toArray(a),d=c.find(PK);if(d){const f=d.props.children,p=c.map(h=>h===d?P.Children.count(f)>1?P.Children.only(null):P.isValidElement(f)?f.props.children:null:h);return s.jsx(e,{...o,ref:i,children:P.isValidElement(f)?P.cloneElement(f,void 0,p):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function AK(t){const e=P.forwardRef((r,n)=>{const{children:i,...a}=r;if(P.isValidElement(i)){const o=EK(i),c=CK(a,i.props);return i.type!==P.Fragment&&(c.ref=n?Pp(n,o):o),P.cloneElement(i,c)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TK=Symbol("radix.slottable");function PK(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TK}function CK(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function EK(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function OK(t){const e=t+"CollectionProvider",[r,n]=Ml(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:x,children:S}=w,k=z.useRef(null),_=z.useRef(new Map).current;return s.jsx(i,{scope:x,itemMap:_,collectionRef:k,children:S})};o.displayName=e;const c=t+"CollectionSlot",d=GA(c),f=z.forwardRef((w,x)=>{const{scope:S,children:k}=w,_=a(c,S),C=Ki(x,_.collectionRef);return s.jsx(d,{ref:C,children:k})});f.displayName=c;const p=t+"CollectionItemSlot",h="data-radix-collection-item",g=GA(p),y=z.forwardRef((w,x)=>{const{scope:S,children:k,..._}=w,C=z.useRef(null),N=Ki(x,C),A=a(p,S);return z.useEffect(()=>(A.itemMap.set(C,{ref:C,..._}),()=>void A.itemMap.delete(C))),s.jsx(g,{[h]:"",ref:N,children:k})});y.displayName=p;function b(w){const x=a(t+"CollectionConsumer",w);return z.useCallback(()=>{const k=x.collectionRef.current;if(!k)return[];const _=Array.from(k.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((A,E)=>_.indexOf(A.ref.current)-_.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:f,ItemSlot:y},b,n]}var IK=Y1[" useId ".trim().toString()]||(()=>{}),RK=0;function k$(t){const[e,r]=P.useState(IK());return Ha(()=>{r(n=>n??String(RK++))},[t]),t||(e?`radix-${e}`:"")}var $K=Y1[" useInsertionEffect ".trim().toString()]||Ha;function Lp({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=MK({defaultProp:e,onChange:r}),c=t!==void 0,d=c?t:i;{const p=P.useRef(t!==void 0);P.useEffect(()=>{const h=p.current;h!==c&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,n])}const f=P.useCallback(p=>{if(c){const h=DK(p)?p(t):p;h!==t&&o.current?.(h)}else a(p)},[c,t,a,o]);return[d,f]}function MK({defaultProp:t,onChange:e}){const[r,n]=P.useState(t),i=P.useRef(r),a=P.useRef(e);return $K(()=>{a.current=e},[e]),P.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function DK(t){return typeof t=="function"}var zK=P.createContext(void 0);function Vj(t){const e=P.useContext(zK);return t||e||"ltr"}var F0="rovingFocusGroup.onEntryFocus",LK={bubbles:!1,cancelable:!0},fd="RovingFocusGroup",[Aw,A$,BK]=OK(fd),[FK,Bp]=Ml(fd,[BK]),[qK,UK]=FK(fd),T$=P.forwardRef((t,e)=>s.jsx(Aw.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Aw.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(VK,{...t,ref:e})})}));T$.displayName=fd;var VK=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...h}=t,g=P.useRef(null),y=Ki(e,g),b=Vj(a),[w,x]=Lp({prop:o,defaultProp:c??null,onChange:d,caller:fd}),[S,k]=P.useState(!1),_=m$(f),C=A$(r),N=P.useRef(!1),[A,E]=P.useState(0);return P.useEffect(()=>{const O=g.current;if(O)return O.addEventListener(F0,_),()=>O.removeEventListener(F0,_)},[_]),s.jsx(qK,{scope:r,orientation:n,dir:b,loop:i,currentTabStopId:w,onItemFocus:P.useCallback(O=>x(O),[x]),onItemShiftTab:P.useCallback(()=>k(!0),[]),onFocusableItemAdd:P.useCallback(()=>E(O=>O+1),[]),onFocusableItemRemove:P.useCallback(()=>E(O=>O-1),[]),children:s.jsx(xn.div,{tabIndex:S||A===0?-1:0,"data-orientation":n,...h,ref:y,style:{outline:"none",...t.style},onMouseDown:rn(t.onMouseDown,()=>{N.current=!0}),onFocus:rn(t.onFocus,O=>{const R=!N.current;if(O.target===O.currentTarget&&R&&!S){const H=new CustomEvent(F0,LK);if(O.currentTarget.dispatchEvent(H),!H.defaultPrevented){const B=C().filter(K=>K.focusable),D=B.find(K=>K.active),$=B.find(K=>K.id===w),J=[D,$,...B].filter(Boolean).map(K=>K.ref.current);E$(J,p)}}N.current=!1}),onBlur:rn(t.onBlur,()=>k(!1))})})}),P$="RovingFocusGroupItem",C$=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...c}=t,d=k$(),f=a||d,p=UK(P$,r),h=p.currentTabStopId===f,g=A$(r),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:w}=p;return P.useEffect(()=>{if(n)return y(),()=>b()},[n,y,b]),s.jsx(Aw.ItemSlot,{scope:r,id:f,focusable:n,active:i,children:s.jsx(xn.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:rn(t.onMouseDown,x=>{n?p.onItemFocus(f):x.preventDefault()}),onFocus:rn(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:rn(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){p.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const S=GK(x,p.orientation,p.dir);if(S!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let _=g().filter(C=>C.focusable).map(C=>C.ref.current);if(S==="last")_.reverse();else if(S==="prev"||S==="next"){S==="prev"&&_.reverse();const C=_.indexOf(x.currentTarget);_=p.loop?KK(_,C+1):_.slice(C+1)}setTimeout(()=>E$(_))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:w!=null}):o})})});C$.displayName=P$;var WK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function HK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function GK(t,e,r){const n=HK(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return WK[n]}function E$(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function KK(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var O$=T$,I$=C$;function R$(t){const[e,r]=P.useState(void 0);return Ha(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;o=f.inlineSize,c=f.blockSize}else o=t.offsetWidth,c=t.offsetHeight;r({width:o,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}function $$(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function XK(t,e){return P.useReducer((r,n)=>e[r][n]??r,t)}var Fp=t=>{const{present:e,children:r}=t,n=YK(e),i=typeof r=="function"?r({present:n.isPresent}):P.Children.only(r),a=Ki(n.ref,JK(i));return typeof r=="function"||n.isPresent?P.cloneElement(i,{ref:a}):null};Fp.displayName="Presence";function YK(t){const[e,r]=P.useState(),n=P.useRef(null),i=P.useRef(t),a=P.useRef("none"),o=t?"mounted":"unmounted",[c,d]=XK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const f=Vf(n.current);a.current=c==="mounted"?f:"none"},[c]),Ha(()=>{const f=n.current,p=i.current;if(p!==t){const g=a.current,y=Vf(f);t?d("MOUNT"):y==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),Ha(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,h=y=>{const w=Vf(n.current).includes(CSS.escape(y.animationName));if(y.target===e&&w&&(d("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},g=y=>{y.target===e&&(a.current=Vf(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:P.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Vf(t){return t?.animationName||"none"}function JK(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Wj="Radio",[QK,M$]=Ml(Wj),[ZK,eX]=QK(Wj),D$=P.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:c="on",onCheck:d,form:f,...p}=t,[h,g]=P.useState(null),y=Ki(e,x=>g(x)),b=P.useRef(!1),w=h?f||!!h.closest("form"):!0;return s.jsxs(ZK,{scope:r,checked:i,disabled:o,children:[s.jsx(xn.button,{type:"button",role:"radio","aria-checked":i,"data-state":F$(i),"data-disabled":o?"":void 0,disabled:o,value:c,...p,ref:y,onClick:rn(t.onClick,x=>{i||d?.(),w&&(b.current=x.isPropagationStopped(),b.current||x.stopPropagation())})}),w&&s.jsx(B$,{control:h,bubbles:!b.current,name:n,value:c,checked:i,required:a,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});D$.displayName=Wj;var z$="RadioIndicator",L$=P.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=eX(z$,r);return s.jsx(Fp,{present:n||a.checked,children:s.jsx(xn.span,{"data-state":F$(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});L$.displayName=z$;var tX="RadioBubbleInput",B$=P.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=P.useRef(null),c=Ki(o,a),d=$$(r),f=R$(e);return P.useEffect(()=>{const p=o.current;if(!p)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==r&&y){const b=new Event("click",{bubbles:n});y.call(p,r),p.dispatchEvent(b)}},[d,r,n]),s.jsx(xn.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:c,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});B$.displayName=tX;function F$(t){return t?"checked":"unchecked"}var rX=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qp="RadioGroup",[nX]=Ml(qp,[Bp,M$]),q$=Bp(),U$=M$(),[iX,aX]=nX(qp),V$=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:c=!1,orientation:d,dir:f,loop:p=!0,onValueChange:h,...g}=t,y=q$(r),b=Vj(f),[w,x]=Lp({prop:a,defaultProp:i??null,onChange:h,caller:qp});return s.jsx(iX,{scope:r,name:n,required:o,disabled:c,value:w,onValueChange:x,children:s.jsx(O$,{asChild:!0,...y,orientation:d,dir:b,loop:p,children:s.jsx(xn.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:b,...g,ref:e})})})});V$.displayName=qp;var W$="RadioGroupItem",H$=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=aX(W$,r),o=a.disabled||n,c=q$(r),d=U$(r),f=P.useRef(null),p=Ki(e,f),h=a.value===i.value,g=P.useRef(!1);return P.useEffect(()=>{const y=w=>{rX.includes(w.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",b)}},[]),s.jsx(I$,{asChild:!0,...c,focusable:!o,active:h,children:s.jsx(D$,{disabled:o,required:a.required,checked:h,...d,...i,name:a.name,ref:p,onCheck:()=>a.onValueChange(i.value),onKeyDown:rn(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:rn(i.onFocus,()=>{g.current&&f.current?.click()})})})});H$.displayName=W$;var sX="RadioGroupIndicator",G$=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=U$(r);return s.jsx(L$,{...i,...n,ref:e})});G$.displayName=sX;var oX=V$,lX=H$,cX=G$;function Lo({className:t,...e}){return s.jsx(oX,{"data-slot":"radio-group",className:gr("grid gap-3",t),...e})}function jr({className:t,...e}){return s.jsx(lX,{"data-slot":"radio-group-item",className:gr("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(cX,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:s.jsx(vH,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var uX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dX=uX.reduce((t,e)=>{const r=od(`Primitive.${e}`),n=P.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),fX="Label",K$=P.forwardRef((t,e)=>s.jsx(dX.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));K$.displayName=fX;var hX=K$;function dt({className:t,...e}){return s.jsx(hX,{"data-slot":"label",className:gr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function X$(){const[t,e]=P.useState({emotion:"normal",message:"Ciao! Sono Prof Satoshi, il tuo tutor personale! ",isThinking:!1}),r=P.useRef(null),n=P.useCallback(c=>{switch(c){case"quiz_correct":return{emotion:"celebrating",message:"Perfetto! Hai capito benissimo! ",isThinking:!1};case"quiz_wrong":return{emotion:"encouraging",message:"Nessun problema! Impariamo dagli errori. Riprova! ",isThinking:!1};case"quiz_start":return{emotion:"teaching",message:"Vediamo cosa hai imparato! Ce la puoi fare! ",isThinking:!1};case"lesson_start":return{emotion:"teaching",message:"Iniziamo questa lezione! Sar interessante! ",isThinking:!1};case"lesson_complete":return{emotion:"celebrating",message:"Lezione completata! Sei sulla strada giusta! ",isThinking:!1};case"level_up":return{emotion:"celebrating",message:"Nuovo livello! Stai facendo progressi incredibili! ",isThinking:!1};case"badge_unlock":return{emotion:"excited",message:"Wow! Hai sbloccato un nuovo badge! Fantastico! ",isThinking:!1};case"streak_active":return{emotion:"excited",message:"Grande! Continua cos la tua streak! ",isThinking:!1};case"streak_broken":return{emotion:"encouraging",message:"Non preoccuparti, ricominciamo oggi! ",isThinking:!1};case"trade_profit":return{emotion:"excited",message:"Trade profittevole! Ottima strategia! ",isThinking:!1};case"trade_loss":return{emotion:"teaching",message:"Ogni trade  una lezione. Analizziamo insieme! ",isThinking:!1};case"ai_listening":return{emotion:"normal",message:"Ti ascolto... dimmi tutto! ",isThinking:!1};case"ai_thinking":return{emotion:"thinking",message:"Hmm, fammi pensare... ",isThinking:!0};case"ai_responding":return{emotion:"teaching",message:"Ecco cosa ne penso! ",isThinking:!1};case"idle":return{emotion:"normal",message:"Ciao! Sono Prof Satoshi, il tuo tutor personale! ",isThinking:!1};case"excited":return{emotion:"excited",message:"Fantastico! ",isThinking:!1};case"celebrating":return{emotion:"celebrating",message:"Evviva! ",isThinking:!1};case"disappointed":return{emotion:"disappointed",message:"Oh no... ",isThinking:!1};default:return{emotion:"normal",message:"Ciao! Come posso aiutarti? ",isThinking:!1}}},[]),i=P.useCallback((c,d=3e3)=>{const f=n(c);if(e(f),r.current&&(clearTimeout(r.current),r.current=null),!f.isThinking&&c!=="idle"){const p=setTimeout(()=>{e({emotion:"normal",message:"Sono qui se hai bisogno! ",isThinking:!1})},d);r.current=p}},[n]),a=P.useCallback((c,d,f=!1)=>{e({emotion:c,message:d,isThinking:f}),r.current&&(clearTimeout(r.current),r.current=null)},[]),o=P.useCallback(()=>{e({emotion:"normal",message:"Sono qui se hai bisogno! ",isThinking:!1}),r.current&&(clearTimeout(r.current),r.current=null)},[]);return P.useEffect(()=>{const c=setTimeout(()=>{t.emotion==="normal"&&i("idle")},3e4);return()=>clearTimeout(c)},[t.emotion,i]),P.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]),{emotion:t.emotion,message:t.message,isThinking:t.isThinking,setActivity:i,setEmotion:a,reset:o}}const KA=3;function pX(){const[t,e]=P.useState(!1),[r,n]=P.useState({correctAnswers:0,wrongAnswers:0,consecutiveWrong:0,consecutiveCorrect:0,difficultyLevel:"easy",weakTopics:[],questionsAsked:[],totalAttempts:0}),i=P.useCallback(async(h,g,y,b)=>{try{e(!0);const w=b||r.difficultyLevel,x=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/generate-quiz-question`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fr}`},body:JSON.stringify({lessonId:h,lessonTitle:g,lessonContent:y,difficulty:w,performance:{...r,previousQuestions:r.questionsAsked}})});if(!x.ok){const k=await x.text();console.error("AI question generation error:",k);try{const _=JSON.parse(k);console.error("Error details:",_),_.rawResponse&&console.error("AI raw response preview:",_.rawResponse)}catch{}return null}const S=await x.json();return n(k=>({...k,questionsAsked:[...k.questionsAsked,S.question.question]})),{...S.question,isAI:!0,difficulty:w,attemptsLeft:KA}}catch(w){return console.error("Error generating AI question:",w),null}finally{e(!1)}},[r]),a=P.useCallback((h,g,y=1)=>{n(b=>{const w={...b};return w.totalAttempts+=y,h?(w.correctAnswers++,w.consecutiveWrong=0,w.consecutiveCorrect++,w.consecutiveCorrect>=3&&y===1&&(b.difficultyLevel==="easy"?(w.difficultyLevel="medium",console.log(" Difficolt aumentata a MEDIUM")):b.difficultyLevel==="medium"&&(w.difficultyLevel="hard",console.log(" Difficolt aumentata a HARD")),w.consecutiveCorrect=0)):(w.wrongAnswers++,w.consecutiveWrong++,w.consecutiveCorrect=0,g&&!w.weakTopics.includes(g)&&w.weakTopics.push(g),w.consecutiveWrong>=2&&(b.difficultyLevel==="hard"?(w.difficultyLevel="medium",console.log(" Difficolt ridotta a MEDIUM")):b.difficultyLevel==="medium"&&(w.difficultyLevel="easy",console.log(" Difficolt ridotta a EASY")))),w})},[]),o=P.useCallback(()=>{const h=r.correctAnswers/(r.correctAnswers+r.wrongAnswers),g=r.correctAnswers+r.wrongAnswers;return r.consecutiveWrong>=3||r.wrongAnswers>=5&&r.correctAnswers<r.wrongAnswers||g>=10&&h<.5},[r]),c=P.useCallback(async(h,g)=>{try{const y=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/get-quiz-feedback`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fr}`},body:JSON.stringify({lessonTitle:h,wrongAnswers:g,performance:{...r,accuracy:r.correctAnswers/(r.correctAnswers+r.wrongAnswers)}})});if(!y.ok)throw new Error("Failed to get AI feedback");return(await y.json()).feedback}catch(y){return console.error("Error getting AI feedback:",y),"Sembra che tu abbia qualche difficolt con questo argomento. Ti consiglio di rivedere la lezione prima di continuare. Focus sui concetti chiave! "}},[r]),d=P.useCallback(()=>r.weakTopics.length===0?null:{topics:r.weakTopics,message:`Hai avuto difficolt con: ${r.weakTopics.join(", ")}. Ripassa questi concetti prima di continuare!`,shouldBlock:r.consecutiveWrong>=3},[r]),f=P.useCallback(()=>{const h=r.correctAnswers+r.wrongAnswers,g=h>0?r.correctAnswers/h*100:0,y=h>0?r.totalAttempts/h:0;return{total:h,correct:r.correctAnswers,wrong:r.wrongAnswers,accuracy:Math.round(g),averageAttempts:Math.round(y*10)/10,difficulty:r.difficultyLevel,weakTopics:r.weakTopics}},[r]),p=P.useCallback(()=>{n({correctAnswers:0,wrongAnswers:0,consecutiveWrong:0,consecutiveCorrect:0,difficultyLevel:"easy",weakTopics:[],questionsAsked:[],totalAttempts:0})},[]);return{generateAIQuestion:i,recordAnswer:a,shouldReviewLesson:o,getAIFeedback:c,getReviewSuggestions:d,getQuizStats:f,resetPerformance:p,performance:r,isGenerating:t,maxAttemptsPerQuestion:KA}}function XA({amount:t,onComplete:e,trigger:r}){const[n,i]=P.useState(!1),[a,o]=P.useState(0);return P.useEffect(()=>{if(r){i(!0);let c=0;const d=t/20,f=setInterval(()=>{c+=d,c>=t?(o(t),clearInterval(f)):o(Math.floor(c))},30),p=setTimeout(()=>{i(!1),e?.()},2e3);return()=>{clearInterval(f),clearTimeout(p)}}},[r,t,e]),s.jsx(ii,{children:n&&s.jsx(W.div,{className:"fixed left-1/2 top-1/2 z-50 pointer-events-none",initial:{opacity:0,y:20,x:"-50%",scale:0},animate:{opacity:[0,1,1,0],y:[20,-60,-80,-100],scale:[0,1.2,1,.8],x:"-50%"},exit:{opacity:0,scale:0},transition:{duration:2,times:[0,.2,.7,1],ease:[.34,1.56,.64,1]},children:s.jsxs("div",{className:"relative",children:[s.jsxs(W.div,{className:"text-5xl px-8 py-4 rounded-2xl bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-2xl",style:{textShadow:"0 0 20px rgba(59, 130, 246, 0.8)"},children:["+",a," XP"]}),[...Array(5)].map((c,d)=>s.jsx(W.div,{className:"absolute text-yellow-400",initial:{opacity:0,scale:0,x:0,y:0},animate:{opacity:[0,1,0],scale:[0,1.5,0],x:[0,(Math.random()-.5)*100],y:[0,(Math.random()-.5)*100]},transition:{duration:1.2,delay:d*.1,ease:"easeOut"},style:{left:"50%",top:"50%"},children:s.jsx(mt,{className:"w-6 h-6",fill:"currentColor"})},d))]})})})}function YA({isCorrect:t,show:e,onAnimationComplete:r,onDismiss:n}){return s.jsx(ii,{mode:"wait",onExitComplete:r,children:e&&t!==null&&s.jsxs(W.div,{className:"fixed inset-0 z-40 flex items-center justify-center cursor-pointer",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:n,children:[s.jsx(W.div,{className:`absolute inset-0 ${t?"bg-green-500/20":"bg-red-500/20"}`,initial:{opacity:0},animate:{opacity:[0,.6,0]},transition:{duration:.6}}),s.jsx(W.div,{className:`relative ${t?"bg-green-500 text-white":"bg-red-500 text-white"} rounded-full p-8 shadow-2xl`,initial:{scale:0,rotate:t?-180:0},animate:{scale:t?[0,1.2,1]:[0,1],rotate:t?[0,10,-10,10,0]:[-10,10,-10,10,-5,5,0]},exit:{scale:0,opacity:0},transition:{duration:t?.5:.6,ease:t?[.34,1.56,.64,1]:"easeInOut"},style:{boxShadow:t?"0 0 50px rgba(34, 197, 94, 0.6)":"0 0 50px rgba(239, 68, 68, 0.6)"},children:t?s.jsx(Mp,{className:"w-24 h-24",strokeWidth:3}):s.jsx(Ws,{className:"w-24 h-24",strokeWidth:3})}),t&&s.jsxs(s.Fragment,{children:[s.jsx(W.div,{className:"absolute w-32 h-32 border-4 border-green-500 rounded-full",initial:{scale:1,opacity:.8},animate:{scale:3,opacity:0},exit:{scale:0,opacity:0},transition:{duration:.8,ease:"easeOut"}}),s.jsx(W.div,{className:"absolute w-32 h-32 border-4 border-green-400 rounded-full",initial:{scale:1,opacity:.6},animate:{scale:2.5,opacity:0},exit:{scale:0,opacity:0},transition:{duration:.8,delay:.1,ease:"easeOut"}})]})]},"quiz-feedback")})}const Up={first_lesson:{id:"first_lesson",name:"Primo Passo",description:"Hai completato la tua prima lezione!",icon:"",rarity:"common",category:"learning",requirement:{type:"lessons_completed",value:1,description:"Completa 1 lezione"},reward:{xp:50}},bitcoin_basics:{id:"bitcoin_basics",name:"Bitcoin Enthusiast",description:"Padroneggi le basi di Bitcoin",icon:"",rarity:"common",category:"learning",requirement:{type:"lessons_completed",value:3,description:"Completa le prime 3 lezioni"},reward:{xp:100}},options_scholar:{id:"options_scholar",name:"Options Scholar",description:"Comprendi il mondo delle opzioni",icon:"",rarity:"rare",category:"learning",requirement:{type:"lessons_completed",value:6,description:"Completa 6 lezioni (met corso)"},reward:{xp:200}},wheel_master:{id:"wheel_master",name:"Wheel Master",description:"Hai completato tutte le lezioni sulla Wheel Strategy!",icon:"",rarity:"epic",category:"mastery",requirement:{type:"lessons_completed",value:9,description:"Completa 9 lezioni (Wheel completa)"},reward:{xp:500}},knowledge_seeker:{id:"knowledge_seeker",name:"Knowledge Seeker",description:"Hai completato 12 lezioni avanzate",icon:"",rarity:"epic",category:"learning",requirement:{type:"lessons_completed",value:12,description:"Completa 12 lezioni"},reward:{xp:750}},grand_master:{id:"grand_master",name:"Grand Master",description:"Hai completato TUTTE le 15 lezioni! Sei un esperto!",icon:"",rarity:"legendary",category:"mastery",requirement:{type:"lessons_completed",value:15,description:"Completa tutte le 15 lezioni"},reward:{xp:1e3,multiplier:1.1}},xp_collector_1k:{id:"xp_collector_1k",name:"XP Collector",description:"Hai guadagnato 1,000 XP!",icon:"",rarity:"common",category:"achievement",requirement:{type:"xp_earned",value:1e3,description:"Guadagna 1,000 XP"},reward:{xp:100}},xp_hunter_5k:{id:"xp_hunter_5k",name:"XP Hunter",description:"Hai accumulato 5,000 XP!",icon:"",rarity:"rare",category:"achievement",requirement:{type:"xp_earned",value:5e3,description:"Guadagna 5,000 XP"},reward:{xp:500}},xp_legend_10k:{id:"xp_legend_10k",name:"XP Legend",description:"Hai raggiunto 10,000 XP! Incredibile!",icon:"",rarity:"legendary",category:"achievement",requirement:{type:"xp_earned",value:1e4,description:"Guadagna 10,000 XP"},reward:{xp:1e3,multiplier:1.05}},level_5:{id:"level_5",name:"Rising Trader",description:"Hai raggiunto il livello 5!",icon:"",rarity:"rare",category:"achievement",requirement:{type:"level_reached",value:5,description:"Raggiungi livello 5"},reward:{xp:250}},level_10:{id:"level_10",name:"Advanced Trader",description:"Livello 10! Sei tra i migliori!",icon:"",rarity:"epic",category:"achievement",requirement:{type:"level_reached",value:10,description:"Raggiungi livello 10"},reward:{xp:500}},level_15:{id:"level_15",name:"Elite Trader",description:"Livello 15! Sei un'lite!",icon:"",rarity:"legendary",category:"mastery",requirement:{type:"level_reached",value:15,description:"Raggiungi livello 15"},reward:{xp:1e3,multiplier:1.15}},streak_3:{id:"streak_3",name:"On Fire",description:"3 giorni di streak! Continua cos!",icon:"",rarity:"common",category:"streak",requirement:{type:"streak_days",value:3,description:"Mantieni uno streak di 3 giorni"},reward:{xp:100}},streak_7:{id:"streak_7",name:"Weekly Warrior",description:"Una settimana di streak! Dedizione totale!",icon:"",rarity:"rare",category:"streak",requirement:{type:"streak_days",value:7,description:"Mantieni uno streak di 7 giorni"},reward:{xp:300,multiplier:1.05}},streak_30:{id:"streak_30",name:"Monthly Master",description:"30 giorni di streak! Sei inarrestabile!",icon:"",rarity:"epic",category:"streak",requirement:{type:"streak_days",value:30,description:"Mantieni uno streak di 30 giorni"},reward:{xp:1e3,multiplier:1.1}},streak_100:{id:"streak_100",name:"Centurion",description:"100 giorni consecutivi! Leggenda vivente!",icon:"",rarity:"legendary",category:"streak",requirement:{type:"streak_days",value:100,description:"Mantieni uno streak di 100 giorni"},reward:{xp:5e3,multiplier:1.2}},quiz_perfectionist:{id:"quiz_perfectionist",name:"Perfectionist",description:"Hai fatto 5 quiz con punteggio perfetto!",icon:"",rarity:"rare",category:"achievement",requirement:{type:"quiz_perfect",value:5,description:"Completa 5 quiz con 100% risposte corrette"},reward:{xp:300}},quiz_genius:{id:"quiz_genius",name:"Quiz Genius",description:"10 quiz perfetti! Hai memoria fotografica!",icon:"",rarity:"epic",category:"achievement",requirement:{type:"quiz_perfect",value:10,description:"Completa 10 quiz con 100% risposte corrette"},reward:{xp:750}},first_profit:{id:"first_profit",name:"First Profit",description:"Hai completato la tua prima simulazione in profitto!",icon:"",rarity:"common",category:"trading",requirement:{type:"simulation_profit",value:1,description:"Completa 1 simulazione con profitto positivo"},reward:{xp:150}},profitable_trader:{id:"profitable_trader",name:"Profitable Trader",description:"Hai completato 5 simulazioni profittevoli!",icon:"",rarity:"rare",category:"trading",requirement:{type:"simulation_profit",value:5,description:"Completa 5 simulazioni con profitto positivo"},reward:{xp:500}},trading_pro:{id:"trading_pro",name:"Trading Pro",description:"10 simulazioni profittevoli! Sei un professionista!",icon:"",rarity:"epic",category:"trading",requirement:{type:"simulation_profit",value:10,description:"Completa 10 simulazioni con profitto positivo"},reward:{xp:1e3,multiplier:1.1}}};function Y$(t,e){switch(t.requirement.type){case"lessons_completed":return e.completedLessons.length>=t.requirement.value;case"xp_earned":return e.xp>=t.requirement.value;case"streak_days":return e.streak>=t.requirement.value;case"level_reached":return e.level>=t.requirement.value;case"quiz_perfect":return(e.perfectQuizzes||0)>=t.requirement.value;case"simulation_profit":return(e.profitableSimulations||0)>=t.requirement.value;default:return!1}}function mX(t){const e=[];return Object.values(Up).forEach(r=>{!t.unlockedBadges?.includes(r.id)&&Y$(r,t)&&e.push(r.id)}),e}function gX(t){const e=Object.values(Up).filter(r=>!t.unlockedBadges?.includes(r.id)&&!Y$(r,t));return e.length===0?null:e.reduce((r,n)=>{const i=JA(n,t),a=JA(r,t);return i>a?n:r})}function JA(t,e){switch(t.requirement.type){case"lessons_completed":return e.completedLessons.length/t.requirement.value;case"xp_earned":return e.xp/t.requirement.value;case"streak_days":return e.streak/t.requirement.value;case"level_reached":return e.level/t.requirement.value;case"quiz_perfect":return(e.perfectQuizzes||0)/t.requirement.value;case"simulation_profit":return(e.profitableSimulations||0)/t.requirement.value;default:return 0}}const Tw={common:"from-gray-400 to-gray-600",rare:"from-blue-400 to-blue-600",epic:"from-purple-400 to-purple-600",legendary:"from-yellow-400 to-orange-600"},vX={common:"border-gray-400",rare:"border-blue-400",epic:"border-purple-400",legendary:"border-yellow-400"},J$={common:"Comune",rare:"Raro",epic:"Epico",legendary:"Leggendario"};function QA({badgeId:t,onClose:e}){const[r,n]=P.useState(!1),i=t?Up[t]:null;P.useEffect(()=>{t&&i&&(n(!0),typeof window<"u"&&"vibrate"in navigator&&navigator.vibrate([200,100,200,100,400]))},[t,i]);const a=()=>{n(!1),setTimeout(e,300)};return i?s.jsx(ii,{children:r&&s.jsxs(s.Fragment,{children:[s.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100]",onClick:a}),s.jsx("div",{className:"fixed inset-0 z-[101] flex items-center justify-center p-4",children:s.jsx(W.div,{initial:{scale:.5,opacity:0,rotateY:-180},animate:{scale:1,opacity:1,rotateY:0,transition:{type:"spring",stiffness:200,damping:20}},exit:{scale:.8,opacity:0,transition:{duration:.2}},className:"w-full max-w-md",children:s.jsxs(oe,{className:"relative overflow-hidden p-8 text-center",children:[s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((o,c)=>s.jsx(W.div,{className:"absolute w-2 h-2 rounded-full bg-yellow-400",initial:{x:"50%",y:"50%",scale:0,opacity:0},animate:{x:`${Math.random()*100}%`,y:`${Math.random()*100}%`,scale:[0,1,0],opacity:[0,1,0]},transition:{duration:1.5,delay:c*.05,ease:"easeOut"}},c))}),s.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Ws,{className:"w-5 h-5"})}),s.jsx(W.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mb-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Vt,{className:"w-6 h-6 text-yellow-500"}),s.jsx("h2",{className:"text-gray-900",children:"Badge Sbloccato!"})]})}),s.jsxs(W.div,{initial:{scale:0},animate:{scale:1,transition:{type:"spring",stiffness:200,damping:15,delay:.3}},className:"relative mb-6",children:[s.jsx("div",{className:`absolute inset-0 blur-2xl opacity-50 bg-gradient-to-r ${Tw[i.rarity]}`}),s.jsx("div",{className:"relative text-8xl filter drop-shadow-xl",children:i.icon})]}),s.jsxs(W.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"space-y-3",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("span",{className:`inline-block px-4 py-1 rounded-full text-sm bg-gradient-to-r ${Tw[i.rarity]} text-white`,children:J$[i.rarity]})}),s.jsx("h3",{className:"text-gray-900 text-2xl",children:i.name}),s.jsx("p",{className:"text-gray-600",children:i.description}),i.reward&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 pt-4",children:[s.jsx(mt,{className:"w-5 h-5"}),s.jsxs("div",{className:"space-x-3",children:[i.reward.xp&&s.jsxs("span",{className:"font-semibold",children:["+",i.reward.xp," XP"]}),i.reward.multiplier&&s.jsxs("span",{className:"text-sm",children:[((i.reward.multiplier-1)*100).toFixed(0),"% XP Boost"]})]})]})]}),s.jsx(W.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"mt-6",children:s.jsx(xe,{onClick:a,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:"Fantastico!"})}),s.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"absolute inset-0 pointer-events-none",children:[...Array(30)].map((o,c)=>s.jsx(W.div,{className:"absolute",style:{left:`${50+(Math.random()-.5)*20}%`,top:`${50+(Math.random()-.5)*20}%`},animate:{y:[0,-200-Math.random()*100],x:[(Math.random()-.5)*200],rotate:[0,360*(Math.random()>.5?1:-1)],opacity:[1,0]},transition:{duration:2+Math.random(),delay:.4+Math.random()*.3,ease:"easeOut"},children:s.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8"][Math.floor(Math.random()*6)]}})},c))})]})})})]})}):null}function yX({performance:t,isGenerating:e,onGenerateTest:r}){const[n,i]=P.useState(!1),a=t.correctAnswers+t.wrongAnswers,o=a>0?t.correctAnswers/a*100:0;return n?s.jsx("div",{className:"fixed bottom-20 right-4 z-50 md:bottom-4 max-w-sm",children:s.jsxs(oe,{className:"p-4 bg-gray-900 text-white shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-white flex items-center gap-2",children:[s.jsx(fi,{className:"w-5 h-5 text-purple-400"}),"AI Performance"]}),s.jsx(xe,{onClick:()=>i(!1),size:"sm",variant:"ghost",className:"text-gray-400 hover:text-white",children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Difficolt:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${t.difficultyLevel==="easy"?"bg-green-600":t.difficultyLevel==="medium"?"bg-yellow-600":"bg-red-600"}`,children:t.difficultyLevel.toUpperCase()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Score:"}),s.jsxs("span",{className:"text-white font-semibold",children:[" ",t.correctAnswers," |  ",t.wrongAnswers]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Accuracy:"}),s.jsxs("span",{className:`font-semibold ${o>=70?"text-green-400":o>=50?"text-yellow-400":"text-red-400"}`,children:[o.toFixed(1),"%"]})]}),s.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all ${o>=70?"bg-green-500":o>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o}%`}})})]}),t.consecutiveWrong>0&&s.jsxs("div",{className:"flex items-center gap-2 text-orange-400 bg-orange-900/30 p-2 rounded",children:[s.jsx(hi,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-xs",children:[t.consecutiveWrong," errori consecutivi"]})]}),t.weakTopics.length>0&&s.jsxs("div",{className:"bg-red-900/30 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-red-400 mb-1",children:"Punti deboli:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:t.weakTopics.map((c,d)=>s.jsx("span",{className:"text-xs bg-red-800 px-2 py-0.5 rounded",children:c},d))})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Domande storico:"}),s.jsx("span",{className:"text-white",children:t.questionsAsked.length})]}),s.jsx("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-700",children:e?s.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[s.jsx("div",{className:"w-3 h-3 border-2 border-yellow-400 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-xs",children:"Generando AI..."})]}):s.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[s.jsx(Qi,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs",children:"AI Ready"})]})}),r&&s.jsxs(xe,{onClick:r,disabled:e,size:"sm",className:"w-full bg-purple-600 hover:bg-purple-700 mt-2",children:[s.jsx(ht,{className:"w-4 h-4 mr-2"}),"Test AI Generation"]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-3 pt-3 border-t border-gray-700",children:" Sistema AI Quiz Dinamico attivo"})]})}):s.jsxs(xe,{onClick:()=>i(!0),size:"sm",variant:"outline",className:"fixed bottom-20 right-4 z-50 md:bottom-4 bg-purple-600 text-white hover:bg-purple-700",children:[s.jsx(fi,{className:"w-4 h-4 mr-2"}),"AI Debug"]})}function Q$(){const t=P.useCallback(r=>{if(Qt.getItem("mascotHapticEnabled")!=="false"&&"vibrate"in navigator&&typeof navigator.vibrate=="function")try{navigator.vibrate(r)}catch(i){console.warn("Vibration not supported or failed:",i)}},[]);return{light:()=>t(10),medium:()=>t(20),heavy:()=>t(40),success:()=>t([10,50,10,50,10]),error:()=>t([50,100,50]),notification:()=>t([20,40,20]),selection:()=>t([5,10,5]),custom:r=>t(r)}}function Z$(){const t=P.useRef(null),e=P.useRef(!0);P.useEffect(()=>{const i=()=>{t.current||(t.current=new(window.AudioContext||window.webkitAudioContext))};return document.addEventListener("click",i,{once:!0}),document.addEventListener("touchstart",i,{once:!0}),()=>{t.current&&t.current.close()}},[]);const r=P.useCallback((i,a,o="sine",c=.3)=>{if(!(!e.current||!t.current))try{const d=t.current,f=d.createOscillator(),p=d.createGain();f.connect(p),p.connect(d.destination),f.type=o,f.frequency.setValueAtTime(i,d.currentTime),p.gain.setValueAtTime(c,d.currentTime),p.gain.exponentialRampToValueAtTime(.01,d.currentTime+a),f.start(d.currentTime),f.stop(d.currentTime+a)}catch(d){console.warn("Sound playback failed:",d)}},[]),n={appear:()=>{r(400,.1,"sine",.2),setTimeout(()=>r(600,.15,"sine",.25),80)},click:()=>{r(800,.08,"sine",.3)},tipShow:()=>{r(600,.12,"sine",.2),setTimeout(()=>r(800,.12,"sine",.2),60)},tipDismiss:()=>{r(500,.1,"sine",.15)},excited:()=>{r(523,.1,"sine",.25),setTimeout(()=>r(659,.1,"sine",.25),80),setTimeout(()=>r(784,.15,"sine",.25),160)},disappointed:()=>{r(440,.15,"sine",.2),setTimeout(()=>r(349,.2,"sine",.2),120)},normal:()=>{r(600,.12,"sine",.2)},hover:()=>{r(700,.05,"sine",.15)},success:()=>{r(523,.08,"square",.2),setTimeout(()=>r(659,.08,"square",.2),70),setTimeout(()=>r(784,.08,"square",.2),140),setTimeout(()=>r(1047,.2,"square",.25),210)},playSound:i=>{i==="positive"?n.success():n.disappointed()},toggleSound:i=>{e.current=i},isSoundEnabled:()=>e.current};return n}function xX(){const t=Q$(),e=Z$(),[r,n]=P.useState({xpGain:!1,quizFeedback:{show:!1,isCorrect:null},streakIncrement:!1,levelUp:!1,badgeUnlock:!1,lessonComplete:!1}),i=P.useCallback(g=>{n(y=>({...y,xpGain:!0})),e.success(),t.success(),setTimeout(()=>{n(y=>({...y,xpGain:!1}))},100)},[e,t]),a=P.useCallback(g=>{n(y=>({...y,quizFeedback:{show:!0,isCorrect:g}})),g?(e.excited(),t.success()):(e.disappointed(),t.error()),setTimeout(()=>{n(y=>({...y,quizFeedback:{show:!1,isCorrect:null}}))},1e3)},[e,t]),o=P.useCallback(()=>{n(g=>({...g,quizFeedback:{show:!1,isCorrect:null}}))},[]),c=P.useCallback(()=>{n(g=>({...g,streakIncrement:!0})),e.excited(),t.success(),setTimeout(()=>{n(g=>({...g,streakIncrement:!1}))},100)},[e,t]),d=P.useCallback(g=>{n(y=>({...y,levelUp:!0})),e.success(),t.success(),setTimeout(()=>{n(y=>({...y,levelUp:!1}))},100)},[e,t]),f=P.useCallback(g=>{n(y=>({...y,badgeUnlock:!0})),e.success(),t.success(),setTimeout(()=>{n(y=>({...y,badgeUnlock:!1}))},100)},[e,t]),p=P.useCallback(()=>{n(g=>({...g,lessonComplete:!0})),e.success(),t.success(),setTimeout(()=>{n(g=>({...g,lessonComplete:!1}))},100)},[e,t]),h=P.useCallback(()=>{n({xpGain:!1,quizFeedback:{show:!1,isCorrect:null},streakIncrement:!1,levelUp:!1,badgeUnlock:!1,lessonComplete:!1})},[]);return{triggers:r,triggerXPGain:i,triggerQuizFeedback:a,dismissQuizFeedback:o,triggerStreakIncrement:c,triggerLevelUp:d,triggerBadgeUnlock:f,triggerLessonComplete:p,resetAll:h}}const Bo={1:{id:1,title:"Introduzione a Bitcoin",description:"Scopri cos' Bitcoin, come funziona la blockchain e perch  una rivoluzione finanziaria",difficulty:"beginner",estimatedTime:"15 min",requiredLevel:1,sections:[{title:"Cos' Bitcoin?",content:"Bitcoin  la prima criptovaluta decentralizzata al mondo, creata nel 2009 da Satoshi Nakamoto. Non  controllata da nessuna banca o governo, ma da una rete distribuita di computer in tutto il mondo. Bitcoin permette di inviare valore digitale direttamente da persona a persona, senza intermediari."},{title:"La Blockchain",content:'La blockchain  il registro pubblico distribuito su cui vengono registrate tutte le transazioni Bitcoin. Ogni "blocco" contiene un gruppo di transazioni, e i blocchi sono collegati tra loro in una "catena". Questa struttura rende estremamente difficile alterare le transazioni passate, garantendo sicurezza e trasparenza.'},{title:"Perch Bitcoin ha Valore?",content:"Bitcoin ha valore per tre motivi principali: 1) Scarsit - ci saranno solo 21 milioni di bitcoin, 2) Utilit - permette trasferimenti rapidi e sicuri, 3) Rete - pi persone lo usano, pi diventa prezioso. Come l'oro digitale, Bitcoin  un store of value resistente alla censura."},{title:"Mining e Sicurezza",content:'I miner usano potenza computazionale per validare le transazioni e aggiungere nuovi blocchi alla blockchain. In cambio ricevono bitcoin come ricompensa. Questo processo chiamato "Proof of Work" rende la rete sicura: per attaccarla servirebbe pi potenza di calcolo di tutti i miner onesti messi insieme, cosa economicamente non conveniente.'}],questions:[{id:1,type:"multiple-choice",question:"Chi ha creato Bitcoin?",options:["Elon Musk","Satoshi Nakamoto","Vitalik Buterin","La NSA"],correctAnswer:1,explanation:"Bitcoin  stato creato da Satoshi Nakamoto nel 2009. La sua vera identit rimane ancora sconosciuta.",xp:50},{id:2,type:"multiple-choice",question:"Quanti bitcoin esisteranno in totale?",options:["10 milioni","21 milioni","100 milioni","Infiniti"],correctAnswer:1,explanation:"Il limite massimo di bitcoin  fissato a 21 milioni. Questa scarsit programmata  una caratteristica fondamentale di Bitcoin.",xp:50},{id:3,type:"multiple-choice",question:"Cos' la blockchain?",options:["Un tipo di criptovaluta","Un registro distribuito di transazioni","Un algoritmo di mining","Un wallet digitale"],correctAnswer:1,explanation:"La blockchain  un registro pubblico e distribuito che contiene tutte le transazioni Bitcoin in ordine cronologico.",xp:75}]},2:{id:2,title:"Volatilit e Prezzo di Bitcoin",description:"Comprendi i cicli di mercato, la volatilit e cosa muove il prezzo di Bitcoin",difficulty:"beginner",estimatedTime:"20 min",requiredLevel:1,sections:[{title:"Cosa Causa la Volatilit",content:"Bitcoin  noto per la sua alta volatilit. I fattori principali includono: 1) Mercato relativamente piccolo rispetto ad asset tradizionali, 2) Notizie e sentiment del mercato, 3) Regolamentazioni governative, 4) Adozione istituzionale, 5) Eventi tecnici come halving. La volatilit  sia un rischio che un'opportunit per i trader."},{title:"I Cicli di Mercato di Bitcoin",content:'Bitcoin segue cicli di circa 4 anni legati agli "halving" (dimezzamento della ricompensa dei miner). Tipicamente dopo ogni halving segue un bull market, poi un top, un bear market, e un periodo di accumulazione. Comprendere questi cicli ti aiuta a posizionarti meglio strategicamente.'},{title:"Analisi On-Chain",content:"L'analisi on-chain studia i dati direttamente dalla blockchain per capire il comportamento dei detentori di bitcoin. Metriche importanti includono: indirizzi attivi, bitcoin in movimento, supply su exchange, profitti/perdite degli investitori. Questi dati ti danno insight sul sentiment di mercato."},{title:"Correlazioni di Mercato",content:"Bitcoin ha mostrato diverse correlazioni nel tempo: a volte con l'oro (store of value), a volte con tech stocks (risk-on asset). Negli ultimi anni la correlazione con i mercati tradizionali  aumentata, specialmente con il NASDAQ. Capire queste dinamiche  fondamentale per il risk management."}],questions:[{id:1,type:"multiple-choice",question:"Ogni quanti anni circa avviene l'halving di Bitcoin?",options:["2 anni","4 anni","6 anni","10 anni"],correctAnswer:1,explanation:"L'halving di Bitcoin avviene circa ogni 4 anni, o pi precisamente ogni 210,000 blocchi minati.",xp:50},{id:2,type:"multiple-choice",question:"Quale fattore NON influenza tipicamente la volatilit di Bitcoin?",options:["Annunci di regolamentazione governativa","Adozione da parte di aziende","Il prezzo del petrolio","Sentiment sui social media"],correctAnswer:2,explanation:"Il prezzo del petrolio ha una correlazione molto bassa con Bitcoin. Gli altri fattori invece influenzano significativamente la volatilit.",xp:75},{id:3,type:"multiple-choice",question:"Cosa indica un alto numero di bitcoin che si spostano dagli exchange ai wallet personali?",options:["Gli investitori vogliono vendere","Gli investitori stanno accumulando per il lungo termine","Il prezzo sta per crollare","Non ha alcun significato"],correctAnswer:1,explanation:"Quando i bitcoin lasciano gli exchange significa che gli investitori li stanno mettendo in cold storage, segnale di accumulo e holding a lungo termine.",xp:100}]},3:{id:3,title:"Cosa Sono le Opzioni",description:"Introduzione al mondo delle opzioni: put, call, strike, scadenza e premium",difficulty:"beginner",estimatedTime:"25 min",requiredLevel:2,sections:[{title:"Opzioni: Il Concetto Base",content:`Un'opzione  un contratto che ti d il DIRITTO (ma non l'obbligo) di comprare o vendere un asset a un prezzo prestabilito entro una certa data.  come un "coupon" che ti permette di bloccare un prezzo futuro. Le opzioni Bitcoin funzionano esattamente come quelle su azioni, ma con BTC come sottostante.`},{title:"Call vs Put",content:"Ci sono due tipi di opzioni: CALL (diritto di COMPRARE) e PUT (diritto di VENDERE). Esempio: una call a $50k ti permette di comprare BTC a $50k anche se il prezzo sale a $80k. Una put a $40k ti permette di vendere BTC a $40k anche se il prezzo scende a $30k."},{title:"Componenti di un'Opzione",content:"Ogni opzione ha 4 elementi chiave: 1) STRIKE PRICE - il prezzo di esercizio, 2) SCADENZA - quando il contratto termina, 3) PREMIUM - il prezzo che paghi per l'opzione, 4) SOTTOSTANTE - l'asset (nel nostro caso BTC). Questi elementi determinano il valore e il rischio dell'opzione."},{title:"Comprare vs Vendere Opzioni",content:"Puoi essere BUYER (compratore) o SELLER (venditore) di opzioni. Il buyer paga un premium e ha diritti limitati al premium pagato. Il seller riceve il premium ma assume obblighi potenzialmente illimitati. Nella Wheel Strategy, vendiamo opzioni per raccogliere premium regolarmente."}],questions:[{id:1,type:"multiple-choice",question:"Una CALL option ti d il diritto di:",options:["Vendere l'asset","Comprare l'asset","Tenere l'asset","Scambiare l'asset"],correctAnswer:1,explanation:"Una CALL option ti d il diritto (non l'obbligo) di COMPRARE l'asset sottostante al prezzo strike.",xp:50},{id:2,type:"multiple-choice",question:"Se vendi un'opzione, cosa ricevi?",options:["Il diritto di comprare","Il diritto di vendere","Il premium","Niente"],correctAnswer:2,explanation:"Quando vendi un'opzione, ricevi immediatamente il premium, ma assumi l'obbligo di onorare il contratto se richiesto.",xp:75},{id:3,type:"multiple-choice",question:"Quale elemento NON  parte di un contratto di opzione?",options:["Strike price","Data di scadenza","Dividend yield","Premium"],correctAnswer:2,explanation:"Il dividend yield non  rilevante per le opzioni Bitcoin. Strike, scadenza e premium sono i componenti essenziali.",xp:75}]},4:{id:4,title:"Cash-Secured Put",description:"Impara la prima gamba della Wheel Strategy: vendere put per generare income",difficulty:"intermediate",estimatedTime:"30 min",requiredLevel:3,sections:[{title:"Cos' una Cash-Secured Put",content:'Una Cash-Secured Put (CSP)  quando VENDI una put option avendo il cash necessario per comprare BTC se assegnato. Esempio: vendi una put strike $40k, tieni $40k in cash. Se BTC scende sotto $40k, compri BTC a quel prezzo. Se resta sopra, tieni il premium.  un modo per "farsi pagare per aspettare" un prezzo di entrata.'},{title:"Calcolo del Premium e Rendimento",content:"Il premium che ricevi dipende da: 1) Volatilit implicita (IV) - pi alta, pi premium, 2) Distanza dello strike dal prezzo attuale - pi lontano, meno premium, 3) Tempo a scadenza - pi tempo, pi premium. Un buon target  1-3% del capitale investito al mese (12-36% annualizzato)."},{title:"Selezione dello Strike",content:'Scegli uno strike a cui saresti FELICE di comprare BTC. Considera: 1) Livelli di supporto tecnico, 2) Prezzo medio di mercato, 3) Il tuo punto di vista sul prezzo. Strike "Out of the Money" (sotto il prezzo attuale) sono pi sicuri ma danno meno premium. Strike "At the Money" danno pi premium ma pi probabilit di assegnazione.'},{title:"Gestione del Rischio",content:"I rischi principali sono: 1) BTC crolla molto sotto il tuo strike (ma se volevi comprarlo, va bene), 2) BTC sale molto e perdi l'opportunit (ma hai il premium). Per mitigare: vendi put solo a strike che ti vanno bene, non investire tutto in una scadenza, considera strike pi conservativi in mercati incerti."}],questions:[{id:1,type:"multiple-choice",question:"Quando vendi una Cash-Secured Put, il tuo profitto massimo :",options:["Illimitato","Il premium ricevuto","La differenza tra strike e prezzo di mercato","Zero"],correctAnswer:1,explanation:"Quando vendi una put, il massimo che puoi guadagnare  il premium ricevuto. Non puoi guadagnare pi di quello, ma  tuo sin dall'inizio.",xp:100},{id:2,type:"multiple-choice",question:"Se vendi una put a strike $45,000 e ricevi $500 di premium, qual  il tuo breakeven?",options:["$45,000","$45,500","$44,500","$40,000"],correctAnswer:2,explanation:"Il breakeven  strike - premium ricevuto = $45,000 - $500 = $44,500. A quel prezzo sei in pareggio anche se assegnato.",xp:150},{id:3,type:"multiple-choice",question:"Quale scenario  MEGLIO per vendere put con alto premium?",options:["Bassa volatilit, mercato calmo","Alta volatilit, mercato nervoso","Trend fortemente rialzista","Non fa differenza"],correctAnswer:1,explanation:"Alta volatilit implicita significa premium pi alti. I mercati nervosi e incerti offrono i migliori premi per i venditori di opzioni.",xp:150}]},5:{id:5,title:"Covered Call",description:"La seconda gamba della Wheel: vendere call sul BTC che possiedi per generare income extra",difficulty:"intermediate",estimatedTime:"30 min",requiredLevel:4,sections:[{title:"Cos' una Covered Call",content:"Una Covered Call (CC)  quando VENDI una call option possedendo gi il BTC sottostante. Esempio: hai 1 BTC comprato a $40k, lo vendi a call strike $50k per $800. Se BTC resta sotto $50k tieni BTC + $800. Se sale sopra $50k, vendi il tuo BTC a $50k ma tieni i $800. In entrambi i casi, generi reddito extra."},{title:"Quando Vendere Covered Call",content:"Le covered call sono ideali quando: 1) Possiedi gi BTC e vuoi generare income, 2) Pensi che il prezzo rester flat o salir moderatamente, 3) Vuoi ridurre il costo base del tuo BTC, 4) Sei disposto a vendere BTC a un prezzo target. Evita in strong uptrend dove preferiresti tenere BTC."},{title:"Scelta dello Strike per le Call",content:'Strike "Out of the Money" (sopra il prezzo attuale): meno premium ma tieni BTC pi facilmente. Strike "At the Money": pi premium ma alta probabilit di vendere BTC. Strike "In the Money": massimo premium ma quasi certo che vendi BTC. Considera il tuo target di vendita: se venderesti BTC a $55k, vendi call a quello strike.'},{title:"Gestione della Posizione",content:"Se BTC sale verso il tuo strike: 1) Lascia che venga assegnato (vendi a profitto), 2) Fai roll up/out per strike pi alto, 3) Chiudi la call in perdita per tenere BTC. Se BTC scende: la call scade senza valore, tieni BTC + premium, puoi vendere nuova call. Il premium riduce il tuo costo base nel tempo."}],questions:[{id:1,type:"multiple-choice",question:"Con una Covered Call, il tuo rischio massimo :",options:["Il premium ricevuto","La perdita sul BTC sottostante","Illimitato","Zero"],correctAnswer:1,explanation:"Il rischio principale  la perdita sul BTC posseduto. Il premium ricevuto aiuta a ridurre questa perdita, ma non la elimina.",xp:100},{id:2,type:"multiple-choice",question:"Hai comprato BTC a $40k, vendi call strike $50k per $1k. Se BTC sale a $55k e vieni assegnato, qual  il tuo profitto totale?",options:["$10,000","$11,000","$15,000","$5,000"],correctAnswer:1,explanation:"Guadagno su BTC: $50k - $40k = $10k. Premium call: $1k. Totale: $11k. Non realizzi il guadagno extra da $50k a $55k perch hai venduto a $50k.",xp:150},{id:3,type:"multiple-choice",question:"Quale affermazione  VERA per le covered call?",options:["Limitano il profitto massimo verso l'alto","Eliminano completamente il rischio","Funzionano meglio in strong downtrend","Richiedono margine aggiuntivo"],correctAnswer:0,explanation:"Le covered call limitano il profitto massimo allo strike scelto, ma in cambio ricevi premium regolari che riducono il rischio verso il basso.",xp:150}]},6:{id:6,title:"La Wheel Strategy Completa",description:"Unisci put e call in un ciclo perpetuo di generazione di income su Bitcoin",difficulty:"intermediate",estimatedTime:"35 min",requiredLevel:5,sections:[{title:"Come Funziona la Wheel",content:"La Wheel Strategy  un ciclo: 1) INIZIO: Vendi Cash-Secured Put per generare premium, 2) SE ASSEGNATO: Compri BTC al tuo strike, 3) CONTINUA: Vendi Covered Call sul BTC posseduto, 4) SE ASSEGNATO: Vendi BTC a profitto, 5) RIPETI: Torna a vendere put. Ad ogni step generi premium, che sia in cash o con BTC in portafoglio."},{title:"Esempio Pratico Completo",content:"Capitale $50k, BTC a $50k. STEP 1: Vendi put strike $45k, ricevi $900 premium. BTC scende a $44k. STEP 2: Vieni assegnato, compri BTC a $45k. STEP 3: Vendi call strike $50k, ricevi $1k. BTC sale a $51k. STEP 4: Vieni assegnato, vendi BTC a $50k. Guadagno: $900 (put) + $1k (call) + $5k (profitto BTC) = $6,900 su $45k investiti = 15.3% in un ciclo!"},{title:"Gestione del Capitale",content:"Non usare MAI tutto il capitale in una posizione. Regola del 20-30%: usa solo 20-30% del capitale per ogni wheel cycle, cos puoi vendere put a strike diversi o scadenze diverse. Questo ti protegge da draw down severi e ti permette di mediare il costo se BTC scende molto. Mantieni cash per opportunit."},{title:"Quando la Wheel NON Funziona",content:"La Wheel soffre in: 1) Mercati fortemente direzionali - se BTC 10x, avresti guadagnato pi holddando, 2) Crash improvvisi - potresti comprare BTC in caduta, 3) Bassa volatilit - premium bassi non compensano il tempo. Migliore in mercati range-bound o moderatamente volatili. Considera il contesto macro prima di entrare."}],questions:[{id:1,type:"multiple-choice",question:"La Wheel Strategy funziona meglio in quale tipo di mercato?",options:["Strong uptrend con +100% in poche settimane","Range-bound o moderatamente volatile","Crash del -80%","Volatilit zero"],correctAnswer:1,explanation:"La Wheel  ottimale in mercati range-bound o con volatilit moderata, dove raccogli premium regolari senza movimenti estremi.",xp:100},{id:2,type:"multiple-choice",question:"Quale percentuale del capitale  consigliabile usare per ogni wheel cycle?",options:["100% - massimizza i rendimenti","50% - equilibrato","20-30% - consente diversificazione","5% - troppo conservativo"],correctAnswer:2,explanation:"Usare 20-30% per cycle ti permette di diversificare strike e scadenze, riducendo il rischio concentrato.",xp:150},{id:3,type:"multiple-choice",question:"In un ciclo completo della Wheel, quante volte generi premium?",options:["Una volta (solo la put)","Due volte (put + call)","Tre volte (put + call + vendita BTC)","Mai, guadagni solo dalla vendita di BTC"],correctAnswer:1,explanation:"In un ciclo completo generi premium due volte: quando vendi la put iniziale e quando vendi la call sul BTC posseduto.",xp:150}]},7:{id:7,title:"Greeks: Delta, Theta, Vega",description:"Comprendi le forze che muovono il prezzo delle opzioni e come usarle a tuo vantaggio",difficulty:"advanced",estimatedTime:"40 min",requiredLevel:6,sections:[{title:"Delta: La Sensibilit al Prezzo",content:"Delta misura quanto cambia il prezzo dell'opzione quando BTC si muove di $1. Delta va da 0 a 1 per call (0 a -1 per put). Esempio: call con delta 0.30 guadagna $0.30 per ogni $1 che BTC sale. Quando VENDI opzioni vuoi delta basso (lontano dal denaro), cos il prezzo dell'opzione non ti va contro se BTC si muove."},{title:"Theta: Il Tempo  Denaro",content:"Theta rappresenta quanto valore perde l'opzione ogni giorno che passa (time decay). Per i VENDITORI di opzioni, theta  il tuo alleato! Ogni giorno che passa senza movimento, l'opzione che hai venduto perde valore, e tu guadagni. Le opzioni con scadenza entro 30-45 giorni hanno il theta decay pi accelerato."},{title:"Vega: La Volatilit Implicita",content:"Vega misura quanto cambia il prezzo dell'opzione per ogni 1% di cambiamento nella volatilit implicita (IV). Quando vendi opzioni con IV alta, ricevi pi premium. Se poi IV scende, l'opzione perde valore anche senza movimento di prezzo. Strategia: vendi quando IV  alta (paura/incertezza), compra quando IV  bassa."},{title:"Usare i Greeks nella Wheel",content:"Per la Wheel: 1) Cerca put/call con delta 0.20-0.40 (probability ~20-40% di finire ITM), 2) Preferisci scadenze 30-45 giorni per massimizzare theta, 3) Monitora IV: vendi quando  sopra media storica, 4) Se IV crolla dopo che hai venduto, considera di chiudere early per lock in profit. I Greeks ti dicono QUANDO entrare e uscire."}],questions:[{id:1,type:"multiple-choice",question:"Se vendi una put con delta -0.25, cosa significa?",options:["Hai 25% di probabilit di profitto","L'opzione perde $0.25 al giorno","L'opzione guadagna ~$0.25 per ogni $1 che BTC scende","La volatilit  al 25%"],correctAnswer:2,explanation:"Delta -0.25 significa che l'opzione guadagna circa $0.25 di valore per ogni $1 che BTC scende (negativo per le put).",xp:150},{id:2,type:"multiple-choice",question:"Theta decay  pi rapido per opzioni che scadono tra:",options:["1-7 giorni","30-45 giorni","90-120 giorni","180+ giorni"],correctAnswer:1,explanation:"Il theta decay  pi accelerato nelle ultime settimane prima della scadenza, con picco negli ultimi 7 giorni. Ma 30-45 giorni offre miglior bilanciamento rischio/rendimento.",xp:150},{id:3,type:"multiple-choice",question:"Quando  il momento MIGLIORE per vendere opzioni in termini di Vega?",options:["Quando IV (volatilit implicita)  molto bassa","Quando IV  nella media","Quando IV  molto alta (sopra percentile 70-80)","IV non  rilevante per venditori"],correctAnswer:2,explanation:"Vendere quando IV  alta significa ricevere premium pi alti. Quando IV scende, puoi chiudere early in profitto anche senza movimento di prezzo.",xp:200}]},8:{id:8,title:"Gestione del Rischio e Position Sizing",description:"Proteggi il capitale: regole di risk management essenziali per la Wheel Strategy",difficulty:"advanced",estimatedTime:"35 min",requiredLevel:7,sections:[{title:"La Regola del 2% e Dimensione Posizione",content:"Mai rischiare pi del 2% del capitale totale in una singola posizione. Se hai $100k, non rischiare pi di $2k per trade. Per la Wheel, questo significa: se vendi put strike $40k, assicurati che una perdita del 5% su quella posizione ($2k) sia accettabile. Position size = Capitale * 0.02 / Stop Loss percentuale. Rispetta SEMPRE questa regola."},{title:"Diversificazione Temporale e Strike",content:'Non concentrare tutto su una scadenza o strike. Esempio: se hai $100k, invece di vendere 2 put strike $45k scadenza 30 giorni, vendi: 1 put $45k a 30 giorni, 1 put $40k a 45 giorni. Questo riduce il rischio di assignment simultaneo e ti permette di mediare costi se BTC scende. "Non mettere tutte le uova nello stesso paniere".'},{title:"Stop Loss Mentali e Rolling Defensivo",content:"Definisci PRIMA un punto di uscita. Esempio: se la put venduta va in perdita del 200% del premium ricevuto, chiudi o fai roll. Se hai venduto put per $1k e ora costa $3k ricomprarla, decidi: accetti assignment o fai roll out in tempo? Non lasciare che l'ego ti blocchi in posizioni perdenti. Cut losses early se il trade thesis  invalidato."},{title:"Margin of Safety e Stress Testing",content:'Sempre mantieni buffer di cash. Se tutto il capitale  impegnato in put vendute, un drawdown ti forza a scelte difficili. Regola: massimo 60-70% del capitale in posizioni attive, 30-40% in cash. Fai stress test: "E se BTC scende del 30% domani? Posso sostenere tutte le assignment?". Se la risposta  no, riduci position size.'}],questions:[{id:1,type:"multiple-choice",question:"Con $50,000 di capitale e regola del 2%, qual  il massimo rischio accettabile per trade?",options:["$500","$1,000","$2,000","$5,000"],correctAnswer:1,explanation:"$50,000 * 2% = $1,000. Questo  il massimo che dovresti rischiare in un singolo trade per proteggere il capitale.",xp:100},{id:2,type:"multiple-choice",question:"Hai venduto put per $800 premium. A che punto dovresti considerare stop loss?",options:["Mai, accetta sempre l'assignment","Quando la perdita supera il 100-200% del premium ($800-$1,600)","Solo quando BTC va a zero","Quando hai perso il 50% del capitale totale"],correctAnswer:1,explanation:"Una regola comune  chiudere o roll quando la perdita supera 100-200% del premium ricevuto, per limitare i danni.",xp:150},{id:3,type:"multiple-choice",question:"Quale percentuale del capitale totale dovrebbe restare in cash come buffer?",options:["0% - usa tutto per massimizzare rendimenti","10% - minimo vitale","30-40% - margin of safety","80% - ultra conservativo"],correctAnswer:2,explanation:"Mantenere 30-40% in cash ti permette di gestire assignment inaspettati, mediare costi, o cogliere opportunit durante crash.",xp:150}]},9:{id:9,title:"Roll & Adjust: Gestione Avanzata",description:"Impara come e quando modificare le tue posizioni per ottimizzare profitti e gestire rischio",difficulty:"advanced",estimatedTime:"30 min",requiredLevel:8,sections:[{title:"Cos' il Rolling?",content:"Il rolling  una tecnica che ti permette di chiudere una posizione esistente e aprirne una nuova con una scadenza pi lontana o uno strike diverso. Questo ti permette di evitare l'assegnazione e continuare a raccogliere premium. Esistono 3 tipi: Roll OUT (stessa strike, scadenza pi lontana), Roll UP/DOWN (strike diverso, stessa scadenza), Roll OUT AND UP/DOWN (entrambi)."},{title:"Quando Fare Roll",content:`Considera di fare roll quando: 1) La tua posizione  in perdita ma credi ancora nella strategia, 2) Vuoi evitare l'assegnazione, 3) Puoi raccogliere premium addizionale che giustifica il rischio e il tempo extra. NON fare roll se: il trade thesis  invalidato, stai solo "kicking the can down the road" senza piano, o il premium netto  troppo basso.`},{title:"Come Calcolare se il Roll Conviene",content:"Per un roll vantaggioso valuta: 1) Credito netto ricevuto - devi ricevere pi di quanto paghi per chiudere, 2) Tempo addizionale - ogni settimana extra che impegni vale? 3) Nuovo strike - sei ancora ok con quel prezzo? Formula: se ricevi >0.5% del capitale per settimana extra di impegno, il roll pu valere la pena. Altrimenti meglio accettare assignment."},{title:"Roll Difensivo vs Aggressivo",content:"Roll DIFENSIVO: roll out mantenendo stesso strike, massimizza tempo per recovery. Roll AGGRESSIVO: roll down/up per raccogliere pi premium, ma aumenta rischio. Esempio: put $45k in perdita, BTC a $42k. Difensivo: roll a 45 giorni strike $45k per +$600. Aggressivo: roll a 30 giorni strike $40k per +$1,200. Scegli basandoti su outlook e risk tolerance."}],questions:[{id:1,type:"multiple-choice",question:"Quando  il momento migliore per fare un roll di una put venduta?",options:["Quando la posizione  in profitto del 50%","Quando il prezzo di BTC scende vicino allo strike e vuoi evitare l'assegnazione","Solo alla scadenza","Mai,  meglio accettare l'assegnazione"],correctAnswer:1,explanation:"Il momento ottimale per fare roll  quando il prezzo si avvicina allo strike e vuoi evitare l'assegnazione, raccogliendo premium addizionale.",xp:100},{id:2,type:"multiple-choice",question:'Cosa significa "roll out"?',options:["Chiudere completamente la posizione","Spostare la scadenza a una data futura mantenendo lo stesso strike","Cambiare solo lo strike","Vendere pi contratti"],correctAnswer:1,explanation:`"Roll out" significa spostare la scadenza dell'opzione a una data futura, mantenendo lo stesso strike price.`,xp:100},{id:3,type:"multiple-choice",question:"Se hai venduto una put a strike $40,000 e BTC  ora a $38,000, quale strategia di roll  pi difensiva?",options:["Roll down a $38,000 con stessa scadenza","Roll out alla prossima scadenza mensile allo stesso strike","Roll down and out a $36,000 scadenza pi lontana","Non fare nulla"],correctAnswer:1,explanation:"Roll out allo stesso strike  pi difensivo perch ti d pi tempo per il recovery senza abbassare ulteriormente lo strike.",xp:150}]},10:{id:10,title:"Volatilit Implicita e IV Rank",description:"Padroneggia l'arte di vendere caro e comprare economico usando la volatilit",difficulty:"advanced",estimatedTime:"35 min",requiredLevel:9,sections:[{title:"Cos' la Volatilit Implicita",content:"La Volatilit Implicita (IV)  l'aspettativa del mercato su quanto BTC si muover in futuro. Alta IV = mercato si aspetta grandi movimenti = opzioni pi costose. Bassa IV = mercato calmo = opzioni economiche. IV  espressa in % annualizzata. Esempio: IV al 80% significa che il mercato si aspetta che BTC possa muoversi 80% nel prossimo anno."},{title:"IV Rank e IV Percentile",content:"IV Rank confronta l'IV attuale con il range degli ultimi 12 mesi. Formula: (IV attuale - IV min) / (IV max - IV min). Un IV Rank del 80% significa che l'IV  nell'80 percentile dell'ultimo anno. REGOLA: Vendi opzioni quando IV Rank > 50-60%, compra quando < 30%. Questo ti assicura di vendere quando i premi sono alti."},{title:"Cicli di Volatilit su Bitcoin",content:'Bitcoin ha pattern di volatilit prevedibili: 1) IV schizza durante crash (panic selling), 2) IV si comprime durante range-bound, 3) IV aumenta prima di eventi macro (halving, decisioni Fed). La migliore opportunit per vendere put  DOPO un crash quando IV  ai massimi ma BTC sta stabilizzando. "Be greedy when others are fearful".'},{title:"IV Crush e Timing di Entrata",content:"IV Crush  il crollo improvviso della volatilit dopo un evento. Esempio: BTC crasha, IV vola al 120%, vendi put, poi BTC stabilizza e IV crolla a 60% = le tue put perdono valore anche senza movimento di prezzo. Profitto facile! Evita invece di vendere durante low IV pre-evento, perch IV expansion ti andrebbe contro."}],questions:[{id:1,type:"multiple-choice",question:"Un IV Rank del 75% significa:",options:["Le opzioni sono al 75% del loro valore massimo","L'IV attuale  pi alta del 75% dei valori degli ultimi 12 mesi","Hai il 75% di probabilit di profitto","Il prezzo di BTC salir del 75%"],correctAnswer:1,explanation:"IV Rank 75% significa che la volatilit corrente  pi alta del 75% dei valori registrati nell'ultimo anno = momento ottimo per vendere.",xp:150},{id:2,type:"multiple-choice",question:"Quando  il momento MIGLIORE per vendere put in termini di IV?",options:["Durante mercati calmi con IV al 20%","Subito dopo un crash quando IV  schizzata al 100%+","Quando IV  nella media storica","IV non influenza la strategia"],correctAnswer:1,explanation:"Dopo un crash l'IV  altissima (paura), i premium sono gonfiati. Quando il panico si calma, IV crolla e tu profitti.",xp:150},{id:3,type:"multiple-choice",question:'Cosa pu causare un "IV Crush"?',options:["BTC che sale del 50% in un mese","Stabilizzazione del mercato dopo forte volatilit","Announcement di halving","Aumento del volume di trading"],correctAnswer:1,explanation:"IV Crush avviene quando il mercato si stabilizza dopo periodo di alta volatilit. L'incertezza diminuisce, quindi anche l'IV.",xp:200}]},11:{id:11,title:"Analisi Tecnica per la Wheel",description:"Usa supporti, resistenze e indicatori per selezionare strike ottimali",difficulty:"advanced",estimatedTime:"40 min",requiredLevel:10,sections:[{title:"Supporti e Resistenze per Strike Selection",content:"I livelli di supporto e resistenza sono fondamentali per scegliere strike intelligenti. SUPPORTO: livello di prezzo dove storicamente BTC ha trovato acquirenti. RESISTENZA: livello dove ha trovato venditori. Regola: vendi put con strike AI supporti maggiori, vendi call con strike ALLE resistenze maggiori. Questo aumenta le probabilit che le opzioni scadano OTM."},{title:"Indicatori di Momentum: RSI e MACD",content:"RSI (Relative Strength Index) misura se BTC  ipercomprato (>70) o ipervenduto (<30). MACD mostra il trend e i cambiamenti di momentum. Per la Wheel: vendi put quando RSI<30 (oversold, probabile rimbalzo), vendi call quando RSI>70 (overbought, probabile correzione). Non vendere put con RSI>70 = rischi di vendere il top."},{title:"Volume Profile e Strike Liquidi",content:`Il Volume Profile mostra a quali prezzi si  scambiato pi volume. I "Point of Control" (POC) sono magneti di prezzo. Scegli strike vicini ai POC perch l c' pi liquidit e il prezzo tende a gravitare. Evita strike in "low volume nodes" dove il prezzo tende a passare velocemente senza consolidare.`},{title:"Fibonacci Retracements",content:"I livelli di Fibonacci (0.236, 0.382, 0.5, 0.618, 0.786) sono livelli chiave dove BTC spesso rimbalza o inverte. Dopo un rally, BTC tipicamente ritracia al 0.5-0.618 prima di continuare. Vendi put con strike al Fib 0.618 di un rally = alta probabilit che reggano. Questo combina analisi tecnica con vendita di opzioni."}],questions:[{id:1,type:"multiple-choice",question:"Se BTC  a $55k e ha forte supporto a $50k, dove  meglio vendere una put?",options:["Strike $52k (poco sotto il prezzo)","Strike $50k (sul supporto)","Strike $45k (ben sotto il supporto)","Strike $60k (sopra il prezzo)"],correctAnswer:1,explanation:"Vendere put sul supporto maggiore ($50k) massimizza premium mantenendo buona probabilit che il livello tenga.",xp:150},{id:2,type:"multiple-choice",question:"Con RSI a 25 (oversold), quale strategia  pi intelligente?",options:["Vendere call (BTC probabilmente scender ancora)","Vendere put (BTC probabilmente rimbalzer)","Non fare nulla","Comprare put (protezione dal crash)"],correctAnswer:1,explanation:"RSI < 30 indica oversold, probabile rimbalzo. Vendere put in questo contesto ha alta probabilit di successo.",xp:150},{id:3,type:"multiple-choice",question:"Dopo un rally da $40k a $60k, BTC tipicamente ritracia a quale livello Fibonacci prima di continuare?",options:["Non ritracia mai","Fib 0.236 ($55.3k) - retracement superficiale","Fib 0.5-0.618 ($50k-$47.6k) - retracement sano","Fib 1.0 ($40k) - ritorna al punto di partenza"],correctAnswer:2,explanation:"I retracement al 50-61.8% sono pi comuni e sani. Vendi put a quei livelli per strike ottimali.",xp:200}]},12:{id:12,title:"Tax Implications e Record Keeping",description:"Gestisci correttamente le tasse e la documentazione delle tue operazioni",difficulty:"intermediate",estimatedTime:"25 min",requiredLevel:10,sections:[{title:"Tassazione delle Opzioni",content:"Le opzioni crypto sono tassate come capital gains. Se vendi opzioni che scadono OTM, il premium  reddito tassabile nell'anno fiscale. Se vieni assegnato, il premium modifica il costo base. Esempio: vendi put strike $40k per $1k, assegnato  costo base = $39k. Se poi vendi BTC a $50k con call, gain = $50k - $39k = $11k (tassato)."},{title:"Short-Term vs Long-Term Capital Gains",content:"In molti paesi (es. USA): holding <1 anno = short-term gains (tassati come reddito ordinario, aliquota pi alta), >1 anno = long-term gains (aliquota ridotta). La Wheel Strategy tipicamente genera short-term gains perch i cicli sono <1 anno. Considera questo nel calcolo del rendimento netto post-tasse."},{title:"Record Keeping Essenziale",content:"Devi tracciare per OGNI trade: 1) Data apertura/chiusura, 2) Strike, scadenza, tipo (put/call), 3) Premium ricevuto/pagato, 4) Assignment date e prezzo, 5) Roll details. Usa spreadsheet o software dedicato. In caso di audit, devi dimostrare ogni transazione. Non improvvisare, la corretta documentazione  legge."},{title:"Wash Sale Rule e Ottimizzazione Fiscale",content:"Wash Sale Rule: se vendi BTC in perdita e ricompri entro 30 giorni, la perdita fiscale pu essere negata. Per la Wheel questo  rilevante se vendi BTC in perdita e poi vieni subito riassegnato con put. Strategia: tempo le operazioni per massimizzare le deduzioni fiscali e evitare wash sales. Consulta sempre un commercialista crypto."}],questions:[{id:1,type:"multiple-choice",question:"Se vendi una put per $1,000 che scade senza valore, come  tassato?",options:["Non  tassato","Come capital gain di $1,000","Come reddito ordinario","Solo se supera $10,000"],correctAnswer:1,explanation:"Il premium di opzioni vendute che scadono OTM  tassato come short-term capital gain nell'anno fiscale.",xp:100},{id:2,type:"multiple-choice",question:"Vendi put strike $40k per $1k, vieni assegnato. Qual  il tuo costo base in BTC?",options:["$40,000","$41,000","$39,000","$38,000"],correctAnswer:2,explanation:"Il costo base = strike - premium ricevuto = $40,000 - $1,000 = $39,000. Questo riduce la tua base imponibile futura.",xp:150},{id:3,type:"multiple-choice",question:"Quale documento  ESSENZIALE tenere per ogni trade di opzioni?",options:["Solo il profitto/perdita finale","Niente, le piattaforme tracciano tutto","Data, strike, premium, assignment details completi","Solo le transazioni >$10,000"],correctAnswer:2,explanation:"Devi documentare OGNI dettaglio per conformit fiscale. Non fare affidamento solo sulle piattaforme.",xp:150}]},13:{id:13,title:"Piattaforme e Tools per Options Trading",description:"Scopri dove e come fare trading di opzioni Bitcoin in modo sicuro ed efficiente",difficulty:"intermediate",estimatedTime:"30 min",requiredLevel:11,sections:[{title:"Exchange Principali per BTC Options",content:"I principali exchange per opzioni Bitcoin: 1) DERIBIT - leader, alta liquidit, opzioni cash-settled, 2) CME - exchange regolamentato US, opzioni futures-based, 3) BINANCE - opzioni semplificate, buone per beginners, 4) OKX - buona liquidit, interfaccia user-friendly. Scegli basandoti su: liquidit, regolamentazione, fee, e se vuoi opzioni cash-settled o physical delivery."},{title:"Liquidit e Spreads",content:"Liquidit  critica! Controlla sempre: 1) Bid-Ask spread - se troppo largo, perdi in entrata/uscita, 2) Open Interest - quante opzioni sono aperte a quello strike, 3) Volume - quanto si scambia. Su Deribit gli strike ATM e vicini hanno buona liquidit. Strike molto OTM possono avere spread del 10-20%, evitali. Target: spread <2-3% del premium."},{title:"Tools di Analisi Essenziali",content:"Per analizzare opzioni usa: 1) OPTION PRICING CALCULATOR - per calcolare fair value e greeks, 2) IV RANK CHARTS - per vedere se IV  alta o bassa storicamente (Deribit metrics), 3) PROFIT/LOSS DIAGRAMS - visualizza payoff a scadenza, 4) PORTFOLIO GREEKS - monitora delta, theta, vega totali. Molti exchange offrono questi tools integrati."},{title:"Sicurezza e Custody",content:"Per la Wheel devi tenere collaterale sull'exchange. Rischio: hack o fallimento exchange. Mitigazione: 1) Usa exchange tier-1 con buona storia di sicurezza, 2) Abilita 2FA e whitelist withdrawal, 3) Non tenere pi del necessario on-exchange, 4) Considera di diversificare su 2 exchange. Il capitale non impegnato va in cold storage."}],questions:[{id:1,type:"multiple-choice",question:"Quale exchange  considerato leader per opzioni Bitcoin?",options:["Coinbase","Kraken","Deribit","Binance Spot"],correctAnswer:2,explanation:"Deribit  l'exchange con maggiore liquidit e volume per opzioni Bitcoin, preferito dai trader professionisti.",xp:100},{id:2,type:"multiple-choice",question:"Quale bid-ask spread  accettabile per un trade di opzioni?",options:["20-30% del premium","10-15% del premium","2-5% del premium","Lo spread non importa"],correctAnswer:2,explanation:"Uno spread del 2-5%  accettabile. Spreads pi larghi erodono significativamente i profitti, specialmente su trade frequenti.",xp:150},{id:3,type:"multiple-choice",question:"Dove dovresti tenere il capitale NON impegnato in posizioni attive?",options:["Tutto sull'exchange per facilit","In un hot wallet per accesso veloce","In cold storage (hardware wallet)","In stablecoin su exchange"],correctAnswer:2,explanation:"Il capitale non in uso dovrebbe essere in cold storage per massima sicurezza. Solo il collaterale necessario resta on-exchange.",xp:150}]},14:{id:14,title:"Psicologia del Trading e Discipline",description:"Padroneggia la mente: gestisci emozioni, bias cognitivi e mantieni la disciplina",difficulty:"intermediate",estimatedTime:"35 min",requiredLevel:12,sections:[{title:"I Bias Cognitivi Pi Pericolosi",content:"BIAS PRINCIPALI: 1) FOMO (Fear Of Missing Out) - vendere put/call quando dovresti stare fermo, 2) Loss Aversion - tenere posizioni perdenti troppo a lungo sperando in recovery, 3) Recency Bias - dare troppo peso agli eventi recenti, 4) Overconfidence - aumentare size dopo winning streak. Riconoscere questi bias  il primo passo per controllarli."},{title:"Il Trading Journal",content:"Un journal non  solo per tracciare P&L, ma per capire i tuoi pattern emotivi. Registra: 1) Setup del trade (perch sei entrato), 2) Stato emotivo PRE trade (calmo? ansioso? FOMO?), 3) Esecuzione (hai seguito il piano?), 4) Risultato + lezione. Rivedi il journal settimanalmente. Spesso scoprirai che i trade peggiori sono quelli emotivi."},{title:"Gestione dello Stress e Burnout",content:'La Wheel  una strategia a lungo termine, non un sprint. Per sostenibilit: 1) NON checkare i prezzi ogni ora, 2) Imposta alert ai livelli chiave, poi dimenticati, 3) Prendi break regolari - un giorno/settimana zero trading, 4) Non over-leverage mai, lo stress non vale il gain extra. "Il mercato sar qui domani, ma tu devi essere mentalmente sano per tradarlo".'},{title:"Disciplina e Checklist Pre-Trade",content:`Prima di OGNI trade, passa questa checklist:  IV Rank > 50%?  Strike ai livelli tecnici chiave?  Position size < 2% risk?  Ho cash buffer?  Sono emotivamente neutrale?  Questo trade fa parte del mio piano? Se anche una sola risposta  "no", NON tradare. La disciplina ti salva dai peggiori errori, l'impulso ti distrugge.`}],questions:[{id:1,type:"multiple-choice",question:"Quale bias ti porta a tenere posizioni perdenti troppo a lungo sperando che si riprendano?",options:["FOMO (Fear of Missing Out)","Loss Aversion","Recency Bias","Overconfidence"],correctAnswer:1,explanation:"Loss Aversion  la tendenza a evitare di realizzare perdite, tenendo posizioni perdenti troppo a lungo invece di tagliare le perdite.",xp:100},{id:2,type:"multiple-choice",question:"Cosa dovrebbe contenere un trading journal oltre a P&L?",options:["Solo i trade vincenti","Solo i numeri finanziari","Setup del trade, stato emotivo, esecuzione, e lezioni apprese","Niente, basta guardare il conto"],correctAnswer:2,explanation:"Un journal completo traccia emozioni e decision-making, non solo risultati. Questo ti aiuta a identificare e correggere pattern emotivi.",xp:150},{id:3,type:"multiple-choice",question:"Quale elemento NON dovrebbe essere in una pre-trade checklist?",options:["IV Rank sopra 50%","Position size entro limiti","Previsione che BTC salir sicuramente","Strike ai livelli tecnici"],correctAnswer:2,explanation:'Non si pu mai essere "sicuri" della direzione. La checklist deve basarsi su probabilit, risk management, e regole obiettive.',xp:150}]},15:{id:15,title:"Master Strategies e Ottimizzazioni",description:"Tecniche avanzate per massimizzare rendimenti: ratio spreads, calendars, e hybrid strategies",difficulty:"advanced",estimatedTime:"45 min",requiredLevel:13,sections:[{title:"Double Wheel Strategy",content:"La Double Wheel  un'evoluzione: invece di vendere 1 put, ne vendi 2 a strike diversi. Esempio: $100k capitale, BTC a $50k. Vendi put $48k per $800 E put $45k per $400. Se BTC scende, vieni assegnato a $48k (ok,  il primo), la put $45k scade = incassi entrambi i premium. Se crasha, vieni assegnato a entrambi = medii il costo. Pi complesso ma pi premium."},{title:"Calendar Spreads per Extra Juice",content:"Calendar Spread: vendi put short-dated (30 giorni) e compri put long-dated (90 giorni) STESSO strike. Esempio: vendi put $45k a 30gg per $900, compri put $45k a 90gg per $1,200. Net: -$300. Dopo 30 giorni la short scade, hai solo la long put come protezione. Beneficio: riduci costo della protezione verso il basso grazie al premium raccolto."},{title:"Hybrid Wheel + DCA Strategy",content:"Combina Wheel con Dollar Cost Averaging: alloca 70% del capitale alla Wheel, 30% a DCA mensile in spot BTC. Esempio: $100k  $70k Wheel, $30k = $2.5k/mese DCA. La Wheel genera income, il DCA accumula spot per ridurre il costo medio. In bull market il DCA offre upside illimitato che la Wheel limita. Best of both worlds."},{title:"Wheel in Different Market Regimes",content:"BEAR MARKET: agggressivo su put (strike pi bassi, pi premium), conservativo su call (evita di vendere spot). BULL MARKET: conservativo su put (strike molto bassi, safety first), aggressivo su call (raccogli premium al rialzo). SIDEWAYS: ideale per Wheel standard, massimizza theta decay. Adatta la strategia al regime corrente, non usare sempre lo stesso approccio."}],questions:[{id:1,type:"multiple-choice",question:"Nella Double Wheel Strategy, quale  il vantaggio principale?",options:["Elimina completamente il rischio","Raccogli pi premium totale e medii costi se assegnato multiplo","Non richiede capitale","Garantisce profitti in ogni scenario"],correctAnswer:1,explanation:"Vendere put a strike multipli aumenta il premium totale e, se assegnato multiplo, medii il costo di acquisto BTC.",xp:150},{id:2,type:"multiple-choice",question:"Un Calendar Spread con opzioni put serve principalmente a:",options:["Massimizzare il premium senza protezione","Ridurre il costo della protezione verso il basso","Eliminare theta decay","Aumentare delta exposure"],correctAnswer:1,explanation:"Vendendo la put short-term raccogli premium che riduce il costo della put long-term di protezione.",xp:200},{id:3,type:"multiple-choice",question:"In quale regime di mercato la Wheel Strategy performa MEGLIO?",options:["Strong bull market con +300% in pochi mesi","Crash violento -80%","Mercato sideways o moderatamente volatile","Performa uguale sempre"],correctAnswer:2,explanation:"La Wheel  ottimale in mercati range-bound dove il theta decay lavora a tuo favore senza movimenti estremi che invalidano la strategia.",xp:200}]}};function bX({onNavigate:t,lessonId:e=9}){const r=Bo[e];if(!r)return s.jsx("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50 flex items-center justify-center",children:s.jsxs(oe,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-gray-900 mb-4",children:"Lezione non trovata"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["La lezione #",e," non  ancora disponibile."]}),s.jsx(xe,{onClick:()=>t("home"),className:"bg-blue-600 hover:bg-blue-700",children:"Torna alla Home"})]})});const n={title:r.title,description:r.description,sections:r.sections},i=r.questions,[a,o]=P.useState(null),{addXP:c,completeLesson:d}=Ka(),{triggers:f,triggerXPGain:p,triggerQuizFeedback:h,dismissQuizFeedback:g}=xX(),{generateAIQuestion:y,recordAnswer:b,shouldReviewLesson:w,getAIFeedback:x,resetPerformance:S,performance:k,isGenerating:_}=pX(),{setActivity:C}=X$(),[N,A]=P.useState(0),[E,O]=P.useState(!1),[R,H]=P.useState(0),[B,D]=P.useState(""),[$,V]=P.useState(!1),[J,K]=P.useState(!1),[U,M]=P.useState([]),[Q,ee]=P.useState(!1),[L,q]=P.useState(!0),[X,se]=P.useState(0),[pe,re]=P.useState(0),[he,le]=P.useState(!1),[ie,fe]=P.useState([]),[_e,ue]=P.useState([]),[Z,me]=P.useState([]),[Se,$e]=P.useState(!1),[Me,rt]=P.useState(""),[Ue,Ct]=P.useState(!1),ut=n.sections.length,Xe=ie.length;P.useEffect(()=>{C("lesson_start",4e3)},[e,C]),P.useEffect(()=>{E&&ie.length===0&&(async()=>{de.loading(" Generando quiz personalizzato...",{id:"ai-quiz-init"});const Ze=n.sections.map(At=>`${At.title}: ${At.content}`).join(`

`),jt=[];for(let At=0;At<3;At++){const Js=At===0||At===1?"easy":"medium",ts=await y(e,n.title,Ze,Js);ts?jt.push(ts):console.warn(`Failed to generate AI question ${At+1}/3`)}if(jt.length>0)fe(jt),ue(jt),S(),de.success(` Quiz AI pronto con ${jt.length} domande uniche!`,{id:"ai-quiz-init"});else{console.error("All AI question generation failed, falling back to base questions");const At=[...i].sort(()=>Math.random()-.5);fe(At),ue(At),S(),de.warning(" Usando domande di backup (AI temporaneamente non disponibile)",{id:"ai-quiz-init",duration:5e3})}})()},[E,i,ie.length,S,e,n,y]);const Bt=()=>{N<ut-1?A(N+1):(O(!0),C("quiz_start",4e3))},He=()=>{N>0&&A(N-1)},Wt=async()=>{de.loading("Generando nuova domanda AI...",{id:"ai-gen"});const Ht=n.sections.map(jt=>`${jt.title}: ${jt.content}`).join(`

`),Ze=await y(e,n.title,Ht,k.difficultyLevel);Ze?(fe(jt=>[...jt,Ze]),de.success(`Nuova domanda ${k.difficultyLevel.toUpperCase()} generata! `,{id:"ai-gen"})):de.error("Errore generazione domanda AI",{id:"ai-gen"})},Ni=async()=>{const Ht=ie[R],Ze=B===String(Ht.correctAnswer);if(b(Ze,n.title),K(Ze),V(!0),h(Ze),C(Ze?"quiz_correct":"quiz_wrong",3e3),Ze){const jt=L?50:0,At=Ht.xp+jt;se(At),c(At),setTimeout(()=>{p(At)},1100),L&&Wt()}else{if(q(!1),re(pe+1),me(jt=>[...jt,Ht.question]),w()){$e(!0),Ct(!0);const jt=await x(n.title,Z);rt(jt),Ct(!1)}pe>=2&&le(!0)}},es=async()=>{if(M([...U,R]),V(!1),D(""),q(!0),se(0),re(0),le(!1),R<Xe-1)H(R+1);else{ee(!0);const Ht=await d(e);if(c(250),p(250),C("lesson_complete",5e3),Ht){const Ze=mX(Ht);Ze.length>0&&(o(Ze[0]),setTimeout(()=>{C("badge_unlock",5e3)},1e3))}}};if(Q)return s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 flex items-center justify-center bg-gray-50 p-4",children:[s.jsx(en,{currentView:"lesson",onNavigate:t}),s.jsxs(oe,{className:"max-w-2xl w-full p-8 md:p-12 text-center",children:[s.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Vt,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),s.jsx("h1",{className:"text-gray-900 mb-4",children:"Complimenti! "}),s.jsxs("p",{className:"text-gray-700 mb-8",children:['Hai completato la lezione "',n.title,'"']}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-orange-50 rounded-lg p-6 mb-8",children:[s.jsx("p",{className:"text-gray-900 mb-2 font-semibold",children:"XP Totale Guadagnato"}),s.jsxs("p",{className:"text-blue-600 font-bold",children:["+",ie.reduce((Ht,Ze)=>Ht+Ze.xp,0)+250]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(xe,{onClick:()=>t("home"),className:"bg-blue-600 hover:bg-blue-700 h-12",children:"Torna alla Home"}),s.jsx(xe,{onClick:()=>t("simulation"),variant:"outline",className:"h-12",children:"Prova la Simulazione"})]})]})]});if(!E)return s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50",children:[s.jsx(en,{currentView:"lesson",onNavigate:t}),s.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-4 md:px-6 sticky top-0 z-30 safe-area-top",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-4",children:[s.jsxs(xe,{variant:"ghost",onClick:()=>t("home"),size:"sm",className:"h-10",children:[s.jsx(wu,{className:"w-5 h-5 md:w-4 md:h-4 mr-2"}),s.jsx("span",{className:"hidden md:inline",children:"Indietro"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-gray-900 truncate",children:n.title}),s.jsx("p",{className:"text-gray-600 hidden md:block truncate",children:n.description})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[s.jsxs("span",{children:["Sezione ",N+1," di ",ut]}),s.jsxs("span",{className:"font-semibold",children:[Math.round((N+1)/ut*100),"%"]})]}),s.jsx(ni,{value:(N+1)/ut*100,className:"h-3"})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-5 md:px-6 md:py-8",children:[s.jsxs(oe,{className:"p-5 md:p-8 mb-5 md:mb-6",children:[s.jsx("h2",{className:"text-gray-900 mb-4",children:n.sections[N].title}),s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:n.sections[N].content})]}),s.jsxs("div",{className:"flex justify-between gap-3",children:[s.jsxs(xe,{variant:"outline",onClick:He,disabled:N===0,className:"h-12 px-5",children:[s.jsx(wu,{className:"w-5 h-5 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Precedente"})]}),s.jsxs(xe,{onClick:Bt,className:"bg-blue-600 hover:bg-blue-700 h-12 px-5 flex-1 max-w-xs",children:[N===ut-1?"Inizia Quiz":"Successivo",s.jsx(Ui,{className:"w-5 h-5 ml-2"})]})]})]}),s.jsx(XA,{amount:X,trigger:f.xpGain}),s.jsx(YA,{isCorrect:f.quizFeedback.isCorrect,show:f.quizFeedback.show,onDismiss:g}),s.jsx(QA,{badgeId:a,onClose:()=>o(null)})]});const Hr=ie[R];return Hr?s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50",children:[s.jsx(en,{currentView:"lesson",onNavigate:t}),s.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-5 md:px-6 md:py-6 sticky top-0 z-30 safe-area-top",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("h2",{className:"text-white mb-4 truncate",children:["Quiz: ",n.title]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-blue-100",children:[s.jsxs("span",{children:["Domanda ",R+1," di ",Xe]}),s.jsxs("span",{className:"font-semibold",children:[Math.round((R+1)/Xe*100),"%"]})]}),s.jsx(ni,{value:(R+1)/Xe*100,className:"h-3 bg-white/20"}),s.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[s.jsx("span",{className:"text-xs text-blue-100",children:"Difficolt:"}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold ${k.difficultyLevel==="easy"?"bg-green-500 text-white":k.difficultyLevel==="medium"?"bg-yellow-500 text-gray-900":"bg-red-500 text-white"}`,children:k.difficultyLevel.toUpperCase()}),s.jsxs("span",{className:"text-xs text-blue-100 ml-2",children:[" ",k.correctAnswers," |  ",k.wrongAnswers]}),_&&s.jsx("span",{className:"text-xs text-yellow-300 ml-auto animate-pulse",children:" Generando AI..."})]})]})]})}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 py-5 md:px-6 md:py-8",children:s.jsxs(oe,{className:"p-5 md:p-8",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("p",{className:"text-gray-900 mb-6 leading-relaxed",children:Hr.question})}),s.jsx(Lo,{value:B,onValueChange:D,children:s.jsx("div",{className:"space-y-3",children:Hr.options?.map((Ht,Ze)=>s.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg border-2 transition-all min-h-[60px] ${$&&String(Ze)===String(Hr.correctAnswer)?"border-green-500 bg-green-50":$&&B===String(Ze)&&!J?"border-red-500 bg-red-50":B===String(Ze)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[s.jsx(jr,{value:String(Ze),id:`option-${Ze}`,disabled:$,className:"mt-1"}),s.jsx(dt,{htmlFor:`option-${Ze}`,className:"flex-1 cursor-pointer leading-relaxed",children:Ht}),$&&String(Ze)===String(Hr.correctAnswer)&&s.jsx(Rt,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),$&&B===String(Ze)&&!J&&s.jsx(Rr,{className:"w-6 h-6 text-red-600 flex-shrink-0"})]},Ze))})}),$&&s.jsxs("div",{className:`mt-6 p-4 rounded-lg ${J?"bg-green-50 border-2 border-green-200":"bg-orange-50 border-2 border-orange-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-gray-900 font-semibold",children:J?" Corretto!":" Risposta errata"}),J&&L&&s.jsxs("span",{className:"text-blue-600 font-semibold",children:["+",X," XP"]})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:Hr.explanation}),J&&L&&s.jsx("p",{className:"text-sm text-blue-600 mt-2",children:" Bonus primo tentativo: +50 XP"})]}),s.jsx("div",{className:"mt-8",children:$?s.jsxs(xe,{onClick:es,className:"w-full bg-blue-600 hover:bg-blue-700 h-12",children:[R<Xe-1?"Prossima Domanda":"Completa Lezione",s.jsx(Ui,{className:"w-5 h-5 ml-2"})]}):s.jsx(xe,{onClick:Ni,disabled:!B,className:"w-full bg-blue-600 hover:bg-blue-700 h-12",children:"Verifica Risposta"})})]})}),Se&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe,{className:"max-w-md w-full p-6 bg-orange-50 border-2 border-orange-300 shadow-2xl",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx(hi,{className:"w-6 h-6 text-orange-600 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-gray-900 mb-2",children:"Forse dovresti rivedere la lezione "}),Ue?s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{children:"Prof Satoshi sta analizzando le tue risposte..."})]}):s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:Me})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[s.jsxs(xe,{onClick:()=>{O(!1),A(0),H(0),$e(!1),me([]),S(),de.success("Rivediamo insieme la lezione! ")},className:"flex-1 bg-orange-600 hover:bg-orange-700",disabled:Ue,children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"Rivedi Lezione"]}),s.jsx(xe,{onClick:()=>{$e(!1),de.info("Continua il quiz, ma fai attenzione! ")},variant:"outline",className:"flex-1 border-orange-300 hover:bg-orange-100",disabled:Ue,children:"Continua Quiz"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:" Rivedere la lezione ti aiuter a comprendere meglio i concetti"})]})}),s.jsx(XA,{amount:X,trigger:f.xpGain}),s.jsx(YA,{isCorrect:f.quizFeedback.isCorrect,show:f.quizFeedback.show,onDismiss:g}),s.jsx(QA,{badgeId:a,onClose:()=>o(null)}),s.jsx(yX,{performance:k,isGenerating:_,onGenerateTest:Wt})]}):s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50 flex items-center justify-center",children:[s.jsx(en,{currentView:"lesson",onNavigate:t}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Caricamento quiz..."})]})]})}const wX={beginner:"bg-emerald-500/20 text-emerald-300 border-emerald-500/30",intermediate:"bg-amber-500/20 text-amber-300 border-amber-500/30",advanced:"bg-red-500/20 text-red-300 border-red-500/30"},jX={beginner:"Principiante",intermediate:"Intermedio",advanced:"Avanzato"};function SX({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const{progress:n}=Ka(),i=Object.keys(Bo).length,a=n.completedLessons.length,o=a/i*100,c=d=>{const f=Bo[d];n.level<f.requiredLevel||t("lesson",d)};return s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white relative",children:[s.jsx("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),s.jsx("div",{className:"fixed top-0 right-0 w-[500px] h-[500px] bg-emerald-500/10 rounded-full blur-[150px] pointer-events-none"}),s.jsx("div",{className:"fixed bottom-0 left-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[150px] pointer-events-none"}),s.jsx(en,{currentView:"lessons",onNavigate:d=>t(d),mascotVisible:e,onMascotToggle:r}),s.jsxs(W.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative px-4 py-8 md:px-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(W.div,{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/50",whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:s.jsx(MA,{className:"w-8 h-8 text-white drop-shadow-sm"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Percorso Formativo"}),s.jsx(W.div,{animate:{rotate:[0,14,-14,14,0],scale:[1,1.1,1.1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:5},children:s.jsx(mt,{className:"w-6 h-6 text-emerald-400"})})]}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Impara la Bitcoin Wheel Strategy passo dopo passo"})]})]}),s.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-white font-semibold",children:"Progresso Totale"}),s.jsxs("span",{className:"text-emerald-400 font-bold",children:[a,"/",i," Lezioni"]})]}),s.jsx(ni,{value:o,className:"h-3 bg-white/10"}),s.jsx("p",{className:"text-gray-400 text-sm mt-3",children:o===100?" Hai completato tutte le lezioni!":`Ancora ${i-a} lezioni da completare`})]})]}),s.jsxs("main",{className:"relative max-w-7xl mx-auto px-4 py-6 md:px-6 md:py-8",children:[s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Object.values(Bo).map((d,f)=>{const p=n.completedLessons.includes(d.id),h=n.level<d.requiredLevel,g=!h;return s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.05},whileHover:g?{y:-4}:{},children:s.jsxs(oe,{className:`p-5 transition-all h-full ${h?"bg-gray-800/20 border-white/5 opacity-50 cursor-not-allowed":p?"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/30 cursor-pointer hover:border-emerald-500/50":"bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border-white/10 cursor-pointer hover:border-purple-500/40"}`,onClick:()=>c(d.id),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${p?"bg-gradient-to-br from-emerald-500 to-teal-600 shadow-lg shadow-emerald-500/30":h?"bg-gray-700/50":"bg-gradient-to-br from-purple-500 to-pink-600 shadow-lg shadow-purple-500/30"}`,children:p?s.jsx(Nw,{className:"w-6 h-6 text-white"}):h?s.jsx(Ls,{className:"w-6 h-6 text-gray-400"}):s.jsx("span",{className:"font-bold text-white text-lg",children:d.id})})}),s.jsx(Je,{className:wX[d.difficulty],children:jX[d.difficulty]})]}),s.jsx("h3",{className:"text-white font-semibold mb-2 line-clamp-2 min-h-[3.5rem]",children:d.title}),s.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-3 min-h-[4rem]",children:d.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zp,{className:"w-4 h-4"}),s.jsx("span",{children:d.estimatedTime})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(MA,{className:"w-4 h-4"}),s.jsxs("span",{children:[d.questions.length," Quiz"]})]})]}),h?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(Ls,{className:"w-4 h-4"}),s.jsxs("span",{children:["Livello ",d.requiredLevel," richiesto"]})]}):p?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-400",children:[s.jsx(Nw,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Completata"})]}):s.jsx(xe,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 border-0 shadow-lg",onClick:y=>{y.stopPropagation(),c(d.id)},children:"Inizia Lezione"})]})},d.id)})}),s.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsx(oe,{className:"mt-8 p-6 bg-gradient-to-br from-blue-500/10 to-purple-500/10 backdrop-blur-xl border border-blue-500/20",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-blue-500/30",children:s.jsx(ht,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2 text-lg",children:" Percorso di Apprendimento Progressivo"}),s.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:"Ogni lezione sblocca nuovi contenuti. Completa le lezioni in ordine per massimizzare la comprensione e guadagnare XP per salire di livello!"}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 space-y-2",children:[s.jsxs("p",{className:"text-white",children:[" ",s.jsxs("strong",{className:"text-emerald-400",children:["Livello ",n.level]})," attuale  ",n.xp," XP"]}),s.jsxs("p",{className:"text-gray-300",children:[" Hai accesso a ",Object.values(Bo).filter(d=>d.requiredLevel<=n.level).length," lezioni"]}),s.jsxs("p",{className:"text-gray-300",children:[" ",Object.values(Bo).filter(d=>d.requiredLevel>n.level).length," lezioni ancora da sbloccare"]})]})]})]})})})]})]})}var Vp="Tabs",[_X]=Ml(Vp,[Bp]),eM=Bp(),[NX,Hj]=_X(Vp),tM=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:c,activationMode:d="automatic",...f}=t,p=Vj(c),[h,g]=Lp({prop:n,onChange:i,defaultProp:a??"",caller:Vp});return s.jsx(NX,{scope:r,baseId:k$(),value:h,onValueChange:g,orientation:o,dir:p,activationMode:d,children:s.jsx(xn.div,{dir:p,"data-orientation":o,...f,ref:e})})});tM.displayName=Vp;var rM="TabsList",nM=P.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=Hj(rM,r),o=eM(r);return s.jsx(O$,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(xn.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});nM.displayName=rM;var iM="TabsTrigger",aM=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=Hj(iM,r),c=eM(r),d=lM(o.baseId,n),f=cM(o.baseId,n),p=n===o.value;return s.jsx(I$,{asChild:!0,...c,focusable:!i,active:p,children:s.jsx(xn.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:e,onMouseDown:rn(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:rn(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:rn(t.onFocus,()=>{const h=o.activationMode!=="manual";!p&&!i&&h&&o.onValueChange(n)})})})});aM.displayName=iM;var sM="TabsContent",oM=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,c=Hj(sM,r),d=lM(c.baseId,n),f=cM(c.baseId,n),p=n===c.value,h=P.useRef(p);return P.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Fp,{present:i||p,children:({present:g})=>s.jsx(xn.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:g&&a})})});oM.displayName=sM;function lM(t,e){return`${t}-trigger-${e}`}function cM(t,e){return`${t}-content-${e}`}var kX=tM,AX=nM,TX=aM,PX=oM;function uM({className:t,...e}){return s.jsx(kX,{"data-slot":"tabs",className:gr("flex flex-col gap-2",t),...e})}function dM({className:t,...e}){return s.jsx(AX,{"data-slot":"tabs-list",className:gr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Pw({className:t,...e}){return s.jsx(TX,{"data-slot":"tabs-trigger",className:gr("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Cw({className:t,...e}){return s.jsx(PX,{"data-slot":"tabs-content",className:gr("flex-1 outline-none",t),...e})}function CX({onNavigate:t}){const{progress:e}=Ka(),[r,n]=P.useState("all"),i={completedLessons:e.completedLessons,xp:e.xp,streak:e.streak,level:e.level,perfectQuizzes:e.perfectQuizzes||0,profitableSimulations:e.profitableSimulations||0,unlockedBadges:e.badges||[]},a=Object.values(Up),o=r==="all"?a:a.filter(b=>b.category===r),c=o.filter(b=>i.unlockedBadges.includes(b.id)).length,d=o.length,f=c/d*100,p=gX(i),h=[{id:"all",label:"Tutti",icon:Vt},{id:"learning",label:"Apprendimento",icon:mt},{id:"achievement",label:"Achievement",icon:ht},{id:"streak",label:"Streak",icon:Vt},{id:"trading",label:"Trading",icon:ht},{id:"mastery",label:"Mastery",icon:Vt}],g=b=>{const w=b.requirement;switch(w.type){case"lessons_completed":return Math.min(e.completedLessons.length/w.value*100,100);case"xp_earned":return Math.min(e.xp/w.value*100,100);case"streak_days":return Math.min(e.streak/w.value*100,100);case"level_reached":return Math.min(e.level/w.value*100,100);case"quiz_perfect":return Math.min((e.perfectQuizzes||0)/w.value*100,100);case"simulation_profit":return Math.min((e.profitableSimulations||0)/w.value*100,100);default:return 0}},y=b=>{switch(b.requirement.type){case"lessons_completed":return e.completedLessons.length;case"xp_earned":return e.xp;case"streak_days":return e.streak;case"level_reached":return e.level;case"quiz_perfect":return e.perfectQuizzes||0;case"simulation_profit":return e.profitableSimulations||0;default:return 0}};return s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50",children:[s.jsx(en,{currentView:"home",onNavigate:t}),s.jsx("header",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-8 md:px-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Vt,{className:"w-8 h-8"}),s.jsx("h1",{className:"text-white",children:" I Tuoi Badge"})]}),s.jsx("p",{className:"text-purple-100 mb-6",children:"Colleziona badge completando lezioni, mantenendo streak e padroneggiando la Wheel Strategy!"}),s.jsxs(oe,{className:"bg-white/10 backdrop-blur-sm border-white/20 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white",children:"Collezione Badge"}),s.jsxs("span",{className:"text-white",children:[c,"/",d]})]}),s.jsx(ni,{value:f,className:"h-3 bg-white/20"}),s.jsx("p",{className:"text-purple-100 text-sm mt-2",children:f===100?" Collezione completa! Sei una leggenda!":`Ancora ${d-c} badge da sbloccare`})]}),p&&s.jsx(oe,{className:"mt-4 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-sm border-yellow-400/30 p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-3xl",children:p.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white mb-1",children:" Prossimo Badge"}),s.jsx("p",{className:"text-white/90 mb-2",children:p.name}),s.jsx("p",{className:"text-sm text-white/70 mb-2",children:p.requirement.description}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ni,{value:g(p),className:"h-2 flex-1 bg-white/20"}),s.jsxs("span",{className:"text-xs text-white/90",children:[y(p),"/",p.requirement.value]})]})]})]})})]})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 md:px-6",children:[s.jsxs(uM,{defaultValue:"all",className:"w-full",children:[s.jsx(dM,{className:"w-full justify-start overflow-x-auto flex-nowrap mb-6",children:h.map(b=>s.jsxs(Pw,{value:b.id,onClick:()=>n(b.id),className:"whitespace-nowrap",children:[s.jsx(b.icon,{className:"w-4 h-4 mr-2"}),b.label]},b.id))}),s.jsx(Cw,{value:r,className:"mt-0",children:s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:o.map(b=>{const w=i.unlockedBadges.includes(b.id),x=g(b),S=y(b);return s.jsxs(oe,{className:`p-5 transition-all relative overflow-hidden ${w?`border-2 ${vX[b.rarity]} shadow-lg`:"opacity-60 bg-gray-100"}`,children:[w&&s.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 bg-gradient-to-r ${Tw[b.rarity]}`}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:`text-5xl ${w?"filter-none":"grayscale opacity-40"}`,children:b.icon}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsx(Je,{className:`${b.rarity==="common"?"bg-gray-200 text-gray-800":b.rarity==="rare"?"bg-blue-100 text-blue-800":b.rarity==="epic"?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"}`,children:J$[b.rarity]}),!w&&s.jsx(Ls,{className:"w-5 h-5 text-gray-400 mt-1"})]})]}),s.jsx("h3",{className:`text-gray-900 mb-2 ${!w&&"text-gray-500"}`,children:b.name}),s.jsx("p",{className:`text-sm mb-3 ${w?"text-gray-600":"text-gray-400"}`,children:b.description}),s.jsx("div",{className:"text-xs text-gray-500 mb-2",children:b.requirement.description}),!w&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[S,"/",b.requirement.value]})]}),s.jsx(ni,{value:x,className:"h-2"})]}),w&&b.reward&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[s.jsx(mt,{className:"w-4 h-4"}),s.jsxs("span",{children:[b.reward.xp&&`+${b.reward.xp} XP`,b.reward.multiplier&&`  ${((b.reward.multiplier-1)*100).toFixed(0)}% XP boost`]})]})}),w&&s.jsx("div",{className:"absolute top-3 right-3 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:s.jsx(Vt,{className:"w-4 h-4"})})]},b.id)})})})]}),o.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Nessun badge in questa categoria"})]})]})]})}function vn({className:t,type:e,...r}){return s.jsx("input",{type:e,"data-slot":"input",className:gr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var q0,ZA;function nn(){if(ZA)return q0;ZA=1;var t=Array.isArray;return q0=t,q0}var U0,eT;function fM(){if(eT)return U0;eT=1;var t=typeof Pf=="object"&&Pf&&Pf.Object===Object&&Pf;return U0=t,U0}var V0,tT;function _i(){if(tT)return V0;tT=1;var t=fM(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return V0=r,V0}var W0,rT;function hd(){if(rT)return W0;rT=1;var t=_i(),e=t.Symbol;return W0=e,W0}var H0,nT;function EX(){if(nT)return H0;nT=1;var t=hd(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var c=r.call(o,i),d=o[i];try{o[i]=void 0;var f=!0}catch{}var p=n.call(o);return f&&(c?o[i]=d:delete o[i]),p}return H0=a,H0}var G0,iT;function OX(){if(iT)return G0;iT=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return G0=r,G0}var K0,aT;function ia(){if(aT)return K0;aT=1;var t=hd(),e=EX(),r=OX(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(c){return c==null?c===void 0?i:n:a&&a in Object(c)?e(c):r(c)}return K0=o,K0}var X0,sT;function aa(){if(sT)return X0;sT=1;function t(e){return e!=null&&typeof e=="object"}return X0=t,X0}var Y0,oT;function Dl(){if(oT)return Y0;oT=1;var t=ia(),e=aa(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Y0=n,Y0}var J0,lT;function Gj(){if(lT)return J0;lT=1;var t=nn(),e=Dl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return J0=i,J0}var Q0,cT;function Xa(){if(cT)return Q0;cT=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Q0=t,Q0}var Z0,uT;function Kj(){if(uT)return Z0;uT=1;var t=ia(),e=Xa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(c){if(!e(c))return!1;var d=t(c);return d==n||d==i||d==r||d==a}return Z0=o,Z0}var ev,dT;function IX(){if(dT)return ev;dT=1;var t=_i(),e=t["__core-js_shared__"];return ev=e,ev}var tv,fT;function RX(){if(fT)return tv;fT=1;var t=IX(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return tv=r,tv}var rv,hT;function hM(){if(hT)return rv;hT=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return rv=r,rv}var nv,pT;function $X(){if(pT)return nv;pT=1;var t=Kj(),e=RX(),r=Xa(),n=hM(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,d=o.toString,f=c.hasOwnProperty,p=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!r(g)||e(g))return!1;var y=t(g)?p:a;return y.test(n(g))}return nv=h,nv}var iv,mT;function MX(){if(mT)return iv;mT=1;function t(e,r){return e?.[r]}return iv=t,iv}var av,gT;function Hs(){if(gT)return av;gT=1;var t=$X(),e=MX();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return av=r,av}var sv,vT;function Wp(){if(vT)return sv;vT=1;var t=Hs(),e=t(Object,"create");return sv=e,sv}var ov,yT;function DX(){if(yT)return ov;yT=1;var t=Wp();function e(){this.__data__=t?t(null):{},this.size=0}return ov=e,ov}var lv,xT;function zX(){if(xT)return lv;xT=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return lv=t,lv}var cv,bT;function LX(){if(bT)return cv;bT=1;var t=Wp(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var c=o[a];return c===e?void 0:c}return n.call(o,a)?o[a]:void 0}return cv=i,cv}var uv,wT;function BX(){if(wT)return uv;wT=1;var t=Wp(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return uv=n,uv}var dv,jT;function FX(){if(jT)return dv;jT=1;var t=Wp(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return dv=r,dv}var fv,ST;function qX(){if(ST)return fv;ST=1;var t=DX(),e=zX(),r=LX(),n=BX(),i=FX();function a(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var f=o[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,fv=a,fv}var hv,_T;function UX(){if(_T)return hv;_T=1;function t(){this.__data__=[],this.size=0}return hv=t,hv}var pv,NT;function Xj(){if(NT)return pv;NT=1;function t(e,r){return e===r||e!==e&&r!==r}return pv=t,pv}var mv,kT;function Hp(){if(kT)return mv;kT=1;var t=Xj();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return mv=e,mv}var gv,AT;function VX(){if(AT)return gv;AT=1;var t=Hp(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var c=a.length-1;return o==c?a.pop():r.call(a,o,1),--this.size,!0}return gv=n,gv}var vv,TT;function WX(){if(TT)return vv;TT=1;var t=Hp();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return vv=e,vv}var yv,PT;function HX(){if(PT)return yv;PT=1;var t=Hp();function e(r){return t(this.__data__,r)>-1}return yv=e,yv}var xv,CT;function GX(){if(CT)return xv;CT=1;var t=Hp();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return xv=e,xv}var bv,ET;function Gp(){if(ET)return bv;ET=1;var t=UX(),e=VX(),r=WX(),n=HX(),i=GX();function a(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var f=o[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,bv=a,bv}var wv,OT;function Yj(){if(OT)return wv;OT=1;var t=Hs(),e=_i(),r=t(e,"Map");return wv=r,wv}var jv,IT;function KX(){if(IT)return jv;IT=1;var t=qX(),e=Gp(),r=Yj();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return jv=n,jv}var Sv,RT;function XX(){if(RT)return Sv;RT=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Sv=t,Sv}var _v,$T;function Kp(){if($T)return _v;$T=1;var t=XX();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return _v=e,_v}var Nv,MT;function YX(){if(MT)return Nv;MT=1;var t=Kp();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Nv=e,Nv}var kv,DT;function JX(){if(DT)return kv;DT=1;var t=Kp();function e(r){return t(this,r).get(r)}return kv=e,kv}var Av,zT;function QX(){if(zT)return Av;zT=1;var t=Kp();function e(r){return t(this,r).has(r)}return Av=e,Av}var Tv,LT;function ZX(){if(LT)return Tv;LT=1;var t=Kp();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Tv=e,Tv}var Pv,BT;function Jj(){if(BT)return Pv;BT=1;var t=KX(),e=YX(),r=JX(),n=QX(),i=ZX();function a(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var f=o[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Pv=a,Pv}var Cv,FT;function pM(){if(FT)return Cv;FT=1;var t=Jj(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,c=i?i.apply(this,o):o[0],d=a.cache;if(d.has(c))return d.get(c);var f=n.apply(this,o);return a.cache=d.set(c,f)||d,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,Cv=r,Cv}var Ev,qT;function eY(){if(qT)return Ev;qT=1;var t=pM(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return Ev=r,Ev}var Ov,UT;function tY(){if(UT)return Ov;UT=1;var t=eY(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,c,d,f){a.push(d?f.replace(r,"$1"):c||o)}),a});return Ov=n,Ov}var Iv,VT;function Qj(){if(VT)return Iv;VT=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return Iv=t,Iv}var Rv,WT;function rY(){if(WT)return Rv;WT=1;var t=hd(),e=Qj(),r=nn(),n=Dl(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(c){if(typeof c=="string")return c;if(r(c))return e(c,o)+"";if(n(c))return a?a.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return Rv=o,Rv}var $v,HT;function mM(){if(HT)return $v;HT=1;var t=rY();function e(r){return r==null?"":t(r)}return $v=e,$v}var Mv,GT;function gM(){if(GT)return Mv;GT=1;var t=nn(),e=Gj(),r=tY(),n=mM();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return Mv=i,Mv}var Dv,KT;function Xp(){if(KT)return Dv;KT=1;var t=Dl();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Dv=e,Dv}var zv,XT;function Zj(){if(XT)return zv;XT=1;var t=gM(),e=Xp();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return zv=r,zv}var Lv,YT;function vM(){if(YT)return Lv;YT=1;var t=Zj();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return Lv=e,Lv}var nY=vM();const $n=pt(nY);var Bv,JT;function iY(){if(JT)return Bv;JT=1;function t(e){return e==null}return Bv=t,Bv}var aY=iY();const Qe=pt(aY);var Fv,QT;function sY(){if(QT)return Fv;QT=1;var t=ia(),e=nn(),r=aa(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return Fv=i,Fv}var oY=sY();const Bs=pt(oY);var lY=Kj();const Ge=pt(lY);var cY=Xa();const zl=pt(cY);var qv={exports:{}},ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function uY(){if(ZT)return ot;ZT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function w(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case t:switch(x=x.type,x){case r:case i:case n:case f:case p:return x;default:switch(x=x&&x.$$typeof,x){case c:case o:case d:case g:case h:case a:return x;default:return S}}case e:return S}}}return ot.ContextConsumer=o,ot.ContextProvider=a,ot.Element=t,ot.ForwardRef=d,ot.Fragment=r,ot.Lazy=g,ot.Memo=h,ot.Portal=e,ot.Profiler=i,ot.StrictMode=n,ot.Suspense=f,ot.SuspenseList=p,ot.isAsyncMode=function(){return!1},ot.isConcurrentMode=function(){return!1},ot.isContextConsumer=function(x){return w(x)===o},ot.isContextProvider=function(x){return w(x)===a},ot.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},ot.isForwardRef=function(x){return w(x)===d},ot.isFragment=function(x){return w(x)===r},ot.isLazy=function(x){return w(x)===g},ot.isMemo=function(x){return w(x)===h},ot.isPortal=function(x){return w(x)===e},ot.isProfiler=function(x){return w(x)===i},ot.isStrictMode=function(x){return w(x)===n},ot.isSuspense=function(x){return w(x)===f},ot.isSuspenseList=function(x){return w(x)===p},ot.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===f||x===p||x===y||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===h||x.$$typeof===a||x.$$typeof===o||x.$$typeof===d||x.$$typeof===b||x.getModuleId!==void 0)},ot.typeOf=w,ot}var eP;function dY(){return eP||(eP=1,qv.exports=uY()),qv.exports}var fY=dY(),Uv,tP;function yM(){if(tP)return Uv;tP=1;var t=ia(),e=aa(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Uv=n,Uv}var Vv,rP;function hY(){if(rP)return Vv;rP=1;var t=yM();function e(r){return t(r)&&r!=+r}return Vv=e,Vv}var pY=hY();const Ll=pt(pY);var mY=yM();const gY=pt(mY);var ri=function(e){return e===0?0:e>0?1:-1},Cs=function(e){return Bs(e)&&e.indexOf("%")===e.length-1},we=function(e){return gY(e)&&!Ll(e)},vY=function(e){return Qe(e)},lr=function(e){return we(e)||Bs(e)},yY=0,Bl=function(e){var r=++yY;return"".concat(e||"").concat(r)},Fs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(e)&&!Bs(e))return n;var a;if(Cs(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Ll(a)&&(a=n),i&&a>r&&(a=r),a},za=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},xY=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},kr=function(e,r){return we(e)&&we(r)?function(n){return e+n*(r-e)}:function(){return r}};function kh(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):$n(n,e))===r})}var bY=function(e,r){return we(e)&&we(r)?e-r:Bs(e)&&Bs(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Zo(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Ew(t){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(t)}var wY=["viewBox","children"],jY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nP=["points","pathLength"],Wv={svg:wY,polygon:nP,polyline:nP},eS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ah=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),!zl(n))return null;var i={};return Object.keys(n).forEach(function(a){eS.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},SY=function(e,r,n){return function(i){return e(r,n,i),null}},Th=function(e,r,n){if(!zl(e)||Ew(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];eS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=SY(o,r,n))}),i},_Y=["children"],NY=["children"];function iP(t,e){if(t==null)return{};var r=kY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ow(t){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ow(t)}var aP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},sP=null,Hv=null,tS=function t(e){if(e===sP&&Array.isArray(Hv))return Hv;var r=[];return P.Children.forEach(e,function(n){Qe(n)||(fY.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Hv=r,sP=e,r};function Mn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Vi(i)}):n=[Vi(e)],tS(t).forEach(function(i){var a=$n(i,"type.displayName")||$n(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function hn(t,e){var r=Mn(t,e);return r&&r[0]}var oP=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!we(n)||n<=0||!we(i)||i<=0)},AY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],TY=function(e){return e&&e.type&&Bs(e.type)&&AY.indexOf(e.type)>=0},xM=function(e){return e&&Ow(e)==="object"&&"clipDot"in e},PY=function(e,r,n,i){var a,o=(a=Wv?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ge(e)&&(i&&o.includes(r)||jY.includes(r))||n&&eS.includes(r)},Ke=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!zl(i))return null;var a={};return Object.keys(i).forEach(function(o){var c;PY((c=i)===null||c===void 0?void 0:c[o],o,r,n)&&(a[o]=i[o])}),a},Iw=function t(e,r){if(e===r)return!0;var n=P.Children.count(e);if(n!==P.Children.count(r))return!1;if(n===0)return!0;if(n===1)return lP(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!lP(a,o))return!1}return!0},lP=function(e,r){if(Qe(e)&&Qe(r))return!0;if(!Qe(e)&&!Qe(r)){var n=e.props||{},i=n.children,a=iP(n,_Y),o=r.props||{},c=o.children,d=iP(o,NY);return i&&c?Zo(a,d)&&Iw(i,c):!i&&!c?Zo(a,d):!1}return!1},cP=function(e,r){var n=[],i={};return tS(e).forEach(function(a,o){if(TY(a))n.push(a);else if(a){var c=Vi(a.type),d=r[c]||{},f=d.handler,p=d.once;if(f&&(!p||!i[c])){var h=f(a,c,o);n.push(h),i[c]=!0}}}),n},CY=function(e){var r=e&&e.type;return r&&aP[r]?aP[r]:null},EY=function(e,r){return tS(r).indexOf(e)},OY=["children","width","height","viewBox","className","style","title","desc"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rw.apply(this,arguments)}function IY(t,e){if(t==null)return{};var r=RY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $w(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,c=t.title,d=t.desc,f=IY(t,OY),p=i||{width:r,height:n,x:0,y:0},h=tt("recharts-surface",a);return z.createElement("svg",Rw({},Ke(f,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),z.createElement("title",null,c),z.createElement("desc",null,d),e)}var $Y=["children","className"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mw.apply(this,arguments)}function MY(t,e){if(t==null)return{};var r=DY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wt=z.forwardRef(function(t,e){var r=t.children,n=t.className,i=MY(t,$Y),a=tt("recharts-layer",n);return z.createElement("g",Mw({className:a},Ke(i,!0),{ref:e}),r)}),Wi=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},Gv,uP;function zY(){if(uP)return Gv;uP=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return Gv=t,Gv}var Kv,dP;function LY(){if(dP)return Kv;dP=1;var t=zY();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return Kv=e,Kv}var Xv,fP;function bM(){if(fP)return Xv;fP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+t+i+a+"]");function d(f){return c.test(f)}return Xv=d,Xv}var Yv,hP;function BY(){if(hP)return Yv;hP=1;function t(e){return e.split("")}return Yv=t,Yv}var Jv,pP;function FY(){if(pP)return Jv;pP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",c="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",p="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",b=f+"?",w="["+a+"]?",x="(?:"+y+"(?:"+[p,h,g].join("|")+")"+w+b+")*",S=w+b+x,k="(?:"+[p+c+"?",c,h,g,o].join("|")+")",_=RegExp(d+"(?="+d+")|"+k+S,"g");function C(N){return N.match(_)||[]}return Jv=C,Jv}var Qv,mP;function qY(){if(mP)return Qv;mP=1;var t=BY(),e=bM(),r=FY();function n(i){return e(i)?r(i):t(i)}return Qv=n,Qv}var Zv,gP;function UY(){if(gP)return Zv;gP=1;var t=LY(),e=bM(),r=qY(),n=mM();function i(a){return function(o){o=n(o);var c=e(o)?r(o):void 0,d=c?c[0]:o.charAt(0),f=c?t(c,1).join(""):o.slice(1);return d[a]()+f}}return Zv=i,Zv}var ey,vP;function VY(){if(vP)return ey;vP=1;var t=UY(),e=t("toUpperCase");return ey=e,ey}var WY=VY();const Yp=pt(WY);function xt(t){return function(){return t}}const wM=Math.cos,Ph=Math.sin,ai=Math.sqrt,Ch=Math.PI,Jp=2*Ch,Dw=Math.PI,zw=2*Dw,Ss=1e-6,HY=zw-Ss;function jM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function GY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return jM;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class KY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?jM:GY(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,d=n-e,f=i-r,p=o-e,h=c-r,g=p*p+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>Ss)if(!(Math.abs(h*d-f*p)>Ss)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-o,b=i-c,w=d*d+f*f,x=y*y+b*b,S=Math.sqrt(w),k=Math.sqrt(g),_=a*Math.tan((Dw-Math.acos((w+g-x)/(2*S*k)))/2),C=_/k,N=_/S;Math.abs(C-1)>Ss&&this._append`L${e+C*p},${r+C*h}`,this._append`A${a},${a},0,0,${+(h*y>p*b)},${this._x1=e+N*d},${this._y1=r+N*f}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),d=n*Math.sin(i),f=e+c,p=r+d,h=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Ss||Math.abs(this._y1-p)>Ss)&&this._append`L${f},${p}`,n&&(g<0&&(g=g%zw+zw),g>HY?this._append`A${n},${n},0,1,${h},${e-c},${r-d}A${n},${n},0,1,${h},${this._x1=f},${this._y1=p}`:g>Ss&&this._append`A${n},${n},0,${+(g>=Dw)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function rS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new KY(e)}function nS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SM(t){this._context=t}SM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qp(t){return new SM(t)}function _M(t){return t[0]}function NM(t){return t[1]}function kM(t,e){var r=xt(!0),n=null,i=Qp,a=null,o=rS(c);t=typeof t=="function"?t:t===void 0?_M:xt(t),e=typeof e=="function"?e:e===void 0?NM:xt(e);function c(d){var f,p=(d=nS(d)).length,h,g=!1,y;for(n==null&&(a=i(y=o())),f=0;f<=p;++f)!(f<p&&r(h=d[f],f,d))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(h,f,d),+e(h,f,d));if(y)return a=null,y+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:xt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:xt(+d),c):e},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:xt(!!d),c):r},c.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),c):i},c.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),c):n},c}function Wf(t,e,r){var n=null,i=xt(!0),a=null,o=Qp,c=null,d=rS(f);t=typeof t=="function"?t:t===void 0?_M:xt(+t),e=typeof e=="function"?e:xt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?NM:xt(+r);function f(h){var g,y,b,w=(h=nS(h)).length,x,S=!1,k,_=new Array(w),C=new Array(w);for(a==null&&(c=o(k=d())),g=0;g<=w;++g){if(!(g<w&&i(x=h[g],g,h))===S)if(S=!S)y=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=g-1;b>=y;--b)c.point(_[b],C[b]);c.lineEnd(),c.areaEnd()}S&&(_[g]=+t(x,g,h),C[g]=+e(x,g,h),c.point(n?+n(x,g,h):_[g],r?+r(x,g,h):C[g]))}if(k)return c=null,k+""||null}function p(){return kM().defined(i).curve(o).context(a)}return f.x=function(h){return arguments.length?(t=typeof h=="function"?h:xt(+h),n=null,f):t},f.x0=function(h){return arguments.length?(t=typeof h=="function"?h:xt(+h),f):t},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:xt(+h),f):n},f.y=function(h){return arguments.length?(e=typeof h=="function"?h:xt(+h),r=null,f):e},f.y0=function(h){return arguments.length?(e=typeof h=="function"?h:xt(+h),f):e},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:xt(+h),f):r},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(r)},f.lineX1=function(){return p().x(n).y(e)},f.defined=function(h){return arguments.length?(i=typeof h=="function"?h:xt(!!h),f):i},f.curve=function(h){return arguments.length?(o=h,a!=null&&(c=o(a)),f):o},f.context=function(h){return arguments.length?(h==null?a=c=null:c=o(a=h),f):a},f}class AM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function XY(t){return new AM(t,!0)}function YY(t){return new AM(t,!1)}const iS={draw(t,e){const r=ai(e/Ch);t.moveTo(r,0),t.arc(0,0,r,0,Jp)}},JY={draw(t,e){const r=ai(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},TM=ai(1/3),QY=TM*2,ZY={draw(t,e){const r=ai(e/QY),n=r*TM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},eJ={draw(t,e){const r=ai(e),n=-r/2;t.rect(n,n,r,r)}},tJ=.8908130915292852,PM=Ph(Ch/10)/Ph(7*Ch/10),rJ=Ph(Jp/10)*PM,nJ=-wM(Jp/10)*PM,iJ={draw(t,e){const r=ai(e*tJ),n=rJ*r,i=nJ*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Jp*a/5,c=wM(o),d=Ph(o);t.lineTo(d*r,-c*r),t.lineTo(c*n-d*i,d*n+c*i)}t.closePath()}},ty=ai(3),aJ={draw(t,e){const r=-ai(e/(ty*3));t.moveTo(0,r*2),t.lineTo(-ty*r,-r),t.lineTo(ty*r,-r),t.closePath()}},Tn=-.5,Pn=ai(3)/2,Lw=1/ai(12),sJ=(Lw/2+1)*3,oJ={draw(t,e){const r=ai(e/sJ),n=r/2,i=r*Lw,a=n,o=r*Lw+r,c=-a,d=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(c,d),t.lineTo(Tn*n-Pn*i,Pn*n+Tn*i),t.lineTo(Tn*a-Pn*o,Pn*a+Tn*o),t.lineTo(Tn*c-Pn*d,Pn*c+Tn*d),t.lineTo(Tn*n+Pn*i,Tn*i-Pn*n),t.lineTo(Tn*a+Pn*o,Tn*o-Pn*a),t.lineTo(Tn*c+Pn*d,Tn*d-Pn*c),t.closePath()}};function lJ(t,e){let r=null,n=rS(i);t=typeof t=="function"?t:xt(t||iS),e=typeof e=="function"?e:xt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:xt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:xt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Eh(){}function Oh(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function CM(t){this._context=t}CM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Oh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Oh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cJ(t){return new CM(t)}function EM(t){this._context=t}EM.prototype={areaStart:Eh,areaEnd:Eh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Oh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uJ(t){return new EM(t)}function OM(t){this._context=t}OM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Oh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dJ(t){return new OM(t)}function IM(t){this._context=t}IM.prototype={areaStart:Eh,areaEnd:Eh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fJ(t){return new IM(t)}function yP(t){return t<0?-1:1}function xP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),c=(a*i+o*n)/(n+i);return(yP(a)+yP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function bP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ry(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,c=(a-n)/3;t._context.bezierCurveTo(n+c,i+c*e,a-c,o-c*r,a,o)}function Ih(t){this._context=t}Ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ry(this,this._t0,bP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ry(this,bP(this,r=xP(this,t,e)),r);break;default:ry(this,this._t0,r=xP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function RM(t){this._context=new $M(t)}(RM.prototype=Object.create(Ih.prototype)).point=function(t,e){Ih.prototype.point.call(this,e,t)};function $M(t){this._context=t}$M.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function hJ(t){return new Ih(t)}function pJ(t){return new RM(t)}function MM(t){this._context=t}MM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=wP(t),i=wP(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wP(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function mJ(t){return new MM(t)}function Zp(t,e){this._context=t,this._t=e}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function gJ(t){return new Zp(t,.5)}function vJ(t){return new Zp(t,0)}function yJ(t){return new Zp(t,1)}function ol(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,c=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<c;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Bw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function xJ(t,e){return t[e]}function bJ(t){const e=[];return e.key=t,e}function wJ(){var t=xt([]),e=Bw,r=ol,n=xJ;function i(a){var o=Array.from(t.apply(this,arguments),bJ),c,d=o.length,f=-1,p;for(const h of a)for(c=0,++f;c<d;++c)(o[c][f]=[0,+n(h,o[c].key,f,a)]).data=h;for(c=0,p=nS(e(o));c<d;++c)o[p[c]].index=c;return r(o,p),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:xt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:xt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Bw:typeof a=="function"?a:xt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??ol,i):r},i}function jJ(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}ol(t,e)}}function SJ(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,c=0;o<i;++o)c+=t[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}ol(t,e)}}function _J(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var c=0,d=0,f=0;c<o;++c){for(var p=t[e[c]],h=p[n][1]||0,g=p[n-1][1]||0,y=(h-g)/2,b=0;b<c;++b){var w=t[e[b]],x=w[n][1]||0,S=w[n-1][1]||0;y+=x-S}d+=h,f+=y*h}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,ol(t,e)}}function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}var NJ=["type","size","sizeType"];function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fw.apply(this,arguments)}function jP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(r),!0).forEach(function(n){kJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kJ(t,e,r){return e=AJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AJ(t){var e=TJ(t,"string");return Nu(e)=="symbol"?e:e+""}function TJ(t,e){if(Nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PJ(t,e){if(t==null)return{};var r=CJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var DM={symbolCircle:iS,symbolCross:JY,symbolDiamond:ZY,symbolSquare:eJ,symbolStar:iJ,symbolTriangle:aJ,symbolWye:oJ},EJ=Math.PI/180,OJ=function(e){var r="symbol".concat(Yp(e));return DM[r]||iS},IJ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*EJ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},RJ=function(e,r){DM["symbol".concat(Yp(e))]=r},aS=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,c=o===void 0?"area":o,d=PJ(e,NJ),f=SP(SP({},d),{},{type:n,size:a,sizeType:c}),p=function(){var x=OJ(n),S=lJ().type(x).size(IJ(a,c,n));return S()},h=f.className,g=f.cx,y=f.cy,b=Ke(f,!0);return g===+g&&y===+y&&a===+a?z.createElement("path",Fw({},b,{className:tt("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(y,")"),d:p()})):null};aS.registerSymbol=RJ;function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qw.apply(this,arguments)}function _P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(r),!0).forEach(function(n){ku(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LM(n.key),n)}}function zJ(t,e,r){return e&&DJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LJ(t,e,r){return e=Rh(e),BJ(t,zM()?Reflect.construct(e,r||[],Rh(t).constructor):e.apply(t,r))}function BJ(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FJ(t)}function FJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zM=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rh(t)}function qJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uw(t,e)}function ku(t,e,r){return e=LM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LM(t){var e=UJ(t,"string");return ll(e)=="symbol"?e:e+""}function UJ(t,e){if(ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cn=32,sS=(function(t){function e(){return MJ(this,e),LJ(this,e,arguments)}return qJ(e,t),zJ(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Cn/2,o=Cn/6,c=Cn/3,d=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Cn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(Cn,"M").concat(2*c,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Cn/8,"h").concat(Cn,"v").concat(Cn*3/4,"h").concat(-Cn,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var f=$J({},n);return delete f.legendIcon,z.cloneElement(n.legendIcon,f)}return z.createElement(aS,{fill:d,cx:a,cy:a,size:Cn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,c=i.layout,d=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:Cn,height:Cn},h={display:c==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,b){var w=y.formatter||d,x=tt(ku(ku({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",y.inactive));if(y.type==="none")return null;var S=Ge(y.value)?null:y.value;Wi(!Ge(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=y.inactive?f:y.color;return z.createElement("li",qw({className:x,style:h,key:"legend-item-".concat(b)},Th(n.props,y,b)),z.createElement($w,{width:o,height:o,viewBox:p,style:g},n.renderIcon(y)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w?w(S,y,b):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(P.PureComponent);ku(sS,"displayName","Legend");ku(sS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ny,NP;function VJ(){if(NP)return ny;NP=1;var t=Gp();function e(){this.__data__=new t,this.size=0}return ny=e,ny}var iy,kP;function WJ(){if(kP)return iy;kP=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return iy=t,iy}var ay,AP;function HJ(){if(AP)return ay;AP=1;function t(e){return this.__data__.get(e)}return ay=t,ay}var sy,TP;function GJ(){if(TP)return sy;TP=1;function t(e){return this.__data__.has(e)}return sy=t,sy}var oy,PP;function KJ(){if(PP)return oy;PP=1;var t=Gp(),e=Yj(),r=Jj(),n=200;function i(a,o){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<n-1)return d.push([a,o]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(a,o),this.size=c.size,this}return oy=i,oy}var ly,CP;function BM(){if(CP)return ly;CP=1;var t=Gp(),e=VJ(),r=WJ(),n=HJ(),i=GJ(),a=KJ();function o(c){var d=this.__data__=new t(c);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,ly=o,ly}var cy,EP;function XJ(){if(EP)return cy;EP=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return cy=e,cy}var uy,OP;function YJ(){if(OP)return uy;OP=1;function t(e){return this.__data__.has(e)}return uy=t,uy}var dy,IP;function FM(){if(IP)return dy;IP=1;var t=Jj(),e=XJ(),r=YJ();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,dy=n,dy}var fy,RP;function qM(){if(RP)return fy;RP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return fy=t,fy}var hy,$P;function UM(){if($P)return hy;$P=1;function t(e,r){return e.has(r)}return hy=t,hy}var py,MP;function VM(){if(MP)return py;MP=1;var t=FM(),e=qM(),r=UM(),n=1,i=2;function a(o,c,d,f,p,h){var g=d&n,y=o.length,b=c.length;if(y!=b&&!(g&&b>y))return!1;var w=h.get(o),x=h.get(c);if(w&&x)return w==c&&x==o;var S=-1,k=!0,_=d&i?new t:void 0;for(h.set(o,c),h.set(c,o);++S<y;){var C=o[S],N=c[S];if(f)var A=g?f(N,C,S,c,o,h):f(C,N,S,o,c,h);if(A!==void 0){if(A)continue;k=!1;break}if(_){if(!e(c,function(E,O){if(!r(_,O)&&(C===E||p(C,E,d,f,h)))return _.push(O)})){k=!1;break}}else if(!(C===N||p(C,N,d,f,h))){k=!1;break}}return h.delete(o),h.delete(c),k}return py=a,py}var my,DP;function JJ(){if(DP)return my;DP=1;var t=_i(),e=t.Uint8Array;return my=e,my}var gy,zP;function QJ(){if(zP)return gy;zP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return gy=t,gy}var vy,LP;function oS(){if(LP)return vy;LP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return vy=t,vy}var yy,BP;function ZJ(){if(BP)return yy;BP=1;var t=hd(),e=JJ(),r=Xj(),n=VM(),i=QJ(),a=oS(),o=1,c=2,d="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Map]",g="[object Number]",y="[object RegExp]",b="[object Set]",w="[object String]",x="[object Symbol]",S="[object ArrayBuffer]",k="[object DataView]",_=t?t.prototype:void 0,C=_?_.valueOf:void 0;function N(A,E,O,R,H,B,D){switch(O){case k:if(A.byteLength!=E.byteLength||A.byteOffset!=E.byteOffset)return!1;A=A.buffer,E=E.buffer;case S:return!(A.byteLength!=E.byteLength||!B(new e(A),new e(E)));case d:case f:case g:return r(+A,+E);case p:return A.name==E.name&&A.message==E.message;case y:case w:return A==E+"";case h:var $=i;case b:var V=R&o;if($||($=a),A.size!=E.size&&!V)return!1;var J=D.get(A);if(J)return J==E;R|=c,D.set(A,E);var K=n($(A),$(E),R,H,B,D);return D.delete(A),K;case x:if(C)return C.call(A)==C.call(E)}return!1}return yy=N,yy}var xy,FP;function WM(){if(FP)return xy;FP=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return xy=t,xy}var by,qP;function eQ(){if(qP)return by;qP=1;var t=WM(),e=nn();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return by=r,by}var wy,UP;function tQ(){if(UP)return wy;UP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var c=e[n];r(c,n,e)&&(o[a++]=c)}return o}return wy=t,wy}var jy,VP;function rQ(){if(VP)return jy;VP=1;function t(){return[]}return jy=t,jy}var Sy,WP;function nQ(){if(WP)return Sy;WP=1;var t=tQ(),e=rQ(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(c){return n.call(o,c)}))}:e;return Sy=a,Sy}var _y,HP;function iQ(){if(HP)return _y;HP=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return _y=t,_y}var Ny,GP;function aQ(){if(GP)return Ny;GP=1;var t=ia(),e=aa(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Ny=n,Ny}var ky,KP;function lS(){if(KP)return ky;KP=1;var t=aQ(),e=aa(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return ky=a,ky}var Xc={exports:{}},Ay,XP;function sQ(){if(XP)return Ay;XP=1;function t(){return!1}return Ay=t,Ay}Xc.exports;var YP;function HM(){return YP||(YP=1,(function(t,e){var r=_i(),n=sQ(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,c=o?r.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||n;t.exports=f})(Xc,Xc.exports)),Xc.exports}var Ty,JP;function cS(){if(JP)return Ty;JP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Ty=r,Ty}var Py,QP;function uS(){if(QP)return Py;QP=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Py=e,Py}var Cy,ZP;function oQ(){if(ZP)return Cy;ZP=1;var t=ia(),e=uS(),r=aa(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",g="[object RegExp]",y="[object Set]",b="[object String]",w="[object WeakMap]",x="[object ArrayBuffer]",S="[object DataView]",k="[object Float32Array]",_="[object Float64Array]",C="[object Int8Array]",N="[object Int16Array]",A="[object Int32Array]",E="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",H="[object Uint32Array]",B={};B[k]=B[_]=B[C]=B[N]=B[A]=B[E]=B[O]=B[R]=B[H]=!0,B[n]=B[i]=B[x]=B[a]=B[S]=B[o]=B[c]=B[d]=B[f]=B[p]=B[h]=B[g]=B[y]=B[b]=B[w]=!1;function D($){return r($)&&e($.length)&&!!B[t($)]}return Cy=D,Cy}var Ey,eC;function GM(){if(eC)return Ey;eC=1;function t(e){return function(r){return e(r)}}return Ey=t,Ey}var Yc={exports:{}};Yc.exports;var tC;function lQ(){return tC||(tC=1,(function(t,e){var r=fM(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,c=(function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=c})(Yc,Yc.exports)),Yc.exports}var Oy,rC;function KM(){if(rC)return Oy;rC=1;var t=oQ(),e=GM(),r=lQ(),n=r&&r.isTypedArray,i=n?e(n):t;return Oy=i,Oy}var Iy,nC;function cQ(){if(nC)return Iy;nC=1;var t=iQ(),e=lS(),r=nn(),n=HM(),i=cS(),a=KM(),o=Object.prototype,c=o.hasOwnProperty;function d(f,p){var h=r(f),g=!h&&e(f),y=!h&&!g&&n(f),b=!h&&!g&&!y&&a(f),w=h||g||y||b,x=w?t(f.length,String):[],S=x.length;for(var k in f)(p||c.call(f,k))&&!(w&&(k=="length"||y&&(k=="offset"||k=="parent")||b&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,S)))&&x.push(k);return x}return Iy=d,Iy}var Ry,iC;function uQ(){if(iC)return Ry;iC=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Ry=e,Ry}var $y,aC;function XM(){if(aC)return $y;aC=1;function t(e,r){return function(n){return e(r(n))}}return $y=t,$y}var My,sC;function dQ(){if(sC)return My;sC=1;var t=XM(),e=t(Object.keys,Object);return My=e,My}var Dy,oC;function fQ(){if(oC)return Dy;oC=1;var t=uQ(),e=dQ(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var c in Object(a))n.call(a,c)&&c!="constructor"&&o.push(c);return o}return Dy=i,Dy}var zy,lC;function pd(){if(lC)return zy;lC=1;var t=Kj(),e=uS();function r(n){return n!=null&&e(n.length)&&!t(n)}return zy=r,zy}var Ly,cC;function em(){if(cC)return Ly;cC=1;var t=cQ(),e=fQ(),r=pd();function n(i){return r(i)?t(i):e(i)}return Ly=n,Ly}var By,uC;function hQ(){if(uC)return By;uC=1;var t=eQ(),e=nQ(),r=em();function n(i){return t(i,r,e)}return By=n,By}var Fy,dC;function pQ(){if(dC)return Fy;dC=1;var t=hQ(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,c,d,f,p){var h=c&e,g=t(a),y=g.length,b=t(o),w=b.length;if(y!=w&&!h)return!1;for(var x=y;x--;){var S=g[x];if(!(h?S in o:n.call(o,S)))return!1}var k=p.get(a),_=p.get(o);if(k&&_)return k==o&&_==a;var C=!0;p.set(a,o),p.set(o,a);for(var N=h;++x<y;){S=g[x];var A=a[S],E=o[S];if(d)var O=h?d(E,A,S,o,a,p):d(A,E,S,a,o,p);if(!(O===void 0?A===E||f(A,E,c,d,p):O)){C=!1;break}N||(N=S=="constructor")}if(C&&!N){var R=a.constructor,H=o.constructor;R!=H&&"constructor"in a&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof H=="function"&&H instanceof H)&&(C=!1)}return p.delete(a),p.delete(o),C}return Fy=i,Fy}var qy,fC;function mQ(){if(fC)return qy;fC=1;var t=Hs(),e=_i(),r=t(e,"DataView");return qy=r,qy}var Uy,hC;function gQ(){if(hC)return Uy;hC=1;var t=Hs(),e=_i(),r=t(e,"Promise");return Uy=r,Uy}var Vy,pC;function YM(){if(pC)return Vy;pC=1;var t=Hs(),e=_i(),r=t(e,"Set");return Vy=r,Vy}var Wy,mC;function vQ(){if(mC)return Wy;mC=1;var t=Hs(),e=_i(),r=t(e,"WeakMap");return Wy=r,Wy}var Hy,gC;function yQ(){if(gC)return Hy;gC=1;var t=mQ(),e=Yj(),r=gQ(),n=YM(),i=vQ(),a=ia(),o=hM(),c="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",g="[object DataView]",y=o(t),b=o(e),w=o(r),x=o(n),S=o(i),k=a;return(t&&k(new t(new ArrayBuffer(1)))!=g||e&&k(new e)!=c||r&&k(r.resolve())!=f||n&&k(new n)!=p||i&&k(new i)!=h)&&(k=function(_){var C=a(_),N=C==d?_.constructor:void 0,A=N?o(N):"";if(A)switch(A){case y:return g;case b:return c;case w:return f;case x:return p;case S:return h}return C}),Hy=k,Hy}var Gy,vC;function xQ(){if(vC)return Gy;vC=1;var t=BM(),e=VM(),r=ZJ(),n=pQ(),i=yQ(),a=nn(),o=HM(),c=KM(),d=1,f="[object Arguments]",p="[object Array]",h="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function b(w,x,S,k,_,C){var N=a(w),A=a(x),E=N?p:i(w),O=A?p:i(x);E=E==f?h:E,O=O==f?h:O;var R=E==h,H=O==h,B=E==O;if(B&&o(w)){if(!o(x))return!1;N=!0,R=!1}if(B&&!R)return C||(C=new t),N||c(w)?e(w,x,S,k,_,C):r(w,x,E,S,k,_,C);if(!(S&d)){var D=R&&y.call(w,"__wrapped__"),$=H&&y.call(x,"__wrapped__");if(D||$){var V=D?w.value():w,J=$?x.value():x;return C||(C=new t),_(V,J,S,k,C)}}return B?(C||(C=new t),n(w,x,S,k,_,C)):!1}return Gy=b,Gy}var Ky,yC;function dS(){if(yC)return Ky;yC=1;var t=xQ(),e=aa();function r(n,i,a,o,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,c)}return Ky=r,Ky}var Xy,xC;function bQ(){if(xC)return Xy;xC=1;var t=BM(),e=dS(),r=1,n=2;function i(a,o,c,d){var f=c.length,p=f,h=!d;if(a==null)return!p;for(a=Object(a);f--;){var g=c[f];if(h&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++f<p;){g=c[f];var y=g[0],b=a[y],w=g[1];if(h&&g[2]){if(b===void 0&&!(y in a))return!1}else{var x=new t;if(d)var S=d(b,w,y,a,o,x);if(!(S===void 0?e(w,b,r|n,d,x):S))return!1}}return!0}return Xy=i,Xy}var Yy,bC;function JM(){if(bC)return Yy;bC=1;var t=Xa();function e(r){return r===r&&!t(r)}return Yy=e,Yy}var Jy,wC;function wQ(){if(wC)return Jy;wC=1;var t=JM(),e=em();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],c=n[o];i[a]=[o,c,t(c)]}return i}return Jy=r,Jy}var Qy,jC;function QM(){if(jC)return Qy;jC=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Qy=t,Qy}var Zy,SC;function jQ(){if(SC)return Zy;SC=1;var t=bQ(),e=wQ(),r=QM();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return Zy=n,Zy}var ex,_C;function SQ(){if(_C)return ex;_C=1;function t(e,r){return e!=null&&r in Object(e)}return ex=t,ex}var tx,NC;function _Q(){if(NC)return tx;NC=1;var t=gM(),e=lS(),r=nn(),n=cS(),i=uS(),a=Xp();function o(c,d,f){d=t(d,c);for(var p=-1,h=d.length,g=!1;++p<h;){var y=a(d[p]);if(!(g=c!=null&&f(c,y)))break;c=c[y]}return g||++p!=h?g:(h=c==null?0:c.length,!!h&&i(h)&&n(y,h)&&(r(c)||e(c)))}return tx=o,tx}var rx,kC;function NQ(){if(kC)return rx;kC=1;var t=SQ(),e=_Q();function r(n,i){return n!=null&&e(n,i,t)}return rx=r,rx}var nx,AC;function kQ(){if(AC)return nx;AC=1;var t=dS(),e=vM(),r=NQ(),n=Gj(),i=JM(),a=QM(),o=Xp(),c=1,d=2;function f(p,h){return n(p)&&i(h)?a(o(p),h):function(g){var y=e(g,p);return y===void 0&&y===h?r(g,p):t(h,y,c|d)}}return nx=f,nx}var ix,TC;function Fl(){if(TC)return ix;TC=1;function t(e){return e}return ix=t,ix}var ax,PC;function AQ(){if(PC)return ax;PC=1;function t(e){return function(r){return r?.[e]}}return ax=t,ax}var sx,CC;function TQ(){if(CC)return sx;CC=1;var t=Zj();function e(r){return function(n){return t(n,r)}}return sx=e,sx}var ox,EC;function PQ(){if(EC)return ox;EC=1;var t=AQ(),e=TQ(),r=Gj(),n=Xp();function i(a){return r(a)?t(n(a)):e(a)}return ox=i,ox}var lx,OC;function Ya(){if(OC)return lx;OC=1;var t=jQ(),e=kQ(),r=Fl(),n=nn(),i=PQ();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return lx=a,lx}var cx,IC;function ZM(){if(IC)return cx;IC=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return cx=t,cx}var ux,RC;function CQ(){if(RC)return ux;RC=1;function t(e){return e!==e}return ux=t,ux}var dx,$C;function EQ(){if($C)return dx;$C=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return dx=t,dx}var fx,MC;function OQ(){if(MC)return fx;MC=1;var t=ZM(),e=CQ(),r=EQ();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return fx=n,fx}var hx,DC;function IQ(){if(DC)return hx;DC=1;var t=OQ();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return hx=e,hx}var px,zC;function RQ(){if(zC)return px;zC=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return px=t,px}var mx,LC;function $Q(){if(LC)return mx;LC=1;function t(){}return mx=t,mx}var gx,BC;function MQ(){if(BC)return gx;BC=1;var t=YM(),e=$Q(),r=oS(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return gx=i,gx}var vx,FC;function DQ(){if(FC)return vx;FC=1;var t=FM(),e=IQ(),r=RQ(),n=UM(),i=MQ(),a=oS(),o=200;function c(d,f,p){var h=-1,g=e,y=d.length,b=!0,w=[],x=w;if(p)b=!1,g=r;else if(y>=o){var S=f?null:i(d);if(S)return a(S);b=!1,g=n,x=new t}else x=f?[]:w;e:for(;++h<y;){var k=d[h],_=f?f(k):k;if(k=p||k!==0?k:0,b&&_===_){for(var C=x.length;C--;)if(x[C]===_)continue e;f&&x.push(_),w.push(k)}else g(x,_,p)||(x!==w&&x.push(_),w.push(k))}return w}return vx=c,vx}var yx,qC;function zQ(){if(qC)return yx;qC=1;var t=Ya(),e=DQ();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return yx=r,yx}var LQ=zQ();const UC=pt(LQ);function e3(t,e,r){return e===!0?UC(t,r):Ge(e)?UC(t,e):t}function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}var BQ=["ref"];function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){tm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r3(n.key),n)}}function qQ(t,e,r){return e&&WC(t.prototype,e),r&&WC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UQ(t,e,r){return e=$h(e),VQ(t,t3()?Reflect.construct(e,r||[],$h(t).constructor):e.apply(t,r))}function VQ(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WQ(t)}function WQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t3=function(){return!!t})()}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$h(t)}function HQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vw(t,e)}function tm(t,e,r){return e=r3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r3(t){var e=GQ(t,"string");return cl(e)=="symbol"?e:e+""}function GQ(t,e){if(cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function KQ(t,e){if(t==null)return{};var r=XQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YQ(t){return t.value}function JQ(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=KQ(e,BQ);return z.createElement(sS,r)}var HC=1,Ms=(function(t){function e(){var r;FQ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=UQ(this,e,[].concat(i)),tm(r,"lastBoundingBox",{width:-1,height:-1}),r}return HQ(e,t),qQ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>HC||Math.abs(i.height-this.lastBoundingBox.height)>HC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Di({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,c=i.verticalAlign,d=i.margin,f=i.chartWidth,p=i.chartHeight,h,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();h={left:((f||0)-y.width)/2}}else h=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var b=this.getBBoxSnapshot();g={top:((p||0)-b.height)/2}}else g=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Di(Di({},h),g)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,c=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,h=Di(Di({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return z.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(y){n.wrapperNode=y}},JQ(a,Di(Di({},this.props),{},{payload:e3(p,f,YQ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Di(Di({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&we(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(P.PureComponent);tm(Ms,"displayName","Legend");tm(Ms,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xx,GC;function QQ(){if(GC)return xx;GC=1;var t=hd(),e=lS(),r=nn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return xx=i,xx}var bx,KC;function n3(){if(KC)return bx;KC=1;var t=WM(),e=QQ();function r(n,i,a,o,c){var d=-1,f=n.length;for(a||(a=e),c||(c=[]);++d<f;){var p=n[d];i>0&&a(p)?i>1?r(p,i-1,a,o,c):t(c,p):o||(c[c.length]=p)}return c}return bx=r,bx}var wx,XC;function ZQ(){if(XC)return wx;XC=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),c=i(r),d=c.length;d--;){var f=c[e?d:++a];if(n(o[f],f,o)===!1)break}return r}}return wx=t,wx}var jx,YC;function eZ(){if(YC)return jx;YC=1;var t=ZQ(),e=t();return jx=e,jx}var Sx,JC;function i3(){if(JC)return Sx;JC=1;var t=eZ(),e=em();function r(n,i){return n&&t(n,i,e)}return Sx=r,Sx}var _x,QC;function tZ(){if(QC)return _x;QC=1;var t=pd();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,c=n?o:-1,d=Object(i);(n?c--:++c<o)&&a(d[c],c,d)!==!1;);return i}}return _x=e,_x}var Nx,ZC;function fS(){if(ZC)return Nx;ZC=1;var t=i3(),e=tZ(),r=e(t);return Nx=r,Nx}var kx,eE;function a3(){if(eE)return kx;eE=1;var t=fS(),e=pd();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(c,d,f){o[++a]=i(c,d,f)}),o}return kx=r,kx}var Ax,tE;function rZ(){if(tE)return Ax;tE=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Ax=t,Ax}var Tx,rE;function nZ(){if(rE)return Tx;rE=1;var t=Dl();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,c=t(r),d=n!==void 0,f=n===null,p=n===n,h=t(n);if(!f&&!h&&!c&&r>n||c&&d&&p&&!f&&!h||a&&d&&p||!i&&p||!o)return 1;if(!a&&!c&&!h&&r<n||h&&i&&o&&!a&&!c||f&&i&&o||!d&&o||!p)return-1}return 0}return Tx=e,Tx}var Px,nE;function iZ(){if(nE)return Px;nE=1;var t=nZ();function e(r,n,i){for(var a=-1,o=r.criteria,c=n.criteria,d=o.length,f=i.length;++a<d;){var p=t(o[a],c[a]);if(p){if(a>=f)return p;var h=i[a];return p*(h=="desc"?-1:1)}}return r.index-n.index}return Px=e,Px}var Cx,iE;function aZ(){if(iE)return Cx;iE=1;var t=Qj(),e=Zj(),r=Ya(),n=a3(),i=rZ(),a=GM(),o=iZ(),c=Fl(),d=nn();function f(p,h,g){h.length?h=t(h,function(w){return d(w)?function(x){return e(x,w.length===1?w[0]:w)}:w}):h=[c];var y=-1;h=t(h,a(r));var b=n(p,function(w,x,S){var k=t(h,function(_){return _(w)});return{criteria:k,index:++y,value:w}});return i(b,function(w,x){return o(w,x,g)})}return Cx=f,Cx}var Ex,aE;function sZ(){if(aE)return Ex;aE=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Ex=t,Ex}var Ox,sE;function oZ(){if(sE)return Ox;sE=1;var t=sZ(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,c=-1,d=e(o.length-i,0),f=Array(d);++c<d;)f[c]=o[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=o[c];return p[i]=a(f),t(n,this,p)}}return Ox=r,Ox}var Ix,oE;function lZ(){if(oE)return Ix;oE=1;function t(e){return function(){return e}}return Ix=t,Ix}var Rx,lE;function s3(){if(lE)return Rx;lE=1;var t=Hs(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Rx=e,Rx}var $x,cE;function cZ(){if(cE)return $x;cE=1;var t=lZ(),e=s3(),r=Fl(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return $x=n,$x}var Mx,uE;function uZ(){if(uE)return Mx;uE=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var c=r(),d=e-(c-o);if(o=c,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Mx=n,Mx}var Dx,dE;function dZ(){if(dE)return Dx;dE=1;var t=cZ(),e=uZ(),r=e(t);return Dx=r,Dx}var zx,fE;function fZ(){if(fE)return zx;fE=1;var t=Fl(),e=oZ(),r=dZ();function n(i,a){return r(e(i,a,t),i+"")}return zx=n,zx}var Lx,hE;function rm(){if(hE)return Lx;hE=1;var t=Xj(),e=pd(),r=cS(),n=Xa();function i(a,o,c){if(!n(c))return!1;var d=typeof o;return(d=="number"?e(c)&&r(o,c.length):d=="string"&&o in c)?t(c[o],a):!1}return Lx=i,Lx}var Bx,pE;function hZ(){if(pE)return Bx;pE=1;var t=n3(),e=aZ(),r=fZ(),n=rm(),i=r(function(a,o){if(a==null)return[];var c=o.length;return c>1&&n(a,o[0],o[1])?o=[]:c>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return Bx=i,Bx}var pZ=hZ();const hS=pt(pZ);function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ww.apply(this,arguments)}function mZ(t,e){return xZ(t)||yZ(t,e)||vZ(t,e)||gZ()}function gZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZ(t,e){if(t){if(typeof t=="string")return mE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mE(t,e)}}function mE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function xZ(t){if(Array.isArray(t))return t}function gE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(r),!0).forEach(function(n){bZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bZ(t,e,r){return e=wZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wZ(t){var e=jZ(t,"string");return Au(e)=="symbol"?e:e+""}function jZ(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SZ(t){return Array.isArray(t)&&lr(t[0])&&lr(t[1])?t.join(" ~ "):t}var _Z=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,c=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,p=e.payload,h=e.formatter,g=e.itemSorter,y=e.wrapperClassName,b=e.labelClassName,w=e.label,x=e.labelFormatter,S=e.accessibilityLayer,k=S===void 0?!1:S,_=function(){if(p&&p.length){var D={padding:0,margin:0},$=(g?hS(p,g):p).map(function(V,J){if(V.type==="none")return null;var K=Fx({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},c),U=V.formatter||h||SZ,M=V.value,Q=V.name,ee=M,L=Q;if(U&&ee!=null&&L!=null){var q=U(M,Q,V,J,p);if(Array.isArray(q)){var X=mZ(q,2);ee=X[0],L=X[1]}else ee=q}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:K},lr(L)?z.createElement("span",{className:"recharts-tooltip-item-name"},L):null,lr(L)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},ee),z.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:D},$)}return null},C=Fx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=Fx({margin:0},f),A=!Qe(w),E=A?w:"",O=tt("recharts-default-tooltip",y),R=tt("recharts-tooltip-label",b);A&&x&&p!==void 0&&p!==null&&(E=x(w,p));var H=k?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",Ww({className:O,style:C},H),z.createElement("p",{className:R,style:N},z.isValidElement(E)?E:"".concat(E)),_())};function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function Hf(t,e,r){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NZ(t){var e=kZ(t,"string");return Tu(e)=="symbol"?e:e+""}function kZ(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mc="recharts-tooltip-wrapper",AZ={visibility:"hidden"};function TZ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return tt(Mc,Hf(Hf(Hf(Hf({},"".concat(Mc,"-right"),we(r)&&e&&we(e.x)&&r>=e.x),"".concat(Mc,"-left"),we(r)&&e&&we(e.x)&&r<e.x),"".concat(Mc,"-bottom"),we(n)&&e&&we(e.y)&&n>=e.y),"".concat(Mc,"-top"),we(n)&&e&&we(e.y)&&n<e.y))}function vE(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(a&&we(a[n]))return a[n];var p=r[n]-c-i,h=r[n]+i;if(e[n])return o[n]?p:h;if(o[n]){var g=p,y=d[n];return g<y?Math.max(h,d[n]):Math.max(p,d[n])}var b=h+c,w=d[n]+f;return b>w?Math.max(p,d[n]):Math.max(h,d[n])}function PZ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function CZ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,f,p,h;return o.height>0&&o.width>0&&r?(p=vE({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),h=vE({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=PZ({translateX:p,translateY:h,useTranslate3d:c})):f=AZ,{cssProperties:f,cssClasses:TZ({translateX:p,translateY:h,coordinate:r})}}function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function yE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(r),!0).forEach(function(n){Gw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l3(n.key),n)}}function IZ(t,e,r){return e&&OZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RZ(t,e,r){return e=Mh(e),$Z(t,o3()?Reflect.construct(e,r||[],Mh(t).constructor):e.apply(t,r))}function $Z(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MZ(t)}function MZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o3=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mh(t)}function DZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hw(t,e)}function Gw(t,e,r){return e=l3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l3(t){var e=zZ(t,"string");return ul(e)=="symbol"?e:e+""}function zZ(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bE=1,LZ=(function(t){function e(){var r;EZ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=RZ(this,e,[].concat(i)),Gw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Gw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return DZ(e,t),IZ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>bE||Math.abs(n.height-this.state.lastBoundingBox.height)>bE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.children,p=i.coordinate,h=i.hasPayload,g=i.isAnimationActive,y=i.offset,b=i.position,w=i.reverseDirection,x=i.useTranslate3d,S=i.viewBox,k=i.wrapperStyle,_=CZ({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:y,position:b,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:S}),C=_.cssClasses,N=_.cssProperties,A=xE(xE({transition:g&&a?"transform ".concat(c,"ms ").concat(d):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},k);return z.createElement("div",{tabIndex:-1,className:C,style:A,ref:function(O){n.wrapperNode=O}},f)}}])})(P.PureComponent),BZ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gs={isSsr:BZ()};function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function wE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(r),!0).forEach(function(n){pS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u3(n.key),n)}}function UZ(t,e,r){return e&&qZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VZ(t,e,r){return e=Dh(e),WZ(t,c3()?Reflect.construct(e,r||[],Dh(t).constructor):e.apply(t,r))}function WZ(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HZ(t)}function HZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!t})()}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dh(t)}function GZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kw(t,e)}function pS(t,e,r){return e=u3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u3(t){var e=KZ(t,"string");return dl(e)=="symbol"?e:e+""}function KZ(t,e){if(dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XZ(t){return t.dataKey}function YZ(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(_Z,e)}var Qn=(function(t){function e(){return FZ(this,e),VZ(this,e,arguments)}return GZ(e,t),UZ(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.content,p=i.coordinate,h=i.filterNull,g=i.isAnimationActive,y=i.offset,b=i.payload,w=i.payloadUniqBy,x=i.position,S=i.reverseDirection,k=i.useTranslate3d,_=i.viewBox,C=i.wrapperStyle,N=b??[];h&&N.length&&(N=e3(b.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),w,XZ));var A=N.length>0;return z.createElement(LZ,{allowEscapeViewBox:o,animationDuration:c,animationEasing:d,isAnimationActive:g,active:a,coordinate:p,hasPayload:A,offset:y,position:x,reverseDirection:S,useTranslate3d:k,viewBox:_,wrapperStyle:C},YZ(f,jE(jE({},this.props),{},{payload:N})))}}])})(P.PureComponent);pS(Qn,"displayName","Tooltip");pS(Qn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qx,SE;function JZ(){if(SE)return qx;SE=1;var t=_i(),e=function(){return t.Date.now()};return qx=e,qx}var Ux,_E;function QZ(){if(_E)return Ux;_E=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Ux=e,Ux}var Vx,NE;function ZZ(){if(NE)return Vx;NE=1;var t=QZ(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Vx=r,Vx}var Wx,kE;function d3(){if(kE)return Wx;kE=1;var t=ZZ(),e=Xa(),r=Dl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var h=a.test(f);return h||o.test(f)?c(f.slice(2),h?2:8):i.test(f)?n:+f}return Wx=d,Wx}var Hx,AE;function eee(){if(AE)return Hx;AE=1;var t=Xa(),e=JZ(),r=d3(),n="Expected a function",i=Math.max,a=Math.min;function o(c,d,f){var p,h,g,y,b,w,x=0,S=!1,k=!1,_=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(S=!!f.leading,k="maxWait"in f,g=k?i(r(f.maxWait)||0,d):g,_="trailing"in f?!!f.trailing:_);function C($){var V=p,J=h;return p=h=void 0,x=$,y=c.apply(J,V),y}function N($){return x=$,b=setTimeout(O,d),S?C($):y}function A($){var V=$-w,J=$-x,K=d-V;return k?a(K,g-J):K}function E($){var V=$-w,J=$-x;return w===void 0||V>=d||V<0||k&&J>=g}function O(){var $=e();if(E($))return R($);b=setTimeout(O,A($))}function R($){return b=void 0,_&&p?C($):(p=h=void 0,y)}function H(){b!==void 0&&clearTimeout(b),x=0,p=w=h=b=void 0}function B(){return b===void 0?y:R(e())}function D(){var $=e(),V=E($);if(p=arguments,h=this,w=$,V){if(b===void 0)return N(w);if(k)return clearTimeout(b),b=setTimeout(O,d),C(w)}return b===void 0&&(b=setTimeout(O,d)),y}return D.cancel=H,D.flush=B,D}return Hx=o,Hx}var Gx,TE;function tee(){if(TE)return Gx;TE=1;var t=eee(),e=Xa(),r="Expected a function";function n(i,a,o){var c=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(c="leading"in o?!!o.leading:c,d="trailing"in o?!!o.trailing:d),t(i,a,{leading:c,maxWait:a,trailing:d})}return Gx=n,Gx}var ree=tee();const f3=pt(ree);function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function PE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(r),!0).forEach(function(n){nee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nee(t,e,r){return e=iee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iee(t){var e=aee(t,"string");return Pu(e)=="symbol"?e:e+""}function aee(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function see(t,e){return uee(t)||cee(t,e)||lee(t,e)||oee()}function oee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lee(t,e){if(t){if(typeof t=="string")return CE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(t,e)}}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function uee(t){if(Array.isArray(t))return t}var h3=P.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,c=t.height,d=c===void 0?"100%":c,f=t.minWidth,p=f===void 0?0:f,h=t.minHeight,g=t.maxHeight,y=t.children,b=t.debounce,w=b===void 0?0:b,x=t.id,S=t.className,k=t.onResize,_=t.style,C=_===void 0?{}:_,N=P.useRef(null),A=P.useRef();A.current=k,P.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var E=P.useState({containerWidth:i.width,containerHeight:i.height}),O=see(E,2),R=O[0],H=O[1],B=P.useCallback(function($,V){H(function(J){var K=Math.round($),U=Math.round(V);return J.containerWidth===K&&J.containerHeight===U?J:{containerWidth:K,containerHeight:U}})},[]);P.useEffect(function(){var $=function(Q){var ee,L=Q[0].contentRect,q=L.width,X=L.height;B(q,X),(ee=A.current)===null||ee===void 0||ee.call(A,q,X)};w>0&&($=f3($,w,{trailing:!0,leading:!1}));var V=new ResizeObserver($),J=N.current.getBoundingClientRect(),K=J.width,U=J.height;return B(K,U),V.observe(N.current),function(){V.disconnect()}},[B,w]);var D=P.useMemo(function(){var $=R.containerWidth,V=R.containerHeight;if($<0||V<0)return null;Wi(Cs(o)||Cs(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),Wi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var J=Cs(o)?$:o,K=Cs(d)?V:d;r&&r>0&&(J?K=J/r:K&&(J=K*r),g&&K>g&&(K=g)),Wi(J>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,K,o,d,p,h,r);var U=!Array.isArray(y)&&Vi(y.type).endsWith("Chart");return z.Children.map(y,function(M){return z.isValidElement(M)?P.cloneElement(M,Gf({width:J,height:K},U?{style:Gf({height:"100%",width:"100%",maxHeight:K,maxWidth:J},M.props.style)}:{})):M})},[r,y,d,g,h,p,R,o]);return z.createElement("div",{id:x?"".concat(x):void 0,className:tt("recharts-responsive-container",S),style:Gf(Gf({},C),{},{width:o,height:d,minWidth:p,minHeight:h,maxHeight:g}),ref:N},D)}),p3=function(e){return null};p3.displayName="Cell";function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function EE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EE(Object(r),!0).forEach(function(n){dee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dee(t,e,r){return e=fee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fee(t){var e=hee(t,"string");return Cu(e)=="symbol"?e:e+""}function hee(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Co={widthCache:{},cacheCount:0},pee=2e3,mee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OE="recharts_measurement_span";function gee(t){var e=Xw({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var au=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Gs.isSsr)return{width:0,height:0};var n=gee(r),i=JSON.stringify({text:e,copyStyle:n});if(Co.widthCache[i])return Co.widthCache[i];try{var a=document.getElementById(OE);a||(a=document.createElement("span"),a.setAttribute("id",OE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Xw(Xw({},mee),n);Object.assign(a.style,o),a.textContent="".concat(e);var c=a.getBoundingClientRect(),d={width:c.width,height:c.height};return Co.widthCache[i]=d,++Co.cacheCount>pee&&(Co.cacheCount=0,Co.widthCache={}),d}catch{return{width:0,height:0}}},vee=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function zh(t,e){return wee(t)||bee(t,e)||xee(t,e)||yee()}function yee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xee(t,e){if(t){if(typeof t=="string")return IE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IE(t,e)}}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function wee(t){if(Array.isArray(t))return t}function jee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_ee(n.key),n)}}function See(t,e,r){return e&&RE(t.prototype,e),r&&RE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ee(t){var e=Nee(t,"string");return Eu(e)=="symbol"?e:e+""}function Nee(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $E=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ME=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Aee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Tee=Object.keys(m3),Ho="NaN";function Pee(t,e){return t*m3[e]}var Kf=(function(){function t(e,r){jee(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!kee.test(r)&&(this.num=NaN,this.unit=""),Tee.includes(r)&&(this.num=Pee(e,r),this.unit="px")}return See(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Aee.exec(r))!==null&&n!==void 0?n:[],a=zh(i,3),o=a[1],c=a[2];return new t(parseFloat(o),c??"")}}])})();function g3(t){if(t.includes(Ho))return Ho;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=$E.exec(e))!==null&&r!==void 0?r:[],i=zh(n,4),a=i[1],o=i[2],c=i[3],d=Kf.parse(a??""),f=Kf.parse(c??""),p=o==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return Ho;e=e.replace($E,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,g=(h=ME.exec(e))!==null&&h!==void 0?h:[],y=zh(g,4),b=y[1],w=y[2],x=y[3],S=Kf.parse(b??""),k=Kf.parse(x??""),_=w==="+"?S.add(k):S.subtract(k);if(_.isNaN())return Ho;e=e.replace(ME,_.toString())}return e}var DE=/\(([^()]*)\)/;function Cee(t){for(var e=t;e.includes("(");){var r=DE.exec(e),n=zh(r,2),i=n[1];e=e.replace(DE,g3(i))}return e}function Eee(t){var e=t.replace(/\s+/g,"");return e=Cee(e),e=g3(e),e}function Oee(t){try{return Eee(t)}catch{return Ho}}function Kx(t){var e=Oee(t.slice(5,-1));return e===Ho?"":e}var Iee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ree=["dx","dy","angle","className","breakAll"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yw.apply(this,arguments)}function zE(t,e){if(t==null)return{};var r=$ee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $ee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LE(t,e){return Lee(t)||zee(t,e)||Dee(t,e)||Mee()}function Mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dee(t,e){if(t){if(typeof t=="string")return BE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BE(t,e)}}function BE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function Lee(t){if(Array.isArray(t))return t}var v3=/[ \f\n\r\t\v\u2028\u2029]+/,y3=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Qe(r)||(n?a=r.toString().split(""):a=r.toString().split(v3));var o=a.map(function(d){return{word:d,width:au(d,i).width}}),c=n?0:au("",i).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},Bee=function(e,r,n,i,a){var o=e.maxLines,c=e.children,d=e.style,f=e.breakAll,p=we(o),h=c,g=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(K,U){var M=U.word,Q=U.width,ee=K[K.length-1];if(ee&&(i==null||a||ee.width+Q+n<Number(i)))ee.words.push(M),ee.width+=Q+n;else{var L={words:[M],width:Q};K.push(L)}return K},[])},y=g(r),b=function(J){return J.reduce(function(K,U){return K.width>U.width?K:U})};if(!p)return y;for(var w="",x=function(J){var K=h.slice(0,J),U=y3({breakAll:f,style:d,children:K+w}).wordsWithComputedWidth,M=g(U),Q=M.length>o||b(M).width>Number(i);return[Q,M]},S=0,k=h.length-1,_=0,C;S<=k&&_<=h.length-1;){var N=Math.floor((S+k)/2),A=N-1,E=x(A),O=LE(E,2),R=O[0],H=O[1],B=x(N),D=LE(B,1),$=D[0];if(!R&&!$&&(S=N+1),R&&$&&(k=N-1),!R&&$){C=H;break}_++}return C||y},FE=function(e){var r=Qe(e)?[]:e.toString().split(v3);return[{words:r}]},Fee=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,c=e.maxLines;if((r||n)&&!Gs.isSsr){var d,f,p=y3({breakAll:o,children:i,style:a});if(p){var h=p.wordsWithComputedWidth,g=p.spaceWidth;d=h,f=g}else return FE(i);return Bee({breakAll:o,children:i,maxLines:c,style:a},d,f,r,n)}return FE(i)},qE="#808080",Lh=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,c=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,p=e.scaleToFit,h=p===void 0?!1:p,g=e.textAnchor,y=g===void 0?"start":g,b=e.verticalAnchor,w=b===void 0?"end":b,x=e.fill,S=x===void 0?qE:x,k=zE(e,Iee),_=P.useMemo(function(){return Fee({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:h,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,h,k.style,k.width]),C=k.dx,N=k.dy,A=k.angle,E=k.className,O=k.breakAll,R=zE(k,Ree);if(!lr(n)||!lr(a))return null;var H=n+(we(C)?C:0),B=a+(we(N)?N:0),D;switch(w){case"start":D=Kx("calc(".concat(f,")"));break;case"middle":D=Kx("calc(".concat((_.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:D=Kx("calc(".concat(_.length-1," * -").concat(c,")"));break}var $=[];if(h){var V=_[0].width,J=k.width;$.push("scale(".concat((we(J)?J/V:1)/V,")"))}return A&&$.push("rotate(".concat(A,", ").concat(H,", ").concat(B,")")),$.length&&(R.transform=$.join(" ")),z.createElement("text",Yw({},Ke(R,!0),{x:H,y:B,className:tt("recharts-text",E),textAnchor:y,fill:S.includes("url")?qE:S}),_.map(function(K,U){var M=K.words.join(O?"":" ");return z.createElement("tspan",{x:H,dy:U===0?D:c,key:"".concat(M,"-").concat(U)},M)}))};function qa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mS(t){let e,r,n;t.length!==2?(e=qa,r=(c,d)=>qa(t(c),d),n=(c,d)=>t(c)-d):(e=t===qa||t===qee?t:Uee,r=t,n=t);function i(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const h=f+p>>>1;r(c[h],d)<0?f=h+1:p=h}while(f<p)}return f}function a(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const h=f+p>>>1;r(c[h],d)<=0?f=h+1:p=h}while(f<p)}return f}function o(c,d,f=0,p=c.length){const h=i(c,d,f,p-1);return h>f&&n(c[h-1],d)>-n(c[h],d)?h-1:h}return{left:i,center:o,right:a}}function Uee(){return 0}function x3(t){return t===null?NaN:+t}function*Vee(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Wee=mS(qa),md=Wee.right;mS(x3).center;class UE extends Map{constructor(e,r=Kee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(VE(this,e))}has(e){return super.has(VE(this,e))}set(e,r){return super.set(Hee(this,e),r)}delete(e){return super.delete(Gee(this,e))}}function VE({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Hee({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Gee({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Kee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xee(t=qa){if(t===qa)return b3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function b3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Yee=Math.sqrt(50),Jee=Math.sqrt(10),Qee=Math.sqrt(2);function Bh(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Yee?10:a>=Jee?5:a>=Qee?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*o,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=r&&r<2?Bh(t,e,r*2):[c,d,f]}function Jw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Bh(e,t,r):Bh(t,e,r);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(n)if(o<0)for(let f=0;f<c;++f)d[f]=(a-f)/-o;else for(let f=0;f<c;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)d[f]=(i+f)/-o;else for(let f=0;f<c;++f)d[f]=(i+f)*o;return d}function Qw(t,e,r){return e=+e,t=+t,r=+r,Bh(t,e,r)[2]}function Zw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Qw(e,t,r):Qw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function WE(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function HE(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function w3(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?b3:Xee(i);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,p=Math.log(d),h=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*h*(d-h)/d)*(f-d/2<0?-1:1),y=Math.max(r,Math.floor(e-f*h/d+g)),b=Math.min(n,Math.floor(e+(d-f)*h/d+g));w3(t,e,y,b,i)}const a=t[e];let o=r,c=n;for(Dc(t,r,e),i(t[n],a)>0&&Dc(t,r,n);o<c;){for(Dc(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}i(t[r],a)===0?Dc(t,r,c):(++c,Dc(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function Dc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Zee(t,e,r){if(t=Float64Array.from(Vee(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return HE(t);if(e>=1)return WE(t);var n,i=(n-1)*e,a=Math.floor(i),o=WE(w3(t,a).subarray(0,a+1)),c=HE(t.subarray(a+1));return o+(c-o)*(i-a)}}function ete(t,e,r=x3){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),c=+r(t[a+1],a+1,t);return o+(c-o)*(i-a)}}function tte(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function zn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function sa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const e1=Symbol("implicit");function gS(){var t=new UE,e=[],r=[],n=e1;function i(a){let o=t.get(a);if(o===void 0){if(n!==e1)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new UE;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return gS(e,r).unknown(n)},zn.apply(i,arguments),i}function Ou(){var t=gS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,c=!1,d=0,f=0,p=.5;delete t.unknown;function h(){var g=e().length,y=i<n,b=y?i:n,w=y?n:i;a=(w-b)/Math.max(1,g-d+f*2),c&&(a=Math.floor(a)),b+=(w-b-a*(g-d))*p,o=a*(1-d),c&&(b=Math.round(b),o=Math.round(o));var x=tte(g).map(function(S){return b+a*S});return r(y?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),h()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,c=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(g){return arguments.length?(c=!!g,h()):c},t.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),h()):d},t.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),h()):d},t.paddingOuter=function(g){return arguments.length?(f=+g,h()):f},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),h()):p},t.copy=function(){return Ou(e(),[n,i]).round(c).paddingInner(d).paddingOuter(f).align(p)},zn.apply(h(),arguments)}function j3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return j3(e())},t}function su(){return j3(Ou.apply(null,arguments).paddingInner(1))}function vS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function S3(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function gd(){}var Iu=.7,Fh=1/Iu,el="\\s*([+-]?\\d+)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rte=/^#([0-9a-f]{3,8})$/,nte=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),ite=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),ate=new RegExp(`^rgba\\(${el},${el},${el},${Ru}\\)$`),ste=new RegExp(`^rgba\\(${yi},${yi},${yi},${Ru}\\)$`),ote=new RegExp(`^hsl\\(${Ru},${yi},${yi}\\)$`),lte=new RegExp(`^hsla\\(${Ru},${yi},${yi},${Ru}\\)$`),GE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vS(gd,$u,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:KE,formatHex:KE,formatHex8:cte,formatHsl:ute,formatRgb:XE,toString:XE});function KE(){return this.rgb().formatHex()}function cte(){return this.rgb().formatHex8()}function ute(){return _3(this).formatHsl()}function XE(){return this.rgb().formatRgb()}function $u(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=rte.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?YE(e):r===3?new tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Xf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Xf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nte.exec(t))?new tn(e[1],e[2],e[3],1):(e=ite.exec(t))?new tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ate.exec(t))?Xf(e[1],e[2],e[3],e[4]):(e=ste.exec(t))?Xf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ote.exec(t))?ZE(e[1],e[2]/100,e[3]/100,1):(e=lte.exec(t))?ZE(e[1],e[2]/100,e[3]/100,e[4]):GE.hasOwnProperty(t)?YE(GE[t]):t==="transparent"?new tn(NaN,NaN,NaN,0):null}function YE(t){return new tn(t>>16&255,t>>8&255,t&255,1)}function Xf(t,e,r,n){return n<=0&&(t=e=r=NaN),new tn(t,e,r,n)}function dte(t){return t instanceof gd||(t=$u(t)),t?(t=t.rgb(),new tn(t.r,t.g,t.b,t.opacity)):new tn}function t1(t,e,r,n){return arguments.length===1?dte(t):new tn(t,e,r,n??1)}function tn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}vS(tn,t1,S3(gd,{brighter(t){return t=t==null?Fh:Math.pow(Fh,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Iu:Math.pow(Iu,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tn(Ds(this.r),Ds(this.g),Ds(this.b),qh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JE,formatHex:JE,formatHex8:fte,formatRgb:QE,toString:QE}));function JE(){return`#${Es(this.r)}${Es(this.g)}${Es(this.b)}`}function fte(){return`#${Es(this.r)}${Es(this.g)}${Es(this.b)}${Es((isNaN(this.opacity)?1:this.opacity)*255)}`}function QE(){const t=qh(this.opacity);return`${t===1?"rgb(":"rgba("}${Ds(this.r)}, ${Ds(this.g)}, ${Ds(this.b)}${t===1?")":`, ${t})`}`}function qh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ds(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Es(t){return t=Ds(t),(t<16?"0":"")+t.toString(16)}function ZE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ti(t,e,r,n)}function _3(t){if(t instanceof ti)return new ti(t.h,t.s,t.l,t.opacity);if(t instanceof gd||(t=$u(t)),!t)return new ti;if(t instanceof ti)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,c=a-i,d=(a+i)/2;return c?(e===a?o=(r-n)/c+(r<n)*6:r===a?o=(n-e)/c+2:o=(e-r)/c+4,c/=d<.5?a+i:2-a-i,o*=60):c=d>0&&d<1?0:o,new ti(o,c,d,t.opacity)}function hte(t,e,r,n){return arguments.length===1?_3(t):new ti(t,e,r,n??1)}function ti(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}vS(ti,hte,S3(gd,{brighter(t){return t=t==null?Fh:Math.pow(Fh,t),new ti(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Iu:Math.pow(Iu,t),new ti(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new tn(Xx(t>=240?t-240:t+120,i,n),Xx(t,i,n),Xx(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ti(eO(this.h),Yf(this.s),Yf(this.l),qh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qh(this.opacity);return`${t===1?"hsl(":"hsla("}${eO(this.h)}, ${Yf(this.s)*100}%, ${Yf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function eO(t){return t=(t||0)%360,t<0?t+360:t}function Yf(t){return Math.max(0,Math.min(1,t||0))}function Xx(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const yS=t=>()=>t;function pte(t,e){return function(r){return t+r*e}}function mte(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function gte(t){return(t=+t)==1?N3:function(e,r){return r-e?mte(e,r,t):yS(isNaN(e)?r:e)}}function N3(t,e){var r=e-t;return r?pte(t,r):yS(isNaN(t)?e:t)}const tO=(function t(e){var r=gte(e);function n(i,a){var o=r((i=t1(i)).r,(a=t1(a)).r),c=r(i.g,a.g),d=r(i.b,a.b),f=N3(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=c(p),i.b=d(p),i.opacity=f(p),i+""}}return n.gamma=t,n})(1);function vte(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function yte(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xte(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=ql(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(c){for(o=0;o<n;++o)a[o]=i[o](c);return a}}function bte(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Uh(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function wte(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ql(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var r1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yx=new RegExp(r1.source,"g");function jte(t){return function(){return t}}function Ste(t){return function(e){return t(e)+""}}function _te(t,e){var r=r1.lastIndex=Yx.lastIndex=0,n,i,a,o=-1,c=[],d=[];for(t=t+"",e=e+"";(n=r1.exec(t))&&(i=Yx.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),c[o]?c[o]+=a:c[++o]=a),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:Uh(n,i)})),r=Yx.lastIndex;return r<e.length&&(a=e.slice(r),c[o]?c[o]+=a:c[++o]=a),c.length<2?d[0]?Ste(d[0].x):jte(e):(e=d.length,function(f){for(var p=0,h;p<e;++p)c[(h=d[p]).i]=h.x(f);return c.join("")})}function ql(t,e){var r=typeof e,n;return e==null||r==="boolean"?yS(e):(r==="number"?Uh:r==="string"?(n=$u(e))?(e=n,tO):_te:e instanceof $u?tO:e instanceof Date?bte:yte(e)?vte:Array.isArray(e)?xte:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wte:Uh)(t,e)}function xS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Nte(t,e){e===void 0&&(e=t,t=ql);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[c](o-c)}}function kte(t){return function(){return t}}function Vh(t){return+t}var rO=[0,1];function Vr(t){return t}function n1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:kte(isNaN(e)?NaN:.5)}function Ate(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Tte(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=n1(i,n),a=r(o,a)):(n=n1(n,i),a=r(a,o)),function(c){return a(n(c))}}function Pte(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=n1(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(c){var d=md(t,c,1,n)-1;return a[d](i[d](c))}}function vd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nm(){var t=rO,e=rO,r=ql,n,i,a,o=Vr,c,d,f;function p(){var g=Math.min(t.length,e.length);return o!==Vr&&(o=Ate(t[0],t[g-1])),c=g>2?Pte:Tte,d=f=null,h}function h(g){return g==null||isNaN(g=+g)?a:(d||(d=c(t.map(n),e,r)))(n(o(g)))}return h.invert=function(g){return o(i((f||(f=c(e,t.map(n),Uh)))(g)))},h.domain=function(g){return arguments.length?(t=Array.from(g,Vh),p()):t.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),r=xS,p()},h.clamp=function(g){return arguments.length?(o=g?!0:Vr,p()):o!==Vr},h.interpolate=function(g){return arguments.length?(r=g,p()):r},h.unknown=function(g){return arguments.length?(a=g,h):a},function(g,y){return n=g,i=y,p()}}function bS(){return nm()(Vr,Vr)}function Cte(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wh(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function fl(t){return t=Wh(Math.abs(t)),t?t[1]:NaN}function Ete(t,e){return function(r,n){for(var i=r.length,a=[],o=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),a.push(r.substring(i-=c,i+c)),!((d+=c+1)>n));)c=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Ote(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Ite=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mu(t){if(!(e=Ite.exec(t)))throw new Error("invalid format: "+t);var e;return new wS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mu.prototype=wS.prototype;function wS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rte(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var k3;function $te(t,e){var r=Wh(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(k3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Wh(t,Math.max(0,e+a-1))[0]}function nO(t,e){var r=Wh(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const iO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Cte,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nO(t*100,e),r:nO,s:$te,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aO(t){return t}var sO=Array.prototype.map,oO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mte(t){var e=t.grouping===void 0||t.thousands===void 0?aO:Ete(sO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?aO:Ote(sO.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(h){h=Mu(h);var g=h.fill,y=h.align,b=h.sign,w=h.symbol,x=h.zero,S=h.width,k=h.comma,_=h.precision,C=h.trim,N=h.type;N==="n"?(k=!0,N="g"):iO[N]||(_===void 0&&(_=12),C=!0,N="g"),(x||g==="0"&&y==="=")&&(x=!0,g="0",y="=");var A=w==="$"?r:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",E=w==="$"?n:/[%p]/.test(N)?o:"",O=iO[N],R=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function H(B){var D=A,$=E,V,J,K;if(N==="c")$=O(B)+$,B="";else{B=+B;var U=B<0||1/B<0;if(B=isNaN(B)?d:O(Math.abs(B),_),C&&(B=Rte(B)),U&&+B==0&&b!=="+"&&(U=!1),D=(U?b==="("?b:c:b==="-"||b==="("?"":b)+D,$=(N==="s"?oO[8+k3/3]:"")+$+(U&&b==="("?")":""),R){for(V=-1,J=B.length;++V<J;)if(K=B.charCodeAt(V),48>K||K>57){$=(K===46?i+B.slice(V+1):B.slice(V))+$,B=B.slice(0,V);break}}}k&&!x&&(B=e(B,1/0));var M=D.length+B.length+$.length,Q=M<S?new Array(S-M+1).join(g):"";switch(k&&x&&(B=e(Q+B,Q.length?S-$.length:1/0),Q=""),y){case"<":B=D+B+$+Q;break;case"=":B=D+Q+B+$;break;case"^":B=Q.slice(0,M=Q.length>>1)+D+B+$+Q.slice(M);break;default:B=Q+D+B+$;break}return a(B)}return H.toString=function(){return h+""},H}function p(h,g){var y=f((h=Mu(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(fl(g)/3)))*3,w=Math.pow(10,-b),x=oO[8+b/3];return function(S){return y(w*S)+x}}return{format:f,formatPrefix:p}}var Jf,jS,A3;Dte({thousands:",",grouping:[3],currency:["$",""]});function Dte(t){return Jf=Mte(t),jS=Jf.format,A3=Jf.formatPrefix,Jf}function zte(t){return Math.max(0,-fl(Math.abs(t)))}function Lte(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fl(e)/3)))*3-fl(Math.abs(t)))}function Bte(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fl(e)-fl(t))+1}function T3(t,e,r,n){var i=Zw(t,e,r),a;switch(n=Mu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Lte(i,o))&&(n.precision=a),A3(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Bte(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=zte(i))&&(n.precision=a-(n.type==="%")*2);break}}return jS(n)}function Ja(t){var e=t.domain;return t.ticks=function(r){var n=e();return Jw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return T3(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],c=n[a],d,f,p=10;for(c<o&&(f=o,o=c,c=f,f=i,i=a,a=f);p-- >0;){if(f=Qw(o,c,r),f===d)return n[i]=o,n[a]=c,e(n);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function Hh(){var t=bS();return t.copy=function(){return vd(t,Hh())},zn.apply(t,arguments),Ja(t)}function P3(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Vh),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return P3(t).unknown(e)},t=arguments.length?Array.from(t,Vh):[0,1],Ja(r)}function C3(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function lO(t){return Math.log(t)}function cO(t){return Math.exp(t)}function Fte(t){return-Math.log(-t)}function qte(t){return-Math.exp(-t)}function Ute(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Vte(t){return t===10?Ute:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Wte(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function uO(t){return(e,r)=>-t(-e,r)}function SS(t){const e=t(lO,cO),r=e.domain;let n=10,i,a;function o(){return i=Wte(n),a=Vte(n),r()[0]<0?(i=uO(i),a=uO(a),t(Fte,qte)):t(lO,cO),e}return e.base=function(c){return arguments.length?(n=+c,o()):n},e.domain=function(c){return arguments.length?(r(c),o()):r()},e.ticks=c=>{const d=r();let f=d[0],p=d[d.length-1];const h=p<f;h&&([f,p]=[p,f]);let g=i(f),y=i(p),b,w;const x=c==null?10:+c;let S=[];if(!(n%1)&&y-g<x){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(b=1;b<n;++b)if(w=g<0?b/a(-g):b*a(g),!(w<f)){if(w>p)break;S.push(w)}}else for(;g<=y;++g)for(b=n-1;b>=1;--b)if(w=g>0?b/a(-g):b*a(g),!(w<f)){if(w>p)break;S.push(w)}S.length*2<x&&(S=Jw(f,p,x))}else S=Jw(g,y,Math.min(y-g,x)).map(a);return h?S.reverse():S},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Mu(d)).precision==null&&(d.trim=!0),d=jS(d)),c===1/0)return d;const f=Math.max(1,n*c/e.ticks().length);return p=>{let h=p/a(Math.round(i(p)));return h*n<n-.5&&(h*=n),h<=f?d(p):""}},e.nice=()=>r(C3(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function E3(){const t=SS(nm()).domain([1,10]);return t.copy=()=>vd(t,E3()).base(t.base()),zn.apply(t,arguments),t}function dO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _S(t){var e=1,r=t(dO(e),fO(e));return r.constant=function(n){return arguments.length?t(dO(e=+n),fO(e)):e},Ja(r)}function O3(){var t=_S(nm());return t.copy=function(){return vd(t,O3()).constant(t.constant())},zn.apply(t,arguments)}function hO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Hte(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Gte(t){return t<0?-t*t:t*t}function NS(t){var e=t(Vr,Vr),r=1;function n(){return r===1?t(Vr,Vr):r===.5?t(Hte,Gte):t(hO(r),hO(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ja(e)}function kS(){var t=NS(nm());return t.copy=function(){return vd(t,kS()).exponent(t.exponent())},zn.apply(t,arguments),t}function Kte(){return kS.apply(null,arguments).exponent(.5)}function pO(t){return Math.sign(t)*t*t}function Xte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function I3(){var t=bS(),e=[0,1],r=!1,n;function i(a){var o=Xte(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(pO(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Vh)).map(pO)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return I3(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},zn.apply(i,arguments),Ja(i)}function R3(){var t=[],e=[],r=[],n;function i(){var o=0,c=Math.max(1,e.length);for(r=new Array(c-1);++o<c;)r[o-1]=ete(t,o/c);return a}function a(o){return o==null||isNaN(o=+o)?n:e[md(r,o)]}return a.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(qa),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return R3().domain(t).range(e).unknown(n)},zn.apply(a,arguments)}function $3(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[md(n,d,0,r)]:a}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,c()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return $3().domain([t,e]).range(i).unknown(a)},zn.apply(Ja(o),arguments)}function M3(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[md(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return M3().domain(t).range(e).unknown(r)},zn.apply(i,arguments)}const Jx=new Date,Qx=new Date;function cr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return d;let f;do d.push(f=new Date(+a)),e(a,c),t(a);while(f<a&&a<o);return d},i.filter=a=>cr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!a(o););else for(;--c>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Jx.setTime(+a),Qx.setTime(+o),t(Jx),t(Qx),Math.floor(r(Jx,Qx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Gh=cr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Gh);Gh.range;const Li=1e3,In=Li*60,Bi=In*60,Zi=Bi*24,AS=Zi*7,mO=Zi*30,Zx=Zi*365,Os=cr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCSeconds());Os.range;const TS=cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Li)},(t,e)=>{t.setTime(+t+e*In)},(t,e)=>(e-t)/In,t=>t.getMinutes());TS.range;const PS=cr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*In)},(t,e)=>(e-t)/In,t=>t.getUTCMinutes());PS.range;const CS=cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Li-t.getMinutes()*In)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getHours());CS.range;const ES=cr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getUTCHours());ES.range;const yd=cr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*In)/Zi,t=>t.getDate()-1);yd.range;const im=cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zi,t=>t.getUTCDate()-1);im.range;const D3=cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zi,t=>Math.floor(t/Zi));D3.range;function Ks(t){return cr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*In)/AS)}const am=Ks(0),Kh=Ks(1),Yte=Ks(2),Jte=Ks(3),hl=Ks(4),Qte=Ks(5),Zte=Ks(6);am.range;Kh.range;Yte.range;Jte.range;hl.range;Qte.range;Zte.range;function Xs(t){return cr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/AS)}const sm=Xs(0),Xh=Xs(1),ere=Xs(2),tre=Xs(3),pl=Xs(4),rre=Xs(5),nre=Xs(6);sm.range;Xh.range;ere.range;tre.range;pl.range;rre.range;nre.range;const OS=cr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());OS.range;const IS=cr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());IS.range;const ea=cr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ea.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ea.range;const ta=cr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ta.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ta.range;function z3(t,e,r,n,i,a){const o=[[Os,1,Li],[Os,5,5*Li],[Os,15,15*Li],[Os,30,30*Li],[a,1,In],[a,5,5*In],[a,15,15*In],[a,30,30*In],[i,1,Bi],[i,3,3*Bi],[i,6,6*Bi],[i,12,12*Bi],[n,1,Zi],[n,2,2*Zi],[r,1,AS],[e,1,mO],[e,3,3*mO],[t,1,Zx]];function c(f,p,h){const g=p<f;g&&([f,p]=[p,f]);const y=h&&typeof h.range=="function"?h:d(f,p,h),b=y?y.range(f,+p+1):[];return g?b.reverse():b}function d(f,p,h){const g=Math.abs(p-f)/h,y=mS(([,,x])=>x).right(o,g);if(y===o.length)return t.every(Zw(f/Zx,p/Zx,h));if(y===0)return Gh.every(Math.max(Zw(f,p,h),1));const[b,w]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return b.every(w)}return[c,d]}const[ire,are]=z3(ta,IS,sm,D3,ES,PS),[sre,ore]=z3(ea,OS,am,yd,CS,TS);function eb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function lre(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,d=t.shortMonths,f=Lc(i),p=Bc(i),h=Lc(a),g=Bc(a),y=Lc(o),b=Bc(o),w=Lc(c),x=Bc(c),S=Lc(d),k=Bc(d),_={a:U,A:M,b:Q,B:ee,c:null,d:wO,e:wO,f:Ere,g:Fre,G:Ure,H:Tre,I:Pre,j:Cre,L:L3,m:Ore,M:Ire,p:L,q,Q:_O,s:NO,S:Rre,u:$re,U:Mre,V:Dre,w:zre,W:Lre,x:null,X:null,y:Bre,Y:qre,Z:Vre,"%":SO},C={a:X,A:se,b:pe,B:re,c:null,d:jO,e:jO,f:Kre,g:ine,G:sne,H:Wre,I:Hre,j:Gre,L:F3,m:Xre,M:Yre,p:he,q:le,Q:_O,s:NO,S:Jre,u:Qre,U:Zre,V:ene,w:tne,W:rne,x:null,X:null,y:nne,Y:ane,Z:one,"%":SO},N={a:H,A:B,b:D,B:$,c:V,d:xO,e:xO,f:_re,g:yO,G:vO,H:bO,I:bO,j:bre,L:Sre,m:xre,M:wre,p:R,q:yre,Q:kre,s:Are,S:jre,u:hre,U:pre,V:mre,w:fre,W:gre,x:J,X:K,y:yO,Y:vO,Z:vre,"%":Nre};_.x=A(r,_),_.X=A(n,_),_.c=A(e,_),C.x=A(r,C),C.X=A(n,C),C.c=A(e,C);function A(ie,fe){return function(_e){var ue=[],Z=-1,me=0,Se=ie.length,$e,Me,rt;for(_e instanceof Date||(_e=new Date(+_e));++Z<Se;)ie.charCodeAt(Z)===37&&(ue.push(ie.slice(me,Z)),(Me=gO[$e=ie.charAt(++Z)])!=null?$e=ie.charAt(++Z):Me=$e==="e"?" ":"0",(rt=fe[$e])&&($e=rt(_e,Me)),ue.push($e),me=Z+1);return ue.push(ie.slice(me,Z)),ue.join("")}}function E(ie,fe){return function(_e){var ue=zc(1900,void 0,1),Z=O(ue,ie,_e+="",0),me,Se;if(Z!=_e.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(fe&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(me=tb(zc(ue.y,0,1)),Se=me.getUTCDay(),me=Se>4||Se===0?Xh.ceil(me):Xh(me),me=im.offset(me,(ue.V-1)*7),ue.y=me.getUTCFullYear(),ue.m=me.getUTCMonth(),ue.d=me.getUTCDate()+(ue.w+6)%7):(me=eb(zc(ue.y,0,1)),Se=me.getDay(),me=Se>4||Se===0?Kh.ceil(me):Kh(me),me=yd.offset(me,(ue.V-1)*7),ue.y=me.getFullYear(),ue.m=me.getMonth(),ue.d=me.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Se="Z"in ue?tb(zc(ue.y,0,1)).getUTCDay():eb(zc(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Se+5)%7:ue.w+ue.U*7-(Se+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,tb(ue)):eb(ue)}}function O(ie,fe,_e,ue){for(var Z=0,me=fe.length,Se=_e.length,$e,Me;Z<me;){if(ue>=Se)return-1;if($e=fe.charCodeAt(Z++),$e===37){if($e=fe.charAt(Z++),Me=N[$e in gO?fe.charAt(Z++):$e],!Me||(ue=Me(ie,_e,ue))<0)return-1}else if($e!=_e.charCodeAt(ue++))return-1}return ue}function R(ie,fe,_e){var ue=f.exec(fe.slice(_e));return ue?(ie.p=p.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function H(ie,fe,_e){var ue=y.exec(fe.slice(_e));return ue?(ie.w=b.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function B(ie,fe,_e){var ue=h.exec(fe.slice(_e));return ue?(ie.w=g.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function D(ie,fe,_e){var ue=S.exec(fe.slice(_e));return ue?(ie.m=k.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function $(ie,fe,_e){var ue=w.exec(fe.slice(_e));return ue?(ie.m=x.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function V(ie,fe,_e){return O(ie,e,fe,_e)}function J(ie,fe,_e){return O(ie,r,fe,_e)}function K(ie,fe,_e){return O(ie,n,fe,_e)}function U(ie){return o[ie.getDay()]}function M(ie){return a[ie.getDay()]}function Q(ie){return d[ie.getMonth()]}function ee(ie){return c[ie.getMonth()]}function L(ie){return i[+(ie.getHours()>=12)]}function q(ie){return 1+~~(ie.getMonth()/3)}function X(ie){return o[ie.getUTCDay()]}function se(ie){return a[ie.getUTCDay()]}function pe(ie){return d[ie.getUTCMonth()]}function re(ie){return c[ie.getUTCMonth()]}function he(ie){return i[+(ie.getUTCHours()>=12)]}function le(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var fe=A(ie+="",_);return fe.toString=function(){return ie},fe},parse:function(ie){var fe=E(ie+="",!1);return fe.toString=function(){return ie},fe},utcFormat:function(ie){var fe=A(ie+="",C);return fe.toString=function(){return ie},fe},utcParse:function(ie){var fe=E(ie+="",!0);return fe.toString=function(){return ie},fe}}}var gO={"-":"",_:" ",0:"0"},vr=/^\s*\d+/,cre=/^%/,ure=/[\\^$*+?|[\]().{}]/g;function at(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function dre(t){return t.replace(ure,"\\$&")}function Lc(t){return new RegExp("^(?:"+t.map(dre).join("|")+")","i")}function Bc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function fre(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function hre(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function pre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function mre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function gre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function vO(t,e,r){var n=vr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function yO(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function vre(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function yre(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function xre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function xO(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function bre(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function bO(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function wre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function jre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Sre(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function _re(t,e,r){var n=vr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Nre(t,e,r){var n=cre.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function kre(t,e,r){var n=vr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Are(t,e,r){var n=vr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function wO(t,e){return at(t.getDate(),e,2)}function Tre(t,e){return at(t.getHours(),e,2)}function Pre(t,e){return at(t.getHours()%12||12,e,2)}function Cre(t,e){return at(1+yd.count(ea(t),t),e,3)}function L3(t,e){return at(t.getMilliseconds(),e,3)}function Ere(t,e){return L3(t,e)+"000"}function Ore(t,e){return at(t.getMonth()+1,e,2)}function Ire(t,e){return at(t.getMinutes(),e,2)}function Rre(t,e){return at(t.getSeconds(),e,2)}function $re(t){var e=t.getDay();return e===0?7:e}function Mre(t,e){return at(am.count(ea(t)-1,t),e,2)}function B3(t){var e=t.getDay();return e>=4||e===0?hl(t):hl.ceil(t)}function Dre(t,e){return t=B3(t),at(hl.count(ea(t),t)+(ea(t).getDay()===4),e,2)}function zre(t){return t.getDay()}function Lre(t,e){return at(Kh.count(ea(t)-1,t),e,2)}function Bre(t,e){return at(t.getFullYear()%100,e,2)}function Fre(t,e){return t=B3(t),at(t.getFullYear()%100,e,2)}function qre(t,e){return at(t.getFullYear()%1e4,e,4)}function Ure(t,e){var r=t.getDay();return t=r>=4||r===0?hl(t):hl.ceil(t),at(t.getFullYear()%1e4,e,4)}function Vre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+at(e/60|0,"0",2)+at(e%60,"0",2)}function jO(t,e){return at(t.getUTCDate(),e,2)}function Wre(t,e){return at(t.getUTCHours(),e,2)}function Hre(t,e){return at(t.getUTCHours()%12||12,e,2)}function Gre(t,e){return at(1+im.count(ta(t),t),e,3)}function F3(t,e){return at(t.getUTCMilliseconds(),e,3)}function Kre(t,e){return F3(t,e)+"000"}function Xre(t,e){return at(t.getUTCMonth()+1,e,2)}function Yre(t,e){return at(t.getUTCMinutes(),e,2)}function Jre(t,e){return at(t.getUTCSeconds(),e,2)}function Qre(t){var e=t.getUTCDay();return e===0?7:e}function Zre(t,e){return at(sm.count(ta(t)-1,t),e,2)}function q3(t){var e=t.getUTCDay();return e>=4||e===0?pl(t):pl.ceil(t)}function ene(t,e){return t=q3(t),at(pl.count(ta(t),t)+(ta(t).getUTCDay()===4),e,2)}function tne(t){return t.getUTCDay()}function rne(t,e){return at(Xh.count(ta(t)-1,t),e,2)}function nne(t,e){return at(t.getUTCFullYear()%100,e,2)}function ine(t,e){return t=q3(t),at(t.getUTCFullYear()%100,e,2)}function ane(t,e){return at(t.getUTCFullYear()%1e4,e,4)}function sne(t,e){var r=t.getUTCDay();return t=r>=4||r===0?pl(t):pl.ceil(t),at(t.getUTCFullYear()%1e4,e,4)}function one(){return"+0000"}function SO(){return"%"}function _O(t){return+t}function NO(t){return Math.floor(+t/1e3)}var Eo,U3,V3;lne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lne(t){return Eo=lre(t),U3=Eo.format,Eo.parse,V3=Eo.utcFormat,Eo.utcParse,Eo}function cne(t){return new Date(t)}function une(t){return t instanceof Date?+t:+new Date(+t)}function RS(t,e,r,n,i,a,o,c,d,f){var p=bS(),h=p.invert,g=p.domain,y=f(".%L"),b=f(":%S"),w=f("%I:%M"),x=f("%I %p"),S=f("%a %d"),k=f("%b %d"),_=f("%B"),C=f("%Y");function N(A){return(d(A)<A?y:c(A)<A?b:o(A)<A?w:a(A)<A?x:n(A)<A?i(A)<A?S:k:r(A)<A?_:C)(A)}return p.invert=function(A){return new Date(h(A))},p.domain=function(A){return arguments.length?g(Array.from(A,une)):g().map(cne)},p.ticks=function(A){var E=g();return t(E[0],E[E.length-1],A??10)},p.tickFormat=function(A,E){return E==null?N:f(E)},p.nice=function(A){var E=g();return(!A||typeof A.range!="function")&&(A=e(E[0],E[E.length-1],A??10)),A?g(C3(E,A)):p},p.copy=function(){return vd(p,RS(t,e,r,n,i,a,o,c,d,f))},p}function dne(){return zn.apply(RS(sre,ore,ea,OS,am,yd,CS,TS,Os,U3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fne(){return zn.apply(RS(ire,are,ta,IS,sm,im,ES,PS,Os,V3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function om(){var t=0,e=1,r,n,i,a,o=Vr,c=!1,d;function f(h){return h==null||isNaN(h=+h)?d:o(i===0?.5:(h=(a(h)-r)*i,c?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(h){return arguments.length?(c=!!h,f):c},f.interpolator=function(h){return arguments.length?(o=h,f):o};function p(h){return function(g){var y,b;return arguments.length?([y,b]=g,o=h(y,b),f):[o(0),o(1)]}}return f.range=p(ql),f.rangeRound=p(xS),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),f}}function Qa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function W3(){var t=Ja(om()(Vr));return t.copy=function(){return Qa(t,W3())},sa.apply(t,arguments)}function H3(){var t=SS(om()).domain([1,10]);return t.copy=function(){return Qa(t,H3()).base(t.base())},sa.apply(t,arguments)}function G3(){var t=_S(om());return t.copy=function(){return Qa(t,G3()).constant(t.constant())},sa.apply(t,arguments)}function $S(){var t=NS(om());return t.copy=function(){return Qa(t,$S()).exponent(t.exponent())},sa.apply(t,arguments)}function hne(){return $S.apply(null,arguments).exponent(.5)}function K3(){var t=[],e=Vr;function r(n){if(n!=null&&!isNaN(n=+n))return e((md(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(qa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Zee(t,a/n))},r.copy=function(){return K3(e).domain(t)},sa.apply(r,arguments)}function lm(){var t=0,e=.5,r=1,n=1,i,a,o,c,d,f=Vr,p,h=!1,g;function y(w){return isNaN(w=+w)?g:(w=.5+((w=+p(w))-a)*(n*w<n*a?c:d),f(h?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,r]=w,i=p(t=+t),a=p(e=+e),o=p(r=+r),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,y):[t,e,r]},y.clamp=function(w){return arguments.length?(h=!!w,y):h},y.interpolator=function(w){return arguments.length?(f=w,y):f};function b(w){return function(x){var S,k,_;return arguments.length?([S,k,_]=x,f=Nte(w,[S,k,_]),y):[f(0),f(.5),f(1)]}}return y.range=b(ql),y.rangeRound=b(xS),y.unknown=function(w){return arguments.length?(g=w,y):g},function(w){return p=w,i=w(t),a=w(e),o=w(r),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,y}}function X3(){var t=Ja(lm()(Vr));return t.copy=function(){return Qa(t,X3())},sa.apply(t,arguments)}function Y3(){var t=SS(lm()).domain([.1,1,10]);return t.copy=function(){return Qa(t,Y3()).base(t.base())},sa.apply(t,arguments)}function J3(){var t=_S(lm());return t.copy=function(){return Qa(t,J3()).constant(t.constant())},sa.apply(t,arguments)}function MS(){var t=NS(lm());return t.copy=function(){return Qa(t,MS()).exponent(t.exponent())},sa.apply(t,arguments)}function pne(){return MS.apply(null,arguments).exponent(.5)}const kO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ou,scaleDiverging:X3,scaleDivergingLog:Y3,scaleDivergingPow:MS,scaleDivergingSqrt:pne,scaleDivergingSymlog:J3,scaleIdentity:P3,scaleImplicit:e1,scaleLinear:Hh,scaleLog:E3,scaleOrdinal:gS,scalePoint:su,scalePow:kS,scaleQuantile:R3,scaleQuantize:$3,scaleRadial:I3,scaleSequential:W3,scaleSequentialLog:H3,scaleSequentialPow:$S,scaleSequentialQuantile:K3,scaleSequentialSqrt:hne,scaleSequentialSymlog:G3,scaleSqrt:Kte,scaleSymlog:O3,scaleThreshold:M3,scaleTime:dne,scaleUtc:fne,tickFormat:T3},Symbol.toStringTag,{value:"Module"}));var rb,AO;function Q3(){if(AO)return rb;AO=1;var t=Dl();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var c=r[a],d=n(c);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,p=c}return p}return rb=e,rb}var nb,TO;function mne(){if(TO)return nb;TO=1;function t(e,r){return e>r}return nb=t,nb}var ib,PO;function gne(){if(PO)return ib;PO=1;var t=Q3(),e=mne(),r=Fl();function n(i){return i&&i.length?t(i,r,e):void 0}return ib=n,ib}var vne=gne();const Ba=pt(vne);var ab,CO;function yne(){if(CO)return ab;CO=1;function t(e,r){return e<r}return ab=t,ab}var sb,EO;function xne(){if(EO)return sb;EO=1;var t=Q3(),e=yne(),r=Fl();function n(i){return i&&i.length?t(i,r,e):void 0}return sb=n,sb}var bne=xne();const cm=pt(bne);var ob,OO;function wne(){if(OO)return ob;OO=1;var t=Qj(),e=Ya(),r=a3(),n=nn();function i(a,o){var c=n(a)?t:r;return c(a,e(o,3))}return ob=i,ob}var lb,IO;function jne(){if(IO)return lb;IO=1;var t=n3(),e=wne();function r(n,i){return t(e(n,i),1)}return lb=r,lb}var Sne=jne();const _ne=pt(Sne);var cb,RO;function Nne(){if(RO)return cb;RO=1;var t=dS();function e(r,n){return t(r,n)}return cb=e,cb}var kne=Nne();const ml=pt(kne);var Ul=1e9,Ane={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zS,Pt=!0,Dn="[DecimalError] ",zs=Dn+"Invalid argument: ",DS=Dn+"Exponent out of range: ",Vl=Math.floor,_s=Math.pow,Tne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gn,pr=1e7,Nt=7,Z3=9007199254740991,Yh=Vl(Z3/Nt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Nt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return Hi(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return gt(Hi(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Zt(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(gn))throw Error(Dn+"NaN");if(r.s<1)throw Error(Dn+(r.s?"NaN":"-Infinity"));return r.eq(gn)?new n(0):(Pt=!1,e=Hi(Du(r,a),Du(t,a),a),Pt=!0,gt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rD(e,t):eD(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Dn+"NaN");return r.s?(Pt=!1,e=Hi(r,t,0,1).times(t),Pt=!0,r.minus(e)):gt(new n(r),i)};Te.naturalExponential=Te.exp=function(){return tD(this)};Te.naturalLogarithm=Te.ln=function(){return Du(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eD(e,t):rD(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zs+t);if(e=Zt(i)+1,n=i.d.length-1,r=n*Nt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,i,a,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Dn+"NaN")}for(t=Zt(c),Pt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=pi(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Vl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(a=n,n=a.plus(Hi(c,a,o+2)).times(.5),pi(a.d).slice(0,o)===(e=pi(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(gt(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if(e!="9999")break;o+=4}return Pt=!0,gt(n,r)};Te.times=Te.mul=function(t){var e,r,n,i,a,o,c,d,f,p=this,h=p.constructor,g=p.d,y=(t=new h(t)).d;if(!p.s||!t.s)return new h(0);for(t.s*=p.s,r=p.e+t.e,d=g.length,f=y.length,d<f&&(a=g,g=y,y=a,o=d,d=f,f=o),a=[],o=d+f,n=o;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=d+n;i>n;)c=a[i]+y[n]*g[i-n-1]+e,a[i--]=c%pr|0,e=c/pr|0;a[i]=(a[i]+e)%pr|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Pt?gt(t,h.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ji(t,0,Ul),e===void 0?e=n.rounding:ji(e,0,8),gt(r,t+Zt(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=qs(n,!0):(ji(t,0,Ul),e===void 0?e=i.rounding:ji(e,0,8),n=gt(new i(n),t+1,e),r=qs(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?qs(i):(ji(t,0,Ul),e===void 0?e=a.rounding:ji(e,0,8),n=gt(new a(i),t+Zt(i)+1,e),r=qs(n.abs(),!1,t+Zt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return gt(new e(t),Zt(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,i,a,o,c=this,d=c.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(gn);if(c=new d(c),!c.s){if(t.s<1)throw Error(Dn+"Infinity");return c}if(c.eq(gn))return c;if(n=d.precision,t.eq(gn))return gt(c,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=c.s,o){if((r=p<0?-p:p)<=Z3){for(i=new d(gn),e=Math.ceil(n/Nt+4),Pt=!1;r%2&&(i=i.times(c),MO(i.d,e)),r=Vl(r/2),r!==0;)c=c.times(c),MO(c.d,e);return Pt=!0,t.s<0?new d(gn).div(i):gt(i,n)}}else if(a<0)throw Error(Dn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Pt=!1,i=t.times(Du(c,n+f)),Pt=!0,i=tD(i),i.s=a,i};Te.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Zt(i),n=qs(i,r<=a.toExpNeg||r>=a.toExpPos)):(ji(t,1,Ul),e===void 0?e=a.rounding:ji(e,0,8),i=gt(new a(i),t,e),r=Zt(i),n=qs(i,t<=r||r<=a.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ji(t,1,Ul),e===void 0?e=n.rounding:ji(e,0,8)),gt(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Zt(t),r=t.constructor;return qs(t,e<=r.toExpNeg||e>=r.toExpPos)};function eD(t,e){var r,n,i,a,o,c,d,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Pt?gt(e,h):e;if(d=t.d,f=e.d,o=t.e,i=e.e,d=d.slice(),a=o-i,a){for(a<0?(n=d,a=-a,c=f.length):(n=f,i=o,c=d.length),o=Math.ceil(h/Nt),c=o>c?o+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,n=f,f=d,d=n),r=0;a;)r=(d[--a]=d[a]+f[a]+r)/pr|0,d[a]%=pr;for(r&&(d.unshift(r),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Pt?gt(e,h):e}function ji(t,e,r){if(t!==~~t||t<e||t>r)throw Error(zs+t)}function pi(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Nt-n.length,r&&(a+=Ra(r)),a+=n;o=t[e],n=o+"",r=Nt-n.length,r&&(a+=Ra(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Hi=(function(){function t(n,i){var a,o=0,c=n.length;for(n=n.slice();c--;)a=n[c]*i+o,n[c]=a%pr|0,o=a/pr|0;return o&&n.unshift(o),n}function e(n,i,a,o){var c,d;if(a!=o)d=a>o?1:-1;else for(c=d=0;c<a;c++)if(n[c]!=i[c]){d=n[c]>i[c]?1:-1;break}return d}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*pr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var c,d,f,p,h,g,y,b,w,x,S,k,_,C,N,A,E,O,R=n.constructor,H=n.s==i.s?1:-1,B=n.d,D=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(Dn+"Division by zero");for(d=n.e-i.e,E=D.length,N=B.length,y=new R(H),b=y.d=[],f=0;D[f]==(B[f]||0);)++f;if(D[f]>(B[f]||0)&&--d,a==null?k=a=R.precision:o?k=a+(Zt(n)-Zt(i))+1:k=a,k<0)return new R(0);if(k=k/Nt+2|0,f=0,E==1)for(p=0,D=D[0],k++;(f<N||p)&&k--;f++)_=p*pr+(B[f]||0),b[f]=_/D|0,p=_%D|0;else{for(p=pr/(D[0]+1)|0,p>1&&(D=t(D,p),B=t(B,p),E=D.length,N=B.length),C=E,w=B.slice(0,E),x=w.length;x<E;)w[x++]=0;O=D.slice(),O.unshift(0),A=D[0],D[1]>=pr/2&&++A;do p=0,c=e(D,w,E,x),c<0?(S=w[0],E!=x&&(S=S*pr+(w[1]||0)),p=S/A|0,p>1?(p>=pr&&(p=pr-1),h=t(D,p),g=h.length,x=w.length,c=e(h,w,g,x),c==1&&(p--,r(h,E<g?O:D,g))):(p==0&&(c=p=1),h=D.slice()),g=h.length,g<x&&h.unshift(0),r(w,h,x),c==-1&&(x=w.length,c=e(D,w,E,x),c<1&&(p++,r(w,E<x?O:D,x))),x=w.length):c===0&&(p++,w=[0]),b[f++]=p,c&&w[0]?w[x++]=B[C]||0:(w=[B[C]],x=1);while((C++<N||w[0]!==void 0)&&k--)}return b[0]||b.shift(),y.e=d,gt(y,o?a+Zt(y)+1:a)}})();function tD(t,e){var r,n,i,a,o,c,d=0,f=0,p=t.constructor,h=p.precision;if(Zt(t)>16)throw Error(DS+Zt(t));if(!t.s)return new p(gn);for(Pt=!1,c=h,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(_s(2,f))/Math.LN10*2+5|0,c+=n,r=i=a=new p(gn),p.precision=c;;){if(i=gt(i.times(t),c),r=r.times(++d),o=a.plus(Hi(i,r,c)),pi(o.d).slice(0,c)===pi(a.d).slice(0,c)){for(;f--;)a=gt(a.times(a),c);return p.precision=h,e==null?(Pt=!0,gt(a,h)):a}a=o}}function Zt(t){for(var e=t.e*Nt,r=t.d[0];r>=10;r/=10)e++;return e}function ub(t,e,r){if(e>t.LN10.sd())throw Pt=!0,r&&(t.precision=r),Error(Dn+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function Ra(t){for(var e="";t--;)e+="0";return e}function Du(t,e){var r,n,i,a,o,c,d,f,p,h=1,g=10,y=t,b=y.d,w=y.constructor,x=w.precision;if(y.s<1)throw Error(Dn+(y.s?"NaN":"-Infinity"));if(y.eq(gn))return new w(0);if(e==null?(Pt=!1,f=x):f=e,y.eq(10))return e==null&&(Pt=!0),ub(w,f);if(f+=g,w.precision=f,r=pi(b),n=r.charAt(0),a=Zt(y),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=pi(y.d),n=r.charAt(0),h++;a=Zt(y),n>1?(y=new w("0."+r),a++):y=new w(n+"."+r.slice(1))}else return d=ub(w,f+2,x).times(a+""),y=Du(new w(n+"."+r.slice(1)),f-g).plus(d),w.precision=x,e==null?(Pt=!0,gt(y,x)):y;for(c=o=y=Hi(y.minus(gn),y.plus(gn),f),p=gt(y.times(y),f),i=3;;){if(o=gt(o.times(p),f),d=c.plus(Hi(o,new w(i),f)),pi(d.d).slice(0,f)===pi(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(ub(w,f+2,x).times(a+""))),c=Hi(c,new w(h),f),w.precision=x,e==null?(Pt=!0,gt(c,x)):c;c=d,i+=2}}function $O(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Vl(r/Nt),t.d=[],n=(r+1)%Nt,r<0&&(n+=Nt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Nt;n<i;)t.d.push(+e.slice(n,n+=Nt));e=e.slice(n),n=Nt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Pt&&(t.e>Yh||t.e<-Yh))throw Error(DS+r)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,r){var n,i,a,o,c,d,f,p,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Nt,i=e,f=h[p=0];else{if(p=Math.ceil((n+1)/Nt),a=h.length,p>=a)return t;for(f=a=h[p],o=1;a>=10;a/=10)o++;n%=Nt,i=n-Nt+o}if(r!==void 0&&(a=_s(10,o-i-1),c=f/a%10|0,d=e<0||h[p+1]!==void 0||f%a,d=r<4?(c||d)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?i>0?f/_s(10,o-i):0:h[p-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return d?(a=Zt(t),h.length=1,e=e-a-1,h[0]=_s(10,(Nt-e%Nt)%Nt),t.e=Vl(-e/Nt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=p,a=1,p--):(h.length=p+1,a=_s(10,Nt-n),h[p]=i>0?(f/_s(10,o-i)%_s(10,i)|0)*a:0),d)for(;;)if(p==0){(h[0]+=a)==pr&&(h[0]=1,++t.e);break}else{if(h[p]+=a,h[p]!=pr)break;h[p--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Pt&&(t.e>Yh||t.e<-Yh))throw Error(DS+Zt(t));return t}function rD(t,e){var r,n,i,a,o,c,d,f,p,h,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Pt?gt(e,y):e;if(d=t.d,h=e.d,n=e.e,f=t.e,d=d.slice(),o=f-n,o){for(p=o<0,p?(r=d,o=-o,c=h.length):(r=h,n=f,c=d.length),i=Math.max(Math.ceil(y/Nt),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,c=h.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=h[i]){p=d[i]<h[i];break}o=0}for(p&&(r=d,d=h,h=r,e.s=-e.s),c=d.length,i=h.length-c;i>0;--i)d[c++]=0;for(i=h.length;i>o;){if(d[--i]<h[i]){for(a=i;a&&d[--a]===0;)d[a]=pr-1;--d[a],d[i]+=pr}d[i]-=h[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Pt?gt(e,y):e):new g(0)}function qs(t,e,r){var n,i=Zt(t),a=pi(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ra(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ra(-i-1)+a,r&&(n=r-o)>0&&(a+=Ra(n))):i>=o?(a+=Ra(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ra(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ra(n))),t.s<0?"-"+a:a}function MO(t,e){if(t.length>e)return t.length=e,!0}function nD(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(zs+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return $O(o,a.toString())}else if(typeof a!="string")throw Error(zs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Tne.test(a))$O(o,a);else throw Error(zs+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nD,i.config=i.set=Pne,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Pne(t){if(!t||typeof t!="object")throw Error(Dn+"Object expected");var e,r,n,i=["precision",1,Ul,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Vl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(zs+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zs+r+": "+n);return this}var zS=nD(Ane);gn=new zS(1);const ft=zS;function Cne(t){return Rne(t)||Ine(t)||One(t)||Ene()}function Ene(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function One(t,e){if(t){if(typeof t=="string")return i1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i1(t,e)}}function Ine(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Rne(t){if(Array.isArray(t))return i1(t)}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $ne=function(e){return e},iD={},aD=function(e){return e===iD},DO=function(e){return function r(){return arguments.length===0||arguments.length===1&&aD(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Mne=function t(e,r){return e===1?r:DO(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(c){return c!==iD}).length;return o>=e?r.apply(void 0,i):t(e-o,DO(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var p=i.map(function(h){return aD(h)?d.shift():h});return r.apply(void 0,Cne(p).concat(d))}))})},um=function(e){return Mne(e.length,e)},a1=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Dne=um(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),zne=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return $ne;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(c,d){return d(c)},a.apply(void 0,arguments))}},s1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},sD=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(c,d){return c===r[d]})||(r=a,n=e.apply(void 0,a)),n}};function Lne(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function Bne(t,e,r){for(var n=new ft(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Fne=um(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),qne=um(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Une=um(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const dm={rangeStep:Bne,getDigitCount:Lne,interpolateNumber:Fne,uninterpolateNumber:qne,uninterpolateTruncation:Une};function o1(t){return Hne(t)||Wne(t)||oD(t)||Vne()}function Vne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Hne(t){if(Array.isArray(t))return l1(t)}function zu(t,e){return Xne(t)||Kne(t,e)||oD(t,e)||Gne()}function Gne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oD(t,e){if(t){if(typeof t=="string")return l1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(t,e)}}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,a=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Xne(t){if(Array.isArray(t))return t}function lD(t){var e=zu(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function cD(t,e,r){if(t.lte(0))return new ft(0);var n=dm.getDigitCount(t.toNumber()),i=new ft(10).pow(n),a=t.div(i),o=n!==1?.05:.1,c=new ft(Math.ceil(a.div(o).toNumber())).add(r).mul(o),d=c.mul(i);return e?d:new ft(Math.ceil(d))}function Yne(t,e,r){var n=1,i=new ft(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new ft(10).pow(dm.getDigitCount(t)-1),i=new ft(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ft(Math.floor(t)))}else t===0?i=new ft(Math.floor((e-1)/2)):r||(i=new ft(Math.floor(t)));var o=Math.floor((e-1)/2),c=zne(Dne(function(d){return i.add(new ft(d-o).mul(n)).toNumber()}),a1);return c(0,e)}function uD(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var a=cD(new ft(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new ft(0):(o=new ft(t).add(e).div(2),o=o.sub(new ft(o).mod(a)));var c=Math.ceil(o.sub(t).div(a).toNumber()),d=Math.ceil(new ft(e).sub(o).div(a).toNumber()),f=c+d+1;return f>r?uD(t,e,r,n,i+1):(f<r&&(d=e>0?d+(r-f):d,c=e>0?c:c+(r-f)),{step:a,tickMin:o.sub(new ft(c).mul(a)),tickMax:o.add(new ft(d).mul(a))})}function Jne(t){var e=zu(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),c=lD([r,n]),d=zu(c,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var h=p===1/0?[f].concat(o1(a1(0,i-1).map(function(){return 1/0}))):[].concat(o1(a1(0,i-1).map(function(){return-1/0})),[p]);return r>n?s1(h):h}if(f===p)return Yne(f,i,a);var g=uD(f,p,o,a),y=g.step,b=g.tickMin,w=g.tickMax,x=dm.rangeStep(b,w.add(new ft(.1).mul(y)),y);return r>n?s1(x):x}function Qne(t,e){var r=zu(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=lD([n,i]),c=zu(o,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var p=Math.max(e,2),h=cD(new ft(f).sub(d).div(p-1),a,0),g=[].concat(o1(dm.rangeStep(new ft(d),new ft(f).sub(new ft(.99).mul(h)),h)),[f]);return n>i?s1(g):g}var Zne=sD(Jne),eie=sD(Qne),tie="Invariant failed";function Us(t,e){throw new Error(tie)}var rie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jh.apply(this,arguments)}function nie(t,e){return oie(t)||sie(t,e)||aie(t,e)||iie()}function iie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aie(t,e){if(t){if(typeof t=="string")return zO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(t,e)}}function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function oie(t){if(Array.isArray(t))return t}function lie(t,e){if(t==null)return{};var r=cie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function die(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hD(n.key),n)}}function fie(t,e,r){return e&&die(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hie(t,e,r){return e=Qh(e),pie(t,dD()?Reflect.construct(e,r||[],Qh(t).constructor):e.apply(t,r))}function pie(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mie(t)}function mie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!t})()}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qh(t)}function gie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c1(t,e)}function c1(t,e){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c1(t,e)}function fD(t,e,r){return e=hD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hD(t){var e=vie(t,"string");return gl(e)=="symbol"?e:e+""}function vie(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xd=(function(t){function e(){return uie(this,e),hie(this,e,arguments)}return gie(e,t),fie(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,c=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,h=n.yAxis,g=lie(n,rie),y=Ke(g,!1);this.props.direction==="x"&&p.type!=="number"&&Us();var b=d.map(function(w){var x=f(w,c),S=x.x,k=x.y,_=x.value,C=x.errorVal;if(!C)return null;var N=[],A,E;if(Array.isArray(C)){var O=nie(C,2);A=O[0],E=O[1]}else A=E=C;if(a==="vertical"){var R=p.scale,H=k+i,B=H+o,D=H-o,$=R(_-A),V=R(_+E);N.push({x1:V,y1:B,x2:V,y2:D}),N.push({x1:$,y1:H,x2:V,y2:H}),N.push({x1:$,y1:B,x2:$,y2:D})}else if(a==="horizontal"){var J=h.scale,K=S+i,U=K-o,M=K+o,Q=J(_-A),ee=J(_+E);N.push({x1:U,y1:ee,x2:M,y2:ee}),N.push({x1:K,y1:Q,x2:K,y2:ee}),N.push({x1:U,y1:Q,x2:M,y2:Q})}return z.createElement(wt,Jh({className:"recharts-errorBar",key:"bar-".concat(N.map(function(L){return"".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))},y),N.map(function(L){return z.createElement("line",Jh({},L,{key:"line-".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))}))});return z.createElement(wt,{className:"recharts-errorBars"},b)}}])})(z.Component);fD(xd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fD(xd,"displayName","ErrorBar");function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){yie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yie(t,e,r){return e=xie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xie(t){var e=bie(t,"string");return Lu(e)=="symbol"?e:e+""}function bie(t,e){if(Lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pD=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=hn(r,Ms);if(!o)return null;var c=Ms.defaultProps,d=c!==void 0?bs(bs({},c),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:a==="children"?f=(n||[]).reduce(function(p,h){var g=h.item,y=h.props,b=y.sectors||y.data||[];return p.concat(b.map(function(w){return{type:o.props.iconType||g.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):f=(n||[]).map(function(p){var h=p.item,g=h.type.defaultProps,y=g!==void 0?bs(bs({},g),h.props):{},b=y.dataKey,w=y.name,x=y.legendType,S=y.hide;return{inactive:S,dataKey:b,type:d.iconType||x||"square",color:LS(h),value:w||b,payload:y}}),bs(bs(bs({},d),Ms.getWithHeight(o,i)),{},{payload:f,item:o})};function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function BO(t){return _ie(t)||Sie(t)||jie(t)||wie()}function wie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jie(t,e){if(t){if(typeof t=="string")return u1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(t,e)}}function Sie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ie(t){if(Array.isArray(t))return u1(t)}function u1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(r),!0).forEach(function(n){tl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tl(t,e,r){return e=Nie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nie(t){var e=kie(t,"string");return Bu(e)=="symbol"?e:e+""}function kie(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wr(t,e,r){return Qe(t)||Qe(e)?r:lr(e)?$n(t,e,r):Ge(e)?e(t):r}function ou(t,e,r,n){var i=_ne(t,function(c){return Wr(c,e)});if(r==="number"){var a=i.filter(function(c){return we(c)||parseFloat(c)});return a.length?[cm(a),Ba(a)]:[1/0,-1/0]}var o=n?i.filter(function(c){return!Qe(c)}):i;return o.map(function(c){return lr(c)||c instanceof Date?c:""})}var Aie=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,f=0;f<c;f++){var p=f>0?i[f-1].coordinate:i[c-1].coordinate,h=i[f].coordinate,g=f>=c-1?i[0].coordinate:i[f+1].coordinate,y=void 0;if(ri(h-p)!==ri(g-h)){var b=[];if(ri(g-h)===ri(d[1]-d[0])){y=g;var w=h+d[1]-d[0];b[0]=Math.min(w,(w+p)/2),b[1]=Math.max(w,(w+p)/2)}else{y=p;var x=g+d[1]-d[0];b[0]=Math.min(h,(x+h)/2),b[1]=Math.max(h,(x+h)/2)}var S=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){o=i[f].index;break}}else{var k=Math.min(p,g),_=Math.max(p,g);if(e>(k+h)/2&&e<=(_+h)/2){o=i[f].index;break}}}else for(var C=0;C<c;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<c-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===c-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},LS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,o=a.stroke,c=a.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:c;break;default:d=c;break}return d},Tie=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},c=Object.keys(a),d=0,f=c.length;d<f;d++)for(var p=a[c[d]].stackGroups,h=Object.keys(p),g=0,y=h.length;g<y;g++){var b=p[h[g]],w=b.items,x=b.cateAxisId,S=w.filter(function(E){return Vi(E.type).indexOf("Bar")>=0});if(S&&S.length){var k=S[0].type.defaultProps,_=k!==void 0?Lt(Lt({},k),S[0].props):S[0].props,C=_.barSize,N=_[x];o[N]||(o[N]=[]);var A=Qe(C)?r:C;o[N].push({item:S[0],stackList:S.slice(1),barSize:Qe(A)?void 0:Fs(A,n,0)})}}return o},Pie=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,c=e.maxBarSize,d=o.length;if(d<1)return null;var f=Fs(r,i,0,!0),p,h=[];if(o[0].barSize===+o[0].barSize){var g=!1,y=i/d,b=o.reduce(function(C,N){return C+N.barSize||0},0);b+=(d-1)*f,b>=i&&(b-=(d-1)*f,f=0),b>=i&&y>0&&(g=!0,y*=.9,b=d*y);var w=(i-b)/2>>0,x={offset:w-f,size:0};p=o.reduce(function(C,N){var A={item:N.item,position:{offset:x.offset+x.size+f,size:g?y:N.barSize}},E=[].concat(BO(C),[A]);return x=E[E.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){E.push({item:O,position:x})}),E},h)}else{var S=Fs(n,i,0,!0);i-2*S-(d-1)*f<=0&&(f=0);var k=(i-2*S-(d-1)*f)/d;k>1&&(k>>=0);var _=c===+c?Math.min(k,c):k;p=o.reduce(function(C,N,A){var E=[].concat(BO(C),[{item:N.item,position:{offset:S+(k+f)*A+(k-_)/2,size:_}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){E.push({item:O,position:E[E.length-1].position})}),E},h)}return p},Cie=function(e,r,n,i){var a=n.children,o=n.width,c=n.margin,d=o-(c.left||0)-(c.right||0),f=pD({children:a,legendWidth:d});if(f){var p=i||{},h=p.width,g=p.height,y=f.align,b=f.verticalAlign,w=f.layout;if((w==="vertical"||w==="horizontal"&&b==="middle")&&y!=="center"&&we(e[y]))return Lt(Lt({},e),{},tl({},y,e[y]+(h||0)));if((w==="horizontal"||w==="vertical"&&y==="center")&&b!=="middle"&&we(e[b]))return Lt(Lt({},e),{},tl({},b,e[b]+(g||0)))}return e},Eie=function(e,r,n){return Qe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},mD=function(e,r,n,i,a){var o=r.props.children,c=Mn(o,xd).filter(function(f){return Eie(i,a,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var h=Wr(p,n);if(Qe(h))return f;var g=Array.isArray(h)?[cm(h),Ba(h)]:[h,h],y=d.reduce(function(b,w){var x=Wr(p,w,0),S=g[0]-Math.abs(Array.isArray(x)?x[0]:x),k=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(S,b[0]),Math.max(k,b[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},Oie=function(e,r,n,i,a){var o=r.map(function(c){return mD(e,c,n,a,i)}).filter(function(c){return!Qe(c)});return o&&o.length?o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},gD=function(e,r,n,i,a){var o=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&mD(e,d,f,i)||ou(e,f,n,a)});if(n==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return o.reduce(function(d,f){for(var p=0,h=f.length;p<h;p++)c[f[p]]||(c[f[p]]=!0,d.push(f[p]));return d},[])},vD=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},yD=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var a,o,c=e.map(function(d){return d.coordinate===r&&(a=!0),d.coordinate===n&&(o=!0),d.coordinate});return a||c.push(r),o||c.push(n),c},Fi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,c=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&c?.length>=2?ri(c[0]-c[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(h){var g=a?a.indexOf(h):h;return{coordinate:i(g)+f,value:h,offset:f}});return p.filter(function(h){return!Ll(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,g){return{coordinate:i(h)+f,value:h,index:g,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+f,value:h,offset:f}}):i.domain().map(function(h,g){return{coordinate:i(h)+f,value:a?a[h]:h,index:g,offset:f}})},db=new WeakMap,Qf=function(e,r){if(typeof r!="function")return e;db.has(e)||db.set(e,new WeakMap);var n=db.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Iie=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,c=e.axisType;if(i==="auto")return o==="radial"&&c==="radiusAxis"?{scale:Ou(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:Hh(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:su(),realScaleType:"point"}:a==="category"?{scale:Ou(),realScaleType:"band"}:{scale:Hh(),realScaleType:"linear"};if(Bs(i)){var d="scale".concat(Yp(i));return{scale:(kO[d]||su)(),realScaleType:kO[d]?d:"point"}}return Ge(i)?{scale:i}:{scale:su(),realScaleType:"point"}},qO=1e-4,Rie=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-qO,o=Math.max(i[0],i[1])+qO,c=e(r[0]),d=e(r[n-1]);(c<a||c>o||d<a||d>o)&&e.domain([r[0],r[n-1]])}},$ie=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Mie=function(e,r){if(!r||r.length!==2||!we(r[0])||!we(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!we(e[0])||e[0]<n)&&(a[0]=n),(!we(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Die=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,c=0;c<r;++c){var d=Ll(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=a,e[c][n][1]=a+d,a=e[c][n][1]):(e[c][n][0]=o,e[c][n][1]=o+d,o=e[c][n][1])}},zie=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var c=Ll(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Lie={sign:Die,expand:jJ,none:ol,silhouette:SJ,wiggle:_J,positive:zie},Bie=function(e,r,n){var i=r.map(function(c){return c.props.dataKey}),a=Lie[n],o=wJ().keys(i).value(function(c,d){return+Wr(c,d,0)}).order(Bw).offset(a);return o(e)},Fie=function(e,r,n,i,a,o){if(!e)return null;var c=o?r.reverse():r,d={},f=c.reduce(function(h,g){var y,b=(y=g.type)!==null&&y!==void 0&&y.defaultProps?Lt(Lt({},g.type.defaultProps),g.props):g.props,w=b.stackId,x=b.hide;if(x)return h;var S=b[n],k=h[S]||{hasStack:!1,stackGroups:{}};if(lr(w)){var _=k.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(g),k.hasStack=!0,k.stackGroups[w]=_}else k.stackGroups[Bl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return Lt(Lt({},h),{},tl({},S,k))},d),p={};return Object.keys(f).reduce(function(h,g){var y=f[g];if(y.hasStack){var b={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(w,x){var S=y.stackGroups[x];return Lt(Lt({},w),{},tl({},x,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:Bie(e,S.items,a)}))},b)}return Lt(Lt({},h),{},tl({},g,y))},p)},qie=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=Zne(f,a,c);return e.domain([cm(p),Ba(p)]),{niceTicks:p}}if(a&&i==="number"){var h=e.domain(),g=eie(h,a,c);return{niceTicks:g}}return null};function Zh(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qe(i[e.dataKey])){var c=kh(r,"value",i[e.dataKey]);if(c)return c.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var d=Wr(i,Qe(o)?e.dataKey:o);return Qe(d)?null:e.scale(d)}var UO=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var d=Wr(o,r.dataKey,r.domain[c]);return Qe(d)?null:r.scale(d)-a/2+i},Uie=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Vie=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(lr(a)){var o=r[a];if(o){var c=o.items.indexOf(e);return c>=0?o.stackedData[c]:null}}return null},Wie=function(e){return e.reduce(function(r,n){return[cm(n.concat([r[0]]).filter(we)),Ba(n.concat([r[1]]).filter(we))]},[1/0,-1/0])},xD=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],c=o.stackedData,d=c.reduce(function(f,p){var h=Wie(p.slice(r,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d1=function(e,r,n){if(Ge(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(we(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(VO.test(e[0])){var a=+VO.exec(e[0])[1];i[0]=r[0]-a}else Ge(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(we(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(WO.test(e[1])){var o=+WO.exec(e[1])[1];i[1]=r[1]+o}else Ge(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ep=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=hS(r,function(h){return h.coordinate}),o=1/0,c=1,d=a.length;c<d;c++){var f=a[c],p=a[c-1];o=Math.min((f.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},HO=function(e,r,n){return!e||!e.length||ml(e,$n(n,"type.defaultProps.domain"))?r:e},bD=function(e,r){var n=e.type.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,c=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return Lt(Lt({},Ke(e,!1)),{},{dataKey:i,unit:o,formatter:c,name:a||i,color:LS(e),value:Wr(r,i),type:d,payload:r,chartType:f,hide:p})};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){Hie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hie(t,e,r){return e=Gie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gie(t){var e=Kie(t,"string");return Fu(e)=="symbol"?e:e+""}function Kie(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tp=Math.PI/180,Xie=function(e){return e*180/Math.PI},Ar=function(e,r,n,i){return{x:e+Math.cos(-tp*i)*n,y:r+Math.sin(-tp*i)*n}},Yie=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Jie=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,c=Yie({x:n,y:i},{x:a,y:o});if(c<=0)return{radius:c};var d=(n-a)/c,f=Math.acos(d);return i>o&&(f=2*Math.PI-f),{radius:c,angle:Xie(f),angleInRadian:f}},Qie=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Zie=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),c=Math.min(a,o);return e+c*360},XO=function(e,r){var n=e.x,i=e.y,a=Jie({x:n,y:i},r),o=a.radius,c=a.angle,d=r.innerRadius,f=r.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var p=Qie(r),h=p.startAngle,g=p.endAngle,y=c,b;if(h<=g){for(;y>g;)y-=360;for(;y<h;)y+=360;b=y>=h&&y<=g}else{for(;y>h;)y-=360;for(;y<g;)y+=360;b=y>=g&&y<=h}return b?KO(KO({},r),{},{radius:o,angle:Zie(y,r)}):null};function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}var eae=["offset"];function tae(t){return aae(t)||iae(t)||nae(t)||rae()}function rae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(t,e){if(t){if(typeof t=="string")return f1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(t,e)}}function iae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aae(t){if(Array.isArray(t))return f1(t)}function f1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sae(t,e){if(t==null)return{};var r=oae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){lae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lae(t,e,r){return e=cae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cae(t){var e=uae(t,"string");return qu(e)=="symbol"?e:e+""}function uae(t,e){if(qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uu.apply(this,arguments)}var dae=function(e){var r=e.value,n=e.formatter,i=Qe(e.children)?r:e.children;return Ge(n)?n(i):i},fae=function(e,r){var n=ri(r-e),i=Math.min(Math.abs(r-e),360);return n*i},hae=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,c=e.className,d=a,f=d.cx,p=d.cy,h=d.innerRadius,g=d.outerRadius,y=d.startAngle,b=d.endAngle,w=d.clockWise,x=(h+g)/2,S=fae(y,b),k=S>=0?1:-1,_,C;i==="insideStart"?(_=y+k*o,C=w):i==="insideEnd"?(_=b-k*o,C=!w):i==="end"&&(_=b+k*o,C=w),C=S<=0?C:!C;var N=Ar(f,p,x,_),A=Ar(f,p,x,_+(C?1:-1)*359),E="M".concat(N.x,",").concat(N.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(A.x,",").concat(A.y),O=Qe(e.id)?Bl("recharts-radial-line-"):e.id;return z.createElement("text",Uu({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",c)}),z.createElement("defs",null,z.createElement("path",{id:O,d:E})),z.createElement("textPath",{xlinkHref:"#".concat(O)},r))},pae=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,c=a.cy,d=a.innerRadius,f=a.outerRadius,p=a.startAngle,h=a.endAngle,g=(p+h)/2;if(i==="outside"){var y=Ar(o,c,f+n,g),b=y.x,w=y.y;return{x:b,y:w,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var x=(d+f)/2,S=Ar(o,c,x,g),k=S.x,_=S.y;return{x:k,y:_,textAnchor:"middle",verticalAnchor:"middle"}},mae=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,c=o.x,d=o.y,f=o.width,p=o.height,h=p>=0?1:-1,g=h*i,y=h>0?"end":"start",b=h>0?"start":"end",w=f>=0?1:-1,x=w*i,S=w>0?"end":"start",k=w>0?"start":"end";if(a==="top"){var _={x:c+f/2,y:d-h*i,textAnchor:"middle",verticalAnchor:y};return ar(ar({},_),n?{height:Math.max(d-n.y,0),width:f}:{})}if(a==="bottom"){var C={x:c+f/2,y:d+p+g,textAnchor:"middle",verticalAnchor:b};return ar(ar({},C),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(a==="left"){var N={x:c-x,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return ar(ar({},N),n?{width:Math.max(N.x-n.x,0),height:p}:{})}if(a==="right"){var A={x:c+f+x,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return ar(ar({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:p}:{})}var E=n?{width:f,height:p}:{};return a==="insideLeft"?ar({x:c+x,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},E):a==="insideRight"?ar({x:c+f-x,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},E):a==="insideTop"?ar({x:c+f/2,y:d+g,textAnchor:"middle",verticalAnchor:b},E):a==="insideBottom"?ar({x:c+f/2,y:d+p-g,textAnchor:"middle",verticalAnchor:y},E):a==="insideTopLeft"?ar({x:c+x,y:d+g,textAnchor:k,verticalAnchor:b},E):a==="insideTopRight"?ar({x:c+f-x,y:d+g,textAnchor:S,verticalAnchor:b},E):a==="insideBottomLeft"?ar({x:c+x,y:d+p-g,textAnchor:k,verticalAnchor:y},E):a==="insideBottomRight"?ar({x:c+f-x,y:d+p-g,textAnchor:S,verticalAnchor:y},E):zl(a)&&(we(a.x)||Cs(a.x))&&(we(a.y)||Cs(a.y))?ar({x:c+Fs(a.x,f),y:d+Fs(a.y,p),textAnchor:"end",verticalAnchor:"end"},E):ar({x:c+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},E)},gae=function(e){return"cx"in e&&we(e.cx)};function $r(t){var e=t.offset,r=e===void 0?5:e,n=sae(t,eae),i=ar({offset:r},n),a=i.viewBox,o=i.position,c=i.value,d=i.children,f=i.content,p=i.className,h=p===void 0?"":p,g=i.textBreakAll;if(!a||Qe(c)&&Qe(d)&&!P.isValidElement(f)&&!Ge(f))return null;if(P.isValidElement(f))return P.cloneElement(f,i);var y;if(Ge(f)){if(y=P.createElement(f,i),P.isValidElement(y))return y}else y=dae(i);var b=gae(a),w=Ke(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return hae(i,y,w);var x=b?pae(i):mae(i);return z.createElement(Lh,Uu({className:tt("recharts-label",h)},w,x,{breakAll:g}),y)}$r.displayName="Label";var wD=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,c=e.r,d=e.radius,f=e.innerRadius,p=e.outerRadius,h=e.x,g=e.y,y=e.top,b=e.left,w=e.width,x=e.height,S=e.clockWise,k=e.labelViewBox;if(k)return k;if(we(w)&&we(x)){if(we(h)&&we(g))return{x:h,y:g,width:w,height:x};if(we(y)&&we(b))return{x:y,y:b,width:w,height:x}}return we(h)&&we(g)?{x:h,y:g,width:0,height:0}:we(r)&&we(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:p||d||c||0,clockWise:S}:e.viewBox?e.viewBox:{}},vae=function(e,r){return e?e===!0?z.createElement($r,{key:"label-implicit",viewBox:r}):lr(e)?z.createElement($r,{key:"label-implicit",viewBox:r,value:e}):P.isValidElement(e)?e.type===$r?P.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement($r,{key:"label-implicit",content:e,viewBox:r}):Ge(e)?z.createElement($r,{key:"label-implicit",content:e,viewBox:r}):zl(e)?z.createElement($r,Uu({viewBox:r},e,{key:"label-implicit"})):null:null},yae=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=wD(e),o=Mn(i,$r).map(function(d,f){return P.cloneElement(d,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return o;var c=vae(e.label,r||a);return[c].concat(tae(o))};$r.parseViewBox=wD;$r.renderCallByParent=yae;var fb,JO;function xae(){if(JO)return fb;JO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return fb=t,fb}var bae=xae();const wae=pt(bae);function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}var jae=["valueAccessor"],Sae=["data","dataKey","clockWise","id","textBreakAll"];function _ae(t){return Tae(t)||Aae(t)||kae(t)||Nae()}function Nae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kae(t,e){if(t){if(typeof t=="string")return h1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h1(t,e)}}function Aae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tae(t){if(Array.isArray(t))return h1(t)}function h1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rp.apply(this,arguments)}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){Pae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pae(t,e,r){return e=Cae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cae(t){var e=Eae(t,"string");return Vu(e)=="symbol"?e:e+""}function Eae(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e5(t,e){if(t==null)return{};var r=Oae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Iae=function(e){return Array.isArray(e.value)?wae(e.value):e.value};function Gi(t){var e=t.valueAccessor,r=e===void 0?Iae:e,n=e5(t,jae),i=n.data,a=n.dataKey,o=n.clockWise,c=n.id,d=n.textBreakAll,f=e5(n,Sae);return!i||!i.length?null:z.createElement(wt,{className:"recharts-label-list"},i.map(function(p,h){var g=Qe(a)?r(p,h):Wr(p&&p.payload,a),y=Qe(c)?{}:{id:"".concat(c,"-").concat(h)};return z.createElement($r,rp({},Ke(p,!0),f,y,{parentViewBox:p.parentViewBox,value:g,textBreakAll:d,viewBox:$r.parseViewBox(Qe(o)?p:ZO(ZO({},p),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Gi.displayName="LabelList";function Rae(t,e){return t?t===!0?z.createElement(Gi,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Ge(t)?z.createElement(Gi,{key:"labelList-implicit",data:e,content:t}):zl(t)?z.createElement(Gi,rp({data:e},t,{key:"labelList-implicit"})):null:null}function $ae(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Mn(n,Gi).map(function(o,c){return P.cloneElement(o,{data:e,key:"labelList-".concat(c)})});if(!r)return i;var a=Rae(t.label,e);return[a].concat(_ae(i))}Gi.renderCallByParent=$ae;function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p1.apply(this,arguments)}function t5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(r),!0).forEach(function(n){Mae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mae(t,e,r){return e=Dae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dae(t){var e=zae(t,"string");return Wu(e)=="symbol"?e:e+""}function zae(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lae=function(e,r){var n=ri(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Zf=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,c=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,p=d*(c?1:-1)+i,h=Math.asin(d/p)/tp,g=f?a:a+o*h,y=Ar(r,n,p,g),b=Ar(r,n,i,g),w=f?a-o*h:a,x=Ar(r,n,p*Math.cos(h*tp),w);return{center:y,circleTangency:b,lineTangency:x,theta:h}},jD=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,c=e.endAngle,d=Lae(o,c),f=o+d,p=Ar(r,n,a,o),h=Ar(r,n,a,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var y=Ar(r,n,i,o),b=Ar(r,n,i,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},Bae=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,h=ri(p-f),g=Zf({cx:r,cy:n,radius:a,angle:f,sign:h,cornerRadius:o,cornerIsExternal:d}),y=g.circleTangency,b=g.lineTangency,w=g.theta,x=Zf({cx:r,cy:n,radius:a,angle:p,sign:-h,cornerRadius:o,cornerIsExternal:d}),S=x.circleTangency,k=x.lineTangency,_=x.theta,C=d?Math.abs(f-p):Math.abs(f-p)-w-_;if(C<0)return c?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jD({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:p});var N="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var A=Zf({cx:r,cy:n,radius:i,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),E=A.circleTangency,O=A.lineTangency,R=A.theta,H=Zf({cx:r,cy:n,radius:i,angle:p,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),B=H.circleTangency,D=H.lineTangency,$=H.theta,V=d?Math.abs(f-p):Math.abs(f-p)-R-$;if(V<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},Fae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SD=function(e){var r=r5(r5({},Fae),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,h=r.endAngle,g=r.className;if(o<a||p===h)return null;var y=tt("recharts-sector",g),b=o-a,w=Fs(c,b,0,!0),x;return w>0&&Math.abs(p-h)<360?x=Bae({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:h}):x=jD({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:p,endAngle:h}),z.createElement("path",p1({},Ke(r,!0),{className:y,d:x,role:"img"}))};function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m1.apply(this,arguments)}function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){qae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qae(t,e,r){return e=Uae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uae(t){var e=Vae(t,"string");return Hu(e)=="symbol"?e:e+""}function Vae(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a5={curveBasisClosed:uJ,curveBasisOpen:dJ,curveBasis:cJ,curveBumpX:XY,curveBumpY:YY,curveLinearClosed:fJ,curveLinear:Qp,curveMonotoneX:hJ,curveMonotoneY:pJ,curveNatural:mJ,curveStep:gJ,curveStepAfter:yJ,curveStepBefore:vJ},eh=function(e){return e.x===+e.x&&e.y===+e.y},Fc=function(e){return e.x},qc=function(e){return e.y},Wae=function(e,r){if(Ge(e))return e;var n="curve".concat(Yp(e));return(n==="curveMonotone"||n==="curveBump")&&r?a5["".concat(n).concat(r==="vertical"?"Y":"X")]:a5[n]||Qp},Hae=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,c=e.layout,d=e.connectNulls,f=d===void 0?!1:d,p=Wae(n,c),h=f?a.filter(function(w){return eh(w)}):a,g;if(Array.isArray(o)){var y=f?o.filter(function(w){return eh(w)}):o,b=h.map(function(w,x){return i5(i5({},w),{},{base:y[x]})});return c==="vertical"?g=Wf().y(qc).x1(Fc).x0(function(w){return w.base.x}):g=Wf().x(Fc).y1(qc).y0(function(w){return w.base.y}),g.defined(eh).curve(p),g(b)}return c==="vertical"&&we(o)?g=Wf().y(qc).x1(Fc).x0(o):we(o)?g=Wf().x(Fc).y1(qc).y0(o):g=kM().x(Fc).y(qc),g.defined(eh).curve(p),g(h)},rl=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Hae(e):i;return P.createElement("path",m1({},Ke(e,!1),Ah(e),{className:tt("recharts-curve",r),d:o,ref:a}))},hb={exports:{}},pb,s5;function Gae(){if(s5)return pb;s5=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pb=t,pb}var mb,o5;function Kae(){if(o5)return mb;o5=1;var t=Gae();function e(){}function r(){}return r.resetWarningCache=e,mb=function(){function n(o,c,d,f,p,h){if(h!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},mb}var l5;function Xae(){return l5||(l5=1,hb.exports=Kae()()),hb.exports}var Yae=Xae();const lt=pt(Yae),{getOwnPropertyNames:Jae,getOwnPropertySymbols:Qae}=Object,{hasOwnProperty:Zae}=Object.prototype;function gb(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function th(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,o=a.get(r),c=a.get(n);if(o&&c)return o===n&&c===r;a.set(r,n),a.set(n,r);const d=t(r,n,i);return a.delete(r),a.delete(n),d}}function ese(t){return t?.[Symbol.toStringTag]}function c5(t){return Jae(t).concat(Qae(t))}const tse=Object.hasOwn||((t,e)=>Zae.call(t,e));function Ys(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const rse="__v",nse="__o",ise="_owner",{getOwnPropertyDescriptor:u5,keys:d5}=Object;function ase(t,e){return t.byteLength===e.byteLength&&np(new Uint8Array(t),new Uint8Array(e))}function sse(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function ose(t,e){return t.byteLength===e.byteLength&&np(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function lse(t,e){return Ys(t.getTime(),e.getTime())}function cse(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function use(t,e){return t===e}function f5(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let o,c,d=0;for(;(o=a.next())&&!o.done;){const f=e.entries();let p=!1,h=0;for(;(c=f.next())&&!c.done;){if(i[h]){h++;continue}const g=o.value,y=c.value;if(r.equals(g[0],y[0],d,h,t,e,r)&&r.equals(g[1],y[1],g[0],y[0],t,e,r)){p=i[h]=!0;break}h++}if(!p)return!1;d++}return!0}const dse=Ys;function fse(t,e,r){const n=d5(t);let i=n.length;if(d5(e).length!==i)return!1;for(;i-- >0;)if(!_D(t,e,r,n[i]))return!1;return!0}function Uc(t,e,r){const n=c5(t);let i=n.length;if(c5(e).length!==i)return!1;let a,o,c;for(;i-- >0;)if(a=n[i],!_D(t,e,r,a)||(o=u5(t,a),c=u5(e,a),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function hse(t,e){return Ys(t.valueOf(),e.valueOf())}function pse(t,e){return t.source===e.source&&t.flags===e.flags}function h5(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let o,c;for(;(o=a.next())&&!o.done;){const d=e.values();let f=!1,p=0;for(;(c=d.next())&&!c.done;){if(!i[p]&&r.equals(o.value,c.value,o.value,c.value,t,e,r)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function np(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function mse(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function _D(t,e,r,n){return(n===ise||n===nse||n===rse)&&(t.$$typeof||e.$$typeof)?!0:tse(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const gse="[object ArrayBuffer]",vse="[object Arguments]",yse="[object Boolean]",xse="[object DataView]",bse="[object Date]",wse="[object Error]",jse="[object Map]",Sse="[object Number]",_se="[object Object]",Nse="[object RegExp]",kse="[object Set]",Ase="[object String]",Tse={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Pse="[object URL]",Cse=Object.prototype.toString;function Ese({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:c,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:h,areTypedArraysEqual:g,areUrlsEqual:y,unknownTagComparators:b}){return function(x,S,k){if(x===S)return!0;if(x==null||S==null)return!1;const _=typeof x;if(_!==typeof S)return!1;if(_!=="object")return _==="number"?c(x,S,k):_==="function"?a(x,S,k):!1;const C=x.constructor;if(C!==S.constructor)return!1;if(C===Object)return d(x,S,k);if(Array.isArray(x))return e(x,S,k);if(C===Date)return n(x,S,k);if(C===RegExp)return p(x,S,k);if(C===Map)return o(x,S,k);if(C===Set)return h(x,S,k);const N=Cse.call(x);if(N===bse)return n(x,S,k);if(N===Nse)return p(x,S,k);if(N===jse)return o(x,S,k);if(N===kse)return h(x,S,k);if(N===_se)return typeof x.then!="function"&&typeof S.then!="function"&&d(x,S,k);if(N===Pse)return y(x,S,k);if(N===wse)return i(x,S,k);if(N===vse)return d(x,S,k);if(Tse[N])return g(x,S,k);if(N===gse)return t(x,S,k);if(N===xse)return r(x,S,k);if(N===yse||N===Sse||N===Ase)return f(x,S,k);if(b){let A=b[N];if(!A){const E=ese(x);E&&(A=b[E])}if(A)return A(x,S,k)}return!1}}function Ose({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:ase,areArraysEqual:r?Uc:sse,areDataViewsEqual:ose,areDatesEqual:lse,areErrorsEqual:cse,areFunctionsEqual:use,areMapsEqual:r?gb(f5,Uc):f5,areNumbersEqual:dse,areObjectsEqual:r?Uc:fse,arePrimitiveWrappersEqual:hse,areRegExpsEqual:pse,areSetsEqual:r?gb(h5,Uc):h5,areTypedArraysEqual:r?gb(np,Uc):np,areUrlsEqual:mse,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=th(n.areArraysEqual),a=th(n.areMapsEqual),o=th(n.areObjectsEqual),c=th(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:c})}return n}function Ise(t){return function(e,r,n,i,a,o,c){return t(e,r,c)}}function Rse({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(c,d){const{cache:f=t?new WeakMap:void 0,meta:p}=r();return e(c,d,{cache:f,equals:n,meta:p,strict:i})};if(t)return function(c,d){return e(c,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(c,d){return e(c,d,a)}}const $se=Za();Za({strict:!0});Za({circular:!0});Za({circular:!0,strict:!0});Za({createInternalComparator:()=>Ys});Za({strict:!0,createInternalComparator:()=>Ys});Za({circular:!0,createInternalComparator:()=>Ys});Za({circular:!0,createInternalComparator:()=>Ys,strict:!0});function Za(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=Ose(t),o=Ese(a),c=r?r(o):Ise(o);return Rse({circular:e,comparator:o,createState:n,equals:c,strict:i})}function Mse(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function p5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Mse(i)};requestAnimationFrame(n)}function g1(t){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g1(t)}function Dse(t){return Fse(t)||Bse(t)||Lse(t)||zse()}function zse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lse(t,e){if(t){if(typeof t=="string")return m5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m5(t,e)}}function m5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fse(t){if(Array.isArray(t))return t}function qse(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,c=Dse(o),d=c[0],f=c.slice(1);if(typeof d=="number"){p5(i.bind(null,f),d);return}i(d),p5(i.bind(null,f));return}g1(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function g5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(r),!0).forEach(function(n){ND(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ND(t,e,r){return e=Use(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Use(t){var e=Vse(t,"string");return Gu(e)==="symbol"?e:String(e)}function Vse(t,e){if(Gu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wse=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Hse=function(e){return e},Gse=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},lu=function(e,r){return Object.keys(r).reduce(function(n,i){return v5(v5({},n),{},ND({},i,e(i,r[i])))},{})},y5=function(e,r,n){return e.map(function(i){return"".concat(Gse(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Kse(t,e){return Jse(t)||Yse(t,e)||kD(t,e)||Xse()}function Xse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function Jse(t){if(Array.isArray(t))return t}function Qse(t){return toe(t)||eoe(t)||kD(t)||Zse()}function Zse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kD(t,e){if(t){if(typeof t=="string")return v1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v1(t,e)}}function eoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function toe(t){if(Array.isArray(t))return v1(t)}function v1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ip=1e-4,AD=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},TD=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},x5=function(e,r){return function(n){var i=AD(e,r);return TD(i,n)}},roe=function(e,r){return function(n){var i=AD(e,r),a=[].concat(Qse(i.map(function(o,c){return o*c}).slice(1)),[0]);return TD(a,n)}},b5=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,c=1;break;case"ease":i=.25,a=.1,o=.25,c=1;break;case"ease-in":i=.42,a=0,o=1,c=1;break;case"ease-out":i=.42,a=0,o=.58,c=1;break;case"ease-in-out":i=0,a=0,o=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=Kse(f,4);i=p[0],a=p[1],o=p[2],c=p[3]}}}var h=x5(i,o),g=x5(a,c),y=roe(i,o),b=function(S){return S>1?1:S<0?0:S},w=function(S){for(var k=S>1?1:S,_=k,C=0;C<8;++C){var N=h(_)-k,A=y(_);if(Math.abs(N-k)<ip||A<ip)return g(_);_=b(_-N/A)}return g(_)};return w.isStepper=!1,w},noe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,c=o===void 0?17:o,d=function(p,h,g){var y=-(p-h)*n,b=g*a,w=g+(y-b)*c/1e3,x=g*c/1e3+p;return Math.abs(x-h)<ip&&Math.abs(w)<ip?[h,0]:[x,w]};return d.isStepper=!0,d.dt=c,d},ioe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return b5(i);case"spring":return noe();default:if(i.split("(")[0]==="cubic-bezier")return b5(i)}return typeof i=="function"?i:null};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function w5(t){return ooe(t)||soe(t)||PD(t)||aoe()}function aoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ooe(t){if(Array.isArray(t))return x1(t)}function j5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j5(Object(r),!0).forEach(function(n){y1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y1(t,e,r){return e=loe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function loe(t){var e=coe(t,"string");return Ku(e)==="symbol"?e:String(e)}function coe(t,e){if(Ku(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ku(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uoe(t,e){return hoe(t)||foe(t,e)||PD(t,e)||doe()}function doe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PD(t,e){if(t){if(typeof t=="string")return x1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x1(t,e)}}function x1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function foe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function hoe(t){if(Array.isArray(t))return t}var ap=function(e,r,n){return e+(r-e)*n},b1=function(e){var r=e.from,n=e.to;return r!==n},poe=function t(e,r,n){var i=lu(function(a,o){if(b1(o)){var c=e(o.from,o.to,o.velocity),d=uoe(c,2),f=d[0],p=d[1];return _r(_r({},o),{},{from:f,velocity:p})}return o},r);return n<1?lu(function(a,o){return b1(o)?_r(_r({},o),{},{velocity:ap(o.velocity,i[a].velocity,n),from:ap(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const moe=(function(t,e,r,n,i){var a=Wse(t,e),o=a.reduce(function(x,S){return _r(_r({},x),{},y1({},S,[t[S],e[S]]))},{}),c=a.reduce(function(x,S){return _r(_r({},x),{},y1({},S,{from:t[S],velocity:0,to:e[S]}))},{}),d=-1,f,p,h=function(){return null},g=function(){return lu(function(S,k){return k.from},c)},y=function(){return!Object.values(c).filter(b1).length},b=function(S){f||(f=S);var k=S-f,_=k/r.dt;c=poe(r,c,_),i(_r(_r(_r({},t),e),g())),f=S,y()||(d=requestAnimationFrame(h))},w=function(S){p||(p=S);var k=(S-p)/n,_=lu(function(N,A){return ap.apply(void 0,w5(A).concat([r(k)]))},o);if(i(_r(_r(_r({},t),e),_)),k<1)d=requestAnimationFrame(h);else{var C=lu(function(N,A){return ap.apply(void 0,w5(A).concat([r(1)]))},o);i(_r(_r(_r({},t),e),C))}};return h=r.isStepper?b:w,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}var goe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function voe(t,e){if(t==null)return{};var r=yoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yoe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function vb(t){return joe(t)||woe(t)||boe(t)||xoe()}function xoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function boe(t,e){if(t){if(typeof t=="string")return w1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(t,e)}}function woe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function joe(t){if(Array.isArray(t))return w1(t)}function w1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(r),!0).forEach(function(n){Jc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jc(t,e,r){return e=CD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Soe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CD(n.key),n)}}function Noe(t,e,r){return e&&_oe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CD(t){var e=koe(t,"string");return vl(e)==="symbol"?e:String(e)}function koe(t,e){if(vl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j1(t,e)}function j1(t,e){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j1(t,e)}function Toe(t){var e=Poe();return function(){var n=sp(t),i;if(e){var a=sp(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S1(this,i)}}function S1(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _1(t)}function _1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Poe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sp(t)}var Si=(function(t){Aoe(r,t);var e=Toe(r);function r(n,i){var a;Soe(this,r),a=e.call(this,n,i);var o=a.props,c=o.isActive,d=o.attributeName,f=o.from,p=o.to,h=o.steps,g=o.children,y=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(_1(a)),a.changeStyle=a.changeStyle.bind(_1(a)),!c||y<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:p}),S1(a);if(h&&h.length)a.state={style:h[0].style};else if(f){if(typeof g=="function")return a.state={style:f},S1(a);a.state={style:d?Jc({},d,f):f}}else a.state={style:{}};return a}return Noe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,c=a.canBegin,d=a.attributeName,f=a.shouldReAnimate,p=a.to,h=a.from,g=this.state.style;if(c){if(!o){var y={style:d?Jc({},d,p):p};this.state&&g&&(d&&g[d]!==p||!d&&g!==p)&&this.setState(y);return}if(!($se(i.to,p)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=b||f?h:i.to;if(this.state&&g){var x={style:d?Jc({},d,w):w};(d&&g[d]!==w||!d&&g!==w)&&this.setState(x)}this.runAnimation(Gn(Gn({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,c=i.to,d=i.duration,f=i.easing,p=i.begin,h=i.onAnimationEnd,g=i.onAnimationStart,y=moe(o,c,ioe(f),d,this.changeStyle),b=function(){a.stopJSAnimation=y()};this.manager.start([g,p,b,d,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,c=i.begin,d=i.onAnimationStart,f=o[0],p=f.style,h=f.duration,g=h===void 0?0:h,y=function(w,x,S){if(S===0)return w;var k=x.duration,_=x.easing,C=_===void 0?"ease":_,N=x.style,A=x.properties,E=x.onAnimationEnd,O=S>0?o[S-1]:x,R=A||Object.keys(N);if(typeof C=="function"||C==="spring")return[].concat(vb(w),[a.runJSAnimation.bind(a,{from:O.style,to:N,duration:k,easing:C}),k]);var H=y5(R,k,C),B=Gn(Gn(Gn({},O.style),N),{},{transition:H});return[].concat(vb(w),[B,k,E]).filter(Hse)};return this.manager.start([d].concat(vb(o.reduce(y,[p,Math.max(g,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=qse());var a=i.begin,o=i.duration,c=i.attributeName,d=i.to,f=i.easing,p=i.onAnimationStart,h=i.onAnimationEnd,g=i.steps,y=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var w=c?Jc({},c,d):d,x=y5(Object.keys(w),o,f);b.start([p,a,Gn(Gn({},w),{},{transition:x}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=voe(i,goe),f=P.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!c||f===0||o<=0)return a;var h=function(y){var b=y.props,w=b.style,x=w===void 0?{}:w,S=b.className,k=P.cloneElement(y,Gn(Gn({},d),{},{style:Gn(Gn({},x),p),className:S}));return k};return f===1?h(P.Children.only(a)):z.createElement("div",null,P.Children.map(a,function(g){return h(g)}))}}]),r})(P.PureComponent);Si.displayName="Animate";Si.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Si.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},op.apply(this,arguments)}function Coe(t,e){return Roe(t)||Ioe(t,e)||Ooe(t,e)||Eoe()}function Eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ooe(t,e){if(t){if(typeof t=="string")return _5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _5(t,e)}}function _5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ioe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function Roe(t){if(Array.isArray(t))return t}function N5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N5(Object(r),!0).forEach(function(n){$oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $oe(t,e,r){return e=Moe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Moe(t){var e=Doe(t,"string");return Xu(e)=="symbol"?e:e+""}function Doe(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A5=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,p;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],g=0,y=4;g<y;g++)h[g]=a[g]>o?o:a[g];p="M".concat(e,",").concat(r+c*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(r)),p+="L ".concat(e+n-d*h[1],",").concat(r),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+c*h[1])),p+="L ".concat(e+n,",").concat(r+i-c*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-d*h[2],",").concat(r+i)),p+="L ".concat(e+d*h[3],",").concat(r+i),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-c*h[3])),p+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);p="M ".concat(e,",").concat(r+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+d*b,",").concat(r,`
            L `).concat(e+n-d*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(r+c*b,`
            L `).concat(e+n,",").concat(r+i-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-d*b,",").concat(r+i,`
            L `).concat(e+d*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(r+i-c*b," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},zoe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(a,a+c),p=Math.max(a,a+c),h=Math.min(o,o+d),g=Math.max(o,o+d);return n>=f&&n<=p&&i>=h&&i<=g}return!1},Loe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BS=function(e){var r=k5(k5({},Loe),e),n=P.useRef(),i=P.useState(-1),a=Coe(i,2),o=a[0],c=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&c(C)}catch{}},[]);var d=r.x,f=r.y,p=r.width,h=r.height,g=r.radius,y=r.className,b=r.animationEasing,w=r.animationDuration,x=r.animationBegin,S=r.isAnimationActive,k=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||p===0||h===0)return null;var _=tt("recharts-rectangle",y);return k?z.createElement(Si,{canBegin:o>0,from:{width:p,height:h,x:d,y:f},to:{width:p,height:h,x:d,y:f},duration:w,animationEasing:b,isActive:k},function(C){var N=C.width,A=C.height,E=C.x,O=C.y;return z.createElement(Si,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:S,easing:b},z.createElement("path",op({},Ke(r,!0),{className:_,d:A5(E,O,N,A,g),ref:n})))}):z.createElement("path",op({},Ke(r,!0),{className:_,d:A5(d,f,p,h,g)}))};function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N1.apply(this,arguments)}var fm=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=tt("recharts-dot",a);return r===+r&&n===+n&&i===+i?P.createElement("circle",N1({},Ke(e,!1),Ah(e),{className:o,cx:r,cy:n,r:i})):null};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}var Boe=["x","y","top","left","width","height","className"];function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k1.apply(this,arguments)}function T5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Foe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(r),!0).forEach(function(n){qoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qoe(t,e,r){return e=Uoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uoe(t){var e=Voe(t,"string");return Yu(e)=="symbol"?e:e+""}function Voe(t,e){if(Yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Woe(t,e){if(t==null)return{};var r=Hoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Goe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Koe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,c=o===void 0?0:o,d=e.left,f=d===void 0?0:d,p=e.width,h=p===void 0?0:p,g=e.height,y=g===void 0?0:g,b=e.className,w=Woe(e,Boe),x=Foe({x:n,y:a,top:c,left:f,width:h,height:y},w);return!we(n)||!we(a)||!we(h)||!we(y)||!we(c)||!we(f)?null:z.createElement("path",k1({},Ke(x,!0),{className:tt("recharts-cross",b),d:Goe(n,a,h,y,c,f)}))},yb,P5;function Xoe(){if(P5)return yb;P5=1;var t=XM(),e=t(Object.getPrototypeOf,Object);return yb=e,yb}var xb,C5;function Yoe(){if(C5)return xb;C5=1;var t=ia(),e=Xoe(),r=aa(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,c=a.hasOwnProperty,d=o.call(Object);function f(p){if(!r(p)||t(p)!=n)return!1;var h=e(p);if(h===null)return!0;var g=c.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==d}return xb=f,xb}var Joe=Yoe();const Qoe=pt(Joe);var bb,E5;function Zoe(){if(E5)return bb;E5=1;var t=ia(),e=aa(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return bb=n,bb}var ele=Zoe();const tle=pt(ele);function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lp.apply(this,arguments)}function rle(t,e){return sle(t)||ale(t,e)||ile(t,e)||nle()}function nle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ile(t,e){if(t){if(typeof t=="string")return O5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O5(t,e)}}function O5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ale(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function sle(t){if(Array.isArray(t))return t}function I5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(r),!0).forEach(function(n){ole(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ole(t,e,r){return e=lle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lle(t){var e=cle(t,"string");return Ju(e)=="symbol"?e:e+""}function cle(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $5=function(e,r,n,i,a){var o=n-i,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-o/2,",").concat(r+a),c+="L ".concat(e+n-o/2-i,",").concat(r+a),c+="L ".concat(e,",").concat(r," Z"),c},ule={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dle=function(e){var r=R5(R5({},ule),e),n=P.useRef(),i=P.useState(-1),a=rle(i,2),o=a[0],c=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&c(_)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,h=r.lowerWidth,g=r.height,y=r.className,b=r.animationEasing,w=r.animationDuration,x=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||g!==+g||p===0&&h===0||g===0)return null;var k=tt("recharts-trapezoid",y);return S?z.createElement(Si,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:p,lowerWidth:h,height:g,x:d,y:f},duration:w,animationEasing:b,isActive:S},function(_){var C=_.upperWidth,N=_.lowerWidth,A=_.height,E=_.x,O=_.y;return z.createElement(Si,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:b},z.createElement("path",lp({},Ke(r,!0),{className:k,d:$5(E,O,C,N,A),ref:n})))}):z.createElement("g",null,z.createElement("path",lp({},Ke(r,!0),{className:k,d:$5(d,f,p,h,g)})))},fle=["option","shapeType","propTransformer","activeClassName","isActive"];function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function hle(t,e){if(t==null)return{};var r=ple(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ple(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function M5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M5(Object(r),!0).forEach(function(n){mle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mle(t,e,r){return e=gle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gle(t){var e=vle(t,"string");return Qu(e)=="symbol"?e:e+""}function vle(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yle(t,e){return cp(cp({},e),t)}function xle(t,e){return t==="symbols"}function D5(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(BS,r);case"trapezoid":return z.createElement(dle,r);case"sector":return z.createElement(SD,r);case"symbols":if(xle(e))return z.createElement(aS,r);break;default:return null}}function ble(t){return P.isValidElement(t)?t.props:t}function wle(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?yle:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,c=t.isActive,d=hle(t,fle),f;if(P.isValidElement(e))f=P.cloneElement(e,cp(cp({},d),ble(e)));else if(Ge(e))f=e(d);else if(Qoe(e)&&!tle(e)){var p=i(e,d);f=z.createElement(D5,{shapeType:r,elementProps:p})}else{var h=d;f=z.createElement(D5,{shapeType:r,elementProps:h})}return c?z.createElement(wt,{className:o},f):f}function hm(t,e){return e!=null&&"trapezoids"in t.props}function pm(t,e){return e!=null&&"sectors"in t.props}function Zu(t,e){return e!=null&&"points"in t.props}function jle(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Sle(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function _le(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Nle(t,e){var r;return hm(t,e)?r=jle:pm(t,e)?r=Sle:Zu(t,e)&&(r=_le),r}function kle(t,e){var r;return hm(t,e)?r="trapezoids":pm(t,e)?r="sectors":Zu(t,e)&&(r="points"),r}function Ale(t,e){if(hm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(pm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Zu(t,e)?e.payload:{}}function Tle(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=kle(r,e),a=Ale(r,e),o=n.filter(function(d,f){var p=ml(a,d),h=r.props[i].filter(function(b){var w=Nle(r,e);return w(b,e)}),g=r.props[i].indexOf(h[h.length-1]),y=f===g;return p&&y}),c=n.indexOf(o[o.length-1]);return c}var wb,z5;function Ple(){if(z5)return wb;z5=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var c=-1,d=e(t((i-n)/(a||1)),0),f=Array(d);d--;)f[o?d:++c]=n,n+=a;return f}return wb=r,wb}var jb,L5;function ED(){if(L5)return jb;L5=1;var t=d3(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return jb=n,jb}var Sb,B5;function Cle(){if(B5)return Sb;B5=1;var t=Ple(),e=rm(),r=ED();function n(i){return function(a,o,c){return c&&typeof c!="number"&&e(a,o,c)&&(o=c=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),c=c===void 0?a<o?1:-1:r(c),t(a,o,c,i)}}return Sb=n,Sb}var _b,F5;function Ele(){if(F5)return _b;F5=1;var t=Cle(),e=t();return _b=e,_b}var Ole=Ele();const up=pt(Ole);function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function q5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q5(Object(r),!0).forEach(function(n){OD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OD(t,e,r){return e=Ile(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ile(t){var e=Rle(t,"string");return ed(e)=="symbol"?e:e+""}function Rle(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $le=["Webkit","Moz","O","ms"],Mle=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=$le.reduce(function(a,o){return U5(U5({},a),{},OD({},o+n,r))},{});return i[e]=r,i};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dp.apply(this,arguments)}function V5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(r),!0).forEach(function(n){fn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RD(n.key),n)}}function zle(t,e,r){return e&&W5(t.prototype,e),r&&W5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lle(t,e,r){return e=fp(e),Ble(t,ID()?Reflect.construct(e,r||[],fp(t).constructor):e.apply(t,r))}function Ble(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fle(t)}function Fle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ID(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ID=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(t)}function qle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A1(t,e)}function A1(t,e){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A1(t,e)}function fn(t,e,r){return e=RD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RD(t){var e=Ule(t,"string");return yl(e)=="symbol"?e:e+""}function Ule(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vle=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=su().domain(up(0,d)).range([a,a+o-c]),p=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:p}},H5=function(e){return e.changedTouches&&!!e.changedTouches.length},xl=(function(t){function e(r){var n;return Dle(this,e),n=Lle(this,e,[r]),fn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),fn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),fn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,c=i.startIndex;o?.({endIndex:a,startIndex:c})}),n.detachDragEndListener()}),fn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),fn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),fn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),fn(n,"handleSlideDragStart",function(i){var a=H5(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qle(e,t),zle(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,p=f.length-1,h=Math.min(i,a),g=Math.max(i,a),y=e.getIndexInRange(o,h),b=e.getIndexInRange(o,g);return{startIndex:y-y%d,endIndex:b===p?p:b-b%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,c=i.dataKey,d=Wr(a[n],c,n);return Ge(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,c=i.endX,d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.startIndex,y=d.endIndex,b=d.onChange,w=n.pageX-a;w>0?w=Math.min(w,f+p-h-c,f+p-h-o):w<0&&(w=Math.max(w,f-o,f-c));var x=this.getIndex({startX:o+w,endX:c+w});(x.startIndex!==g||x.endIndex!==y)&&b&&b(x),this.setState({startX:o+w,endX:c+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=H5(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,c=i.endX,d=i.startX,f=this.state[o],p=this.props,h=p.x,g=p.width,y=p.travellerWidth,b=p.onChange,w=p.gap,x=p.data,S={startX:this.state.startX,endX:this.state.endX},k=n.pageX-a;k>0?k=Math.min(k,h+g-y-f):k<0&&(k=Math.max(k,h-f)),S[o]=f+k;var _=this.getIndex(S),C=_.startIndex,N=_.endIndex,A=function(){var O=x.length-1;return o==="startX"&&(c>d?C%w===0:N%w===0)||c<d&&N===O||o==="endX"&&(c>d?N%w===0:C%w===0)||c>d&&N===O};this.setState(fn(fn({},o,f+k),"brushMoveStartX",n.pageX),function(){b&&A()&&b(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,c=o.scaleValues,d=o.startX,f=o.endX,p=this.state[i],h=c.indexOf(p);if(h!==-1){var g=h+n;if(!(g===-1||g>=c.length)){var y=c[g];i==="startX"&&y>=f||i==="endX"&&y<=d||this.setState(fn({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,c=n.height,d=n.fill,f=n.stroke;return z.createElement("rect",{stroke:f,fill:d,x:i,y:a,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,c=n.height,d=n.data,f=n.children,p=n.padding,h=P.Children.only(f);return h?z.cloneElement(h,{x:i,y:a,width:o,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,c=this,d=this.props,f=d.y,p=d.travellerWidth,h=d.height,g=d.traveller,y=d.ariaLabel,b=d.data,w=d.startIndex,x=d.endIndex,S=Math.max(n,this.props.x),k=Nb(Nb({},Ke(this.props,!1)),{},{x:S,y:f,width:p,height:h}),_=y||"Min value: ".concat((a=b[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[x])===null||o===void 0?void 0:o.name);return z.createElement(wt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,k))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,c=a.height,d=a.stroke,f=a.travellerWidth,p=Math.min(n,i)+f,h=Math.max(Math.abs(i-n)-f,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:o,width:h,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,c=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,h=p.startX,g=p.endX,y=5,b={pointerEvents:"none",fill:f};return z.createElement(wt,{className:"recharts-brush-texts"},z.createElement(Lh,dp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-y,y:o+c/2},b),this.getTextOfTick(i)),z.createElement(Lh,dp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+d+y,y:o+c/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,c=n.x,d=n.y,f=n.width,p=n.height,h=n.alwaysShowText,g=this.state,y=g.startX,b=g.endX,w=g.isTextActive,x=g.isSlideMoving,S=g.isTravellerMoving,k=g.isTravellerFocused;if(!i||!i.length||!we(c)||!we(d)||!we(f)||!we(p)||f<=0||p<=0)return null;var _=tt("recharts-brush",a),C=z.Children.count(o)===1,N=Mle("userSelect","none");return z.createElement(wt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(y,b),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(b,"endX"),(w||x||S||k||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,c=n.height,d=n.stroke,f=Math.floor(a+c/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:a,width:o,height:c,fill:d,stroke:"none"}),z.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return z.isValidElement(n)?a=z.cloneElement(n,i):Ge(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,c=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,h=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return Nb({prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:o},a&&a.length?Vle({data:a,width:o,x:c,travellerWidth:d,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||c!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([c,c+o-d]);var g=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,c=a-1;c-o>1;){var d=Math.floor((o+c)/2);n[d]>i?c=d:o=d}return i>=n[c]?c:o}}])})(P.PureComponent);fn(xl,"displayName","Brush");fn(xl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var kb,G5;function Wle(){if(G5)return kb;G5=1;var t=fS();function e(r,n){var i;return t(r,function(a,o,c){return i=n(a,o,c),!i}),!!i}return kb=e,kb}var Ab,K5;function Hle(){if(K5)return Ab;K5=1;var t=qM(),e=Ya(),r=Wle(),n=nn(),i=rm();function a(o,c,d){var f=n(o)?t:r;return d&&i(o,c,d)&&(c=void 0),f(o,e(c,3))}return Ab=a,Ab}var Gle=Hle();const Kle=pt(Gle);var xi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Tb,X5;function Xle(){if(X5)return Tb;X5=1;var t=s3();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Tb=e,Tb}var Pb,Y5;function Yle(){if(Y5)return Pb;Y5=1;var t=Xle(),e=i3(),r=Ya();function n(i,a){var o={};return a=r(a,3),e(i,function(c,d,f){t(o,d,a(c,d,f))}),o}return Pb=n,Pb}var Jle=Yle();const Qle=pt(Jle);var Cb,J5;function Zle(){if(J5)return Cb;J5=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Cb=t,Cb}var Eb,Q5;function ece(){if(Q5)return Eb;Q5=1;var t=fS();function e(r,n){var i=!0;return t(r,function(a,o,c){return i=!!n(a,o,c),i}),i}return Eb=e,Eb}var Ob,Z5;function tce(){if(Z5)return Ob;Z5=1;var t=Zle(),e=ece(),r=Ya(),n=nn(),i=rm();function a(o,c,d){var f=n(o)?t:e;return d&&i(o,c,d)&&(c=void 0),f(o,r(c,3))}return Ob=a,Ob}var rce=tce();const $D=pt(rce);var nce=["x","y"];function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function T1(){return T1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T1.apply(this,arguments)}function eI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(r),!0).forEach(function(n){ice(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ice(t,e,r){return e=ace(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ace(t){var e=sce(t,"string");return td(e)=="symbol"?e:e+""}function sce(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oce(t,e){if(t==null)return{};var r=lce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cce(t,e){var r=t.x,n=t.y,i=oce(t,nce),a="".concat(r),o=parseInt(a,10),c="".concat(n),d=parseInt(c,10),f="".concat(e.height||i.height),p=parseInt(f,10),h="".concat(e.width||i.width),g=parseInt(h,10);return Vc(Vc(Vc(Vc(Vc({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:p,width:g,name:e.name,radius:e.radius})}function tI(t){return z.createElement(wle,T1({shapeType:"rectangle",propTransformer:cce,activeClassName:"recharts-active-bar"},t))}var uce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=we(n)||vY(n);return a?e(n,i):(a||Us(),r)}},dce=["value","background"],MD;function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function fce(t,e){if(t==null)return{};var r=hce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hp.apply(this,arguments)}function rI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(r),!0).forEach(function(n){Fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zD(n.key),n)}}function mce(t,e,r){return e&&nI(t.prototype,e),r&&nI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gce(t,e,r){return e=pp(e),vce(t,DD()?Reflect.construct(e,r||[],pp(t).constructor):e.apply(t,r))}function vce(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yce(t)}function yce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pp(t)}function xce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P1(t,e)}function P1(t,e){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P1(t,e)}function Fa(t,e,r){return e=zD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zD(t){var e=bce(t,"string");return bl(e)=="symbol"?e:e+""}function bce(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bd=(function(t){function e(){var r;pce(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=gce(this,e,[].concat(i)),Fa(r,"state",{isAnimationFinished:!1}),Fa(r,"id",Bl("recharts-bar-")),Fa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Fa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return xce(e,t),mce(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,c=a.dataKey,d=a.activeIndex,f=a.activeBar,p=Ke(this.props,!1);return n&&n.map(function(h,g){var y=g===d,b=y?f:o,w=Xt(Xt(Xt({},p),h),{},{isActive:y,option:b,index:g,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(wt,hp({className:"recharts-bar-rectangle"},Th(i.props,h,g),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(g)}),z.createElement(tI,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,p=i.animationEasing,h=i.animationId,g=this.state.prevData;return z.createElement(Si,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t,w=a.map(function(x,S){var k=g&&g[S];if(k){var _=kr(k.x,x.x),C=kr(k.y,x.y),N=kr(k.width,x.width),A=kr(k.height,x.height);return Xt(Xt({},x),{},{x:_(b),y:C(b),width:N(b),height:A(b)})}if(o==="horizontal"){var E=kr(0,x.height),O=E(b);return Xt(Xt({},x),{},{y:x.y+x.height-O,height:O})}var R=kr(0,x.width),H=R(b);return Xt(Xt({},x),{},{width:H})});return z.createElement(wt,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ml(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,c=i.activeIndex,d=Ke(this.props.background,!1);return a.map(function(f,p){f.value;var h=f.background,g=fce(f,dce);if(!h)return null;var y=Xt(Xt(Xt(Xt(Xt({},g),{},{fill:"#eee"},h),d),Th(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return z.createElement(tI,hp({key:"background-bar-".concat(p),option:n.props.background,isActive:p===c},y))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,c=a.xAxis,d=a.yAxis,f=a.layout,p=a.children,h=Mn(p,xd);if(!h)return null;var g=f==="vertical"?o[0].height/2:o[0].width/2,y=function(x,S){var k=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:k,errorVal:Wr(x,S)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(wt,b,h.map(function(w){return z.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:o,xAxis:c,yAxis:d,layout:f,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,c=n.xAxis,d=n.yAxis,f=n.left,p=n.top,h=n.width,g=n.height,y=n.isAnimationActive,b=n.background,w=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,S=tt("recharts-bar",o),k=c&&c.allowDataOverflow,_=d&&d.allowDataOverflow,C=k||_,N=Qe(w)?this.id:w;return z.createElement(wt,{className:S},k||_?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(N)},z.createElement("rect",{x:k?f:f-h/2,y:_?p:p-g/2,width:k?h:h*2,height:_?g:g*2}))):null,z.createElement(wt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(N,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,N),(!y||x)&&Gi.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(P.PureComponent);MD=bd;Fa(bd,"displayName","Bar");Fa(bd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fa(bd,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,p=t.dataStartIndex,h=t.displayedData,g=t.offset,y=$ie(n,r);if(!y)return null;var b=e.layout,w=r.type.defaultProps,x=w!==void 0?Xt(Xt({},w),r.props):r.props,S=x.dataKey,k=x.children,_=x.minPointSize,C=b==="horizontal"?o:a,N=f?C.scale.domain():null,A=Uie({numericAxis:C}),E=Mn(k,p3),O=h.map(function(R,H){var B,D,$,V,J,K;f?B=Mie(f[p+H],N):(B=Wr(R,S),Array.isArray(B)||(B=[A,B]));var U=uce(_,MD.defaultProps.minPointSize)(B[1],H);if(b==="horizontal"){var M,Q=[o.scale(B[0]),o.scale(B[1])],ee=Q[0],L=Q[1];D=UO({axis:a,ticks:c,bandSize:i,offset:y.offset,entry:R,index:H}),$=(M=L??ee)!==null&&M!==void 0?M:void 0,V=y.size;var q=ee-L;if(J=Number.isNaN(q)?0:q,K={x:D,y:o.y,width:V,height:o.height},Math.abs(U)>0&&Math.abs(J)<Math.abs(U)){var X=ri(J||U)*(Math.abs(U)-Math.abs(J));$-=X,J+=X}}else{var se=[a.scale(B[0]),a.scale(B[1])],pe=se[0],re=se[1];if(D=pe,$=UO({axis:o,ticks:d,bandSize:i,offset:y.offset,entry:R,index:H}),V=re-pe,J=y.size,K={x:a.x,y:$,width:a.width,height:J},Math.abs(U)>0&&Math.abs(V)<Math.abs(U)){var he=ri(V||U)*(Math.abs(U)-Math.abs(V));V+=he}}return Xt(Xt(Xt({},R),{},{x:D,y:$,width:V,height:J,value:f?B:B[1],payload:R,background:K},E&&E[H]&&E[H].props),{},{tooltipPayload:[bD(r,R)],tooltipPosition:{x:D+V/2,y:$+J/2}})});return Xt({data:O,layout:b},g)});function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function wce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LD(n.key),n)}}function jce(t,e,r){return e&&iI(t.prototype,e),r&&iI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(r),!0).forEach(function(n){mm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mm(t,e,r){return e=LD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LD(t){var e=Sce(t,"string");return rd(e)=="symbol"?e:e+""}function Sce(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BD=function(e,r,n,i,a){var o=e.width,c=e.height,d=e.layout,f=e.children,p=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},g=!!hn(f,bd);return p.reduce(function(y,b){var w=r[b],x=w.orientation,S=w.domain,k=w.padding,_=k===void 0?{}:k,C=w.mirror,N=w.reversed,A="".concat(x).concat(C?"Mirror":""),E,O,R,H,B;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var D=S[1]-S[0],$=1/0,V=w.categoricalDomain.sort(bY);if(V.forEach(function(se,pe){pe>0&&($=Math.min((se||0)-(V[pe-1]||0),$))}),Number.isFinite($)){var J=$/D,K=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(E=J*K/2),w.padding==="no-gap"){var U=Fs(e.barCategoryGap,J*K),M=J*K/2;E=M-U-(M-U)/K*U}}}i==="xAxis"?O=[n.left+(_.left||0)+(E||0),n.left+n.width-(_.right||0)-(E||0)]:i==="yAxis"?O=d==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(E||0),n.top+n.height-(_.bottom||0)-(E||0)]:O=w.range,N&&(O=[O[1],O[0]]);var Q=Iie(w,a,g),ee=Q.scale,L=Q.realScaleType;ee.domain(S).range(O),Rie(ee);var q=qie(ee,Zn(Zn({},w),{},{realScaleType:L}));i==="xAxis"?(B=x==="top"&&!C||x==="bottom"&&C,R=n.left,H=h[A]-B*w.height):i==="yAxis"&&(B=x==="left"&&!C||x==="right"&&C,R=h[A]-B*w.width,H=n.top);var X=Zn(Zn(Zn({},w),q),{},{realScaleType:L,x:R,y:H,scale:ee,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return X.bandSize=ep(X,q),!w.hide&&i==="xAxis"?h[A]+=(B?-1:1)*X.height:w.hide||(h[A]+=(B?-1:1)*X.width),Zn(Zn({},y),{},mm({},b,X))},{})},FD=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},_ce=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return FD({x:r,y:n},{x:i,y:a})},qD=(function(){function t(e){wce(this,t),this.scale=e}return jce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();mm(qD,"EPS",1e-4);var FS=function(e){var r=Object.keys(e).reduce(function(n,i){return Zn(Zn({},n),{},mm({},i,qD.create(e[i])))},{});return Zn(Zn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,c=a.position;return Qle(i,function(d,f){return r[f].apply(d,{bandAware:o,position:c})})},isInRange:function(i){return $D(i,function(a,o){return r[o].isInRange(a)})}})};function Nce(t){return(t%180+180)%180}var kce=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Nce(i),o=a*Math.PI/180,c=Math.atan(n/r),d=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},Ib,sI;function Ace(){if(sI)return Ib;sI=1;var t=Ya(),e=pd(),r=em();function n(i){return function(a,o,c){var d=Object(a);if(!e(a)){var f=t(o,3);a=r(a),o=function(h){return f(d[h],h,d)}}var p=i(a,o,c);return p>-1?d[f?a[p]:p]:void 0}}return Ib=n,Ib}var Rb,oI;function Tce(){if(oI)return Rb;oI=1;var t=ED();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Rb=e,Rb}var $b,lI;function Pce(){if(lI)return $b;lI=1;var t=ZM(),e=Ya(),r=Tce(),n=Math.max;function i(a,o,c){var d=a==null?0:a.length;if(!d)return-1;var f=c==null?0:r(c);return f<0&&(f=n(d+f,0)),t(a,e(o,3),f)}return $b=i,$b}var Mb,cI;function Cce(){if(cI)return Mb;cI=1;var t=Ace(),e=Pce(),r=t(e);return Mb=r,Mb}var Ece=Cce();const Oce=pt(Ece);var Ice=pM();const Rce=pt(Ice);var $ce=Rce(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),qS=P.createContext(void 0),US=P.createContext(void 0),UD=P.createContext(void 0),VD=P.createContext({}),WD=P.createContext(void 0),HD=P.createContext(0),GD=P.createContext(0),uI=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,c=e.children,d=e.width,f=e.height,p=$ce(a);return z.createElement(qS.Provider,{value:n},z.createElement(US.Provider,{value:i},z.createElement(VD.Provider,{value:a},z.createElement(UD.Provider,{value:p},z.createElement(WD.Provider,{value:o},z.createElement(HD.Provider,{value:f},z.createElement(GD.Provider,{value:d},c)))))))},Mce=function(){return P.useContext(WD)},KD=function(e){var r=P.useContext(qS);r==null&&Us();var n=r[e];return n==null&&Us(),n},Dce=function(){var e=P.useContext(qS);return za(e)},zce=function(){var e=P.useContext(US),r=Oce(e,function(n){return $D(n.domain,Number.isFinite)});return r||za(e)},XD=function(e){var r=P.useContext(US);r==null&&Us();var n=r[e];return n==null&&Us(),n},Lce=function(){var e=P.useContext(UD);return e},Bce=function(){return P.useContext(VD)},VS=function(){return P.useContext(GD)},WS=function(){return P.useContext(HD)};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function Fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JD(n.key),n)}}function Uce(t,e,r){return e&&qce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vce(t,e,r){return e=mp(e),Wce(t,YD()?Reflect.construct(e,r||[],mp(t).constructor):e.apply(t,r))}function Wce(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hce(t)}function Hce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YD=function(){return!!t})()}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mp(t)}function Gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C1(t,e)}function C1(t,e){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C1(t,e)}function dI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(r),!0).forEach(function(n){HS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HS(t,e,r){return e=JD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JD(t){var e=Kce(t,"string");return wl(e)=="symbol"?e:e+""}function Kce(t,e){if(wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Xce(t,e){return Zce(t)||Qce(t,e)||Jce(t,e)||Yce()}function Yce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jce(t,e){if(t){if(typeof t=="string")return hI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(t,e)}}function hI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function Zce(t){if(Array.isArray(t))return t}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E1.apply(this,arguments)}var eue=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):Ge(e)?n=e(r):n=z.createElement("line",E1({},r,{className:"recharts-reference-line-line"})),n},tue=function(e,r,n,i,a,o,c,d,f){var p=a.x,h=a.y,g=a.width,y=a.height;if(n){var b=f.y,w=e.y.apply(b,{position:o});if(xi(f,"discard")&&!e.y.isInRange(w))return null;var x=[{x:p+g,y:w},{x:p,y:w}];return d==="left"?x.reverse():x}if(r){var S=f.x,k=e.x.apply(S,{position:o});if(xi(f,"discard")&&!e.x.isInRange(k))return null;var _=[{x:k,y:h+y},{x:k,y:h}];return c==="top"?_.reverse():_}if(i){var C=f.segment,N=C.map(function(A){return e.apply(A,{position:o})});return xi(f,"discard")&&Kle(N,function(A){return!e.isInRange(A)})?null:N}return null};function rue(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,c=t.className,d=t.alwaysShow,f=Mce(),p=KD(i),h=XD(a),g=Lce();if(!f||!g)return null;Wi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=FS({x:p.scale,y:h.scale}),b=lr(e),w=lr(r),x=n&&n.length===2,S=tue(y,b,w,x,g,t.position,p.orientation,h.orientation,t);if(!S)return null;var k=Xce(S,2),_=k[0],C=_.x,N=_.y,A=k[1],E=A.x,O=A.y,R=xi(t,"hidden")?"url(#".concat(f,")"):void 0,H=fI(fI({clipPath:R},Ke(t,!0)),{},{x1:C,y1:N,x2:E,y2:O});return z.createElement(wt,{className:tt("recharts-reference-line",c)},eue(o,H),$r.renderCallByParent(t,_ce({x1:C,y1:N,x2:E,y2:O})))}var GS=(function(t){function e(){return Fce(this,e),Vce(this,e,arguments)}return Gce(e,t),Uce(e,[{key:"render",value:function(){return z.createElement(rue,this.props)}}])})(z.Component);HS(GS,"displayName","ReferenceLine");HS(GS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O1.apply(this,arguments)}function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function pI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(r),!0).forEach(function(n){gm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZD(n.key),n)}}function aue(t,e,r){return e&&iue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sue(t,e,r){return e=gp(e),oue(t,QD()?Reflect.construct(e,r||[],gp(t).constructor):e.apply(t,r))}function oue(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lue(t)}function lue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QD=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gp(t)}function cue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I1(t,e)}function I1(t,e){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I1(t,e)}function gm(t,e,r){return e=ZD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZD(t){var e=uue(t,"string");return jl(e)=="symbol"?e:e+""}function uue(t,e){if(jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var due=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=FS({x:i.scale,y:a.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return xi(e,"discard")&&!o.isInRange(c)?null:c},vm=(function(t){function e(){return nue(this,e),sue(this,e,arguments)}return cue(e,t),aue(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,c=n.alwaysShow,d=n.clipPathId,f=lr(i),p=lr(a);if(Wi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var h=due(this.props);if(!h)return null;var g=h.x,y=h.y,b=this.props,w=b.shape,x=b.className,S=xi(this.props,"hidden")?"url(#".concat(d,")"):void 0,k=mI(mI({clipPath:S},Ke(this.props,!0)),{},{cx:g,cy:y});return z.createElement(wt,{className:tt("recharts-reference-dot",x)},e.renderDot(w,k),$r.renderCallByParent(this.props,{x:g-o,y:y-o,width:2*o,height:2*o}))}}])})(z.Component);gm(vm,"displayName","ReferenceDot");gm(vm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gm(vm,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ge(t)?r=t(e):r=z.createElement(fm,O1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R1.apply(this,arguments)}function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function gI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(r),!0).forEach(function(n){ym(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tz(n.key),n)}}function pue(t,e,r){return e&&hue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mue(t,e,r){return e=vp(e),gue(t,ez()?Reflect.construct(e,r||[],vp(t).constructor):e.apply(t,r))}function gue(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vue(t)}function vue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ez(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ez=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vp(t)}function yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$1(t,e)}function $1(t,e){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$1(t,e)}function ym(t,e,r){return e=tz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tz(t){var e=xue(t,"string");return Sl(e)=="symbol"?e:e+""}function xue(t,e){if(Sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bue=function(e,r,n,i,a){var o=a.x1,c=a.x2,d=a.y1,f=a.y2,p=a.xAxis,h=a.yAxis;if(!p||!h)return null;var g=FS({x:p.scale,y:h.scale}),y={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(d,{position:"start"}):g.y.rangeMin},b={x:r?g.x.apply(c,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return xi(a,"discard")&&(!g.isInRange(y)||!g.isInRange(b))?null:FD(y,b)},xm=(function(t){function e(){return fue(this,e),mue(this,e,arguments)}return yue(e,t),pue(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,c=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;Wi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=lr(i),g=lr(a),y=lr(o),b=lr(c),w=this.props.shape;if(!h&&!g&&!y&&!b&&!w)return null;var x=bue(h,g,y,b,this.props);if(!x&&!w)return null;var S=xi(this.props,"hidden")?"url(#".concat(p,")"):void 0;return z.createElement(wt,{className:tt("recharts-reference-area",d)},e.renderRect(w,vI(vI({clipPath:S},Ke(this.props,!0)),x)),$r.renderCallByParent(this.props,x))}}])})(z.Component);ym(xm,"displayName","ReferenceArea");ym(xm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ym(xm,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ge(t)?r=t(e):r=z.createElement(BS,R1({},e,{className:"recharts-reference-area-rect"})),r});function rz(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function wue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return kce(n,r)}function jue(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,c=t.height;return e===1?{start:n?i:a,end:n?i+o:a+c}:{start:n?i+o:a+c,end:n?i:a}}function yp(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Sue(t,e){return rz(t,e+1)}function _ue(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,c=e.end,d=0,f=1,p=o,h=function(){var b=n?.[d];if(b===void 0)return{v:rz(n,f)};var w=d,x,S=function(){return x===void 0&&(x=r(b,w)),x},k=b.coordinate,_=d===0||yp(t,k,S,p,c);_||(d=0,p=o,f+=1),_&&(p=k+t*(S()/2+i),d+=f)},g;f<=a.length;)if(g=h(),g)return g.v;return[]}function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function yI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(r),!0).forEach(function(n){Nue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nue(t,e,r){return e=kue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kue(t){var e=Aue(t,"string");return nd(e)=="symbol"?e:e+""}function Aue(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tue(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,c=e.start,d=e.end,f=function(g){var y=a[g],b,w=function(){return b===void 0&&(b=r(y,g)),b};if(g===o-1){var x=t*(y.coordinate+t*w()/2-d);a[g]=y=Ir(Ir({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else a[g]=y=Ir(Ir({},y),{},{tickCoord:y.coordinate});var S=yp(t,y.tickCoord,w,c,d);S&&(d=y.tickCoord-t*(w()/2+i),a[g]=Ir(Ir({},y),{},{isShow:!0}))},p=o-1;p>=0;p--)f(p);return a}function Pue(t,e,r,n,i,a){var o=(n||[]).slice(),c=o.length,d=e.start,f=e.end;if(a){var p=n[c-1],h=r(p,c-1),g=t*(p.coordinate+t*h/2-f);o[c-1]=p=Ir(Ir({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate});var y=yp(t,p.tickCoord,function(){return h},d,f);y&&(f=p.tickCoord-t*(h/2+i),o[c-1]=Ir(Ir({},p),{},{isShow:!0}))}for(var b=a?c-1:c,w=function(k){var _=o[k],C,N=function(){return C===void 0&&(C=r(_,k)),C};if(k===0){var A=t*(_.coordinate-t*N()/2-d);o[k]=_=Ir(Ir({},_),{},{tickCoord:A<0?_.coordinate-A*t:_.coordinate})}else o[k]=_=Ir(Ir({},_),{},{tickCoord:_.coordinate});var E=yp(t,_.tickCoord,N,d,f);E&&(d=_.tickCoord+t*(N()/2+i),o[k]=Ir(Ir({},_),{},{isShow:!0}))},x=0;x<b;x++)w(x);return o}function KS(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,c=t.orientation,d=t.interval,f=t.tickFormatter,p=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(we(d)||Gs.isSsr)return Sue(i,typeof d=="number"&&we(d)?d:0);var g=[],y=c==="top"||c==="bottom"?"width":"height",b=p&&y==="width"?au(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(_,C){var N=Ge(f)?f(_.value,C):_.value;return y==="width"?wue(au(N,{fontSize:e,letterSpacing:r}),b,h):au(N,{fontSize:e,letterSpacing:r})[y]},x=i.length>=2?ri(i[1].coordinate-i[0].coordinate):1,S=jue(a,x,y);return d==="equidistantPreserveStart"?_ue(x,S,w,i,o):(d==="preserveStart"||d==="preserveStartEnd"?g=Pue(x,S,w,i,o,d==="preserveStartEnd"):g=Tue(x,S,w,i,o),g.filter(function(k){return k.isShow}))}var Cue=["viewBox"],Eue=["viewBox"],Oue=["ticks"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Go.apply(this,arguments)}function xI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(r),!0).forEach(function(n){XS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Db(t,e){if(t==null)return{};var r=Iue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iz(n.key),n)}}function $ue(t,e,r){return e&&bI(t.prototype,e),r&&bI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mue(t,e,r){return e=xp(e),Due(t,nz()?Reflect.construct(e,r||[],xp(t).constructor):e.apply(t,r))}function Due(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zue(t)}function zue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nz=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xp(t)}function Lue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M1(t,e)}function M1(t,e){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M1(t,e)}function XS(t,e,r){return e=iz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iz(t){var e=Bue(t,"string");return _l(e)=="symbol"?e:e+""}function Bue(t,e){if(_l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wl=(function(t){function e(r){var n;return Rue(this,e),n=Mue(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Lue(e,t),$ue(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Db(n,Cue),c=this.props,d=c.viewBox,f=Db(c,Eue);return!Zo(a,d)||!Zo(o,f)||!Zo(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,c=i.width,d=i.height,f=i.orientation,p=i.tickSize,h=i.mirror,g=i.tickMargin,y,b,w,x,S,k,_=h?-1:1,C=n.tickSize||p,N=we(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":y=b=n.coordinate,x=o+ +!h*d,w=x-_*C,k=w-_*g,S=N;break;case"left":w=x=n.coordinate,b=a+ +!h*c,y=b-_*C,S=y-_*g,k=N;break;case"right":w=x=n.coordinate,b=a+ +h*c,y=b+_*C,S=y+_*g,k=N;break;default:y=b=n.coordinate,x=o+ +h*d,w=x+_*C,k=w+_*g,S=N;break}return{line:{x1:y,y1:w,x2:b,y2:x},tick:{x:S,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,c=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,h=ir(ir(ir({},Ke(this.props,!1)),Ke(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);h=ir(ir({},h),{},{x1:i,y1:a+g*c,x2:i+o,y2:a+g*c})}else{var y=+(d==="left"&&!f||d==="right"&&f);h=ir(ir({},h),{},{x1:i+y*o,y1:a,x2:i+y*o,y2:a+c})}return z.createElement("line",Go({},h,{className:tt("recharts-cartesian-axis-line",$n(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,c=this.props,d=c.tickLine,f=c.stroke,p=c.tick,h=c.tickFormatter,g=c.unit,y=KS(ir(ir({},this.props),{},{ticks:n}),i,a),b=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=Ke(this.props,!1),S=Ke(p,!1),k=ir(ir({},x),{},{fill:"none"},Ke(d,!1)),_=y.map(function(C,N){var A=o.getTickLineCoord(C),E=A.line,O=A.tick,R=ir(ir(ir(ir({textAnchor:b,verticalAnchor:w},x),{},{stroke:"none",fill:f},S),O),{},{index:N,payload:C,visibleTicksCount:y.length,tickFormatter:h});return z.createElement(wt,Go({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Th(o.props,C,N)),d&&z.createElement("line",Go({},k,E,{className:tt("recharts-cartesian-axis-tick-line",$n(d,"className"))})),p&&e.renderTickItem(p,R,"".concat(Ge(h)?h(C.value,N):C.value).concat(g||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,c=i.height,d=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var h=this.props,g=h.ticks,y=Db(h,Oue),b=g;return Ge(d)&&(b=g&&g.length>0?d(this.props):d(y)),o<=0||c<=0||!b||!b.length?null:z.createElement(wt,{className:tt("recharts-cartesian-axis",f),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),$r.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,c=tt(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?o=z.cloneElement(n,ir(ir({},i),{},{className:c})):Ge(n)?o=n(ir(ir({},i),{},{className:c})):o=z.createElement(Lh,Go({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(P.Component);XS(Wl,"displayName","CartesianAxis");XS(Wl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Fue=["x1","y1","x2","y2","key"],que=["offset"];function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function wI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(r),!0).forEach(function(n){Uue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uue(t,e,r){return e=Vue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vue(t){var e=Wue(t,"string");return Vs(e)=="symbol"?e:e+""}function Wue(t,e){if(Vs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Is.apply(this,arguments)}function jI(t,e){if(t==null)return{};var r=Hue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Gue=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,c=e.height,d=e.ry;return z.createElement("rect",{x:i,y:a,ry:d,width:o,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function az(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Ge(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,c=e.key,d=jI(e,Fue),f=Ke(d,!1);f.offset;var p=jI(f,que);r=z.createElement("line",Is({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:c}))}return r}function Kue(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(c,d){var f=Mr(Mr({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return az(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Xue(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(c,d){var f=Mr(Mr({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return az(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Yue(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,c=t.horizontalPoints,d=t.horizontal,f=d===void 0?!0:d;if(!f||!e||!e.length)return null;var p=c.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==p[0]&&p.unshift(0);var h=p.map(function(g,y){var b=!p[y+1],w=b?i+o-g:p[y+1]-g;if(w<=0)return null;var x=y%e.length;return z.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:w,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Jue(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,c=t.width,d=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(g){return Math.round(g+a-a)}).sort(function(g,y){return g-y});a!==p[0]&&p.unshift(0);var h=p.map(function(g,y){var b=!p[y+1],w=b?a+c-g:p[y+1]-g;if(w<=0)return null;var x=y%n.length;return z.createElement("rect",{key:"react-".concat(y),x:g,y:o,width:w,height:d,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Que=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return yD(KS(Mr(Mr(Mr({},Wl.defaultProps),n),{},{ticks:Fi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Zue=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return yD(KS(Mr(Mr(Mr({},Wl.defaultProps),n),{},{ticks:Fi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Oo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function YS(t){var e,r,n,i,a,o,c=VS(),d=WS(),f=Bce(),p=Mr(Mr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Oo.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Oo.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Oo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Oo.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Oo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Oo.verticalFill,x:we(t.x)?t.x:f.left,y:we(t.y)?t.y:f.top,width:we(t.width)?t.width:f.width,height:we(t.height)?t.height:f.height}),h=p.x,g=p.y,y=p.width,b=p.height,w=p.syncWithTicks,x=p.horizontalValues,S=p.verticalValues,k=Dce(),_=zce();if(!we(y)||y<=0||!we(b)||b<=0||!we(h)||h!==+h||!we(g)||g!==+g)return null;var C=p.verticalCoordinatesGenerator||Que,N=p.horizontalCoordinatesGenerator||Zue,A=p.horizontalPoints,E=p.verticalPoints;if((!A||!A.length)&&Ge(N)){var O=x&&x.length,R=N({yAxis:_?Mr(Mr({},_),{},{ticks:O?x:_.ticks}):void 0,width:c,height:d,offset:f},O?!0:w);Wi(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vs(R),"]")),Array.isArray(R)&&(A=R)}if((!E||!E.length)&&Ge(C)){var H=S&&S.length,B=C({xAxis:k?Mr(Mr({},k),{},{ticks:H?S:k.ticks}):void 0,width:c,height:d,offset:f},H?!0:w);Wi(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vs(B),"]")),Array.isArray(B)&&(E=B)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(Gue,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),z.createElement(Kue,Is({},p,{offset:f,horizontalPoints:A,xAxis:k,yAxis:_})),z.createElement(Xue,Is({},p,{offset:f,verticalPoints:E,xAxis:k,yAxis:_})),z.createElement(Yue,Is({},p,{horizontalPoints:A})),z.createElement(Jue,Is({},p,{verticalPoints:E})))}YS.displayName="CartesianGrid";var ede=["type","layout","connectNulls","ref"],tde=["key"];function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function SI(t,e){if(t==null)return{};var r=rde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cu.apply(this,arguments)}function _I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_I(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Io(t){return sde(t)||ade(t)||ide(t)||nde()}function nde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ide(t,e){if(t){if(typeof t=="string")return D1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(t,e)}}function ade(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sde(t){if(Array.isArray(t))return D1(t)}function D1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ode(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oz(n.key),n)}}function lde(t,e,r){return e&&NI(t.prototype,e),r&&NI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cde(t,e,r){return e=bp(e),ude(t,sz()?Reflect.construct(e,r||[],bp(t).constructor):e.apply(t,r))}function ude(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dde(t)}function dde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sz=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bp(t)}function fde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z1(t,e)}function z1(t,e){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z1(t,e)}function ei(t,e,r){return e=oz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oz(t){var e=hde(t,"string");return Nl(e)=="symbol"?e:e+""}function hde(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wd=(function(t){function e(){var r;ode(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=cde(this,e,[].concat(i)),ei(r,"state",{isAnimationFinished:!0,totalLength:0}),ei(r,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),ei(r,"getStrokeDasharray",function(o,c,d){var f=d.reduce(function(S,k){return S+k});if(!f)return r.generateSimpleStrokeDasharray(c,o);for(var p=Math.floor(o/f),h=o%f,g=c-o,y=[],b=0,w=0;b<d.length;w+=d[b],++b)if(w+d[b]>h){y=[].concat(Io(d.slice(0,b)),[h-w]);break}var x=y.length%2===0?[0,g]:[g];return[].concat(Io(e.repeat(d,p)),Io(y),x).map(function(S){return"".concat(S,"px")}).join(", ")}),ei(r,"id",Bl("recharts-line-")),ei(r,"pathRef",function(o){r.mainCurve=o}),ei(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ei(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return fde(e,t),lde(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,c=a.xAxis,d=a.yAxis,f=a.layout,p=a.children,h=Mn(p,xd);if(!h)return null;var g=function(w,x){return{x:w.x,y:w.y,value:w.value,errorVal:Wr(w.payload,x)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(wt,y,h.map(function(b){return z.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:c,yAxis:d,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,f=c.points,p=c.dataKey,h=Ke(this.props,!1),g=Ke(d,!0),y=f.map(function(w,x){var S=dn(dn(dn({key:"dot-".concat(x),r:3},h),g),{},{index:x,cx:w.x,cy:w.y,value:w.value,dataKey:p,payload:w.payload,points:f});return e.renderDotItem(d,S)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return z.createElement(wt,cu({className:"recharts-line-dots",key:"dots"},b),y)}},{key:"renderCurveStatically",value:function(n,i,a,o){var c=this.props,d=c.type,f=c.layout,p=c.connectNulls;c.ref;var h=SI(c,ede),g=dn(dn(dn({},Ke(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:d,layout:f,connectNulls:p});return z.createElement(rl,cu({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,c=o.points,d=o.strokeDasharray,f=o.isAnimationActive,p=o.animationBegin,h=o.animationDuration,g=o.animationEasing,y=o.animationId,b=o.animateNewValues,w=o.width,x=o.height,S=this.state,k=S.prevPoints,_=S.totalLength;return z.createElement(Si,{begin:p,duration:h,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var N=C.t;if(k){var A=k.length/c.length,E=c.map(function(D,$){var V=Math.floor($*A);if(k[V]){var J=k[V],K=kr(J.x,D.x),U=kr(J.y,D.y);return dn(dn({},D),{},{x:K(N),y:U(N)})}if(b){var M=kr(w*2,D.x),Q=kr(x/2,D.y);return dn(dn({},D),{},{x:M(N),y:Q(N)})}return dn(dn({},D),{},{x:D.x,y:D.y})});return a.renderCurveStatically(E,n,i)}var O=kr(0,_),R=O(N),H;if(d){var B="".concat(d).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});H=a.getStrokeDasharray(R,_,B)}else H=a.generateSimpleStrokeDasharray(_,R);return a.renderCurveStatically(c,n,i,{strokeDasharray:H})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,c=a.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return c&&o&&o.length&&(!f&&p>0||!ml(f,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,c=i.points,d=i.className,f=i.xAxis,p=i.yAxis,h=i.top,g=i.left,y=i.width,b=i.height,w=i.isAnimationActive,x=i.id;if(a||!c||!c.length)return null;var S=this.state.isAnimationFinished,k=c.length===1,_=tt("recharts-line",d),C=f&&f.allowDataOverflow,N=p&&p.allowDataOverflow,A=C||N,E=Qe(x)?this.id:x,O=(n=Ke(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=O.r,H=R===void 0?3:R,B=O.strokeWidth,D=B===void 0?2:B,$=xM(o)?o:{},V=$.clipDot,J=V===void 0?!0:V,K=H*2+D;return z.createElement(wt,{className:_},C||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:C?g:g-y/2,y:N?h:h-b/2,width:C?y:y*2,height:N?b:b*2})),!J&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:g-K/2,y:h-K/2,width:y+K,height:b+K}))):null,!k&&this.renderCurve(A,E),this.renderErrorBar(A,E),(k||o)&&this.renderDots(A,J,E),(!w||S)&&Gi.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Io(n),[0]):n,o=[],c=0;c<i;++c)o=[].concat(Io(o),Io(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(z.isValidElement(n))a=z.cloneElement(n,i);else if(Ge(n))a=n(i);else{var o=i.key,c=SI(i,tde),d=tt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=z.createElement(fm,cu({key:o},c,{className:d}))}return a}}])})(P.PureComponent);ei(wd,"displayName","Line");ei(wd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Gs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ei(wd,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,c=t.bandSize,d=t.displayedData,f=t.offset,p=e.layout,h=d.map(function(g,y){var b=Wr(g,o);return p==="horizontal"?{x:Zh({axis:r,ticks:i,bandSize:c,entry:g,index:y}),y:Qe(b)?null:n.scale(b),value:b,payload:g}:{x:Qe(b)?null:r.scale(b),y:Zh({axis:n,ticks:a,bandSize:c,entry:g,index:y}),value:b,payload:g}});return dn({points:h,layout:p},f)});var pde=["layout","type","stroke","connectNulls","isRange","ref"],mde=["key"],lz;function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function cz(t,e){if(t==null)return{};var r=gde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rs.apply(this,arguments)}function kI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(r),!0).forEach(function(n){mi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dz(n.key),n)}}function yde(t,e,r){return e&&AI(t.prototype,e),r&&AI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xde(t,e,r){return e=wp(e),bde(t,uz()?Reflect.construct(e,r||[],wp(t).constructor):e.apply(t,r))}function bde(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wde(t)}function wde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uz=function(){return!!t})()}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(t)}function jde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L1(t,e)}function L1(t,e){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L1(t,e)}function mi(t,e,r){return e=dz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dz(t){var e=Sde(t,"string");return kl(e)=="symbol"?e:e+""}function Sde(t,e){if(kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ra=(function(t){function e(){var r;vde(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xde(this,e,[].concat(i)),mi(r,"state",{isAnimationFinished:!0}),mi(r,"id",Bl("recharts-area-")),mi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ge(o)&&o()}),mi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ge(o)&&o()}),r}return jde(e,t),yde(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var d=this.props,f=d.dot,p=d.points,h=d.dataKey,g=Ke(this.props,!1),y=Ke(f,!0),b=p.map(function(x,S){var k=Oa(Oa(Oa({key:"dot-".concat(S),r:3},g),y),{},{index:S,cx:x.x,cy:x.y,dataKey:h,value:x.value,payload:x.payload,points:p});return e.renderDotItem(f,k)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return z.createElement(wt,Rs({className:"recharts-area-dots"},w),b)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,c=i.strokeWidth,d=o[0].x,f=o[o.length-1].x,p=n*Math.abs(d-f),h=Ba(o.map(function(g){return g.y||0}));return we(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Ba(a.map(function(g){return g.y||0})),h)),we(h)?z.createElement("rect",{x:d<f?d:d-p,y:0,width:p,height:Math.floor(h+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,c=i.strokeWidth,d=o[0].y,f=o[o.length-1].y,p=n*Math.abs(d-f),h=Ba(o.map(function(g){return g.x||0}));return we(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Ba(a.map(function(g){return g.x||0})),h)),we(h)?z.createElement("rect",{x:0,y:d<f?d:d-p,width:h+(c?parseInt("".concat(c),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var c=this.props,d=c.layout,f=c.type,p=c.stroke,h=c.connectNulls,g=c.isRange;c.ref;var y=cz(c,pde);return z.createElement(wt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},z.createElement(rl,Rs({},Ke(y,!0),{points:n,connectNulls:h,type:f,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),p!=="none"&&z.createElement(rl,Rs({},Ke(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:h,fill:"none",points:n})),p!=="none"&&g&&z.createElement(rl,Rs({},Ke(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,c=o.points,d=o.baseLine,f=o.isAnimationActive,p=o.animationBegin,h=o.animationDuration,g=o.animationEasing,y=o.animationId,b=this.state,w=b.prevPoints,x=b.prevBaseLine;return z.createElement(Si,{begin:p,duration:h,isActive:f,easing:g,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var k=S.t;if(w){var _=w.length/c.length,C=c.map(function(O,R){var H=Math.floor(R*_);if(w[H]){var B=w[H],D=kr(B.x,O.x),$=kr(B.y,O.y);return Oa(Oa({},O),{},{x:D(k),y:$(k)})}return O}),N;if(we(d)&&typeof d=="number"){var A=kr(x,d);N=A(k)}else if(Qe(d)||Ll(d)){var E=kr(x,0);N=E(k)}else N=d.map(function(O,R){var H=Math.floor(R*_);if(x[H]){var B=x[H],D=kr(B.x,O.x),$=kr(B.y,O.y);return Oa(Oa({},O),{},{x:D(k),y:$(k)})}return O});return a.renderAreaStatically(C,N,n,i)}return z.createElement(wt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(k))),z.createElement(wt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(c,d,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,c=a.baseLine,d=a.isAnimationActive,f=this.state,p=f.prevPoints,h=f.prevBaseLine,g=f.totalLength;return d&&o&&o.length&&(!p&&g>0||!ml(p,o)||!ml(h,c))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,c,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,c=i.points,d=i.className,f=i.top,p=i.left,h=i.xAxis,g=i.yAxis,y=i.width,b=i.height,w=i.isAnimationActive,x=i.id;if(a||!c||!c.length)return null;var S=this.state.isAnimationFinished,k=c.length===1,_=tt("recharts-area",d),C=h&&h.allowDataOverflow,N=g&&g.allowDataOverflow,A=C||N,E=Qe(x)?this.id:x,O=(n=Ke(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=O.r,H=R===void 0?3:R,B=O.strokeWidth,D=B===void 0?2:B,$=xM(o)?o:{},V=$.clipDot,J=V===void 0?!0:V,K=H*2+D;return z.createElement(wt,{className:_},C||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:C?p:p-y/2,y:N?f:f-b/2,width:C?y:y*2,height:N?b:b*2})),!J&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:p-K/2,y:f-K/2,width:y+K,height:b+K}))):null,k?null:this.renderArea(A,E),(o||k)&&this.renderDots(A,J,E),(!w||S)&&Gi.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(P.PureComponent);lz=ra;mi(ra,"displayName","Area");mi(ra,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Gs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});mi(ra,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,c=o??a;if(we(c)&&typeof c=="number")return c;var d=i==="horizontal"?n:r,f=d.scale.domain();if(d.type==="number"){var p=Math.max(f[0],f[1]),h=Math.min(f[0],f[1]);return c==="dataMin"?h:c==="dataMax"||p<0?p:Math.max(Math.min(f[0],f[1]),0)}return c==="dataMin"?f[0]:c==="dataMax"?f[1]:f[0]});mi(ra,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,c=t.bandSize,d=t.dataKey,f=t.stackedData,p=t.dataStartIndex,h=t.displayedData,g=t.offset,y=e.layout,b=f&&f.length,w=lz.getBaseValue(e,r,n,i),x=y==="horizontal",S=!1,k=h.map(function(C,N){var A;b?A=f[p+N]:(A=Wr(C,d),Array.isArray(A)?S=!0:A=[w,A]);var E=A[1]==null||b&&Wr(C,d)==null;return x?{x:Zh({axis:n,ticks:a,bandSize:c,entry:C,index:N}),y:E?null:i.scale(A[1]),value:A,payload:C}:{x:E?null:n.scale(A[1]),y:Zh({axis:i,ticks:o,bandSize:c,entry:C,index:N}),value:A,payload:C}}),_;return b||S?_=k.map(function(C){var N=Array.isArray(C.value)?C.value[0]:null;return x?{x:C.x,y:N!=null&&C.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:C.y}}):_=x?i.scale(w):n.scale(w),Oa({points:k,baseLine:_,layout:y,isRange:S},g)});mi(ra,"renderDotItem",function(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Ge(t))r=t(e);else{var n=tt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=cz(e,mde);r=z.createElement(fm,Rs({},a,{key:i,className:n}))}return r});function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function _de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pz(n.key),n)}}function kde(t,e,r){return e&&Nde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ade(t,e,r){return e=jp(e),Tde(t,fz()?Reflect.construct(e,r||[],jp(t).constructor):e.apply(t,r))}function Tde(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pde(t)}function Pde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fz=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jp(t)}function Cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B1(t,e)}function B1(t,e){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B1(t,e)}function hz(t,e,r){return e=pz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pz(t){var e=Ede(t,"string");return Al(e)=="symbol"?e:e+""}function Ede(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(this,arguments)}function Ode(t){var e=t.xAxisId,r=VS(),n=WS(),i=KD(e);return i==null?null:P.createElement(Wl,F1({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Fi(o,!0)}}))}var Hl=(function(t){function e(){return _de(this,e),Ade(this,e,arguments)}return Cde(e,t),kde(e,[{key:"render",value:function(){return P.createElement(Ode,this.props)}}])})(P.Component);hz(Hl,"displayName","XAxis");hz(Hl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Ide(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vz(n.key),n)}}function $de(t,e,r){return e&&Rde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mde(t,e,r){return e=Sp(e),Dde(t,mz()?Reflect.construct(e,r||[],Sp(t).constructor):e.apply(t,r))}function Dde(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zde(t)}function zde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mz=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(t)}function Lde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q1(t,e)}function q1(t,e){return q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q1(t,e)}function gz(t,e,r){return e=vz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vz(t){var e=Bde(t,"string");return Tl(e)=="symbol"?e:e+""}function Bde(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U1.apply(this,arguments)}var Fde=function(e){var r=e.yAxisId,n=VS(),i=WS(),a=XD(r);return a==null?null:P.createElement(Wl,U1({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return Fi(c,!0)}}))},Gl=(function(t){function e(){return Ide(this,e),Mde(this,e,arguments)}return Lde(e,t),$de(e,[{key:"render",value:function(){return P.createElement(Fde,this.props)}}])})(P.Component);gz(Gl,"displayName","YAxis");gz(Gl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function TI(t){return Wde(t)||Vde(t)||Ude(t)||qde()}function qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ude(t,e){if(t){if(typeof t=="string")return V1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V1(t,e)}}function Vde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wde(t){if(Array.isArray(t))return V1(t)}function V1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var W1=function(e,r,n,i,a){var o=Mn(e,GS),c=Mn(e,vm),d=[].concat(TI(o),TI(c)),f=Mn(e,xm),p="".concat(i,"Id"),h=i[0],g=r;if(d.length&&(g=d.reduce(function(w,x){if(x.props[p]===n&&xi(x.props,"extendDomain")&&we(x.props[h])){var S=x.props[h];return[Math.min(w[0],S),Math.max(w[1],S)]}return w},g)),f.length){var y="".concat(h,"1"),b="".concat(h,"2");g=f.reduce(function(w,x){if(x.props[p]===n&&xi(x.props,"extendDomain")&&we(x.props[y])&&we(x.props[b])){var S=x.props[y],k=x.props[b];return[Math.min(w[0],S,k),Math.max(w[1],S,k)]}return w},g)}return a&&a.length&&(g=a.reduce(function(w,x){return we(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},g)),g},zb={exports:{}},PI;function Hde(){return PI||(PI=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function a(d,f,p,h,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new i(p,h||d,g),b=r?r+f:f;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],y]:d._events[b].push(y):(d._events[b]=y,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,h;if(this._eventsCount===0)return f;for(h in p=this._events)e.call(p,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=r?r+f:f,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,y=h.length,b=new Array(y);g<y;g++)b[g]=h[g].fn;return b},c.prototype.listenerCount=function(f){var p=r?r+f:f,h=this._events[p];return h?h.fn?1:h.length:0},c.prototype.emit=function(f,p,h,g,y,b){var w=r?r+f:f;if(!this._events[w])return!1;var x=this._events[w],S=arguments.length,k,_;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),S){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,h),!0;case 4:return x.fn.call(x.context,p,h,g),!0;case 5:return x.fn.call(x.context,p,h,g,y),!0;case 6:return x.fn.call(x.context,p,h,g,y,b),!0}for(_=1,k=new Array(S-1);_<S;_++)k[_-1]=arguments[_];x.fn.apply(x.context,k)}else{var C=x.length,N;for(_=0;_<C;_++)switch(x[_].once&&this.removeListener(f,x[_].fn,void 0,!0),S){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,p);break;case 3:x[_].fn.call(x[_].context,p,h);break;case 4:x[_].fn.call(x[_].context,p,h,g);break;default:if(!k)for(N=1,k=new Array(S-1);N<S;N++)k[N-1]=arguments[N];x[_].fn.apply(x[_].context,k)}}return!0},c.prototype.on=function(f,p,h){return a(this,f,p,h,!1)},c.prototype.once=function(f,p,h){return a(this,f,p,h,!0)},c.prototype.removeListener=function(f,p,h,g){var y=r?r+f:f;if(!this._events[y])return this;if(!p)return o(this,y),this;var b=this._events[y];if(b.fn)b.fn===p&&(!g||b.once)&&(!h||b.context===h)&&o(this,y);else{for(var w=0,x=[],S=b.length;w<S;w++)(b[w].fn!==p||g&&!b[w].once||h&&b[w].context!==h)&&x.push(b[w]);x.length?this._events[y]=x.length===1?x[0]:x:o(this,y)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(zb)),zb.exports}var Gde=Hde();const Kde=pt(Gde);var Lb=new Kde,Bb="recharts.syncMouseEvents";function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function Xde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yz(n.key),n)}}function Jde(t,e,r){return e&&Yde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fb(t,e,r){return e=yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yz(t){var e=Qde(t,"string");return id(e)=="symbol"?e:e+""}function Qde(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zde=(function(){function t(){Xde(this,t),Fb(this,"activeIndex",0),Fb(this,"coordinateList",[]),Fb(this,"layout","horizontal")}return Jde(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,c=o===void 0?null:o,d=r.layout,f=d===void 0?null:d,p=r.offset,h=p===void 0?null:p,g=r.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,c=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+d+f,g=o+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])})();function efe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&we(n)&&we(i))return!0}return!1}function tfe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function xz(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Ar(e,r,n,i),c=Ar(e,r,n,a);return{points:[o,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function rfe(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,f=e.innerRadius,p=e.outerRadius,h=e.angle,g=Ar(c,d,f,h),y=Ar(c,d,p,h);n=g.x,i=g.y,a=y.x,o=y.y}else return xz(e);return[{x:n,y:i},{x:a,y:o}]}function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function CI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(r),!0).forEach(function(n){nfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nfe(t,e,r){return e=ife(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ife(t){var e=afe(t,"string");return ad(e)=="symbol"?e:e+""}function afe(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sfe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,c=t.activePayload,d=t.offset,f=t.activeTooltipIndex,p=t.tooltipAxisBandSize,h=t.layout,g=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!a||!o||g!=="ScatterChart"&&i!=="axis")return null;var b,w=rl;if(g==="ScatterChart")b=o,w=Koe;else if(g==="BarChart")b=tfe(h,o,d,p),w=BS;else if(h==="radial"){var x=xz(o),S=x.cx,k=x.cy,_=x.radius,C=x.startAngle,N=x.endAngle;b={cx:S,cy:k,startAngle:C,endAngle:N,innerRadius:_,outerRadius:_},w=SD}else b={points:rfe(h,o,d)},w=rl;var A=rh(rh(rh(rh({stroke:"#ccc",pointerEvents:"none"},d),b),Ke(y,!1)),{},{payload:c,payloadIndex:f,className:tt("recharts-tooltip-cursor",y.className)});return P.isValidElement(y)?P.cloneElement(y,A):P.createElement(w,A)}var ofe=["item"],lfe=["children","className","width","height","style","compact","title","desc"];function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ko.apply(this,arguments)}function EI(t,e){return dfe(t)||ufe(t,e)||wz(t,e)||cfe()}function cfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ufe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function dfe(t){if(Array.isArray(t))return t}function OI(t,e){if(t==null)return{};var r=ffe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ffe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jz(n.key),n)}}function mfe(t,e,r){return e&&pfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gfe(t,e,r){return e=_p(e),vfe(t,bz()?Reflect.construct(e,r||[],_p(t).constructor):e.apply(t,r))}function vfe(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yfe(t)}function yfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bz=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(t)}function xfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H1(t,e)}function H1(t,e){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H1(t,e)}function Cl(t){return jfe(t)||wfe(t)||wz(t)||bfe()}function bfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wz(t,e){if(t){if(typeof t=="string")return G1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G1(t,e)}}function wfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jfe(t){if(Array.isArray(t))return G1(t)}function G1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function II(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?II(Object(r),!0).forEach(function(n){Le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Le(t,e,r){return e=jz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jz(t){var e=Sfe(t,"string");return Pl(e)=="symbol"?e:e+""}function Sfe(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _fe={xAxis:["bottom","top"],yAxis:["left","right"]},Nfe={width:"100%",height:"100%"},Sz={x:0,y:0};function nh(t){return t}var kfe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Afe=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,c=i.radius;return ce(ce(ce({},i),Ar(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}var d=a.coordinate,f=i.angle;return ce(ce(ce({},i),Ar(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return Sz},bm=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(Cl(c),Cl(f)):c},[]);return o.length>0?o:e&&e.length&&we(i)&&we(a)?e.slice(i,a+1):[]};function _z(t){return t==="number"?[0,"auto"]:void 0}var K1=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,c=bm(r,e);return n<0||!a||!a.length||n>=c.length?null:a.reduce(function(d,f){var p,h=(p=f.props.data)!==null&&p!==void 0?p:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var y=h===void 0?c:h;g=kh(y,o.dataKey,i)}else g=h&&h[n]||c[n];return g?[].concat(Cl(d),[bD(f,g)]):d},[])},RI=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=kfe(a,n),c=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,p=Aie(o,c,f,d);if(p>=0&&f){var h=f[p]&&f[p].value,g=K1(e,r,p,h),y=Afe(n,c,p,a);return{activeTooltipIndex:p,activeLabel:h,activePayload:g,activeCoordinate:y}}return null},Tfe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,h=e.children,g=e.stackOffset,y=vD(p,a);return n.reduce(function(b,w){var x,S=w.type.defaultProps!==void 0?ce(ce({},w.type.defaultProps),w.props):w.props,k=S.type,_=S.dataKey,C=S.allowDataOverflow,N=S.allowDuplicatedCategory,A=S.scale,E=S.ticks,O=S.includeHidden,R=S[o];if(b[R])return b;var H=bm(e.data,{graphicalItems:i.filter(function(q){var X,se=o in q.props?q.props[o]:(X=q.type.defaultProps)===null||X===void 0?void 0:X[o];return se===R}),dataStartIndex:d,dataEndIndex:f}),B=H.length,D,$,V;efe(S.domain,C,k)&&(D=d1(S.domain,null,C),y&&(k==="number"||A!=="auto")&&(V=ou(H,_,"category")));var J=_z(k);if(!D||D.length===0){var K,U=(K=S.domain)!==null&&K!==void 0?K:J;if(_){if(D=ou(H,_,k),k==="category"&&y){var M=xY(D);N&&M?($=D,D=up(0,B)):N||(D=HO(U,D,w).reduce(function(q,X){return q.indexOf(X)>=0?q:[].concat(Cl(q),[X])},[]))}else if(k==="category")N?D=D.filter(function(q){return q!==""&&!Qe(q)}):D=HO(U,D,w).reduce(function(q,X){return q.indexOf(X)>=0||X===""||Qe(X)?q:[].concat(Cl(q),[X])},[]);else if(k==="number"){var Q=Oie(H,i.filter(function(q){var X,se,pe=o in q.props?q.props[o]:(X=q.type.defaultProps)===null||X===void 0?void 0:X[o],re="hide"in q.props?q.props.hide:(se=q.type.defaultProps)===null||se===void 0?void 0:se.hide;return pe===R&&(O||!re)}),_,a,p);Q&&(D=Q)}y&&(k==="number"||A!=="auto")&&(V=ou(H,_,"category"))}else y?D=up(0,B):c&&c[R]&&c[R].hasStack&&k==="number"?D=g==="expand"?[0,1]:xD(c[R].stackGroups,d,f):D=gD(H,i.filter(function(q){var X=o in q.props?q.props[o]:q.type.defaultProps[o],se="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return X===R&&(O||!se)}),k,p,!0);if(k==="number")D=W1(h,D,R,a,E),U&&(D=d1(U,D,C));else if(k==="category"&&U){var ee=U,L=D.every(function(q){return ee.indexOf(q)>=0});L&&(D=ee)}}return ce(ce({},b),{},Le({},R,ce(ce({},S),{},{axisType:a,domain:D,categoricalDomain:V,duplicateDomain:$,originalDomain:(x=S.domain)!==null&&x!==void 0?x:J,isCategorical:y,layout:p})))},{})},Pfe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,h=e.children,g=bm(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),y=g.length,b=vD(p,a),w=-1;return n.reduce(function(x,S){var k=S.type.defaultProps!==void 0?ce(ce({},S.type.defaultProps),S.props):S.props,_=k[o],C=_z("number");if(!x[_]){w++;var N;return b?N=up(0,y):c&&c[_]&&c[_].hasStack?(N=xD(c[_].stackGroups,d,f),N=W1(h,N,_,a)):(N=d1(C,gD(g,n.filter(function(A){var E,O,R=o in A.props?A.props[o]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[o],H="hide"in A.props?A.props.hide:(O=A.type.defaultProps)===null||O===void 0?void 0:O.hide;return R===_&&!H}),"number",p),i.defaultProps.allowDataOverflow),N=W1(h,N,_,a)),ce(ce({},x),{},Le({},_,ce(ce({axisType:a},i.defaultProps),{},{hide:!0,orientation:$n(_fe,"".concat(a,".").concat(w%2),null),domain:N,originalDomain:C,isCategorical:b,layout:p})))}return x},{})},Cfe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.children,h="".concat(i,"Id"),g=Mn(p,a),y={};return g&&g.length?y=Tfe(e,{axes:g,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(y=Pfe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),y},Efe=function(e){var r=za(e),n=Fi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:hS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ep(r,n)}},$I=function(e){var r=e.children,n=e.defaultShowTooltip,i=hn(r,xl),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Ofe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Vi(r&&r.type);return n&&n.indexOf("Bar")>=0})},MI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ife=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,c=e.yAxisMap,d=c===void 0?{}:c,f=n.width,p=n.height,h=n.children,g=n.margin||{},y=hn(h,xl),b=hn(h,Ms),w=Object.keys(d).reduce(function(N,A){var E=d[A],O=E.orientation;return!E.mirror&&!E.hide?ce(ce({},N),{},Le({},O,N[O]+E.width)):N},{left:g.left||0,right:g.right||0}),x=Object.keys(o).reduce(function(N,A){var E=o[A],O=E.orientation;return!E.mirror&&!E.hide?ce(ce({},N),{},Le({},O,$n(N,"".concat(O))+E.height)):N},{top:g.top||0,bottom:g.bottom||0}),S=ce(ce({},x),w),k=S.bottom;y&&(S.bottom+=y.props.height||xl.defaultProps.height),b&&r&&(S=Cie(S,i,n,r));var _=f-S.left-S.right,C=p-S.top-S.bottom;return ce(ce({brushBottom:k},S),{},{width:Math.max(_,0),height:Math.max(C,0)})},Rfe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Nz=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,c=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,p=e.formatAxisMap,h=e.defaultProps,g=function(S,k){var _=k.graphicalItems,C=k.stackGroups,N=k.offset,A=k.updateId,E=k.dataStartIndex,O=k.dataEndIndex,R=S.barSize,H=S.layout,B=S.barGap,D=S.barCategoryGap,$=S.maxBarSize,V=MI(H),J=V.numericAxisName,K=V.cateAxisName,U=Ofe(_),M=[];return _.forEach(function(Q,ee){var L=bm(S.data,{graphicalItems:[Q],dataStartIndex:E,dataEndIndex:O}),q=Q.type.defaultProps!==void 0?ce(ce({},Q.type.defaultProps),Q.props):Q.props,X=q.dataKey,se=q.maxBarSize,pe=q["".concat(J,"Id")],re=q["".concat(K,"Id")],he={},le=d.reduce(function(ut,Xe){var Bt=k["".concat(Xe.axisType,"Map")],He=q["".concat(Xe.axisType,"Id")];Bt&&Bt[He]||Xe.axisType==="zAxis"||Us();var Wt=Bt[He];return ce(ce({},ut),{},Le(Le({},Xe.axisType,Wt),"".concat(Xe.axisType,"Ticks"),Fi(Wt)))},he),ie=le[K],fe=le["".concat(K,"Ticks")],_e=C&&C[pe]&&C[pe].hasStack&&Vie(Q,C[pe].stackGroups),ue=Vi(Q.type).indexOf("Bar")>=0,Z=ep(ie,fe),me=[],Se=U&&Tie({barSize:R,stackGroups:C,totalSize:Rfe(le,K)});if(ue){var $e,Me,rt=Qe(se)?$:se,Ue=($e=(Me=ep(ie,fe,!0))!==null&&Me!==void 0?Me:rt)!==null&&$e!==void 0?$e:0;me=Pie({barGap:B,barCategoryGap:D,bandSize:Ue!==Z?Ue:Z,sizeList:Se[re],maxBarSize:rt}),Ue!==Z&&(me=me.map(function(ut){return ce(ce({},ut),{},{position:ce(ce({},ut.position),{},{offset:ut.position.offset-Ue/2})})}))}var Ct=Q&&Q.type&&Q.type.getComposedData;Ct&&M.push({props:ce(ce({},Ct(ce(ce({},le),{},{displayedData:L,props:S,dataKey:X,item:Q,bandSize:Z,barPosition:me,offset:N,stackedData:_e,layout:H,dataStartIndex:E,dataEndIndex:O}))),{},Le(Le(Le({key:Q.key||"item-".concat(ee)},J,le[J]),K,le[K]),"animationId",A)),childIndex:EY(Q,S.children),item:Q})}),M},y=function(S,k){var _=S.props,C=S.dataStartIndex,N=S.dataEndIndex,A=S.updateId;if(!oP({props:_}))return null;var E=_.children,O=_.layout,R=_.stackOffset,H=_.data,B=_.reverseStackOrder,D=MI(O),$=D.numericAxisName,V=D.cateAxisName,J=Mn(E,n),K=Fie(H,J,"".concat($,"Id"),"".concat(V,"Id"),R,B),U=d.reduce(function(q,X){var se="".concat(X.axisType,"Map");return ce(ce({},q),{},Le({},se,Cfe(_,ce(ce({},X),{},{graphicalItems:J,stackGroups:X.axisType===$&&K,dataStartIndex:C,dataEndIndex:N}))))},{}),M=Ife(ce(ce({},U),{},{props:_,graphicalItems:J}),k?.legendBBox);Object.keys(U).forEach(function(q){U[q]=p(_,U[q],M,q.replace("Map",""),r)});var Q=U["".concat(V,"Map")],ee=Efe(Q),L=g(_,ce(ce({},U),{},{dataStartIndex:C,dataEndIndex:N,updateId:A,graphicalItems:J,stackGroups:K,offset:M}));return ce(ce({formattedGraphicalItems:L,graphicalItems:J,offset:M,stackGroups:K},ee),U)},b=(function(x){function S(k){var _,C,N;return hfe(this,S),N=gfe(this,S,[k]),Le(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Le(N,"accessibilityManager",new Zde),Le(N,"handleLegendBBoxUpdate",function(A){if(A){var E=N.state,O=E.dataStartIndex,R=E.dataEndIndex,H=E.updateId;N.setState(ce({legendBBox:A},y({props:N.props,dataStartIndex:O,dataEndIndex:R,updateId:H},ce(ce({},N.state),{},{legendBBox:A}))))}}),Le(N,"handleReceiveSyncEvent",function(A,E,O){if(N.props.syncId===A){if(O===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(E)}}),Le(N,"handleBrushChange",function(A){var E=A.startIndex,O=A.endIndex;if(E!==N.state.dataStartIndex||O!==N.state.dataEndIndex){var R=N.state.updateId;N.setState(function(){return ce({dataStartIndex:E,dataEndIndex:O},y({props:N.props,dataStartIndex:E,dataEndIndex:O,updateId:R},N.state))}),N.triggerSyncEvent({dataStartIndex:E,dataEndIndex:O})}}),Le(N,"handleMouseEnter",function(A){var E=N.getMouseInfo(A);if(E){var O=ce(ce({},E),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var R=N.props.onMouseEnter;Ge(R)&&R(O,A)}}),Le(N,"triggeredAfterMouseMove",function(A){var E=N.getMouseInfo(A),O=E?ce(ce({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var R=N.props.onMouseMove;Ge(R)&&R(O,A)}),Le(N,"handleItemMouseEnter",function(A){N.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Le(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Le(N,"handleMouseMove",function(A){A.persist(),N.throttleTriggeredAfterMouseMove(A)}),Le(N,"handleMouseLeave",function(A){N.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};N.setState(E),N.triggerSyncEvent(E);var O=N.props.onMouseLeave;Ge(O)&&O(E,A)}),Le(N,"handleOuterEvent",function(A){var E=CY(A),O=$n(N.props,"".concat(E));if(E&&Ge(O)){var R,H;/.*touch.*/i.test(E)?H=N.getMouseInfo(A.changedTouches[0]):H=N.getMouseInfo(A),O((R=H)!==null&&R!==void 0?R:{},A)}}),Le(N,"handleClick",function(A){var E=N.getMouseInfo(A);if(E){var O=ce(ce({},E),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var R=N.props.onClick;Ge(R)&&R(O,A)}}),Le(N,"handleMouseDown",function(A){var E=N.props.onMouseDown;if(Ge(E)){var O=N.getMouseInfo(A);E(O,A)}}),Le(N,"handleMouseUp",function(A){var E=N.props.onMouseUp;if(Ge(E)){var O=N.getMouseInfo(A);E(O,A)}}),Le(N,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Le(N,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseDown(A.changedTouches[0])}),Le(N,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseUp(A.changedTouches[0])}),Le(N,"handleDoubleClick",function(A){var E=N.props.onDoubleClick;if(Ge(E)){var O=N.getMouseInfo(A);E(O,A)}}),Le(N,"handleContextMenu",function(A){var E=N.props.onContextMenu;if(Ge(E)){var O=N.getMouseInfo(A);E(O,A)}}),Le(N,"triggerSyncEvent",function(A){N.props.syncId!==void 0&&Lb.emit(Bb,N.props.syncId,A,N.eventEmitterSymbol)}),Le(N,"applySyncEvent",function(A){var E=N.props,O=E.layout,R=E.syncMethod,H=N.state.updateId,B=A.dataStartIndex,D=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)N.setState(ce({dataStartIndex:B,dataEndIndex:D},y({props:N.props,dataStartIndex:B,dataEndIndex:D,updateId:H},N.state)));else if(A.activeTooltipIndex!==void 0){var $=A.chartX,V=A.chartY,J=A.activeTooltipIndex,K=N.state,U=K.offset,M=K.tooltipTicks;if(!U)return;if(typeof R=="function")J=R(M,A);else if(R==="value"){J=-1;for(var Q=0;Q<M.length;Q++)if(M[Q].value===A.activeLabel){J=Q;break}}var ee=ce(ce({},U),{},{x:U.left,y:U.top}),L=Math.min($,ee.x+ee.width),q=Math.min(V,ee.y+ee.height),X=M[J]&&M[J].value,se=K1(N.state,N.props.data,J),pe=M[J]?{x:O==="horizontal"?M[J].coordinate:L,y:O==="horizontal"?q:M[J].coordinate}:Sz;N.setState(ce(ce({},A),{},{activeLabel:X,activeCoordinate:pe,activePayload:se,activeTooltipIndex:J}))}else N.setState(A)}),Le(N,"renderCursor",function(A){var E,O=N.state,R=O.isTooltipActive,H=O.activeCoordinate,B=O.activePayload,D=O.offset,$=O.activeTooltipIndex,V=O.tooltipAxisBandSize,J=N.getTooltipEventType(),K=(E=A.props.active)!==null&&E!==void 0?E:R,U=N.props.layout,M=A.key||"_recharts-cursor";return z.createElement(sfe,{key:M,activeCoordinate:H,activePayload:B,activeTooltipIndex:$,chartName:r,element:A,isActive:K,layout:U,offset:D,tooltipAxisBandSize:V,tooltipEventType:J})}),Le(N,"renderPolarAxis",function(A,E,O){var R=$n(A,"type.axisType"),H=$n(N.state,"".concat(R,"Map")),B=A.type.defaultProps,D=B!==void 0?ce(ce({},B),A.props):A.props,$=H&&H[D["".concat(R,"Id")]];return P.cloneElement(A,ce(ce({},$),{},{className:tt(R,$.className),key:A.key||"".concat(E,"-").concat(O),ticks:Fi($,!0)}))}),Le(N,"renderPolarGrid",function(A){var E=A.props,O=E.radialLines,R=E.polarAngles,H=E.polarRadius,B=N.state,D=B.radiusAxisMap,$=B.angleAxisMap,V=za(D),J=za($),K=J.cx,U=J.cy,M=J.innerRadius,Q=J.outerRadius;return P.cloneElement(A,{polarAngles:Array.isArray(R)?R:Fi(J,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(H)?H:Fi(V,!0).map(function(ee){return ee.coordinate}),cx:K,cy:U,innerRadius:M,outerRadius:Q,key:A.key||"polar-grid",radialLines:O})}),Le(N,"renderLegend",function(){var A=N.state.formattedGraphicalItems,E=N.props,O=E.children,R=E.width,H=E.height,B=N.props.margin||{},D=R-(B.left||0)-(B.right||0),$=pD({children:O,formattedGraphicalItems:A,legendWidth:D,legendContent:f});if(!$)return null;var V=$.item,J=OI($,ofe);return P.cloneElement(V,ce(ce({},J),{},{chartWidth:R,chartHeight:H,margin:B,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Le(N,"renderTooltip",function(){var A,E=N.props,O=E.children,R=E.accessibilityLayer,H=hn(O,Qn);if(!H)return null;var B=N.state,D=B.isTooltipActive,$=B.activeCoordinate,V=B.activePayload,J=B.activeLabel,K=B.offset,U=(A=H.props.active)!==null&&A!==void 0?A:D;return P.cloneElement(H,{viewBox:ce(ce({},K),{},{x:K.left,y:K.top}),active:U,label:J,payload:U?V:[],coordinate:$,accessibilityLayer:R})}),Le(N,"renderBrush",function(A){var E=N.props,O=E.margin,R=E.data,H=N.state,B=H.offset,D=H.dataStartIndex,$=H.dataEndIndex,V=H.updateId;return P.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Qf(N.handleBrushChange,A.props.onChange),data:R,x:we(A.props.x)?A.props.x:B.left,y:we(A.props.y)?A.props.y:B.top+B.height+B.brushBottom-(O.bottom||0),width:we(A.props.width)?A.props.width:B.width,startIndex:D,endIndex:$,updateId:"brush-".concat(V)})}),Le(N,"renderReferenceElement",function(A,E,O){if(!A)return null;var R=N,H=R.clipPathId,B=N.state,D=B.xAxisMap,$=B.yAxisMap,V=B.offset,J=A.type.defaultProps||{},K=A.props,U=K.xAxisId,M=U===void 0?J.xAxisId:U,Q=K.yAxisId,ee=Q===void 0?J.yAxisId:Q;return P.cloneElement(A,{key:A.key||"".concat(E,"-").concat(O),xAxis:D[M],yAxis:$[ee],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:H})}),Le(N,"renderActivePoints",function(A){var E=A.item,O=A.activePoint,R=A.basePoint,H=A.childIndex,B=A.isRange,D=[],$=E.props.key,V=E.item.type.defaultProps!==void 0?ce(ce({},E.item.type.defaultProps),E.item.props):E.item.props,J=V.activeDot,K=V.dataKey,U=ce(ce({index:H,dataKey:K,cx:O.x,cy:O.y,r:4,fill:LS(E.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Ke(J,!1)),Ah(J));return D.push(S.renderActiveDot(J,U,"".concat($,"-activePoint-").concat(H))),R?D.push(S.renderActiveDot(J,ce(ce({},U),{},{cx:R.x,cy:R.y}),"".concat($,"-basePoint-").concat(H))):B&&D.push(null),D}),Le(N,"renderGraphicChild",function(A,E,O){var R=N.filterFormatItem(A,E,O);if(!R)return null;var H=N.getTooltipEventType(),B=N.state,D=B.isTooltipActive,$=B.tooltipAxis,V=B.activeTooltipIndex,J=B.activeLabel,K=N.props.children,U=hn(K,Qn),M=R.props,Q=M.points,ee=M.isRange,L=M.baseLine,q=R.item.type.defaultProps!==void 0?ce(ce({},R.item.type.defaultProps),R.item.props):R.item.props,X=q.activeDot,se=q.hide,pe=q.activeBar,re=q.activeShape,he=!!(!se&&D&&U&&(X||pe||re)),le={};H!=="axis"&&U&&U.props.trigger==="click"?le={onClick:Qf(N.handleItemMouseEnter,A.props.onClick)}:H!=="axis"&&(le={onMouseLeave:Qf(N.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Qf(N.handleItemMouseEnter,A.props.onMouseEnter)});var ie=P.cloneElement(A,ce(ce({},R.props),le));function fe(Xe){return typeof $.dataKey=="function"?$.dataKey(Xe.payload):null}if(he)if(V>=0){var _e,ue;if($.dataKey&&!$.allowDuplicatedCategory){var Z=typeof $.dataKey=="function"?fe:"payload.".concat($.dataKey.toString());_e=kh(Q,Z,J),ue=ee&&L&&kh(L,Z,J)}else _e=Q?.[V],ue=ee&&L&&L[V];if(re||pe){var me=A.props.activeIndex!==void 0?A.props.activeIndex:V;return[P.cloneElement(A,ce(ce(ce({},R.props),le),{},{activeIndex:me})),null,null]}if(!Qe(_e))return[ie].concat(Cl(N.renderActivePoints({item:R,activePoint:_e,basePoint:ue,childIndex:V,isRange:ee})))}else{var Se,$e=(Se=N.getItemByXY(N.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:ie},Me=$e.graphicalItem,rt=Me.item,Ue=rt===void 0?A:rt,Ct=Me.childIndex,ut=ce(ce(ce({},R.props),le),{},{activeIndex:Ct});return[P.cloneElement(Ue,ut),null,null]}return ee?[ie,null,null]:[ie,null]}),Le(N,"renderCustomized",function(A,E,O){return P.cloneElement(A,ce(ce({key:"recharts-customized-".concat(O)},N.props),N.state))}),Le(N,"renderMap",{CartesianGrid:{handler:nh,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:nh},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:nh},YAxis:{handler:nh},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((_=k.id)!==null&&_!==void 0?_:Bl("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=f3(N.triggeredAfterMouseMove,(C=k.throttleDelay)!==null&&C!==void 0?C:1e3/60),N.state={},N}return xfe(S,x),mfe(S,[{key:"componentDidMount",value:function(){var _,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,C=_.children,N=_.data,A=_.height,E=_.layout,O=hn(C,Qn);if(O){var R=O.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var H=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,B=K1(this.state,N,R,H),D=this.state.tooltipTicks[R].coordinate,$=(this.state.offset.top+A)/2,V=E==="horizontal",J=V?{x:D,y:$}:{y:D,x:$},K=this.state.formattedGraphicalItems.find(function(M){var Q=M.item;return Q.type.name==="Scatter"});K&&(J=ce(ce({},J),K.props.points[R].tooltipPosition),B=K.props.points[R].tooltipPayload);var U={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:H,activePayload:B,activeCoordinate:J};this.setState(U),this.renderCursor(O),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var N,A;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(_){Iw([hn(_.children,Qn)],[hn(this.props.children,Qn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=hn(this.props.children,Qn);if(_&&typeof _.props.shared=="boolean"){var C=_.props.shared?"axis":"item";return c.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var C=this.container,N=C.getBoundingClientRect(),A=vee(N),E={chartX:Math.round(_.pageX-A.left),chartY:Math.round(_.pageY-A.top)},O=N.width/C.offsetWidth||1,R=this.inRange(E.chartX,E.chartY,O);if(!R)return null;var H=this.state,B=H.xAxisMap,D=H.yAxisMap,$=this.getTooltipEventType(),V=RI(this.state,this.props.data,this.props.layout,R);if($!=="axis"&&B&&D){var J=za(B).scale,K=za(D).scale,U=J&&J.invert?J.invert(E.chartX):null,M=K&&K.invert?K.invert(E.chartY):null;return ce(ce({},E),{},{xValue:U,yValue:M},V)}return V?ce(ce({},E),V):null}},{key:"inRange",value:function(_,C){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=_/N,O=C/N;if(A==="horizontal"||A==="vertical"){var R=this.state.offset,H=E>=R.left&&E<=R.left+R.width&&O>=R.top&&O<=R.top+R.height;return H?{x:E,y:O}:null}var B=this.state,D=B.angleAxisMap,$=B.radiusAxisMap;if(D&&$){var V=za(D);return XO({x:E,y:O},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,C=this.getTooltipEventType(),N=hn(_,Qn),A={};N&&C==="axis"&&(N.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Ah(this.props,this.handleOuterEvent);return ce(ce({},E),A)}},{key:"addListener",value:function(){Lb.on(Bb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lb.removeListener(Bb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,C,N){for(var A=this.state.formattedGraphicalItems,E=0,O=A.length;E<O;E++){var R=A[E];if(R.item===_||R.props.key===_.key||C===Vi(R.item.type)&&N===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,C=this.state.offset,N=C.left,A=C.top,E=C.height,O=C.width;return z.createElement("defs",null,z.createElement("clipPath",{id:_},z.createElement("rect",{x:N,y:A,height:E,width:O})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(C,N){var A=EI(N,2),E=A[0],O=A[1];return ce(ce({},C),{},Le({},E,O.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(C,N){var A=EI(N,2),E=A[0],O=A[1];return ce(ce({},C),{},Le({},E,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[_])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(_){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[_])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(_){var C=this.state,N=C.formattedGraphicalItems,A=C.activeItem;if(N&&N.length)for(var E=0,O=N.length;E<O;E++){var R=N[E],H=R.props,B=R.item,D=B.type.defaultProps!==void 0?ce(ce({},B.type.defaultProps),B.props):B.props,$=Vi(B.type);if($==="Bar"){var V=(H.data||[]).find(function(M){return zoe(_,M)});if(V)return{graphicalItem:R,payload:V}}else if($==="RadialBar"){var J=(H.data||[]).find(function(M){return XO(_,M)});if(J)return{graphicalItem:R,payload:J}}else if(hm(R,A)||pm(R,A)||Zu(R,A)){var K=Tle({graphicalItem:R,activeTooltipItem:A,itemData:D.data}),U=D.activeIndex===void 0?K:D.activeIndex;return{graphicalItem:ce(ce({},R),{},{childIndex:U}),payload:Zu(R,A)?D.data[K]:R.props.data[K]}}}return null}},{key:"render",value:function(){var _=this;if(!oP(this))return null;var C=this.props,N=C.children,A=C.className,E=C.width,O=C.height,R=C.style,H=C.compact,B=C.title,D=C.desc,$=OI(C,lfe),V=Ke($,!1);if(H)return z.createElement(uI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement($w,Ko({},V,{width:E,height:O,title:B,desc:D}),this.renderClipPath(),cP(N,this.renderMap)));if(this.props.accessibilityLayer){var J,K;V.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,V.role=(K=this.props.role)!==null&&K!==void 0?K:"application",V.onKeyDown=function(M){_.accessibilityManager.keyboardEvent(M)},V.onFocus=function(){_.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return z.createElement(uI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Ko({className:tt("recharts-wrapper",A),style:ce({position:"relative",cursor:"default",width:E,height:O},R)},U,{ref:function(Q){_.container=Q}}),z.createElement($w,Ko({},V,{width:E,height:O,title:B,desc:D,style:Nfe}),this.renderClipPath(),cP(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(P.Component);Le(b,"displayName",r),Le(b,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Le(b,"getDerivedStateFromProps",function(x,S){var k=x.dataKey,_=x.data,C=x.children,N=x.width,A=x.height,E=x.layout,O=x.stackOffset,R=x.margin,H=S.dataStartIndex,B=S.dataEndIndex;if(S.updateId===void 0){var D=$I(x);return ce(ce(ce({},D),{},{updateId:0},y(ce(ce({props:x},D),{},{updateId:0}),S)),{},{prevDataKey:k,prevData:_,prevWidth:N,prevHeight:A,prevLayout:E,prevStackOffset:O,prevMargin:R,prevChildren:C})}if(k!==S.prevDataKey||_!==S.prevData||N!==S.prevWidth||A!==S.prevHeight||E!==S.prevLayout||O!==S.prevStackOffset||!Zo(R,S.prevMargin)){var $=$I(x),V={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},J=ce(ce({},RI(S,_,E)),{},{updateId:S.updateId+1}),K=ce(ce(ce({},$),V),J);return ce(ce(ce({},K),y(ce({props:x},K),S)),{},{prevDataKey:k,prevData:_,prevWidth:N,prevHeight:A,prevLayout:E,prevStackOffset:O,prevMargin:R,prevChildren:C})}if(!Iw(C,S.prevChildren)){var U,M,Q,ee,L=hn(C,xl),q=L&&(U=(M=L.props)===null||M===void 0?void 0:M.startIndex)!==null&&U!==void 0?U:H,X=L&&(Q=(ee=L.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&Q!==void 0?Q:B,se=q!==H||X!==B,pe=!Qe(_),re=pe&&!se?S.updateId:S.updateId+1;return ce(ce({updateId:re},y(ce(ce({props:x},S),{},{updateId:re,dataStartIndex:q,dataEndIndex:X}),S)),{},{prevChildren:C,dataStartIndex:q,dataEndIndex:X})}return null}),Le(b,"renderActiveDot",function(x,S,k){var _;return P.isValidElement(x)?_=P.cloneElement(x,S):Ge(x)?_=x(S):_=z.createElement(fm,S),z.createElement(wt,{className:"recharts-active-dot",key:k},_)});var w=P.forwardRef(function(S,k){return z.createElement(b,Ko({},S,{ref:k}))});return w.displayName=b.displayName,w},$fe=Nz({chartName:"LineChart",GraphicalChild:wd,axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:Gl}],formatAxisMap:BD}),Mfe=Nz({chartName:"AreaChart",GraphicalChild:ra,axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:Gl}],formatAxisMap:BD});const Ro=[{id:1,title:" Benvenuto nel Simulatore!",content:"Ciao! Sono Prof Satoshi e ti guider attraverso la **Bitcoin Wheel Strategy** con un simulatore paper trading. Qui puoi imparare senza rischi usando denaro virtuale!",icon:mt,mascotEmotion:"excited",tips:["Capitale iniziale: $10,000 virtuali","Nessun rischio reale","Impara facendo pratica"]},{id:2,title:" Cos' la Wheel Strategy?",content:`La Wheel  una strategia ciclica in 3 fasi:

**1. Vendi PUT**  Raccogli premium
**2. Vieni ASSEGNATO**  Compri BTC
**3. Vendi CALL**  Raccogli altro premium

Poi ricominci!  come una ruota che gira continuamente generando rendimento.`,icon:zr,mascotEmotion:"teaching",tips:["Genera reddito passivo","Funziona in mercati laterali","Riduce il rischio vs. solo holding"]},{id:3,title:" Fase 1: Vendere Put",content:`Quando **vendi una put**, accetti di comprare Bitcoin a un prezzo fisso (strike price) se il prezzo scende.

In cambio ricevi subito un **premium** (pagamento)!

Pensa: "Sono disposto a comprare BTC a $40,000? Allora vendo una put a quello strike e mi pago subito!"`,icon:al,mascotEmotion:"happy",tips:["Scegli strike sotto il prezzo corrente","Premium = guadagno immediato","Pi basso lo strike, pi sicuro"]},{id:4,title:" Fase 2: L'Assegnazione",content:`Se Bitcoin scende sotto il tuo strike price, vieni **assegnato**:

 Compri BTC al prezzo dello strike
 Ma hai gi guadagnato il premium!
 Il tuo prezzo reale : Strike - Premium

Esempio: Strike $40k, Premium $500  Prezzo effettivo $39,500`,icon:ht,mascotEmotion:"explaining",tips:["Non  una perdita!","Hai ridotto il costo grazie al premium","Ora possiedi BTC per la fase 3"]},{id:5,title:" Fase 3: Vendere Call",content:`Ora che possiedi Bitcoin, puoi vendere una **covered call**:

Accetti di vendere il tuo BTC a un prezzo pi alto se il prezzo sale.

Ricevi un altro premium! Se BTC non sale, tieni il BTC E il premium. Se sale, vendi con profitto!

Win-win! `,icon:wi,mascotEmotion:"celebrating",tips:["Strike sopra il prezzo corrente","Guadagno 1: Premium della put","Guadagno 2: Premium della call","Guadagno 3: Profitto se chiamato via"]},{id:6,title:" Come Usare il Simulatore",content:`Ora sei pronto per iniziare! Ecco cosa fare:

**1.** Osserva il prezzo di Bitcoin (si muove ogni 3 sec)
**2.** Completa le missioni nell'ordine
**3.** Segui i tutorial di ogni missione
**4.** Vendi opzioni e gestisci le posizioni
**5.** Accumula XP e badge!

Le prime missioni sono guidate passo-passo. Inizia con "Il Tuo Primo Premium"!`,icon:mt,mascotEmotion:"teaching",tips:["5 missioni progressive","Tutorial integrati","Feedback in tempo reale","Nessun rischio, solo apprendimento!"]}];function Dfe({onComplete:t,onSkip:e}){const[r,n]=P.useState(0),i=Ro[r],a=(r+1)/Ro.length*100,o=()=>{r<Ro.length-1?n(r+1):t()},c=()=>{r>0&&n(r-1)},d=i.icon;return s.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs(oe,{className:"max-w-2xl w-full bg-white shadow-2xl border-2 border-emerald-500",children:[s.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 p-6 text-white relative",children:[s.jsx(xe,{onClick:e,variant:"ghost",size:"sm",className:"absolute top-4 right-4 text-white hover:bg-white/20",children:s.jsx(Ws,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-4xl",children:""})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-emerald-100 text-sm mb-1",children:"Prof Satoshi ti spiega..."}),s.jsx("h2",{className:"text-white",children:i.title})]})]}),s.jsx(ni,{value:a,className:"h-2 bg-white/20"}),s.jsxs("p",{className:"text-emerald-100 text-sm mt-2",children:["Passo ",r+1," di ",Ro.length]})]}),s.jsx("div",{className:"p-6",children:s.jsx(ii,{mode:"wait",children:s.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-2xl flex items-center justify-center",children:s.jsx(d,{className:"w-10 h-10 text-emerald-600"})})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line text-center mb-6",children:i.content}),s.jsxs("div",{className:"bg-emerald-50 border-2 border-emerald-200 rounded-lg p-4",children:[s.jsxs("p",{className:"text-emerald-900 font-semibold mb-3 flex items-center gap-2",children:[s.jsx(mt,{className:"w-4 h-4"}),"Punti Chiave:"]}),s.jsx("ul",{className:"space-y-2",children:i.tips.map((f,p)=>s.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[s.jsx("span",{className:"text-emerald-600 mt-1",children:""}),s.jsx("span",{children:f})]},p))})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs(xe,{onClick:c,variant:"outline",disabled:r===0,className:"flex-1",children:[s.jsx(l$,{className:"w-4 h-4 mr-2"}),"Indietro"]}),s.jsxs(xe,{onClick:o,className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white",children:[r===Ro.length-1?"Inizia Simulazione":"Avanti",s.jsx(Dp,{className:"w-4 h-4 ml-2"})]})]}),r<Ro.length-1&&s.jsx("button",{onClick:e,className:"w-full text-center text-gray-500 text-sm mt-4 hover:text-gray-700 transition-colors",children:"Salta tutorial (puoi rivederlo dopo)"})]},r)})})]})})}const Wc=[{id:"mission-1",title:"Il Tuo Primo Premium",description:"Impara a vendere la tua prima opzione put e raccogliere premium",difficulty:"easy",objectives:[{type:"sell_option",target:1,current:0,description:"Vendi 1 opzione put"}],reward:{xp:200,badgeId:"first-premium"},tutorial:[{step:1,title:"Cos' una Put?",content:"Vendere una put significa che accetti di comprare Bitcoin a un prezzo fisso (strike) se il prezzo scende. In cambio, ricevi subito un pagamento (premium)."},{step:2,title:"Scegli lo Strike",content:"Seleziona uno strike price SOTTO il prezzo corrente di Bitcoin. Consiglio: inizia con 5-10% sotto il prezzo attuale per maggiore sicurezza."},{step:3,title:"Raccogli il Premium",content:"Il premium  il tuo guadagno immediato! Pi basso  lo strike, pi basso  il premium ma pi sicura  la posizione."}],status:"active"},{id:"mission-2",title:"Collezionista di Premium",description:"Raccogli $1,000 totali in premium vendendo multiple opzioni",difficulty:"medium",objectives:[{type:"collect_premium",target:1e3,current:0,description:"Raccogli $1,000 in premium totale"}],reward:{xp:350,badgeId:"premium-collector"},tutorial:[{step:1,title:"Diversifica le Posizioni",content:"Invece di vendere tutto in una volta, distribuisci le tue put in diversi strike price per gestire meglio il rischio."},{step:2,title:"Timing del Mercato",content:"Il premium  pi alto quando il mercato  volatile. Osserva il grafico e vendi quando vedi movimenti ampi."}],status:"locked",unlockRequirement:'Completa "Il Tuo Primo Premium"'},{id:"mission-3",title:"Gestisci l'Assegnazione",description:"Impara cosa succede quando la put va in-the-money e vieni assegnato",difficulty:"medium",objectives:[{type:"handle_assignment",target:1,current:0,description:"Ricevi 1 assegnazione e gestiscila"}],reward:{xp:400,badgeId:"assignment-master"},tutorial:[{step:1,title:"Cosa  l'Assegnazione?",content:"Se Bitcoin scende sotto il tuo strike, devi comprare BTC al prezzo dello strike. Non  una perdita - hai gi guadagnato il premium!"},{step:2,title:"Prezzo di Carico",content:"Il tuo prezzo effettivo : Strike - Premium ricevuto. Esempio: Strike $40k, Premium $500 = Prezzo reale $39,500."},{step:3,title:"Prossimo Step",content:"Ora che possiedi BTC, puoi vendere covered calls per generare pi reddito. Questo  il cuore della Wheel Strategy!"}],status:"locked",unlockRequirement:'Completa "Collezionista di Premium"'},{id:"mission-4",title:"Il Primo Covered Call",description:"Vendi una call coperta sul tuo Bitcoin assegnato",difficulty:"hard",objectives:[{type:"sell_option",target:1,current:0,description:"Vendi 1 covered call"}],reward:{xp:500,badgeId:"covered-call-pro"},tutorial:[{step:1,title:"Covered Call",content:"Vendere una call significa che accetti di vendere il tuo BTC a un prezzo pi alto (strike) se il prezzo sale. Ricevi premium anche qui!"},{step:2,title:"Strike Sopra il Prezzo",content:"Scegli uno strike SOPRA il prezzo corrente. Se BTC sale sopra, vendi con profitto. Se no, tieni il premium e il BTC."},{step:3,title:"Doppio Guadagno",content:"Hai gi guadagnato dalla put, ora guadagni anche dalla call.  cos che la Wheel genera rendimento costante!"}],status:"locked",unlockRequirement:`Completa "Gestisci l'Assegnazione"`},{id:"mission-5",title:"Wheel Strategy Master",description:"Completa un ciclo completo: Put  Assegnazione  Call  Profitto",difficulty:"expert",objectives:[{type:"complete_wheel",target:1,current:0,description:"Completa 1 ciclo completo della Wheel"}],reward:{xp:1e3,badgeId:"wheel-master"},tutorial:[{step:1,title:"Il Ciclo Completo",content:"Vendi put  Vieni assegnato  Vendi call  Bitcoin chiamato via  Ricomincia. Questo  come i professionisti generano reddito passivo."},{step:2,title:"Optimization",content:"Ogni ciclo genera profitto. Pi cicli completi, pi guadagni. L'obiettivo  ripetere questo processo indefinitamente."},{step:3,title:"Congratulazioni!",content:"Hai padroneggiato la Wheel Strategy! Ora sei pronto per applicarla nel mondo reale con capitale vero."}],status:"locked",unlockRequirement:'Completa "Il Primo Covered Call"'}];function zfe({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const{addXP:n}=Ka(),[i,a]=P.useState(96e3),[o,c]=P.useState(1e4),[d,f]=P.useState([]),[p,h]=P.useState([]),[g,y]=P.useState(Wc),[b,w]=P.useState(Wc[0]),[x,S]=P.useState(0),[k,_]=P.useState(!0),[C,N]=P.useState(!0),[A,E]=P.useState(0),[O,R]=P.useState("put"),[H,B]=P.useState("90000"),[D,$]=P.useState("800"),[V,J]=P.useState("1");P.useEffect(()=>{if(O==="put"){const re=Math.round(i*.93);B(re.toString());const le=.008+(i-re)/i*100*.001,ie=Math.round(re*le);$(ie.toString())}else if(O==="call"){const re=Math.round(i*1.07);B(re.toString());const le=.006+(re-i)/i*100*8e-4,ie=Math.round(re*le);$(ie.toString())}},[O,i]),P.useEffect(()=>{const re=setInterval(()=>{a(he=>{const le=(Math.random()-.5)*2e3,ie=Math.max(85e3,Math.min(105e3,he+le));return Math.round(ie)})},3e3);return()=>clearInterval(re)},[]),P.useEffect(()=>{const re=new Date,he=`${re.getHours()}:${String(re.getMinutes()).padStart(2,"0")}`;h(le=>[...le,{time:he,price:i}].slice(-20))},[i]),P.useEffect(()=>{d.forEach(re=>{re.status==="open"&&re.type==="put"&&!re.assignmentPrice&&i<re.strike&&K(re.id)})},[i]);const K=re=>{const he=d.find(fe=>fe.id===re);if(!he)return;const le=he.quantity,ie=he.strike-he.premium;E(fe=>fe+le),f(d.map(fe=>fe.id===re?{...fe,status:"closed",assignmentPrice:i}:fe)),Q("handle_assignment",1),de.success(" Assegnazione Ricevuta!",{description:`Hai acquistato ${le} BTC a $${he.strike}. Prezzo effettivo: $${ie.toFixed(0)} (dopo premium)`}),n(300)},U=()=>{const re=parseFloat(H),he=parseFloat(D),le=parseInt(V);if(isNaN(re)||isNaN(he)||isNaN(le)||le<=0){de.error("Inserisci valori validi");return}if(b?.id==="mission-1"&&O==="call"){de.error("Per questa missione devi vendere una PUT!");return}if(O==="call"&&A<le){de.error(`Non hai abbastanza BTC! (Possiedi: ${A}, Richiesto: ${le})`);return}const ie={id:Date.now().toString(),type:O,strike:re,premium:he,quantity:le,openDate:new Date,status:"open"};f([...d,ie]),c(_e=>_e+he*le),Q("sell_option",1),Q("collect_premium",he*le);const fe=O==="call"?150:100;n(fe),de.success(` ${O==="put"?"Put":"Call"} venduta!`,{description:`+$${he*le} premium raccolto | +${fe} XP`}),b&&x<b.tutorial.length-1&&S(_e=>_e+1)},M=re=>{const he=d.find(_e=>_e.id===re);if(!he)return;const le=he.type==="put"?Math.max(0,he.strike-i)*he.quantity:Math.max(0,i-he.strike)*he.quantity,ie=he.premium*he.quantity,fe=ie-le;if(c(_e=>_e-le),f(d.map(_e=>_e.id===re?{..._e,status:"closed"}:_e)),Q("close_position",1),fe>0){const ue=fe/ie*100>80?100:0,Z=150+ue;n(Z),de.success(" Posizione chiusa in profitto!",{description:ue>0?`Profitto eccellente: $${fe.toFixed(2)} | +${Z} XP (bonus +${ue}!)`:`Profitto: $${fe.toFixed(2)} | +${Z} XP`})}else de.error("Posizione chiusa in perdita",{description:`Perdita: $${Math.abs(fe).toFixed(2)}`})},Q=(re,he)=>{if(!b)return;const le=g.map(fe=>{if(fe.id===b.id){const _e=fe.objectives.map(Z=>{if(Z.type===re){const me=Math.min(Z.current+he,Z.target);return{...Z,current:me}}return Z});return _e.every(Z=>Z.current>=Z.target)&&fe.status==="active"?(ee(fe),{...fe,objectives:_e,status:"completed"}):{...fe,objectives:_e}}return fe});y(le);const ie=le.find(fe=>fe.id===b.id);ie&&w(ie)},ee=re=>{n(re.reward.xp),de.success(" Missione Completata!",{description:`${re.title} - +${re.reward.xp} XP`,duration:5e3});const he=Wc.findIndex(le=>le.id===re.id);if(he<Wc.length-1){const le=Wc[he+1];y(ie=>ie.map(fe=>fe.id===le.id?{...fe,status:"active"}:fe)),setTimeout(()=>{const ie={...le,status:"active"};w(ie),S(0),_(!0),de.success(" Nuova Missione Attivata!",{description:le.title,duration:4e3})},2e3)}else setTimeout(()=>{de.success(" Tutte le Missioni Completate!",{description:"Sei un maestro della Wheel Strategy!",duration:5e3})},2e3)},L=re=>{if(re.status==="locked"){de.error("Missione bloccata",{description:re.unlockRequirement});return}w(re),S(0),_(!0)},q=d.filter(re=>re.status==="open"),X=d.reduce((re,he)=>re+he.premium*he.quantity,0),se=o-1e4,pe=re=>{switch(re){case"easy":return"bg-green-100 text-green-700";case"medium":return"bg-blue-100 text-blue-700";case"hard":return"bg-orange-100 text-orange-700";case"expert":return"bg-purple-100 text-purple-700"}};return s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50",children:[s.jsx(en,{currentView:"simulation",onNavigate:t,onMascotToggle:r,mascotVisible:e}),s.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-4 md:px-6 sticky top-0 z-30 safe-area-top",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsxs(xe,{variant:"ghost",onClick:()=>t("home"),size:"sm",className:"h-10",children:[s.jsx(wu,{className:"w-5 h-5 md:w-4 md:h-4 mr-2"}),s.jsx("span",{className:"hidden md:inline",children:"Indietro"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-gray-900 truncate",children:" Trading Missions"}),s.jsx("p",{className:"text-gray-600 hidden md:block",children:"Impara la Wheel Strategy passo dopo passo"})]}),s.jsxs(xe,{onClick:()=>t("wheel-strategy"),size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[s.jsx(ht,{className:"w-4 h-4 md:mr-2"}),s.jsx("span",{className:"hidden md:inline",children:"Wheel Dashboard"})]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-5 md:px-6 md:py-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4 mb-6",children:[s.jsxs(oe,{className:"p-4 md:p-6 bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[s.jsx("p",{className:"text-blue-100 mb-2",children:"BTC Price"}),s.jsxs("p",{className:"font-bold mb-2",children:["$",i.toLocaleString()]}),s.jsxs("div",{className:"flex items-center gap-1 text-blue-100",children:[s.jsx(ht,{className:"w-4 h-4"}),s.jsx("span",{children:"Live"})]})]}),s.jsxs(oe,{className:"p-4 md:p-6",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:"Portfolio"}),s.jsxs("p",{className:"text-gray-900 mb-2 font-bold",children:["$",o.toLocaleString()]}),s.jsxs("div",{className:`flex items-center gap-1 ${se>=0?"text-green-600":"text-red-600"}`,children:[se>=0?s.jsx(ht,{className:"w-4 h-4"}):s.jsx(SG,{className:"w-4 h-4"}),s.jsxs("span",{children:[se>=0?"+":"",se.toFixed(0)]})]})]}),s.jsxs(oe,{className:"p-4 md:p-6",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:"Premium"}),s.jsxs("p",{className:"text-gray-900 mb-2 font-bold",children:["$",X.toLocaleString()]}),s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(al,{className:"w-4 h-4"}),s.jsxs("span",{children:[d.length," trades"]})]})]}),s.jsxs(oe,{className:"p-4 md:p-6",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:"BTC Owned"}),s.jsx("p",{className:"text-gray-900 mb-2 font-bold",children:A}),s.jsx("p",{className:"text-gray-600",children:"Bitcoin"})]}),s.jsxs(oe,{className:"p-4 md:p-6 bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:[s.jsx("p",{className:"text-purple-100 mb-2",children:"Missioni"}),s.jsxs("p",{className:"font-bold mb-2",children:[g.filter(re=>re.status==="completed").length,"/",g.length]}),s.jsxs("div",{className:"flex items-center gap-1 text-purple-100",children:[s.jsx(Vt,{className:"w-4 h-4"}),s.jsx("span",{children:"Completate"})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-gray-900 flex items-center gap-2",children:[s.jsx(zr,{className:"w-5 h-5 text-blue-600"}),"Le Tue Missioni"]}),g.map((re,he)=>s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},children:s.jsx(oe,{className:`p-4 cursor-pointer transition-all ${b?.id===re.id?"ring-2 ring-blue-500 shadow-lg":re.status==="locked"?"opacity-60":"hover:shadow-md"}`,onClick:()=>L(re),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:re.status==="completed"?s.jsx(Rt,{className:"w-6 h-6 text-green-600"}):re.status==="locked"?s.jsx(Ls,{className:"w-6 h-6 text-gray-400"}):s.jsx(Sh,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-gray-900 truncate",children:re.title}),s.jsx(Je,{className:pe(re.difficulty),children:re.difficulty})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:re.description}),re.status==="active"&&re.objectives.map((le,ie)=>s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:le.description}),s.jsxs("span",{className:"text-gray-900 font-semibold",children:[le.current,"/",le.target]})]}),s.jsx(ni,{value:le.current/le.target*100,className:"h-2"})]},ie)),re.status==="completed"&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(Rt,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-semibold",children:["Completata! +",re.reward.xp," XP"]})]}),re.status==="locked"&&s.jsx("p",{className:"text-gray-500 italic",children:re.unlockRequirement})]})]})})},re.id))]}),s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[b&&k&&b.status==="active"&&s.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:s.jsx(oe,{className:"p-6 bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-600 rounded-full",children:s.jsx(c$,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-gray-900",children:["Step ",x+1,"/",b.tutorial.length,": ",b.tutorial[x].title]}),s.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>_(!1),children:"Chiudi"})]}),s.jsx("p",{className:"text-gray-700 mb-4",children:b.tutorial[x].content}),s.jsx("div",{className:"flex items-center gap-2",children:b.tutorial.map((re,he)=>s.jsx("div",{className:`h-2 flex-1 rounded-full ${he<=x?"bg-blue-600":"bg-gray-300"}`},he))})]})]})})}),s.jsxs(oe,{className:"p-6",children:[s.jsx("h2",{className:"text-gray-900 mb-4",children:"Bitcoin Price Chart"}),s.jsx(h3,{width:"100%",height:200,children:s.jsxs($fe,{data:p,children:[s.jsx(YS,{strokeDasharray:"3 3"}),s.jsx(Hl,{dataKey:"time",tick:{fontSize:12}}),s.jsx(Gl,{domain:["dataMin - 500","dataMax + 500"],tick:{fontSize:12}}),s.jsx(Qn,{}),s.jsx(wd,{type:"monotone",dataKey:"price",stroke:"#3b82f6",strokeWidth:2,dot:!1})]})})]}),s.jsxs(oe,{className:"p-6",children:[s.jsx("h2",{className:"text-gray-900 mb-4",children:"Vendi Opzione"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[s.jsx(xe,{variant:O==="put"?"default":"outline",onClick:()=>R("put"),className:O==="put"?"bg-orange-600 hover:bg-orange-700":"",children:"Sell Put"}),s.jsxs(xe,{variant:O==="call"?"default":"outline",onClick:()=>R("call"),disabled:A===0,className:O==="call"?"bg-blue-600 hover:bg-blue-700":"",children:["Sell Call ",A===0&&""]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(dt,{children:"Strike Price ($)"}),s.jsx(vn,{type:"number",value:H,onChange:re=>B(re.target.value),placeholder:O==="put"?"40000":"45000",className:"h-12"}),s.jsxs("p",{className:"text-gray-500 mt-1",children:["BTC attuale: $",i.toLocaleString(),"  ",O==="put"?"7% sotto (sicuro)":"7% sopra (profit target)"]})]}),s.jsxs("div",{children:[s.jsxs(dt,{children:["Premium ($) ",s.jsx("span",{className:"text-xs text-gray-500",children:"(auto-calcolato)"})]}),s.jsx(vn,{type:"number",value:D,onChange:re=>$(re.target.value),placeholder:"500",className:"h-12"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Il premium  calcolato automaticamente in base alla distanza dallo strike. Puoi modificarlo manualmente."})]}),s.jsxs("div",{children:[s.jsx(dt,{children:"Quantit"}),s.jsx(vn,{type:"number",value:V,onChange:re=>J(re.target.value),placeholder:"1",min:"1",max:O==="call"?A:void 0,className:"h-12"}),O==="call"&&s.jsxs("p",{className:"text-gray-500 mt-1",children:["BTC disponibili: ",A]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-700 mb-2 font-semibold",children:"Riepilogo:"}),s.jsxs("p",{className:"text-gray-900",children:["Premium totale: $",parseFloat(D||"0")*parseInt(V||"1")]}),O==="put"&&s.jsxs("p",{className:"text-gray-600",children:["Capitale richiesto: $",parseFloat(H||"0")*parseInt(V||"1")]})]}),s.jsxs(xe,{onClick:U,className:`w-full h-12 ${O==="put"?"bg-orange-600 hover:bg-orange-700":"bg-blue-600 hover:bg-blue-700"}`,children:["Vendi ",O==="put"?"Put":"Call"]})]})]}),s.jsxs(oe,{className:"p-6",children:[s.jsxs("h2",{className:"text-gray-900 mb-4",children:["Posizioni Aperte (",q.length,")"]}),q.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:"Nessuna posizione aperta"}),s.jsx("p",{className:"text-gray-500",children:"Vendi la tua prima opzione per iniziare!"})]}):s.jsx("div",{className:"space-y-3",children:q.map(re=>{const he=re.type==="put"?Math.max(0,re.strike-i)*re.quantity:Math.max(0,i-re.strike)*re.quantity,le=re.premium*re.quantity,ie=le-he;return s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Je,{className:re.type==="put"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700",children:re.type.toUpperCase()}),s.jsxs("span",{className:"text-gray-900 font-semibold",children:["$",re.strike.toLocaleString()]}),s.jsxs("span",{className:"text-gray-600",children:["x",re.quantity]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-600",children:["Premium: $",le]}),s.jsxs("p",{className:ie>=0?"text-green-600 font-semibold":"text-red-600 font-semibold",children:["P&L: ",ie>=0?"+":"","$",ie.toFixed(2)]})]}),s.jsx(xe,{onClick:()=>M(re.id),variant:"outline",size:"sm",children:"Chiudi"})]})]},re.id)})})]})]})]})]}),C&&s.jsx(Dfe,{onComplete:()=>{N(!1),de.success("Ottimo! Ora inizia con la prima missione ")},onSkip:()=>{N(!1),de.info('Tutorial saltato. Puoi riaprirlo dal pulsante "?"')}}),!C&&s.jsx(xe,{onClick:()=>N(!0),className:"fixed bottom-24 md:bottom-8 right-4 md:right-8 w-14 h-14 rounded-full bg-emerald-600 hover:bg-emerald-700 shadow-2xl z-40 flex items-center justify-center",title:"Rivedi Tutorial",children:s.jsx(pH,{className:"w-6 h-6 text-white"})})]})}function Lfe({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const[n,i]=P.useState(1e3),[a,o]=P.useState(100),[c,d]=P.useState("monthly"),[f,p]=P.useState(.5),[h,g]=P.useState(5),[y,b]=P.useState(!1),[w,x]=P.useState(()=>{const U=localStorage.getItem("btcwheel_longterm_plans");return U?JSON.parse(U):[]}),[S,k]=P.useState(!1),[_,C]=P.useState(""),N=P.useMemo(()=>{const U=[],M=h*365,Q=f/100;let ee=n,L=n;const q=30;for(let X=0;X<=M;X++)if(X>0&&(c==="weekly"&&X%7===0||c==="monthly"&&X%30===0)&&(ee+=a,L+=a),ee=ee*(1+Q),X%q===0||X===M){const se=Math.floor(X/30),pe=ee-L;U.push({month:se,year:Math.floor(X/365),totalCapital:Math.round(ee*100)/100,invested:Math.round(L*100)/100,profit:Math.round(pe*100)/100,label:X===0?"Inizio":`M${se}`})}return U},[n,a,c,f,h]),A=N[N.length-1],E=A?.invested||0,O=A?.totalCapital||0,R=A?.profit||0,H=E>0?R/E*100:0,B=R/(h*12),D=()=>{k(!0)},$=async()=>{if(!_.trim()){de.error("Inserisci un nome per il piano");return}const U={id:Date.now().toString(),name:_.trim(),initialCapital:n,pacAmount:a,pacFrequency:c,dailyInterest:f,years:h,finalCapital:O,totalProfit:R,roi:H,createdAt:new Date},M=[...w,U];x(M),localStorage.setItem("btcwheel_longterm_plans",JSON.stringify(M));const Q=h*12,ee=f/100,L=(Math.pow(1+ee,30)-1)*100,q={id:U.id,name:_.trim(),ticker:"BTC",total_capital:n,plan:{duration_months:Q,target_monthly_return:parseFloat(L.toFixed(2))},plan_duration_months:Q,target_monthly_return:parseFloat(L.toFixed(2)),created_at:new Date().toISOString()},X=JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]");X.push(q),localStorage.setItem("btcwheel_strategies",JSON.stringify(X));try{if(bt){const{data:{session:se}}=await We.auth.getSession();if(se?.access_token){console.log(" [LongTermSimulator] User logged in - saving strategy to cloud...");const pe=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/wheel/strategies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se.access_token}`},body:JSON.stringify({name:q.name,ticker:q.ticker,totalCapital:q.total_capital,planDurationMonths:q.plan_duration_months,targetMonthlyReturn:q.target_monthly_return})});pe.ok?(console.log(" [LongTermSimulator] Strategy saved to cloud successfully!"),de.success("Piano salvato con successo!",{description:`${_.trim()} sincronizzato con il cloud e disponibile nella dashboard`})):(console.error(" [LongTermSimulator] Failed to save to cloud:",await pe.text()),de.warning("Piano salvato localmente",{description:"Impossibile sincronizzare con il cloud, ma  salvato sul tuo dispositivo"}))}else console.log(" [LongTermSimulator] No session - saving locally only"),de.success("Piano salvato con successo!",{description:`${_.trim()} aggiunto ai tuoi piani locali`})}else console.log(" [LongTermSimulator] Supabase not configured - local mode only"),de.success("Piano salvato con successo!",{description:`${_.trim()} aggiunto ai tuoi piani`})}catch(se){console.error(" [LongTermSimulator] Error saving to cloud:",se),de.warning("Piano salvato localmente",{description:"Errore nella sincronizzazione cloud, ma il piano  salvato sul dispositivo"})}k(!1),C(""),window.dispatchEvent(new CustomEvent("btcwheel-strategies-updated"))},V=()=>{const U={id:Date.now().toString(),name:"Piano di Accumulo BTC",initialCapital:n,pacAmount:a,pacFrequency:c,dailyInterest:f,years:h,startDate:new Date("2024-08-10"),targetCapital:O};localStorage.setItem("btcwheel_active_plan",JSON.stringify(U));const M=JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]"),Q=h*12,ee=f/100,L=(Math.pow(1+ee,30)-1)*100,q={id:U.id,name:U.name,ticker:"BTC",total_capital:n,plan:{duration_months:Q,target_monthly_return:parseFloat(L.toFixed(2))},plan_duration_months:Q,target_monthly_return:parseFloat(L.toFixed(2)),created_at:new Date().toISOString()},X=M.findIndex(se=>se.name===U.name);X>=0?M[X]=q:M.push(q),localStorage.setItem("btcwheel_strategies",JSON.stringify(M)),de.success("Piano impostato come attivo!",{description:"Visibile nella Dashboard con tracking in tempo reale"})},J=U=>{const M=w.filter(L=>L.id!==U);x(M),localStorage.setItem("btcwheel_longterm_plans",JSON.stringify(M));const ee=JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]").filter(L=>L.id!==U);localStorage.setItem("btcwheel_strategies",JSON.stringify(ee)),de.success("Piano eliminato")},K=U=>{i(U.initialCapital),o(U.pacAmount),d(U.pacFrequency),p(U.dailyInterest),g(U.years),de.success("Piano caricato!")};return s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white relative",children:[s.jsx("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),s.jsx("div",{className:"fixed top-0 right-0 w-[500px] h-[500px] bg-emerald-500/10 rounded-full blur-[150px] pointer-events-none"}),s.jsx("div",{className:"fixed bottom-0 left-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[150px] pointer-events-none"}),s.jsx(en,{currentView:"simulation",onNavigate:t,mascotVisible:e,onMascotToggle:r}),s.jsx(W.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative px-4 py-8 md:px-6 max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx(W.div,{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/50",whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:s.jsx(ht,{className:"w-8 h-8 text-white drop-shadow-sm"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Simulatore Lungo Termine"}),s.jsx(W.div,{animate:{rotate:[0,14,-14,14,0],scale:[1,1.1,1.1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:s.jsx(mt,{className:"w-6 h-6 text-emerald-400"})})]}),s.jsxs("p",{className:"text-gray-400 mt-1",children:["Pianifica la tua strategia di investimento con interesse composto ",s.jsx(Je,{className:"ml-2 bg-emerald-500/20 text-emerald-300 border-emerald-500/30",children:"Giornaliero"})]})]})]})}),s.jsxs("main",{className:"relative max-w-7xl mx-auto px-4 py-6 md:px-6 space-y-6",children:[s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[s.jsxs("h2",{className:"text-xl text-white mb-6 flex items-center gap-2",children:[s.jsx(zr,{className:"w-6 h-6 text-emerald-400"}),"Parametri di Simulazione"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-3",children:[s.jsx(al,{className:"w-5 h-5 text-emerald-400"}),"Capitale Iniziale: ",s.jsxs("span",{className:"font-bold text-white",children:["$",n]})]}),s.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:n,onChange:U=>i(Number(U.target.value)),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-emerald"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"$0"}),s.jsx("span",{children:"$10,000"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-3",children:[s.jsx(rG,{className:"w-5 h-5 text-purple-400"}),"PAC ",c==="monthly"?"Mensile":"Settimanale",":",s.jsxs("span",{className:"font-bold text-white",children:["$",a]})]}),s.jsx("input",{type:"range",min:"20",max:"1000",step:"10",value:a,onChange:U=>o(Number(U.target.value)),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-purple"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"$20"}),s.jsx("span",{children:"$1,000"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-gray-300 mb-3 block",children:"Frequenza PAC"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(xe,{onClick:()=>d("weekly"),className:`flex-1 ${c==="weekly"?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500":"bg-gray-700 hover:bg-gray-600"}`,children:"Settimanale"}),s.jsx(xe,{onClick:()=>d("monthly"),className:`flex-1 ${c==="monthly"?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500":"bg-gray-700 hover:bg-gray-600"}`,children:"Mensile"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-3",children:[s.jsx(eG,{className:"w-5 h-5 text-amber-400"}),"Interesse Giornaliero: ",s.jsxs("span",{className:"font-bold text-white",children:[f.toFixed(2),"%"]})]}),s.jsx("input",{type:"range",min:"0.01",max:"3",step:"0.01",value:f,onChange:U=>p(Number(U.target.value)),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-amber"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"0.01%"}),s.jsx("span",{children:"3%"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-3",children:[s.jsx(bh,{className:"w-5 h-5 text-blue-400"}),"Periodo di Investimento: ",s.jsxs("span",{className:"font-bold text-white",children:[h," ",h===1?"anno":"anni"]}),s.jsxs("span",{className:"text-gray-500",children:["(",h*12," mesi)"]})]}),s.jsx("input",{type:"range",min:"0.5",max:"15",step:"0.5",value:h,onChange:U=>g(Number(U.target.value)),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-blue"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"6 mesi"}),s.jsx("span",{children:"15 anni"})]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-3",children:" Preset Rapidi:"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(xe,{size:"sm",onClick:()=>{i(1e3),o(100),d("monthly"),p(.5),g(5)},className:"bg-emerald-600/20 hover:bg-emerald-600/30 border border-emerald-500/30 text-emerald-300",children:"Conservativo 5Y"}),s.jsx(xe,{size:"sm",onClick:()=>{i(2e3),o(200),d("monthly"),p(1),g(10)},className:"bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 text-blue-300",children:"Moderato 10Y"}),s.jsx(xe,{size:"sm",onClick:()=>{i(5e3),o(500),d("monthly"),p(1.5),g(15)},className:"bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/30 text-purple-300",children:"Aggressivo 15Y"})]})]})]})}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid md:grid-cols-4 gap-4",children:[s.jsxs(oe,{className:"p-5 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 backdrop-blur-xl border border-emerald-500/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-emerald-300 text-sm",children:"Capitale Finale"}),s.jsx(ht,{className:"w-5 h-5 text-emerald-400"})]}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",O.toLocaleString()]}),s.jsxs("p",{className:"text-emerald-400 text-xs mt-1",children:["Dopo ",h," anni"]})]}),s.jsxs(oe,{className:"p-5 bg-gradient-to-br from-purple-500/10 to-pink-500/10 backdrop-blur-xl border border-purple-500/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-purple-300 text-sm",children:"Profitto Totale"}),s.jsx(Qi,{className:"w-5 h-5 text-purple-400"})]}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",R.toLocaleString()]}),s.jsxs("p",{className:"text-purple-400 text-xs mt-1",children:["+",H.toFixed(1),"% ROI"]})]}),s.jsxs(oe,{className:"p-5 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 backdrop-blur-xl border border-blue-500/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-blue-300 text-sm",children:"Investito"}),s.jsx(al,{className:"w-5 h-5 text-blue-400"})]}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",E.toLocaleString()]}),s.jsx("p",{className:"text-blue-400 text-xs mt-1",children:"Capitale + PAC"})]}),s.jsxs(oe,{className:"p-5 bg-gradient-to-br from-amber-500/10 to-orange-500/10 backdrop-blur-xl border border-amber-500/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-amber-300 text-sm",children:"Profitto Mensile"}),s.jsx($p,{className:"w-5 h-5 text-amber-400"})]}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",B.toLocaleString(void 0,{maximumFractionDigits:0})]}),s.jsx("p",{className:"text-amber-400 text-xs mt-1",children:"Media stimata"})]})]}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:s.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl text-white flex items-center gap-2",children:[s.jsx(ht,{className:"w-6 h-6 text-emerald-400"}),"Crescita del Capitale"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(xe,{onClick:V,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500",children:[s.jsx(zr,{className:"w-4 h-4 mr-2"}),"Imposta come Attivo"]}),s.jsxs(xe,{onClick:D,className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500",children:[s.jsx(Uf,{className:"w-4 h-4 mr-2"}),"Salva Piano"]})]})]}),s.jsx(h3,{width:"100%",height:400,children:s.jsxs(Mfe,{data:N,children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorInvested",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})]}),s.jsx(YS,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Hl,{dataKey:"label",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(Gl,{stroke:"#9ca3af",style:{fontSize:"12px"},tickFormatter:U=>`$${(U/1e3).toFixed(0)}k`}),s.jsx(Qn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#fff"},formatter:U=>[`$${U.toLocaleString()}`,""]}),s.jsx(Ms,{}),s.jsx(ra,{type:"monotone",dataKey:"invested",stroke:"#6366f1",strokeWidth:2,fillOpacity:1,fill:"url(#colorInvested)",name:"Capitale Investito"}),s.jsx(ra,{type:"monotone",dataKey:"totalCapital",stroke:"#10b981",strokeWidth:3,fillOpacity:1,fill:"url(#colorTotal)",name:"Capitale Totale"})]})})]})}),w.length>0&&s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:s.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[s.jsxs("h3",{className:"text-xl text-white mb-4 flex items-center gap-2",children:[s.jsx(Uf,{className:"w-6 h-6 text-blue-400"}),"Piani Salvati (",w.length,")"]}),s.jsx("div",{className:"space-y-3",children:w.map(U=>s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-white/10 hover:border-blue-500/30 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:U.name}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["Creato: ",new Date(U.createdAt).toLocaleDateString("it-IT")]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xe,{size:"sm",onClick:()=>K(U),className:"bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 text-blue-300",children:"Carica"}),s.jsx(xe,{size:"sm",onClick:()=>J(U.id),className:"bg-red-600/20 hover:bg-red-600/30 border border-red-500/30 text-red-300",children:"Elimina"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Capitale Iniziale"}),s.jsxs("p",{className:"text-white font-medium",children:["$",U.initialCapital]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-500",children:["PAC ",U.pacFrequency==="monthly"?"Mensile":"Settimanale"]}),s.jsxs("p",{className:"text-white font-medium",children:["$",U.pacAmount]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Interesse/Giorno"}),s.jsxs("p",{className:"text-white font-medium",children:[U.dailyInterest,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Durata"}),s.jsxs("p",{className:"text-white font-medium",children:[U.years," anni"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Capitale Finale"}),s.jsxs("p",{className:"text-emerald-400 font-bold",children:["$",U.finalCapital.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Profitto"}),s.jsxs("p",{className:"text-purple-400 font-bold",children:["$",U.totalProfit.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"ROI"}),s.jsxs("p",{className:"text-amber-400 font-bold",children:["+",U.roi.toFixed(1),"%"]})]})]})]},U.id))})]})}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:s.jsx(oe,{className:"p-6 bg-gradient-to-br from-blue-500/10 to-purple-500/10 backdrop-blur-xl border border-blue-500/20",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-blue-500/30",children:s.jsx(mt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:" Come Funziona il Simulatore"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-400 mt-0.5",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Interesse Composto:"})," Gli interessi vengono reinvestiti automaticamente ogni giorno"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-400 mt-0.5",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"PAC (Piano di Accumulo):"})," Aggiungi capitale regolarmente per massimizzare i rendimenti"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-400 mt-0.5",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Interesse Giornaliero:"})," Basato sui rendimenti della Wheel Strategy (0.5-1% realistico)"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-400 mt-0.5",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Salva i Piani:"})," Crea e confronta diverse strategie di investimento a lungo termine"]})]})]})]})]})})})]}),S&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(W.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-white/20 rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg shadow-emerald-500/30",children:s.jsx(Uf,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl text-white",children:"Salva Piano"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Dai un nome al tuo piano di investimento"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Nome del Piano"}),s.jsx("input",{type:"text",value:_,onChange:U=>C(U.target.value),placeholder:"es. Piano Accumulo Conservativo",className:"w-full px-4 py-3 bg-gray-700/50 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500/50 focus:ring-2 focus:ring-emerald-500/20 transition-all",autoFocus:!0,onKeyDown:U=>{U.key==="Enter"?$():U.key==="Escape"&&(k(!1),C(""))}}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:' Suggerimenti: "Piano 5 anni BTC", "Accumulo Mensile 2026", "Strategia Conservativa"'})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(xe,{onClick:()=>{k(!1),C("")},className:"flex-1 bg-gray-700 hover:bg-gray-600",children:"Annulla"}),s.jsxs(xe,{onClick:$,className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500",children:[s.jsx(Uf,{className:"w-4 h-4 mr-2"}),"Salva"]})]})]})}),s.jsx("style",{children:`
        .slider-emerald::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          background: linear-gradient(135deg, #10b981, #14b8a6);
          cursor: pointer;
          border-radius: 50%;
          box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        
        .slider-purple::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          background: linear-gradient(135deg, #a855f7, #ec4899);
          cursor: pointer;
          border-radius: 50%;
          box-shadow: 0 0 10px rgba(168, 85, 247, 0.5);
        }
        
        .slider-amber::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          background: linear-gradient(135deg, #f59e0b, #f97316);
          cursor: pointer;
          border-radius: 50%;
          box-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
        }
        
        .slider-blue::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          background: linear-gradient(135deg, #3b82f6, #06b6d4);
          cursor: pointer;
          border-radius: 50%;
          box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }
      `})]})}function Bfe({trades:t,stats:e,plan:r}){if(t.length===0)return null;const n=t.filter(w=>w.status==="closed"),i=n.length>0?n.reduce((w,x)=>w+x.premium*x.quantity/x.capital*100,0)/n.length:0,a=t.length>0?new Date(t[t.length-1].date):new Date,o=t.length>0?new Date(t[0].date):new Date,c=Math.max(1,Math.ceil((o.getTime()-a.getTime())/(1e3*60*60*24))),d=c/30,f=d>0?t.length/d:0,p=d>0?e.returnOnCapital/d:e.returnOnCapital,h=r||{targetPremiumPercent:2,tradesPerMonth:8,targetMonthlyReturn:5},g=i-h.targetPremiumPercent,y=f-h.tradesPerMonth,b=p-h.targetMonthlyReturn;return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-gray-800 flex items-center gap-2",children:" Piano vs Reale"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Confronta le performance reali con gli obiettivi pianificati"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Periodo analizzato"}),s.jsxs("p",{className:"text-sm text-gray-700",children:[c," giorni (",d.toFixed(1)," mesi)"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-sm text-gray-700",children:"Premio Medio per Trade"}),s.jsx(zr,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Piano"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[h.targetPremiumPercent.toFixed(2),"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Reale"}),s.jsxs("span",{className:"text-lg text-gray-900",children:[i.toFixed(2),"%"]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Differenza"}),s.jsxs("div",{className:`flex items-center gap-1 text-sm ${g>=0?"text-emerald-600":"text-red-600"}`,children:[g>=0?s.jsx(D0,{className:"w-4 h-4"}):s.jsx(M0,{className:"w-4 h-4"}),s.jsxs("span",{children:[Math.abs(g).toFixed(2),"%"]})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-sm text-gray-700",children:"Trade al Mese"}),s.jsx(il,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Piano"}),s.jsx("span",{className:"text-sm text-gray-600",children:h.tradesPerMonth})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Reale"}),s.jsx("span",{className:"text-lg text-gray-900",children:f.toFixed(1)})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Differenza"}),s.jsxs("div",{className:`flex items-center gap-1 text-sm ${y>=0?"text-emerald-600":"text-red-600"}`,children:[y>=0?s.jsx(D0,{className:"w-4 h-4"}):s.jsx(M0,{className:"w-4 h-4"}),s.jsx("span",{children:Math.abs(y).toFixed(1)})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-sm text-gray-700",children:"ROI Mensile"}),s.jsx(ht,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Piano"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[h.targetMonthlyReturn.toFixed(2),"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Reale"}),s.jsxs("span",{className:"text-lg text-gray-900",children:[p.toFixed(2),"%"]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Differenza"}),s.jsxs("div",{className:`flex items-center gap-1 text-sm ${b>=0?"text-emerald-600":"text-red-600"}`,children:[b>=0?s.jsx(D0,{className:"w-4 h-4"}):s.jsx(M0,{className:"w-4 h-4"}),s.jsxs("span",{children:[Math.abs(b).toFixed(2),"%"]})]})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-emerald-50 rounded-xl p-5 border-2 border-emerald-200",children:[s.jsx("h4",{className:"text-sm text-gray-800 mb-3",children:" Analisi Performance"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-gray-700",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-0.5",children:g>=0?"":""}),s.jsxs("p",{children:["Premio medio ",s.jsx("strong",{children:g>=0?"superiore":"inferiore"})," al piano di"," ",s.jsxs("strong",{className:g>=0?"text-emerald-600":"text-red-600",children:[Math.abs(g).toFixed(2),"%"]})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-0.5",children:y>=-2?"":""}),s.jsxs("p",{children:["Frequenza trade: ",s.jsx("strong",{children:f.toFixed(1)})," vs piano ",s.jsx("strong",{children:h.tradesPerMonth}),"/mese"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-0.5",children:b>=0?"":""}),s.jsxs("p",{children:["ROI mensile ",b>=0?"raggiunto":"sotto piano",":",s.jsxs("strong",{className:b>=0?"text-emerald-600":"text-red-600",children:[" ",p.toFixed(2),"%"]})," vs ",s.jsxs("strong",{children:[h.targetMonthlyReturn,"%"]})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-0.5",children:""}),s.jsxs("p",{children:["Win rate: ",s.jsxs("strong",{children:[e.winRate.toFixed(1),"%"]})," (",e.winningTrades,"W / ",e.losingTrades,"L)"]})]})]})]})]})]})}function Ffe({onNavigate:t}){const e=P.useRef(!1),r=P.useRef(!1);console.log("[WheelStrategyView]  Component rendering..."),console.log("[WheelStrategyView]  Refs state:",{hasAutoSelected:e.current,isLoading:r.current});const[n,i]=P.useState(!0),[a,o]=P.useState(!1),[c,d]=P.useState(null),[f,p]=P.useState(null),[h,g]=P.useState(!1),[y,b]=P.useState([]),[w,x]=P.useState(null),[S,k]=P.useState(!1),[_,C]=P.useState({name:"",ticker:"BTC",totalCapital:"",planDurationMonths:"12",targetMonthlyReturn:"5"}),[N,A]=P.useState(!1),[E,O]=P.useState([]),[R,H]=P.useState(null),[B,D]=P.useState(!1),[$,V]=P.useState({ticker:"BTC",type:"put",action:"sell",strike:"",premium:"",quantity:"1",expiry:"",capital:""}),K=(()=>{const Z=parseFloat($.capital),me=parseFloat($.premium);return!Z||!me||isNaN(Z)||isNaN(me)?null:(me/Z*100).toFixed(2)})(),U=$.type==="call"?"Capitale (BTC)":"Capitale (USDT)",M=$.type==="call"?"Premio (BTC)":"Premio (USDT)",Q=$.type==="call"?"":"$",ee=$.type==="call"?"1.0":"50000",L=$.type==="call"?"0.02":"500";(()=>{if(E.length===0)return null;const Z=E.find($e=>$e.status==="closed"&&$e.type===$.type);if(!Z)return null;const me=Z.premium*Z.quantity;return(Z.capital+me).toFixed($.type==="call"?4:2)})(),P.useEffect(()=>{console.log(" [WheelStrategy] Initial mount - loading data..."),se()},[]),P.useEffect(()=>{const Z=()=>{console.log(" [WheelStrategy] Strategies updated event - reloading data..."),e.current=!1,se()};return window.addEventListener("btcwheel-strategies-updated",Z),()=>{window.removeEventListener("btcwheel-strategies-updated",Z)}},[]);const X=async()=>{try{if(de.loading("Controllo connessione...",{id:"test-connection"}),console.log(" [WheelStrategy] Testing connection..."),console.log(" [WheelStrategy] Supabase URL:",`https://${st}.supabase.co`),console.log(" [WheelStrategy] Supabase configured:",bt),!bt){de.error("Supabase non configurato!",{id:"test-connection"});return}const{data:{session:Z},error:me}=await We.auth.getSession();if(me){console.error(" [WheelStrategy] Connection test failed:",me),de.error(`Errore: ${me.message}`,{id:"test-connection"});return}if(!Z){console.log(" [WheelStrategy] No session - need to login"),de.error("Nessuna sessione attiva - Effettua il login",{id:"test-connection"});return}console.log(" [WheelStrategy] Connection test successful!"),de.success(`Connesso come ${Z.user.email}`,{id:"test-connection"}),await se()}catch(Z){console.error(" [WheelStrategy] Connection test error:",Z),de.error("Errore nel test di connessione",{id:"test-connection"})}},se=async()=>{if(r.current){console.log(" [WheelStrategy] Already loading data, skipping...");return}try{if(r.current=!0,i(!0),console.log(" [WheelStrategy] Loading user and data..."),console.log(" [WheelStrategy] Supabase configured:",bt),!bt){console.log(" [WheelStrategy] Modalit locale attiva - usando localStorage"),pe(),i(!1);return}console.log(" [WheelStrategy] Checking session...");const{data:{session:Z},error:me}=await We.auth.getSession();if(me&&console.error(" [WheelStrategy] Session error:",me),me||!Z){console.log(" [WheelStrategy] Nessuna sessione attiva - usando modalit locale con localStorage"),console.log(" [WheelStrategy] I dati NON verranno salvati nel database cloud!"),g(!1),pe(),i(!1);return}console.log(" [WheelStrategy] Session found! User:",Z.user.email),console.log(" [WheelStrategy] User ID:",Z.user.id),d(Z.user.id),p(Z.access_token),g(!0),console.log(" [WheelStrategy] Modalit CLOUD attiva - usando database Supabase"),await he(Z.access_token)}catch(Z){console.error(" [WheelStrategy] Error loading user data:",Z),pe()}finally{i(!1),r.current=!1}},pe=()=>{try{const Z=localStorage.getItem("btcwheel_strategies");if(Z){const me=JSON.parse(Z);if(b(me),console.log(` [WheelStrategy] Loaded ${me.length} local strategies`),console.log(" [WheelStrategy] hasAutoSelectedRef.current:",e.current),me.length>0&&!e.current){const Se=localStorage.getItem("btcwheel_selected_strategy_id_local");console.log(" Saved local strategy ID:",Se),console.log(" Available local strategies:",me.map(Me=>({id:Me.id,name:Me.name})));const $e=Se&&me.find(Me=>Me.id===Se)||me[0];console.log(" Auto-selecting local strategy:",$e.name,$e.id),re($e),e.current=!0}else me.length>0&&e.current&&(console.log(" [loadLocalData] Strategies exist but hasAutoSelectedRef is true - this means we already selected"),console.log(" [loadLocalData] Current selectedStrategy:",w?.name||"NULL"),w||(console.log(" [loadLocalData] FIXING: No selected strategy despite having strategies! Force selecting first..."),re(me[0])))}}catch(Z){console.error("Error loading local data:",Z)}},re=Z=>{console.log(" [selectLocalStrategy] Selecting LOCAL strategy:",{name:Z.name,id:Z.id,ticker:Z.ticker}),x(Z),console.log(" [selectLocalStrategy] Strategy set in state"),localStorage.setItem("btcwheel_selected_strategy_id_local",Z.id),V(He=>({...He,ticker:Z.ticker}));const me=localStorage.getItem(`btcwheel_trades_${Z.id}`),Se=me?JSON.parse(me):[];if(O(Se),Se.length===0){H(null);return}const $e=Se.filter(He=>He.status==="open").length,Me=Se.filter(He=>He.status==="closed"),rt=Se.reduce((He,Wt)=>He+Wt.pnl,0),Ue=Me.reduce((He,Wt)=>He+Wt.premium*Wt.quantity,0),Ct=Me.filter(He=>He.pnl>0).length,ut=Me.filter(He=>He.pnl<0).length,Xe=Me.length>0?Ct/Me.length*100:0,Bt=Z.total_capital>0?rt/Z.total_capital*100:0;H({totalPnL:rt,activeTrades:$e,closedTrades:Me.length,totalTrades:Se.length,winRate:Xe,totalPremiumCollected:Ue,returnOnCapital:Bt,winningTrades:Ct,losingTrades:ut,initialCapital:Z.total_capital,currentCapital:Z.total_capital+rt})},he=async Z=>{try{const me=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/wheel/strategies`,{headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}});if(!me.ok)throw new Error("Failed to fetch strategies");const Se=await me.json();if(b(Se.strategies||[]),console.log(` [WheelStrategy] Loaded ${Se.strategies?.length||0} cloud strategies`),console.log(" [WheelStrategy] hasAutoSelectedRef.current:",e.current),Se.strategies&&Se.strategies.length>0&&!e.current){const $e=localStorage.getItem("btcwheel_selected_strategy_id");console.log(" Saved strategy ID:",$e),console.log(" Available strategies:",Se.strategies.map(rt=>({id:rt.id,name:rt.name})));const Me=$e&&Se.strategies.find(rt=>rt.id===$e)||Se.strategies[0];console.log(" Auto-selecting strategy:",Me.name,Me.id),await le(Me,Z),e.current=!0}else Se.strategies&&Se.strategies.length>0&&e.current&&(console.log(" [fetchStrategies] Strategies exist but hasAutoSelectedRef is true"),console.log(" [fetchStrategies] Current selectedStrategy:",w?.name||"NULL"),w||(console.log(" [fetchStrategies] FIXING: No selected strategy! Force selecting first..."),await le(Se.strategies[0],Z)))}catch(me){console.error("Error fetching strategies:",me)}},le=async(Z,me)=>{console.log(" [selectStrategy] Selecting CLOUD strategy:",{name:Z.name,id:Z.id,ticker:Z.ticker});const Se=me||f;if(!Se){console.error(" [selectStrategy] No auth token available!");return}x(Z),console.log(" [selectStrategy] Strategy set in state"),f&&localStorage.setItem("btcwheel_selected_strategy_id",Z.id),V($e=>({...$e,ticker:Z.ticker})),await ie(Z.id,Se),await fe(Z.id,Se)},ie=async(Z,me)=>{try{const Se=me||f;if(!Se)return;const $e=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/wheel/trades/${Z}`,{headers:{Authorization:`Bearer ${Se}`,"Content-Type":"application/json"}});if(!$e.ok)throw new Error("Failed to fetch trades");const rt=((await $e.json()).trades||[]).map(Ue=>({id:Ue.id,date:Ue.created_at.split("T")[0],type:Ue.type,action:Ue.action,strike:Number(Ue.strike),premium:Number(Ue.premium),quantity:Ue.quantity,ticker:Ue.ticker,expiry:Ue.expiry,pnl:Number(Ue.pnl),status:Ue.status,capital:Number(Ue.capital)}));O(rt)}catch(Se){console.error("Error fetching trades:",Se)}},fe=async(Z,me)=>{try{const Se=me||f;if(!Se)return;const $e=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/wheel/strategies/${Z}/stats`,{headers:{Authorization:`Bearer ${Se}`,"Content-Type":"application/json"}});if(!$e.ok)throw new Error("Failed to fetch stats");const Me=await $e.json();H(Me.stats)}catch(Se){console.error("Error fetching stats:",Se)}},_e=()=>{if(E.length===0)return;const Z=E[0],me=Z.premium*Z.quantity,Se=Z.capital+me;V({...$,capital:Se.toFixed($.type==="call"?4:2),ticker:Z.ticker,type:Z.type}),D(!0)},ue=async()=>{if(!w){alert("Seleziona una strategia prima di aggiungere un trade");return}o(!0);try{const Z={id:`${Date.now()}`,date:new Date().toISOString().split("T")[0],type:$.type,action:$.action,strike:parseFloat($.strike),premium:parseFloat($.premium),quantity:parseInt($.quantity),ticker:$.ticker,expiry:$.expiry,pnl:$.action==="sell"?parseFloat($.premium)*parseInt($.quantity):-parseFloat($.premium)*parseInt($.quantity),status:"open",capital:parseFloat($.capital)};if(!f){const Se=[Z,...E];O(Se),localStorage.setItem(`btcwheel_trades_${w.id}`,JSON.stringify(Se));const $e=Se.filter(He=>He.status==="open").length,Me=Se.filter(He=>He.status==="closed"),rt=Se.reduce((He,Wt)=>He+Wt.pnl,0),Ue=Me.reduce((He,Wt)=>He+Wt.premium*Wt.quantity,0),Ct=Me.filter(He=>He.pnl>0).length,ut=Me.filter(He=>He.pnl<0).length,Xe=Me.length>0?Ct/Me.length*100:0,Bt=w.total_capital>0?rt/w.total_capital*100:0;H({totalPnL:rt,activeTrades:$e,closedTrades:Me.length,totalTrades:Se.length,winRate:Xe,totalPremiumCollected:Ue,returnOnCapital:Bt,winningTrades:Ct,losingTrades:ut,initialCapital:w.total_capital,currentCapital:w.total_capital+rt}),A(!1),D(!1),V({ticker:w.ticker,type:"put",action:"sell",strike:"",premium:"",quantity:"1",expiry:"",capital:""}),o(!1);return}if(!(await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/wheel/trades`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({strategyId:w.id,type:$.type,action:$.action,strike:parseFloat($.strike),premium:parseFloat($.premium),quantity:parseInt($.quantity),ticker:$.ticker,expiry:$.expiry,capital:parseFloat($.capital),status:"open"})})).ok)throw new Error("Failed to add trade");await ie(w.id),await fe(w.id),A(!1),D(!1),V({ticker:w.ticker,type:"put",action:"sell",strike:"",premium:"",quantity:"1",expiry:"",capital:""})}catch(Z){console.error("Error adding trade:",Z),alert("Errore nell'aggiunta del trade. Riprova.")}finally{o(!1)}};return s.jsxs("div",{className:"min-h-screen bg-[#0a1628]",children:[s.jsx(en,{currentView:"wheel-strategy",onNavigate:t,mascotVisible:!0,onMascotToggle:()=>{}}),s.jsxs("div",{className:"md:pl-20",children:[s.jsx("header",{className:"bg-slate-900/50 backdrop-blur-md border-b border-slate-700/50 sticky top-0 z-10",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-4 max-w-[1600px]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>t("simulation"),className:"flex items-center gap-2 text-gray-400 hover:text-emerald-400 transition-all hover:gap-3",children:[s.jsx(wu,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Torna al Simulatore"}),s.jsx("span",{className:"sm:hidden",children:"Indietro"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:" Wheel Strategy Dashboard"}),h?s.jsx("span",{className:"hidden sm:flex items-center gap-1 px-3 py-1 bg-emerald-500/20 text-emerald-400 rounded-full text-xs font-semibold border border-emerald-500/30",children:" Cloud"}):s.jsx("span",{className:"hidden sm:flex items-center gap-1 px-3 py-1 bg-orange-500/20 text-orange-400 rounded-full text-xs font-semibold border border-orange-500/30",children:" Locale"}),s.jsx(Fj,{onNavigate:t})]})]}),!h&&!n&&s.jsx("div",{className:"mt-3 p-3 bg-orange-500/10 border border-orange-500/30 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(hi,{className:"w-5 h-5 text-orange-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-orange-400 mb-2",children:[" ",s.jsx("strong",{children:"Modalit locale attiva"})," - I dati sono salvati solo nel browser e verranno persi se cancelli la cache."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:X,className:"px-3 py-1.5 bg-orange-500/20 hover:bg-orange-500/30 text-orange-300 rounded-md text-xs font-semibold border border-orange-500/40 transition-colors",children:" Test Connessione Cloud"}),s.jsx("button",{onClick:()=>{window.location.reload()},className:"px-3 py-1.5 bg-orange-500/10 hover:bg-orange-500/20 text-orange-400 rounded-md text-xs transition-colors",children:" Ricarica Pagina"})]})]})]})})]})}),s.jsx("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-[1600px] space-y-6",children:n?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(HH,{className:"w-8 h-8 text-emerald-400 animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-400",children:"Caricamento strategie..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl text-white",children:" Strategia Attiva"}),s.jsxs("div",{className:"text-sm text-gray-400",children:[" Crea strategie nel ",s.jsx("button",{onClick:()=>t("longterm"),className:"text-emerald-400 hover:text-emerald-300 underline font-medium",children:"Simulatore"})]})]}),(console.log(" [RENDER DECISION]",{strategiesLength:y.length,selectedStrategy:w?.name||"NULL",showingEmptyState:y.length===0}),y.length===0)?s.jsxs("div",{className:"text-center py-12 px-4 bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl border-2 border-emerald-500/30",children:[s.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ht,{className:"w-8 h-8 text-emerald-400"})}),s.jsx("p",{className:"text-lg font-semibold text-white mb-2",children:"Nessuna strategia trovata"}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Crea la tua prima strategia nel Simulatore Lungo Termine"}),s.jsx("button",{onClick:()=>t("longterm"),className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 font-medium shadow-md hover:shadow-lg transform hover:scale-105",children:" Vai al Simulatore"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4 p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 shadow-sm",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:" Seleziona Strategia Attiva"}),s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx("select",{value:w?.id||"",onChange:Z=>{const me=y.find(Se=>Se.id===Z.target.value);me&&(console.log(" Strategia selezionata manualmente:",me.name,me.id),f?le(me):re(me))},className:"flex-1 px-4 py-3 border border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-base font-medium bg-slate-900 text-white",children:y.map(Z=>s.jsxs("option",{value:Z.id,children:[Z.name," - ",Z.ticker," ($",Z.total_capital.toLocaleString(),")"]},Z.id))}),w&&y.length>1&&s.jsx("button",{onClick:async()=>{if(confirm(`Sei sicuro di voler eliminare la strategia "${w.name}"?`))try{if(f){if((await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/strategies/${w.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${f}`}})).ok){de.success("Strategia eliminata!");const me=y.filter(Se=>Se.id!==w.id);b(me),me.length>0?await le(me[0]):x(null)}}else{const Z=y.filter(me=>me.id!==w.id);b(Z),localStorage.setItem("btcwheel_strategies",JSON.stringify(Z)),de.success("Strategia eliminata!"),Z.length>0?re(Z[0]):x(null)}}catch(Z){console.error("Error deleting strategy:",Z),de.error("Errore durante l'eliminazione")}},className:"px-4 py-3 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium whitespace-nowrap",children:" Elimina"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Seleziona quale strategia vuoi monitorare e gestire"})]}),w&&s.jsxs("div",{className:"mb-4 p-5 rounded-xl border-2 border-emerald-500/50 bg-gradient-to-br from-slate-800 to-slate-900 shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:"text-emerald-400 text-xs font-semibold px-2 py-1 bg-emerald-500/20 rounded-full",children:" STRATEGIA ATTIVA"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:w.name}),s.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-400",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Ticker:"})," ",s.jsx("span",{className:"font-semibold text-emerald-400",children:w.ticker})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Trade:"})," ",s.jsx("span",{className:"font-semibold text-emerald-400",children:E.length})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t-2 border-emerald-500/30",children:[s.jsxs("div",{className:"bg-slate-800/50 border border-slate-600/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:" Capitale Versato"}),s.jsxs("div",{className:"text-2xl text-white",children:["$",w.total_capital.toLocaleString()]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Capitale iniziale"})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-600/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:" Interesse Totale"}),s.jsx("div",{className:`text-2xl ${R&&R.totalPnL>=0?"text-emerald-400":"text-red-400"}`,children:R?(R.totalPnL>=0?"+":"")+"$"+R.totalPnL.toFixed(2):"$0.00"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:R?`${R.returnOnCapital>=0?"+":""}${R.returnOnCapital.toFixed(2)}% ROI`:"0% ROI"})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-600/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:" Capitale Finale"}),s.jsxs("div",{className:"text-2xl text-emerald-400",children:["$",R?R.currentCapital.toLocaleString():w.total_capital.toLocaleString()]}),s.jsx("div",{className:"text-xs text-emerald-500 mt-1",children:R&&R.totalPnL!==0?`${R.totalPnL>=0?"+":""}$${Math.abs(R.totalPnL).toFixed(2)} vs iniziale`:"Nessun trade ancora"})]})]}),(()=>{const Z=w.plan_duration_months||w.plan?.duration_months||12,me=w.target_monthly_return||w.plan?.targetMonthlyReturn||5,Se=new Date(w.created_at),$e=new Date(Se);$e.setMonth($e.getMonth()+Z);const Me=new Date,rt=Math.ceil(($e.getTime()-Se.getTime())/(1e3*60*60*24)),Ue=Math.ceil((Me.getTime()-Se.getTime())/(1e3*60*60*24)),Ct=Math.max(0,rt-Ue),ut=me/100,Xe=w.total_capital*Math.pow(1+ut,Z),Bt=Xe-w.total_capital,He=R?R.currentCapital/Xe*100:0;return s.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-emerald-500/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-sm text-gray-300",children:[" Piano Target (",Z," mesi)"]}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Scadenza: ",$e.toLocaleDateString("it-IT")]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-slate-800/50 border-2 border-emerald-500/40 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-emerald-400 mb-1",children:" Giorni Rimanenti"}),s.jsx("div",{className:"text-2xl text-emerald-400",children:Ct}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Ue," giorni trascorsi su ",rt]})]}),s.jsxs("div",{className:"bg-slate-800/50 border-2 border-orange-500/40 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-orange-400 mb-1",children:" Interesse Target"}),s.jsxs("div",{className:"text-2xl text-orange-400",children:["+$",Bt.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[me,"% mensile composto"]})]}),s.jsxs("div",{className:"bg-slate-800/50 border-2 border-teal-500/40 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-teal-400 mb-1",children:" Capitale Target Finale"}),s.jsxs("div",{className:"text-2xl text-teal-400",children:["$",Xe.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Progresso: ",He.toFixed(1),"%"]})]})]}),R&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-2",children:[s.jsx("span",{children:"Progressione verso obiettivo"}),s.jsxs("span",{children:[He.toFixed(1),"%"]})]}),s.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${He>=100?"bg-gradient-to-r from-emerald-500 to-emerald-600":He>=50?"bg-gradient-to-r from-emerald-400 to-emerald-500":"bg-gradient-to-r from-orange-400 to-orange-500"}`,style:{width:`${Math.min(100,He)}%`}})}),He>=100&&s.jsx("div",{className:"mt-2 p-2 bg-emerald-50 border border-emerald-300 rounded text-xs text-emerald-700 text-center",children:" Obiettivo raggiunto! Sei sopra il target pianificato!"})]})]})})()]}),y.length>1&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400 mb-3",children:w?"Cambia strategia:":"Seleziona una strategia:"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:y.filter(Z=>Z.id!==w?.id).map(Z=>s.jsxs("button",{onClick:()=>{f?le(Z):re(Z)},className:"p-4 rounded-lg border-2 border-slate-600/50 hover:border-emerald-500 hover:bg-slate-700/50 bg-slate-800/50 transition-all text-left group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white group-hover:text-emerald-400 transition-colors",children:Z.name}),s.jsx("span",{className:"text-gray-400 text-xs group-hover:text-emerald-500",children:"Clicca per attivare "})]}),s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsxs("div",{children:["Ticker: ",Z.ticker]}),s.jsxs("div",{children:["Capitale: $",Z.total_capital.toLocaleString()]})]})]},Z.id))})]})]})]}),w&&R&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 hover:border-slate-600/50 overflow-hidden",children:[s.jsx("div",{className:"h-2 bg-gradient-to-r from-emerald-400 to-teal-500"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Profitto Totale"}),s.jsx(al,{className:"w-5 h-5 text-emerald-400"})]}),s.jsxs("div",{className:`text-2xl font-bold ${R.totalPnL>=0?"text-emerald-400":"text-red-400"}`,children:[R.totalPnL>=0?"+":"","$",R.totalPnL.toFixed(2)]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[R.returnOnCapital>=0?"+":"",R.returnOnCapital.toFixed(2),"% ROI"]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 hover:border-slate-600/50 overflow-hidden",children:[s.jsx("div",{className:"h-2 bg-gradient-to-r from-lime-400 to-green-500"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Win Rate"}),s.jsx(zr,{className:"w-5 h-5 text-emerald-400"})]}),s.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:[R.winRate.toFixed(1),"%"]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[R.winningTrades," win / ",R.losingTrades," loss"]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 hover:border-slate-600/50 overflow-hidden",children:[s.jsx("div",{className:"h-2 bg-gradient-to-r from-pink-500 to-red-500"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Trade Attivi"}),s.jsx(il,{className:"w-5 h-5 text-orange-400"})]}),s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:R.activeTrades}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"In corso"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 hover:border-slate-600/50 overflow-hidden",children:[s.jsx("div",{className:"h-2 bg-gradient-to-r from-purple-500 to-violet-600"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Premi Raccolti"}),s.jsx(ht,{className:"w-5 h-5 text-orange-400"})]}),s.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:["$",R.totalPremiumCollected.toFixed(2)]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[R.closedTrades," trade chiusi"]})]})]})]}),!w&&y.length>0&&s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 text-center",children:s.jsx("p",{className:"text-yellow-800",children:" Seleziona una strategia per visualizzare i trade"})}),w&&R&&E.length>0&&(()=>{const Z=w.plan,me=Z?{targetPremiumPercent:Z.targetPremiumPercent??2,tradesPerMonth:Z.tradesPerMonth??8,targetMonthlyReturn:Z.targetMonthlyReturn??w.target_monthly_return??5,riskPerTrade:Z.riskPerTrade??10,strategy:Z.strategy??"wheel"}:void 0;return s.jsx(Bfe,{trades:E,stats:R,plan:me})})(),w&&s.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl text-white",children:" Trade Journal"}),s.jsxs("button",{onClick:()=>A(!N),disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 disabled:bg-gray-600 disabled:from-gray-600 disabled:to-gray-600 shadow-md hover:shadow-lg transform hover:scale-105",children:[N?s.jsx(Ws,{className:"w-5 h-5"}):s.jsx(aG,{className:"w-5 h-5"}),a?"Salvataggio...":N?"Annulla":"Nuovo Trade"]})]}),N&&s.jsxs("div",{className:"mb-6 p-4 bg-slate-800/50 rounded-lg border border-slate-700/50",children:[E.length>0&&s.jsxs("div",{className:"mb-4 flex items-center justify-between p-3 bg-slate-800/50 border-2 border-orange-500/40 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-orange-400",children:" Interesse Composto Attivo"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Reinvesti il premio dell'ultimo trade per massimizzare i rendimenti"})]}),s.jsxs("button",{onClick:_e,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md",children:[s.jsx(wi,{className:"w-4 h-4"}),"Reinvesti Premio"]})]}),B&&E.length>0&&s.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg shadow-lg",children:[s.jsxs("h4",{className:"text-sm mb-2 flex items-center gap-2",children:[s.jsx(wi,{className:"w-4 h-4"})," Modalit Interesse Composto Attivata!"]}),s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Ultimo Trade:"})," ",E[0].ticker," ",E[0].type.toUpperCase(),"  Capitale: ",$.type==="call"?"":"$",E[0].capital.toFixed(2),"  Premio: ",$.type==="call"?"":"$",(E[0].premium*E[0].quantity).toFixed(2)]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Nuovo Capitale:"})," ",$.type==="call"?"":"$",$.capital,"(Capitale + Premio reinvestito)"]}),s.jsxs("p",{className:"mt-2 text-emerald-100",children:[" Formula: Capitale Nuovo = Capitale Vecchio + Premio = ",E[0].capital.toFixed(2)," + ",(E[0].premium*E[0].quantity).toFixed(2)," = ",$.capital]})]})]}),s.jsx("h3",{className:"text-lg text-white mb-4",children:"Inserisci Trade Manuale"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ticker"}),s.jsx("input",{type:"text",value:$.ticker,onChange:Z=>V({...$,ticker:Z.target.value}),className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Tipo"}),s.jsxs("select",{value:$.type,onChange:Z=>V({...$,type:Z.target.value}),className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[s.jsx("option",{value:"put",children:"Put"}),s.jsx("option",{value:"call",children:"Call"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Azione"}),s.jsxs("select",{value:$.action,onChange:Z=>V({...$,action:Z.target.value}),className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[s.jsx("option",{value:"sell",children:"Vendi"}),s.jsx("option",{value:"buy",children:"Compra"}),s.jsx("option",{value:"assigned",children:"Assegnata"}),s.jsx("option",{value:"expired",children:"Scaduta"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Strike ($)"}),s.jsx("input",{type:"number",value:$.strike,onChange:Z=>V({...$,strike:Z.target.value}),placeholder:"50000",className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:M}),s.jsx("input",{type:"number",value:$.premium,onChange:Z=>V({...$,premium:Z.target.value}),placeholder:L,className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Quantit"}),s.jsx("input",{type:"number",value:$.quantity,onChange:Z=>V({...$,quantity:Z.target.value}),className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Scadenza"}),s.jsx("input",{type:"date",value:$.expiry,onChange:Z=>V({...$,expiry:Z.target.value}),className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:U}),s.jsx("input",{type:"number",value:$.capital,onChange:Z=>V({...$,capital:Z.target.value}),placeholder:ee,className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:ue,disabled:!$.strike||!$.premium||!$.expiry||!$.capital,className:"w-full px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 disabled:bg-gray-600 disabled:from-gray-600 disabled:to-gray-600 disabled:cursor-not-allowed shadow-md hover:shadow-lg font-medium",children:" Aggiungi Trade"})})]}),(!$.strike||!$.premium||!$.expiry||!$.capital)&&s.jsx("div",{className:"mt-3 p-3 bg-orange-50 border-l-4 border-orange-500 rounded-lg",children:s.jsxs("p",{className:"text-sm text-orange-800",children:[" Compila tutti i campi obbligatori:",!$.strike&&" Strike",!$.premium&&" Premio",!$.capital&&" Capitale",!$.expiry&&" Scadenza"]})}),$.capital&&$.premium&&s.jsxs("div",{className:"mt-4 p-4 bg-slate-800/50 border-2 border-emerald-500/40 rounded-lg",children:[s.jsx("h4",{className:"text-sm text-emerald-400 mb-2",children:" Calcolo Automatico"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400",children:"Premio in Valore"}),s.jsxs("div",{className:"text-lg text-emerald-400",children:[Q,$.premium||"0"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400",children:"Premio in Percentuale"}),s.jsxs("div",{className:"text-lg text-emerald-400",children:[K||"0","% sul capitale"]})]})]}),s.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[" ",$.type==="call"?`Covered Call: Ricevi ${$.premium||"0"} BTC (${K||"0"}% del tuo BTC)`:`Cash-Secured Put: Ricevi $${$.premium||"0"} USDT (${K||"0"}% del tuo capitale)`]})]})]}),E.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx("p",{className:"text-lg mb-2",children:"Nessun trade registrato"}),s.jsx("p",{className:"text-sm",children:'Clicca "Nuovo Trade" per iniziare'})]}):s.jsx("div",{className:"space-y-3",children:E.map(Z=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg border border-slate-700/50 hover:border-emerald-500/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-white ${Z.type==="put"?"bg-emerald-500":"bg-orange-500"}`,children:Z.type==="put"?"":""}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:Z.ticker}),s.jsxs("span",{className:"text-sm text-gray-400",children:[Z.type.toUpperCase()," $",Z.strike]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${Z.status==="open"?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-gray-400"}`,children:Z.status==="open"?"Aperto":"Chiuso"})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[Z.action==="sell"?"Vendita":Z.action==="buy"?"Acquisto":Z.action,"  Scad: ",Z.expiry,"  Qty: ",Z.quantity]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-lg ${Z.pnl>=0?"text-emerald-400":"text-red-400"}`,children:[Z.pnl>=0?"+":"",Z.pnl.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-500",children:Z.date})]})]},Z.id))})]})]})})]})," "]})}const X1=[{rank:1,username:"CryptoMaster99",level:12,xp:5420,streak:45,badges:15,initials:"CM",color:"from-yellow-400 to-yellow-600"},{rank:2,username:"BTCTrader",level:11,xp:4890,streak:38,badges:14,initials:"BT",color:"from-gray-300 to-gray-400"},{rank:3,username:"WheelPro",level:10,xp:4320,streak:42,badges:13,initials:"WP",color:"from-orange-400 to-orange-600"},{rank:4,username:"OptionGuru",level:9,xp:3850,streak:28,badges:12,initials:"OG",color:"from-blue-400 to-blue-600"},{rank:5,username:"SatoshiFan",level:8,xp:3210,streak:31,badges:11,initials:"SF",color:"from-purple-400 to-purple-600"},{rank:6,username:"DiamondHands",level:7,xp:2890,streak:22,badges:10,initials:"DH",color:"from-green-400 to-green-600"},{rank:7,username:"CryptoLearner",level:6,xp:2450,streak:19,badges:9,initials:"CL",color:"from-pink-400 to-pink-600"},{rank:8,username:"TradingNinja",level:6,xp:2180,streak:25,badges:8,initials:"TN",color:"from-indigo-400 to-indigo-600"},{rank:9,username:"CryptoUser",level:5,xp:1250,streak:7,badges:4,initials:"CU",color:"from-blue-400 to-blue-600"},{rank:10,username:"HODLKing",level:5,xp:1180,streak:15,badges:7,initials:"HK",color:"from-teal-400 to-teal-600"}],qfe=X1,Ufe=[{rank:1,username:"QuickLearner",level:6,xp:890,streak:7,badges:3,initials:"QL",color:"from-yellow-400 to-yellow-600"},{rank:2,username:"CryptoUser",level:5,xp:750,streak:7,badges:4,initials:"CU",color:"from-gray-300 to-gray-400"},{rank:3,username:"FastTrader",level:4,xp:680,streak:5,badges:2,initials:"FT",color:"from-orange-400 to-orange-600"},{rank:4,username:"NewbiePro",level:3,xp:520,streak:6,badges:2,initials:"NP",color:"from-blue-400 to-blue-600"},{rank:5,username:"StudyMaster",level:4,xp:490,streak:4,badges:3,initials:"SM",color:"from-purple-400 to-purple-600"}];function Vfe({onNavigate:t}){const{progress:e}=Ka(),{user:r}=yn(),[n,i]=P.useState([]),[a,o]=P.useState(!1),[c,d]=P.useState(null),f=async()=>{o(!0);try{if(bt&&r){const g=await SF(50);i(g);const y=g.find(b=>b.user_id===r.id);y&&d(y.rank)}else i(X1)}catch{i(X1)}finally{o(!1)}};P.useEffect(()=>{f()},[r]);const p=g=>g===1?s.jsx(wh,{className:"w-6 h-6 text-yellow-500"}):g===2?s.jsx(zA,{className:"w-6 h-6 text-gray-400"}):g===3?s.jsx(zA,{className:"w-6 h-6 text-orange-500"}):s.jsxs("span",{className:"text-gray-600",children:["#",g]}),h=(g,y)=>s.jsx("div",{className:"space-y-3",children:g.map(b=>{const w=b.username==="CryptoUser";return s.jsx(oe,{className:`p-4 transition-all ${w?"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300 shadow-lg":"hover:shadow-md"}`,children:s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsx("div",{className:"w-10 md:w-12 text-center flex-shrink-0",children:p(b.rank)}),s.jsx(Su,{className:"w-11 h-11 md:w-12 md:h-12 flex-shrink-0",children:s.jsx(_u,{className:`bg-gradient-to-br ${b.color} text-white`,children:b.initials})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-gray-900 truncate",children:b.username}),w&&s.jsx(Je,{className:"bg-blue-600 text-white flex-shrink-0",children:"Tu"})]}),s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Vt,{className:"w-4 h-4 flex-shrink-0"}),b.level]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Qi,{className:"w-4 h-4 flex-shrink-0"}),b.xp]}),s.jsxs("span",{className:"hidden sm:flex items-center gap-1",children:[s.jsx(ht,{className:"w-4 h-4 flex-shrink-0"}),b.streak,"d"]})]})]}),s.jsxs("div",{className:"hidden md:block text-right flex-shrink-0",children:[s.jsx("p",{className:"text-gray-600",children:"Badge"}),s.jsx("p",{className:"text-gray-900",children:b.badges})]})]})},b.rank)})});return s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50",children:[s.jsx(en,{currentView:"leaderboard",onNavigate:t}),s.jsx("header",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-8 md:px-6 md:py-12 safe-area-top",children:s.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[s.jsx(Vt,{className:"w-12 h-12 md:w-16 md:h-16 mx-auto mb-4 text-yellow-300"}),s.jsx("h1",{className:"text-white mb-2",children:"Classifica"}),s.jsx("p",{className:"text-blue-100",children:"Compete e scala la classifica!"})]})}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-5 md:px-6 md:py-8",children:[s.jsxs(oe,{className:"p-5 md:p-6 mb-6 md:mb-8 bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-5 md:mb-0",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1 min-w-0",children:[s.jsx(Su,{className:"w-14 h-14 md:w-16 md:h-16 flex-shrink-0",children:s.jsx(_u,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:"CU"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-gray-900 truncate",children:"La Tua Posizione"}),s.jsx("p",{className:"text-gray-600 hidden md:block",children:"Continua a imparare per scalare!"})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0 ml-3",children:[s.jsx("p",{className:"text-gray-900 font-bold mb-1",children:a?"...":c?`#${c}`:"N/A"}),s.jsx("p",{className:"text-gray-600",children:"Globale"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mt-5 md:mt-6",children:[s.jsxs("div",{className:"text-center p-3 md:p-3 bg-white rounded-lg",children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"Livello"}),s.jsx("p",{className:"text-gray-900 font-bold",children:e.level})]}),s.jsxs("div",{className:"text-center p-3 md:p-3 bg-white rounded-lg",children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"XP"}),s.jsx("p",{className:"text-gray-900 font-bold",children:e.xp})]}),s.jsxs("div",{className:"text-center p-3 md:p-3 bg-white rounded-lg",children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"Streak"}),s.jsx("p",{className:"text-gray-900 font-bold",children:e.streak})]}),s.jsxs("div",{className:"text-center p-3 md:p-3 bg-white rounded-lg",children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"Badge"}),s.jsx("p",{className:"text-gray-900 font-bold",children:e.badges.length})]})]})]}),s.jsxs(uM,{defaultValue:"global",className:"w-full",children:[s.jsxs(dM,{className:"grid w-full grid-cols-2 mb-6 md:mb-8 h-11",children:[s.jsx(Pw,{value:"global",children:"Globale"}),s.jsx(Pw,{value:"weekly",children:"Settimana"})]}),s.jsx(Cw,{value:"global",children:s.jsxs(oe,{className:"p-5 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-5 md:mb-6",children:[s.jsx("h2",{className:"text-gray-900",children:"Top Trader"}),s.jsxs(xe,{variant:"outline",size:"sm",onClick:f,disabled:a,className:"h-9",children:[s.jsx(d$,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"Aggiorna"]})]}),h(n.length>0?n:qfe)]})}),s.jsx(Cw,{value:"weekly",children:s.jsxs(oe,{className:"p-5 md:p-6",children:[s.jsx("h2",{className:"text-gray-900 mb-5 md:mb-6",children:"Questa Settimana"}),h(Ufe),s.jsx("p",{className:"text-sm text-gray-500 text-center mt-4",children:" La classifica settimanale sar disponibile a breve"})]})})]}),s.jsxs(oe,{className:"p-5 md:p-6 mt-6 md:mt-8",children:[s.jsx("h2",{className:"text-gray-900 mb-5 md:mb-6",children:"Sfide Attive"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-br from-orange-50 to-red-50 rounded-lg border-2 border-orange-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-gray-900",children:"Settimana Perfetta"}),s.jsx(Je,{className:"bg-orange-600 text-white flex-shrink-0",children:"In corso"})]}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Completa una lezione ogni giorno per 7 giorni"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Progresso"}),s.jsxs("span",{className:"text-gray-900 font-semibold",children:[e.streak,"/7"]})]}),s.jsx("div",{className:"w-full bg-white rounded-full h-3",children:s.jsx("div",{className:"bg-orange-600 h-3 rounded-full transition-all",style:{width:`${Math.min(e.streak/7*100,100)}%`}})})]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border-2 border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-gray-900",children:"Trading Master"}),s.jsx(Je,{className:"bg-blue-600 text-white flex-shrink-0",children:"In corso"})]}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Completa 20 simulazioni con profitto"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Progresso"}),s.jsx("span",{className:"text-gray-900 font-semibold",children:"12/20"})]}),s.jsx("div",{className:"w-full bg-white rounded-full h-3",children:s.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all",style:{width:"60%"}})})]})]})]})]})]})]})}function Wfe(){const{user:t}=yn(),[e,r]=P.useState(!1),[n,i]=P.useState(!1),[a,o]=P.useState(!1),[c,d]=P.useState(!0),[f,p]=P.useState(!1),[h,g]=P.useState(null),y=async()=>{if(!t){de.error("Devi essere autenticato per esportare i dati");return}r(!0);try{const x=JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]"),S={};for(const $ of x){const V=localStorage.getItem(`btcwheel_trades_${$.id}`);if(V)try{S[$.id]=JSON.parse(V)}catch{console.warn(`Failed to parse trades for strategy ${$.id}`)}}const k=JSON.parse(localStorage.getItem("btcwheel_longterm_plans")||"[]"),_=localStorage.getItem("btcwheel_active_plan")?JSON.parse(localStorage.getItem("btcwheel_active_plan")):null,C=localStorage.getItem("btcwheel_user_progress")?JSON.parse(localStorage.getItem("btcwheel_user_progress")):null;console.log(" Exporting from localStorage:",{strategies:x.length,trades:Object.keys(S).length,plans:k.length,hasActivePlan:!!_,hasUserProgress:!!C});const N={metadata:{exportedAt:new Date().toISOString(),sourceApp:"btcwheel",version:"1.0.0",source:"localStorage"},strategies:x,trades:S,plans:k,activePlan:_,userProgress:C};if(x.length===0){console.log(" No local data found, trying cloud database...");const $=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/data/export`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fr}`},body:JSON.stringify({userId:t.id,appPrefix:"btcwheel"})});if($.ok){const V=await $.json();V.data&&V.data.strategies?.length>0&&(console.log(" Using cloud data instead"),N.strategies=V.data.strategies,N.trades=V.data.trades,N.plans=V.data.plans,N.activePlan=V.data.activePlan,N.userProgress=V.data.userProgress,N.metadata.source="cloud")}}const A=JSON.stringify(N,null,2),E=new Blob([A],{type:"application/json"}),O=URL.createObjectURL(E),R=document.createElement("a");R.href=O,R.download=`btcwheel-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(O);const H=N.strategies.length,B=Object.keys(N.trades).length,D=N.plans.length;de.success(` Export completato! ${H} strategie, ${B} trade sets, ${D} piani`,{description:`Fonte: ${N.metadata.source==="localStorage"?"Dati locali":"Database cloud"}`})}catch(x){console.error(" Export error:",x),de.error(` Errore durante l'export: ${x.message}`)}finally{r(!1)}},b=async x=>{if(!t){de.error("Devi essere autenticato per importare i dati");return}const S=x.target.files?.[0];if(S){i(!0);try{const k=await S.text(),_=JSON.parse(k);if(!_.metadata||!_.strategies)throw new Error("File JSON non valido - struttura dati mancante");if(console.log(" Import data structure:",{strategies:_.strategies?.length||0,trades:Object.keys(_.trades||{}).length,plans:_.plans?.length||0,metadata:_.metadata}),_.strategies&&_.strategies.length>0){const E=c?JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]"):[],O=c?[...E,..._.strategies]:_.strategies;localStorage.setItem("btcwheel_strategies",JSON.stringify(O)),console.log(` Imported ${_.strategies.length} strategies to localStorage`)}if(_.trades)for(const[E,O]of Object.entries(_.trades))localStorage.setItem(`btcwheel_trades_${E}`,JSON.stringify(O)),console.log(` Imported ${O.length} trades for strategy ${E}`);if(_.plans&&_.plans.length>0){const E=c?JSON.parse(localStorage.getItem("btcwheel_longterm_plans")||"[]"):[],O=c?[...E,..._.plans]:_.plans;localStorage.setItem("btcwheel_longterm_plans",JSON.stringify(O)),console.log(` Imported ${_.plans.length} plans to localStorage`)}_.activePlan&&(localStorage.setItem("btcwheel_active_plan",JSON.stringify(_.activePlan)),console.log(" Imported active plan to localStorage")),_.userProgress&&(localStorage.setItem("btcwheel_user_progress",JSON.stringify(_.userProgress)),console.log(" Imported user progress to localStorage"));const C=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/data/import`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fr}`},body:JSON.stringify({userId:t.id,data:_,targetPrefix:"btcwheel",mergeMode:c})}),N=await C.json();C.ok&&N.success?console.log(` Also saved to cloud: ${N.importedCount} items`):console.warn(" Cloud save failed but localStorage import succeeded:",N.error);const A=(_.strategies?.length||0)+Object.keys(_.trades||{}).length+(_.plans?.length||0);de.success(` Import completato! ${A} elementi importati`,{description:"Dati salvati in locale e nel cloud"}),setTimeout(()=>{window.location.reload()},1500)}catch(k){console.error(" Import error:",k),de.error(` Errore durante l'import: ${k.message}`)}finally{i(!1),x.target.value=""}}},w=async()=>{if(!t){de.error("Devi essere autenticato per migrare i dati");return}o(!0);try{const x=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/data/migrate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fr}`},body:JSON.stringify({userId:t.id,sourcePrefix:"finanzacreativa",targetPrefix:"btcwheel"})});if(!x.ok){const k=await x.json();throw new Error(k.error||"Migration failed")}const S=await x.json();S.success?(de.success(` Migrazione completata! ${S.migratedCount} elementi migrati da "finanzacreativa" a "btcwheel"`),setTimeout(()=>{window.location.reload()},1500)):de.error(` Migrazione parziale: ${S.errors.join(", ")}`)}catch(x){console.error("Migration error:",x),de.error(` Errore durante la migrazione: ${x.message}`)}finally{o(!1)}};return s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[s.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[s.jsx(Yi,{className:"w-6 h-6 text-purple-400"}),"Gestione Dati"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(oe,{className:"p-5 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:s.jsx($j,{className:"w-5 h-5 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Esporta Dati"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Scarica tutte le tue strategie e trade in JSON"})]})]})}),s.jsx(W.button,{onClick:y,disabled:e,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg shadow-lg shadow-emerald-500/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:e?s.jsxs(s.Fragment,{children:[s.jsx(mr,{className:"w-4 h-4 animate-spin"}),"Esportando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(OH,{className:"w-4 h-4"}),"Esporta"]})})]})}),s.jsx(oe,{className:"p-5 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:s.jsx(LA,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Importa Dati"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Carica un file JSON esportato in precedenza"})]})]})}),s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",accept:".json",onChange:b,disabled:n,className:"hidden"}),s.jsx(W.div,{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg shadow-lg shadow-blue-500/30 flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:n?s.jsxs(s.Fragment,{children:[s.jsx(mr,{className:"w-4 h-4 animate-spin"}),"Importando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(LA,{className:"w-4 h-4"}),"Importa"]})})]})]}),s.jsx("div",{className:"flex items-center gap-3 pt-2 border-t border-white/10",children:s.jsxs("button",{onClick:()=>d(!c),className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-12 h-6 rounded-full transition-colors ${c?"bg-blue-500":"bg-gray-700"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full mt-0.5 transition-transform ${c?"ml-6":"ml-0.5"}`})}),s.jsx("span",{className:"text-sm text-gray-300",children:"Modalit merge (aggiungi ai dati esistenti)"})]})})]})}),s.jsx(oe,{className:"p-5 bg-gradient-to-br from-purple-500/10 to-pink-500/10 backdrop-blur-xl border border-purple-500/20",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:s.jsx($A,{className:"w-5 h-5 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Migra da Altra App"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Importa dati da finanzacreativa.live o altra app"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(W.button,{onClick:w,disabled:a,className:"w-full px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg shadow-lg shadow-purple-500/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:a?s.jsxs(s.Fragment,{children:[s.jsx(mr,{className:"w-4 h-4 animate-spin"}),"Migrazione in corso..."]}):s.jsxs(s.Fragment,{children:[s.jsx($A,{className:"w-4 h-4"}),"Avvia Migrazione"]})}),s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-500/10 border border-purple-500/20 rounded-lg",children:[s.jsx(hi,{className:"w-5 h-5 text-purple-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs text-gray-300",children:[s.jsxs("p",{className:"mb-1",children:[s.jsx("strong",{children:"Nota:"}),' La migrazione copia tutti i dati dal prefisso sorgente al prefisso "btcwheel".']}),s.jsx("p",{children:"Se condividi lo stesso database con finanzacreativa.live, i dati verranno copiati automaticamente."})]})]})]})]})}),s.jsx(oe,{className:"p-4 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 backdrop-blur-xl border border-emerald-500/20",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Rt,{className:"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[s.jsx("p",{className:"text-emerald-400 font-medium",children:"Cosa viene migrato?"}),s.jsxs("ul",{className:"space-y-1 text-xs",children:[s.jsx("li",{children:" Tutte le strategie Wheel create"}),s.jsx("li",{children:" Tutti i trade registrati per ogni strategia"}),s.jsx("li",{children:" Long-term plans salvati"}),s.jsx("li",{children:" Piano attivo (se presente)"}),s.jsx("li",{children:" Progressi utente (XP, badge, streak)"})]})]})]})})]})]})}function Hfe(){const[t,e]=P.useState(null),r=()=>{const n=JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]"),i=JSON.parse(localStorage.getItem("btcwheel_longterm_plans")||"[]"),a=localStorage.getItem("btcwheel_active_plan")?JSON.parse(localStorage.getItem("btcwheel_active_plan")):null,o=localStorage.getItem("btcwheel_user_progress")?JSON.parse(localStorage.getItem("btcwheel_user_progress")):null,d=Object.keys(localStorage).filter(p=>p.startsWith("btcwheel_trades_")),f=d.reduce((p,h)=>{const g=JSON.parse(localStorage.getItem(h)||"[]");return p+g.length},0);e({strategies:n,plans:i,activePlan:a,userProgress:o,totalTrades:f,tradeKeys:d.length})};return P.useEffect(()=>{r()},[]),t?s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[s.jsx(Mj,{className:"w-5 h-5 text-blue-400"}),"Dati Attualmente Salvati"]}),s.jsx(W.button,{onClick:r,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(wi,{className:"w-4 h-4 text-gray-400"})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Yi,{className:"w-4 h-4 text-blue-400"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Strategie"})]}),s.jsx("p",{className:"text-2xl font-bold text-white",children:t.strategies.length})]}),s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 border border-emerald-500/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ht,{className:"w-4 h-4 text-emerald-400"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Trade Totali"})]}),s.jsx("p",{className:"text-2xl font-bold text-white",children:t.totalTrades})]}),s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(bh,{className:"w-4 h-4 text-purple-400"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Piani LT"})]}),s.jsx("p",{className:"text-2xl font-bold text-white",children:t.plans.length})]}),s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-orange-500/10 to-orange-600/10 border border-orange-500/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.activePlan?s.jsx(Rt,{className:"w-4 h-4 text-orange-400"}):s.jsx(Rr,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Piano Attivo"})]}),s.jsx("p",{className:"text-2xl font-bold text-white",children:t.activePlan?"S":"No"})]})]}),t.strategies.length>0&&s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[s.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[s.jsx(Yi,{className:"w-4 h-4 text-blue-400"}),"Strategie (",t.strategies.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:t.strategies.map((n,i)=>s.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white text-sm font-medium",children:n.name||"Strategia Senza Nome"}),s.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["ID: ",n.id]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Budget"}),s.jsxs("p",{className:"text-sm text-emerald-400 font-medium",children:["$",n.budget||0]})]})]}),n.strikePrice&&s.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-400",children:[s.jsxs("span",{children:["Strike: $",n.strikePrice]}),s.jsxs("span",{children:["Premium: $",n.premium]})]})]},n.id||i))})]}),t.plans.length>0&&s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[s.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[s.jsx(bh,{className:"w-4 h-4 text-purple-400"}),"Piani Long-Term (",t.plans.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:t.plans.map((n,i)=>s.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white text-sm font-medium",children:n.name||"Piano Senza Nome"}),s.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["ID: ",n.id]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Capitale Iniziale"}),s.jsxs("p",{className:"text-sm text-emerald-400 font-medium",children:["$",n.initialCapital||0]})]})]}),n.targetMonths&&s.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Durata: ",n.targetMonths," mesi"]})]},n.id||i))})]}),t.strategies.length===0&&t.plans.length===0&&s.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10 text-center",children:[s.jsx(Rr,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Nessun dato trovato in localStorage"}),s.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Importa un file JSON o migra i dati da un'altra app per iniziare"})]}),(t.strategies.length>0||t.plans.length>0)&&s.jsx(oe,{className:"p-4 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 backdrop-blur-xl border border-emerald-500/20",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Rt,{className:"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[s.jsx("p",{className:"text-emerald-400 font-medium",children:" Dove trovare i tuoi dati:"}),s.jsxs("ul",{className:"space-y-1 text-xs",children:[t.strategies.length>0&&s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Strategie Wheel:"}),' Vai nella Dashboard  sezione "Wheel Strategy"']}),t.plans.length>0&&s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Piani Long-Term:"}),' Vai nella Dashboard  sezione "Long Term Simulator"']}),t.activePlan&&s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Piano Attivo:"})," Visibile nella Dashboard principale con tracking real-time"]}),t.totalTrades>0&&s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Trade:"})," Seleziona una strategia nella Dashboard per vedere i suoi trade"]})]})]})]})})]}):null}function Gfe(){const[t,e]=P.useState(!1),[r,n]=P.useState(!1),[i,a]=P.useState(null),o=async d=>{e(!0);try{const f=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/db-duplicate/scan/${d}`,{method:"GET",headers:{Authorization:`Bearer ${Fr}`,"Content-Type":"application/json"}});if(!f.ok)throw new Error("Failed to scan database");const p=await f.json();a(p),de.success(` Trovate ${p.count} chiavi con prefisso ${d}`)}catch(f){console.error("Error scanning database:",f),de.error(" Errore durante la scansione del database")}finally{e(!1)}},c=async(d,f,p=!1)=>{n(!0);try{const h=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/db-duplicate/bulk-copy`,{method:"POST",headers:{Authorization:`Bearer ${Fr}`,"Content-Type":"application/json"},body:JSON.stringify({sourcePrefix:d,targetPrefix:f,overwrite:!1,dryRun:p})});if(!h.ok)throw new Error("Failed to copy data");const g=await h.json();p?de.success(` DRY RUN: ${g.results.copied} chiavi verrebbero copiate, ${g.results.skipped} saltate`):de.success(` ${g.results.copied} chiavi copiate da ${d} a ${f}!`,{description:`${g.results.skipped} gi esistenti, ${g.results.errors} errori`}),p||await o(f)}catch(h){console.error("Error copying data:",h),de.error(" Errore durante la copia dei dati")}finally{n(!1)}};return s.jsx(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center",children:s.jsx(bH,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-medium",children:"Duplica Dati Database"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Copia dati da finanzacreativa a btcwheel"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs(W.button,{onClick:()=>o("finanzacreativa"),disabled:t,className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20 rounded-lg text-left hover:bg-blue-500/20 transition-colors disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?s.jsx(mr,{className:"w-4 h-4 text-blue-400 animate-spin"}):s.jsx(Yi,{className:"w-4 h-4 text-blue-400"}),s.jsx("p",{className:"text-sm text-white font-medium",children:"Scansiona finanzacreativa"})]}),s.jsx("p",{className:"text-xs text-gray-400",children:"Vedi quanti dati ci sono"})]}),s.jsxs(W.button,{onClick:()=>o("btcwheel"),disabled:t,className:"p-4 bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 border border-emerald-500/20 rounded-lg text-left hover:bg-emerald-500/20 transition-colors disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?s.jsx(mr,{className:"w-4 h-4 text-emerald-400 animate-spin"}):s.jsx(Yi,{className:"w-4 h-4 text-emerald-400"}),s.jsx("p",{className:"text-sm text-white font-medium",children:"Scansiona btcwheel"})]}),s.jsx("p",{className:"text-xs text-gray-400",children:"Controlla dati attuali"})]})]}),i&&s.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("p",{className:"text-sm text-white font-medium",children:["Risultati Scansione: ",i.prefix]}),s.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:[i.count," chiavi"]})]}),i.count>0&&s.jsxs("div",{className:"space-y-2 max-h-[200px] overflow-y-auto text-xs",children:[i.keys.slice(0,10).map((d,f)=>s.jsx("div",{className:"p-2 bg-gray-900/50 rounded text-gray-400 font-mono",children:d.key},f)),i.keys.length>10&&s.jsxs("p",{className:"text-gray-500 text-center py-2",children:["...e altre ",i.keys.length-10," chiavi"]})]})]}),s.jsxs("div",{className:"border-t border-gray-700/50 pt-4 space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Azioni di Copia"}),s.jsxs(W.button,{onClick:()=>c("finanzacreativa","btcwheel",!0),disabled:r,className:"w-full p-3 bg-gray-700/30 hover:bg-gray-700/50 border border-gray-600/50 rounded-lg flex items-center justify-between transition-colors disabled:opacity-50",whileHover:{scale:1.01},whileTap:{scale:.99},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hi,{className:"w-4 h-4 text-amber-400"}),s.jsx("span",{className:"text-sm text-white",children:"Test Copy (Dry Run)"})]}),s.jsx(Ui,{className:"w-4 h-4 text-gray-400"})]}),s.jsxs(W.button,{onClick:()=>{window.confirm(` Sei sicuro di voler copiare TUTTI i dati da finanzacreativa a btcwheel?

Questa operazione copier tutti gli utenti e i loro dati.`)&&c("finanzacreativa","btcwheel",!1)},disabled:r,className:"w-full p-3 bg-gradient-to-r from-cyan-500/20 to-blue-600/20 hover:from-cyan-500/30 hover:to-blue-600/30 border border-cyan-500/30 rounded-lg flex items-center justify-between transition-colors disabled:opacity-50",whileHover:{scale:1.01},whileTap:{scale:.99},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[r?s.jsx(mr,{className:"w-4 h-4 text-cyan-400 animate-spin"}):s.jsx(Rt,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"text-sm text-white font-medium",children:r?"Copia in corso...":"Copia TUTTI i Dati finanzacreativa  btcwheel"})]}),s.jsx(Ui,{className:"w-4 h-4 text-cyan-400"})]})]}),s.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(hi,{className:"w-4 h-4 text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[s.jsx("p",{className:"text-blue-400 font-medium",children:" Come funziona:"}),s.jsxs("ul",{className:"space-y-0.5 ml-3",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Scansiona:"})," Mostra quante chiavi esistono per ogni prefisso"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Test Copy:"})," Simula la copia senza modificare nulla"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Copia TUTTI:"})," Duplica tutti i dati da finanzacreativa a btcwheel"]}),s.jsx("li",{children:"  Le chiavi gi esistenti vengono saltate (nessuna sovrascrittura)"})]})]})]})})]})})}function Kfe(){yn();const[t,e]=P.useState([]),[r,n]=P.useState(null),[i,a]=P.useState(!1),[o,c]=P.useState(""),[d,f]=P.useState(""),[p,h]=P.useState(""),[g,y]=P.useState(1),[b,w]=P.useState(1),x=20,S=async()=>{try{const{data:{session:A},error:E}=await We.auth.getSession();if(E){console.error("Session error:",E),de.error("Sessione scaduta. Ricarica la pagina e fai login di nuovo.");return}if(!A?.access_token){console.error("No active session"),de.error("Nessuna sessione attiva. Fai login per continuare.");return}console.log(" Fetching admin stats..."),console.log("Token preview:",A.access_token.substring(0,30)+"..."),console.log("Full URL:",`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/admin/stats`);const O=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/admin/stats`,{headers:{Authorization:`Bearer ${A.access_token}`,"Content-Type":"application/json"}});if(console.log("Stats response status:",O.status),console.log("Stats response headers:",Object.fromEntries(O.headers.entries())),!O.ok){const H=await O.text();throw console.error("Stats API error response:",H),console.error("Response type:",O.headers.get("content-type")),new Error(`Failed to fetch stats: ${O.status} - ${H}`)}const{stats:R}=await O.json();console.log(" Stats loaded successfully:",R),n(R)}catch(A){console.error("Error fetching stats:",A),console.error("Error stack:",A instanceof Error?A.stack:"No stack"),A?.message?.includes("session")||de.error("Errore nel recupero delle statistiche")}finally{a(!1)}},k=async()=>{a(!0);try{const{data:{session:A},error:E}=await We.auth.getSession();if(E){console.error("Session error:",E),de.error("Sessione scaduta. Ricarica la pagina e fai login di nuovo."),a(!1);return}if(!A?.access_token){console.error("No active session"),de.error("Nessuna sessione attiva. Fai login per continuare."),a(!1);return}console.log(" Fetching admin users...");const O=new URLSearchParams({page:g.toString(),limit:x.toString(),...o&&{search:o},...d&&{plan:d},...p&&{status:p}}),R=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/admin/users?${O}`,{headers:{Authorization:`Bearer ${A.access_token}`,"Content-Type":"application/json"}});if(console.log("Users response status:",R.status),!R.ok){const D=await R.text();throw console.error("Users API error response:",D),new Error(`Failed to fetch users: ${R.status} - ${D}`)}const{users:H,pagination:B}=await R.json();console.log(" Users loaded successfully:",H.length,"users"),e(H),w(B.totalPages)}catch(A){console.error("Error fetching users:",A),A?.message?.includes("session")||de.error("Errore nel caricamento utenti")}finally{a(!1)}},_=async(A,E)=>{try{const{data:{session:O}}=await We.auth.getSession();if(!O?.access_token)throw new Error("No active session");if(!(await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/admin/users/${A}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${O.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:E})})).ok)throw new Error("Failed to update user status");de.success(E==="suspend"?"Utente sospeso":"Utente riattivato"),k()}catch(O){console.error("Error updating user status:",O),de.error("Errore nell'aggiornamento stato utente")}},C=async A=>{try{const{data:{session:E}}=await We.auth.getSession();if(!E?.access_token)throw new Error("No active session");const O=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/backups/create`,{method:"POST",headers:{Authorization:`Bearer ${E.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({targetUserId:A})});if(!O.ok)throw new Error("Failed to create backup");const{backup:R}=await O.json();de.success(`Backup creato (${R.size_kb} KB)`)}catch(E){console.error("Error creating backup:",E),de.error("Errore nella creazione del backup")}};P.useEffect(()=>{k(),S()},[g,o,d,p]);const N=A=>{switch(A){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"suspended":return"bg-red-500/20 text-red-400 border-red-500/30";case"expired":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"trial":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return s.jsxs("div",{className:"space-y-6",children:[r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border-emerald-500/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(vi,{className:"w-5 h-5 text-emerald-400"}),s.jsxs(Je,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",children:["+",r.newUsersThisWeek]})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:r.totalUsers}),s.jsx("div",{className:"text-sm text-gray-400",children:"Utenti Totali"})]})}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(il,{className:"w-5 h-5 text-blue-400"}),s.jsxs(Je,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:[Math.round(r.activeUsers/r.totalUsers*100),"%"]})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:r.activeUsers}),s.jsx("div",{className:"text-sm text-gray-400",children:"Utenti Attivi"})]})}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx($p,{className:"w-5 h-5 text-purple-400"})}),s.jsx("div",{className:"text-2xl font-bold text-white",children:r.totalStrategies}),s.jsx("div",{className:"text-sm text-gray-400",children:"Strategie Create"})]})}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-orange-500/10 to-orange-600/5 border-orange-500/20",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(ht,{className:"w-5 h-5 text-orange-400"})}),s.jsx("div",{className:"text-2xl font-bold text-white",children:r.totalTrades}),s.jsx("div",{className:"text-sm text-gray-400",children:"Trades Totali"})]})})]}),s.jsx(oe,{className:"p-4 bg-gray-800/30 backdrop-blur-xl border-white/10",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(f$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(vn,{placeholder:"Cerca per email o nome...",value:o,onChange:A=>c(A.target.value),className:"pl-10 bg-gray-900/50 border-gray-700 text-white"})]}),s.jsxs("select",{value:d,onChange:A=>f(A.target.value),className:"px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[s.jsx("option",{value:"",children:"Tutti i piani"}),s.jsx("option",{value:"Free",children:"Free"}),s.jsx("option",{value:"Pro",children:"Pro"}),s.jsx("option",{value:"Enterprise",children:"Enterprise"})]}),s.jsxs("select",{value:p,onChange:A=>h(A.target.value),className:"px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[s.jsx("option",{value:"",children:"Tutti gli stati"}),s.jsx("option",{value:"active",children:"Attivo"}),s.jsx("option",{value:"suspended",children:"Sospeso"}),s.jsx("option",{value:"expired",children:"Scaduto"}),s.jsx("option",{value:"trial",children:"Trial"})]}),s.jsx(xe,{onClick:()=>{k(),S()},variant:"outline",className:"border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/10",children:s.jsx(wi,{className:"w-4 h-4"})})]})}),s.jsxs(oe,{className:"overflow-hidden bg-gray-800/30 backdrop-blur-xl border-white/10",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-900/50 border-b border-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Utente"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Piano"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Stato"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Attivit"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Azioni"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-700/50",children:i?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-400",children:"Caricamento..."})}):t.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-400",children:"Nessun utente trovato"})}):t.map(A=>s.jsxs(W.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-700/20 transition-colors",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:A.full_name||"N/A"}),s.jsx("div",{className:"text-sm text-gray-400",children:A.email}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-2",children:[s.jsx(bh,{className:"w-3 h-3"}),new Date(A.signup_date).toLocaleDateString("it-IT")]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx(Je,{className:A.plan_name==="Enterprise"?"bg-purple-500/20 text-purple-400 border-purple-500/30":A.plan_name==="Pro"?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30",children:A.plan_name||"Free"})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx(Je,{className:N(A.subscription_status),children:A.subscription_status||"active"})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm text-gray-300",children:["Level ",A.level,"  ",A.total_xp," XP"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[A.total_strategies," strategie  ",A.total_trades," trades"]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[A.subscription_status==="suspended"?s.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>_(A.id,"activate"),className:"border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/10",children:[s.jsx(TG,{className:"w-3 h-3 mr-1"}),"Attiva"]}):s.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>_(A.id,"suspend"),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:[s.jsx(KW,{className:"w-3 h-3 mr-1"}),"Sospendi"]}),s.jsx(xe,{size:"sm",variant:"outline",onClick:()=>C(A.id),className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:s.jsx($j,{className:"w-3 h-3"})})]})})]},A.id))})]})}),b>1&&s.jsxs("div",{className:"p-4 border-t border-gray-700/50 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-400",children:["Pagina ",g," di ",b]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xe,{size:"sm",variant:"outline",onClick:()=>y(Math.max(1,g-1)),disabled:g===1,className:"border-gray-700 text-gray-400 hover:bg-gray-700/50",children:s.jsx(l$,{className:"w-4 h-4"})}),s.jsx(xe,{size:"sm",variant:"outline",onClick:()=>y(Math.min(b,g+1)),disabled:g===b,className:"border-gray-700 text-gray-400 hover:bg-gray-700/50",children:s.jsx(Dp,{className:"w-4 h-4"})})]})]})]})]})}function Xfe(){yn();const[t,e]=P.useState("overview"),[r,n]=P.useState([]),[i,a]=P.useState([]),[o,c]=P.useState({total_users:0,users_fixed_fee:0,users_profit_share:0,total_capital_managed:0,pending_invoices_count:0,pending_invoices_amount:0,total_revenue:0}),[d,f]=P.useState(!1),[p,h]=P.useState(null),[g,y]=P.useState([]),[b,w]=P.useState(""),[x,S]=P.useState(new Date().getMonth()+1),[k,_]=P.useState(new Date().getFullYear()),C=async()=>{f(!0);try{const{data:{session:D},error:$}=await We.auth.getSession();if($)throw console.error("Session error:",$),new Error("Errore sessione: "+$.message);if(!D?.access_token)throw console.error("No active session found"),new Error("Sessione non attiva. Prova a fare logout e login di nuovo.");console.log("Fetching billing overview with token:",D.access_token.substring(0,20)+"...");const V=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/admin/billing/overview`,{headers:{Authorization:`Bearer ${D.access_token}`,"Content-Type":"application/json"}});if(!V.ok){const U=await V.json().catch(()=>({error:"Unknown error"}));throw console.error("API error:",V.status,U),new Error(U.error||`HTTP ${V.status}: Failed to fetch billing overview`)}const{stats:J,users:K}=await V.json();c(J),n(K)}catch(D){console.error("Error fetching billing overview:",D),de.error(D instanceof Error?D.message:"Errore nel caricamento overview fatturazione")}finally{f(!1)}},N=async(D="")=>{f(!0);try{const{data:{session:$},error:V}=await We.auth.getSession();if(V)throw console.error("Session error in fetchInvoices:",V),new Error("Errore sessione: "+V.message);if(!$?.access_token)throw console.error("No active session in fetchInvoices"),new Error("Sessione non attiva. Prova a fare logout e login di nuovo.");console.log("Fetching invoices with token:",$.access_token.substring(0,20)+"...");const J=new URLSearchParams({...D&&{status:D}}),K=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/admin/invoices?${J}`,{headers:{Authorization:`Bearer ${$.access_token}`,"Content-Type":"application/json"}});if(!K.ok){const M=await K.json().catch(()=>({error:"Unknown error"}));throw console.error("API error in fetchInvoices:",K.status,M),new Error(M.error||`HTTP ${K.status}: Failed to fetch invoices`)}const{invoices:U}=await K.json();a(U)}catch($){console.error("Error fetching invoices:",$),de.error($ instanceof Error?$.message:"Errore nel caricamento fatture")}finally{f(!1)}},A=async D=>{try{const{data:{session:$}}=await We.auth.getSession();if(!$?.access_token)throw new Error("No active session");const V=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/admin/users/${D}/strategies`,{headers:{Authorization:`Bearer ${$.access_token}`,"Content-Type":"application/json"}});if(!V.ok)throw new Error("Failed to fetch strategies");const{strategies:J,summary:K}=await V.json();y(J),de.success(`Strategie caricate: ${K.total_strategies} totali, ${K.active_strategies} attive`)}catch($){console.error("Error fetching user strategies:",$),de.error("Errore nel caricamento strategie")}},E=async(D,$)=>{try{const{data:{session:V}}=await We.auth.getSession();if(!V?.access_token)throw new Error("No active session");const J=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/admin/invoices/generate`,{method:"POST",headers:{Authorization:`Bearer ${V.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({userId:D,month:x,year:k})});if(!J.ok){const U=await J.json();throw new Error(U.error||"Failed to generate invoice")}const{invoice:K}=await J.json();de.success(`Fattura generata per ${$}: ${K.amount.toFixed(2)}`),C(),t==="invoices"&&N()}catch(V){console.error("Error generating invoice:",V),de.error(V.message||"Errore nella generazione fattura")}},O=async D=>{try{const{data:{session:$}}=await We.auth.getSession();if(!$?.access_token)throw new Error("No active session");if(!(await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/admin/invoices/${D}/mark-paid`,{method:"PATCH",headers:{Authorization:`Bearer ${$.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({paymentMethod:"manual",notes:"Marked as paid by admin"})})).ok)throw new Error("Failed to mark invoice as paid");de.success("Fattura segnata come pagata"),N(),C()}catch($){console.error("Error marking invoice as paid:",$),de.error("Errore nell'aggiornamento fattura")}},R=async()=>{if(confirm(`Generare fatture per TUTTI gli utenti per ${x}/${k}?`))try{const{data:{session:D}}=await We.auth.getSession();if(!D?.access_token)throw new Error("No active session");de.info("Generazione fatture in corso...");const $=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/admin/invoices/bulk-generate`,{method:"POST",headers:{Authorization:`Bearer ${D.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({month:x,year:k})});if(!$.ok)throw new Error("Failed to bulk generate invoices");const{results:V}=await $.json();de.success(`Fatture generate: ${V.success.length} success, ${V.errors.length} errori, ${V.skipped.length} gi esistenti`),C(),t==="invoices"&&N()}catch(D){console.error("Error bulk generating invoices:",D),de.error("Errore nella generazione massiva")}};P.useEffect(()=>{C()},[]),P.useEffect(()=>{t==="invoices"&&N()},[t]);const H=D=>{switch(D){case"paid":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"overdue":return"bg-red-500/20 text-red-400 border-red-500/30";case"cancelled":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},B=r.filter(D=>D.email?.toLowerCase().includes(b.toLowerCase())||D.full_name?.toLowerCase().includes(b.toLowerCase()));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border-emerald-500/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(zG,{className:"w-5 h-5 text-emerald-400"}),s.jsxs(Je,{className:"bg-emerald-500/20 text-emerald-400",children:[o.users_profit_share," profit share"]})]}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:["",o.total_capital_managed.toLocaleString("it-IT")]}),s.jsx("div",{className:"text-sm text-gray-400",children:"Capitale Gestito"})]})}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(z0,{className:"w-5 h-5 text-blue-400"}),s.jsxs(Je,{className:"bg-red-500/20 text-red-400",children:[o.pending_invoices_count," pending"]})]}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:["",o.pending_invoices_amount.toLocaleString("it-IT",{minimumFractionDigits:2})]}),s.jsx("div",{className:"text-sm text-gray-400",children:"Da Incassare"})]})}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(ht,{className:"w-5 h-5 text-purple-400"})}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:["",o.total_revenue.toLocaleString("it-IT",{minimumFractionDigits:2})]}),s.jsx("div",{className:"text-sm text-gray-400",children:"Revenue Totale"})]})}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:s.jsxs(oe,{className:"p-4 bg-gradient-to-br from-orange-500/10 to-orange-600/5 border-orange-500/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(vi,{className:"w-5 h-5 text-orange-400"}),s.jsxs(Je,{className:"bg-orange-500/20 text-orange-400",children:[o.users_fixed_fee," canone fisso"]})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:o.total_users}),s.jsx("div",{className:"text-sm text-gray-400",children:"Utenti Totali"})]})})]}),s.jsxs("div",{className:"flex gap-2 border-b border-gray-700",children:[s.jsx("button",{onClick:()=>e("overview"),className:`px-4 py-2 font-medium transition-colors ${t==="overview"?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-white"}`,children:"Overview Utenti"}),s.jsx("button",{onClick:()=>e("invoices"),className:`px-4 py-2 font-medium transition-colors ${t==="invoices"?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-white"}`,children:"Fatture"}),p&&s.jsx("button",{onClick:()=>e("strategies"),className:`px-4 py-2 font-medium transition-colors ${t==="strategies"?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-white"}`,children:"Strategie Utente"})]}),t==="overview"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(oe,{className:"p-4 bg-gray-800/30 backdrop-blur-xl border-white/10",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Periodo Fatturazione"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("select",{value:x,onChange:D=>S(parseInt(D.target.value)),className:"px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white",children:Array.from({length:12},(D,$)=>$+1).map(D=>s.jsx("option",{value:D,children:new Date(2024,D-1).toLocaleString("it-IT",{month:"long"})},D))}),s.jsx(vn,{type:"number",value:k,onChange:D=>_(parseInt(D.target.value)),className:"w-24 bg-gray-900/50 border-gray-700"})]})]}),s.jsxs(xe,{onClick:R,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[s.jsx(z0,{className:"w-4 h-4 mr-2"}),"Genera Fatture per Tutti"]})]})}),s.jsx(oe,{className:"p-4 bg-gray-800/30 backdrop-blur-xl border-white/10",children:s.jsxs("div",{className:"relative",children:[s.jsx(f$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(vn,{placeholder:"Cerca utente per email o nome...",value:b,onChange:D=>w(D.target.value),className:"pl-10 bg-gray-900/50 border-gray-700 text-white"})]})}),s.jsx(oe,{className:"overflow-hidden bg-gray-800/30 backdrop-blur-xl border-white/10",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-900/50 border-b border-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Utente"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Capitale"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Modello"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Fatture"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Azioni"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-700/50",children:B.map(D=>s.jsxs(W.tr,{className:"hover:bg-gray-700/20 transition-colors",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:D.full_name||"N/A"}),s.jsx("div",{className:"text-sm text-gray-400",children:D.email})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-white font-bold",children:["",(D.total_capital||0).toLocaleString("it-IT")]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Soglia: ",(D.capital_threshold||2500).toLocaleString("it-IT")]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx(Je,{className:D.payment_model==="profit_share"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"bg-blue-500/20 text-blue-400 border-blue-500/30",children:D.payment_model==="profit_share"?`${D.profit_share_percentage||15}% profitti`:`${D.plan_price||0}/mese`})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm text-gray-300",children:["Pagato: ",(D.total_paid||0).toFixed(2)]}),D.pending_invoices>0&&s.jsxs("div",{className:"text-xs text-yellow-400",children:[D.pending_invoices," pending (",(D.total_pending||0).toFixed(2),")"]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>{h(D.id),A(D.id),e("strategies")},className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:[s.jsx(Mj,{className:"w-3 h-3 mr-1"}),"Strategie"]}),s.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>E(D.id,D.email),className:"border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/10",children:[s.jsx(z0,{className:"w-3 h-3 mr-1"}),"Fattura"]})]})})]},D.id))})]})})})]}),t==="invoices"&&s.jsx("div",{className:"space-y-4",children:s.jsx(oe,{className:"overflow-hidden bg-gray-800/30 backdrop-blur-xl border-white/10",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-900/50 border-b border-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Utente"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Periodo"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Tipo"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Importo"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Azioni"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-700/50",children:i.map(D=>s.jsxs("tr",{className:"hover:bg-gray-700/20 transition-colors",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:D.profile?.full_name||"N/A"}),s.jsx("div",{className:"text-sm text-gray-400",children:D.user?.email})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"text-sm text-gray-300",children:[new Date(D.billing_period_start).toLocaleDateString("it-IT")," -",new Date(D.billing_period_end).toLocaleDateString("it-IT")]})}),s.jsxs("td",{className:"px-4 py-4",children:[s.jsx(Je,{className:D.invoice_type==="profit_share"?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400",children:D.invoice_type==="profit_share"?`Profit Share (${D.profit_share_percentage}%)`:"Canone Fisso"}),D.invoice_type==="profit_share"&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Profitto: ",D.monthly_profit.toFixed(2)]})]}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"text-lg font-bold text-white",children:["",D.amount.toFixed(2)]})}),s.jsxs("td",{className:"px-4 py-4",children:[s.jsx(Je,{className:H(D.status),children:D.status}),D.paid_at&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(D.paid_at).toLocaleDateString("it-IT")})]}),s.jsx("td",{className:"px-4 py-4",children:D.status==="pending"&&s.jsxs(xe,{size:"sm",onClick:()=>O(D.id),className:"bg-emerald-600 hover:bg-emerald-700",children:[s.jsx(Mp,{className:"w-3 h-3 mr-1"}),"Segna Pagato"]})})]},D.id))})]})})})}),t==="strategies"&&p&&s.jsx("div",{className:"space-y-4",children:s.jsxs(oe,{className:"p-4 bg-gray-800/30 backdrop-blur-xl border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Strategie Utente"}),s.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>{h(null),y([]),e("overview")},className:"border-gray-700",children:[s.jsx(Ws,{className:"w-4 h-4 mr-1"}),"Chiudi"]})]}),g.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400",children:"Nessuna strategia trovata"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(D=>s.jsxs(oe,{className:"p-4 bg-gray-900/50 border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-white",children:D.name}),s.jsx(Je,{className:D.status==="active"?"bg-emerald-500/20 text-emerald-400":"bg-gray-500/20 text-gray-400",children:D.status})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm text-gray-400",children:["Capitale: ",s.jsxs("span",{className:"text-white font-bold",children:["",D.allocated_capital.toLocaleString("it-IT")]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Creata: ",new Date(D.created_at).toLocaleDateString("it-IT")]})]})]},D.id))})]})})]})}function Yfe(){const[t,e]=P.useState("overview"),r=[{id:"overview",label:"Dashboard",icon:Dj,color:"emerald"},{id:"users",label:"Utenti",icon:vi,color:"blue"},{id:"billing",label:"Fatturazione",icon:kw,color:"purple"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx(W.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-2xl",children:s.jsx(oe,{className:"p-6 bg-gradient-to-br from-amber-500/10 via-orange-500/10 to-red-500/10 border-amber-500/20",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-amber-500/20 border border-amber-500/30",children:s.jsx(Ji,{className:"w-8 h-8 text-amber-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pannello Amministrazione"}),s.jsx(wh,{className:"w-6 h-6 text-amber-400"})]}),s.jsx("p",{className:"text-gray-400",children:"Gestisci utenti, fatturazione e monitora l'app"})]})]})})}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsx(oe,{className:"p-2 bg-gray-800/40 backdrop-blur-xl border-white/10",children:s.jsx("div",{className:"flex gap-2",children:r.map(n=>{const i=n.icon,a=t===n.id,o={emerald:"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 shadow-lg",blue:"bg-blue-500/20 text-blue-400 border border-blue-500/30 shadow-lg",purple:"bg-purple-500/20 text-purple-400 border border-purple-500/30 shadow-lg"};return s.jsxs("button",{onClick:()=>e(n.id),className:`
                    flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg
                    font-medium transition-all duration-200
                    ${a?o[n.color]:"text-gray-400 hover:text-white hover:bg-white/5"}
                  `,children:[s.jsx(i,{className:"w-5 h-5"}),s.jsx("span",{children:n.label})]},n.id)})})})}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[t==="overview"&&s.jsx(Jfe,{}),t==="users"&&s.jsx(Kfe,{}),t==="billing"&&s.jsx(Xfe,{})]},t)]})}function Jfe(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},children:s.jsx(oe,{className:"p-6 bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border-emerald-500/20 hover:border-emerald-500/40 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-emerald-500/20",children:s.jsx(vi,{className:"w-6 h-6 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:"--"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Utenti Attivi"})]})]})})}),s.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},children:s.jsx(oe,{className:"p-6 bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20 hover:border-blue-500/40 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-blue-500/20",children:s.jsx(kw,{className:"w-6 h-6 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:"--"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Revenue Mensile"})]})]})})}),s.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},children:s.jsx(oe,{className:"p-6 bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20 hover:border-purple-500/40 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-purple-500/20",children:s.jsx(Dj,{className:"w-6 h-6 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:"--"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Strategie Attive"})]})]})})})]}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:s.jsx(oe,{className:"p-8 bg-gradient-to-br from-gray-800/50 to-gray-900/50 backdrop-blur-xl border-white/10",children:s.jsxs("div",{className:"max-w-3xl",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Ji,{className:"w-6 h-6 text-emerald-400"}),"Benvenuto nel Pannello Admin"]}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Da qui puoi gestire tutti gli aspetti dell'applicazione BTCWheel. Usa le tab sopra per navigare tra:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(vi,{className:"w-5 h-5 text-blue-400"}),s.jsx("h3",{className:"font-semibold text-white",children:"Gestione Utenti"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Visualizza, cerca e gestisci gli utenti. Sospendi account, crea backup e monitora l'attivit."})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(kw,{className:"w-5 h-5 text-purple-400"}),s.jsx("h3",{className:"font-semibold text-white",children:"Fatturazione"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Genera fatture, monitora pagamenti e visualizza revenue. Gestione automatica canone fisso e profit share."})]})]})]})})}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:s.jsxs(oe,{className:"p-6 bg-gray-800/30 backdrop-blur-xl border-white/10",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Stato Sistema"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Database"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),s.jsx("span",{className:"text-sm text-emerald-400 font-medium",children:"Online"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"API Server"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),s.jsx("span",{className:"text-sm text-emerald-400 font-medium",children:"Online"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Edge Functions"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),s.jsx("span",{className:"text-sm text-emerald-400 font-medium",children:"Online"})]})]})]})]})})]})}function Qfe({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const{user:n}=yn(),[i,a]=P.useState(()=>localStorage.getItem("mascotSoundEnabled")!=="false"),[o,c]=P.useState(()=>localStorage.getItem("mascotHapticEnabled")!=="false"),[d,f]=P.useState(!1),p="vibrate"in navigator;P.useEffect(()=>{localStorage.setItem("mascotSoundEnabled",String(i))},[i]),P.useEffect(()=>{localStorage.setItem("mascotHapticEnabled",String(o))},[o]);const h=()=>{a(!i)},g=()=>{c(!o),!o&&"vibrate"in navigator&&navigator.vibrate(20)},y=n?.user_metadata?.name||n?.email?.split("@")[0]||"Utente";return s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white relative",children:[s.jsx("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),s.jsx("div",{className:"fixed top-0 right-0 w-[500px] h-[500px] bg-blue-500/10 rounded-full blur-[150px] pointer-events-none"}),s.jsx("div",{className:"fixed bottom-0 left-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[150px] pointer-events-none"}),s.jsx(en,{currentView:"settings",onNavigate:t,mascotVisible:e,onMascotToggle:r}),s.jsx(W.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative px-4 py-8 md:px-6 max-w-4xl mx-auto",children:s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx(W.div,{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/50",whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:s.jsx(h$,{className:"w-8 h-8 text-white drop-shadow-sm"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Impostazioni"}),s.jsx(W.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},children:s.jsx(mt,{className:"w-6 h-6 text-blue-400"})})]}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Personalizza la tua esperienza"})]})]})}),s.jsxs("main",{className:"relative max-w-4xl mx-auto px-4 py-6 md:px-6 md:py-8 space-y-6",children:[s.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05},children:s.jsx(oe,{className:"p-4 bg-gradient-to-r from-amber-500/20 via-yellow-500/20 to-orange-500/20 backdrop-blur-xl border border-amber-400/30",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wh,{className:"w-8 h-8 text-amber-400 animate-pulse"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-amber-300 font-bold text-lg",children:" Modalit Amministratore"}),s.jsx("p",{className:"text-amber-200/80 text-sm",children:"Hai accesso completo a tutte le funzioni admin. Scorri in basso per vedere i pannelli di gestione."})]})]})})}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[s.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[s.jsx(_h,{className:"w-6 h-6 text-blue-400"}),"Account"]}),s.jsx(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-400",children:"Nome"}),s.jsx("p",{className:"text-white font-medium text-lg",children:y})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-400",children:"Email"}),s.jsx("p",{className:"text-white font-medium",children:n?.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-400",children:"Provider"}),s.jsx("p",{className:"text-white font-medium capitalize",children:n?.app_metadata?.provider||"Email"})]}),s.jsxs("div",{className:"pt-2 border-t border-amber-400/20",children:[s.jsx("label",{className:"text-sm text-amber-400",children:"Ruolo"}),s.jsxs("p",{className:"text-amber-300 font-bold flex items-center gap-2",children:[s.jsx(wh,{className:"w-5 h-5"}),"Amministratore"]})]})]})})]}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[s.jsx(YW,{className:"w-6 h-6 text-emerald-400"}),"Preferenze"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(oe,{className:"p-5 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:s.jsxs("button",{onClick:h,className:"w-full flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i?"bg-gradient-to-br from-emerald-500 to-teal-600 shadow-lg shadow-emerald-500/30":"bg-gray-700/50"}`,children:i?s.jsx(RG,{className:"w-6 h-6 text-white"}):s.jsx(MG,{className:"w-6 h-6 text-gray-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-white font-medium",children:"Audio Mascotte"}),s.jsx("p",{className:"text-gray-400 text-sm",children:i?"Attivo":"Disattivato"})]})]}),s.jsx("div",{className:`w-14 h-8 rounded-full transition-colors ${i?"bg-emerald-500":"bg-gray-700"}`,children:s.jsx("div",{className:`w-6 h-6 bg-white rounded-full mt-1 transition-transform ${i?"ml-7":"ml-1"}`})})]})}),p&&s.jsx(oe,{className:"p-5 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:s.jsxs("button",{onClick:g,className:"w-full flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${o?"bg-gradient-to-br from-purple-500 to-pink-600 shadow-lg shadow-purple-500/30":"bg-gray-700/50"}`,children:s.jsx(OG,{className:`w-6 h-6 ${o?"text-white":"text-gray-400"}`})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-white font-medium",children:"Feedback Aptico"}),s.jsx("p",{className:"text-gray-400 text-sm",children:o?"Attivo":"Disattivato"})]})]}),s.jsx("div",{className:`w-14 h-8 rounded-full transition-colors ${o?"bg-purple-500":"bg-gray-700"}`,children:s.jsx("div",{className:`w-6 h-6 bg-white rounded-full mt-1 transition-transform ${o?"ml-7":"ml-1"}`})})]})})]})]}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[s.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[s.jsx(Ji,{className:"w-6 h-6 text-amber-400"}),"Privacy & Sicurezza"]}),s.jsx(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:s.jsxs("div",{className:"space-y-3 text-gray-300",children:[s.jsxs("p",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-400 mt-1",children:""}),s.jsx("span",{children:"I tuoi dati sono crittografati end-to-end"})]}),s.jsxs("p",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-400 mt-1",children:""}),s.jsx("span",{children:"Le API keys degli exchange sono salvate in modo sicuro"})]}),s.jsxs("p",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-400 mt-1",children:""}),s.jsx("span",{children:"Non condividiamo mai i tuoi dati con terze parti"})]}),s.jsxs("p",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-400 mt-1",children:""}),s.jsx("span",{children:"Tutte le connessioni usano HTTPS sicuro"})]})]})})]}),s.jsx(Wfe,{}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.36},children:s.jsx(Hfe,{})}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.38},children:[s.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[s.jsx(Yi,{className:"w-6 h-6 text-cyan-400"}),"Duplica Database"]}),s.jsx(Gfe,{})]}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:s.jsx(Yfe,{})}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[s.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[s.jsx(BH,{className:"w-6 h-6 text-blue-400"}),"Informazioni"]}),s.jsx(oe,{className:"p-6 bg-gradient-to-br from-blue-500/10 to-purple-500/10 backdrop-blur-xl border border-blue-500/20",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Versione App"}),s.jsx("span",{className:"text-white font-medium",children:"1.0.0"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Build"}),s.jsx("span",{className:"text-white font-medium",children:"2024.01"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Piattaforma"}),s.jsx("span",{className:"text-white font-medium",children:"Web PWA"})]}),s.jsx("div",{className:"pt-3 mt-3 border-t border-white/10",children:s.jsx("p",{className:"text-gray-400 text-sm text-center",children:"Made with  for Bitcoin Traders"})})]})})]})]})]})}const Zfe={binance:"https://cryptologos.cc/logos/binance-coin-bnb-logo.svg",bybit:"https://cryptologos.cc/logos/bybit-logo.svg",kucoin:"https://cryptologos.cc/logos/kucoin-token-kcs-logo.svg",bingx:"https://images.unsplash.com/photo-1622570230304-a37c75da9d70?w=200",okx:"https://cryptologos.cc/logos/okb-okb-logo.svg",deribit:"https://images.unsplash.com/photo-1639603683079-7398c604497a?w=200",bitget:"https://cryptologos.cc/logos/bitget-token-bgb-logo.svg"},ehe={binance:{bg:"bg-yellow-500",text:"text-yellow-500",gradient:"from-yellow-400 to-yellow-600"},bybit:{bg:"bg-orange-500",text:"text-orange-500",gradient:"from-orange-400 to-orange-600"},kucoin:{bg:"bg-green-500",text:"text-green-500",gradient:"from-green-400 to-green-600"},bingx:{bg:"bg-blue-600",text:"text-blue-600",gradient:"from-blue-500 to-blue-700"},okx:{bg:"bg-gray-900",text:"text-gray-900",gradient:"from-gray-700 to-gray-900"},deribit:{bg:"bg-purple-600",text:"text-purple-600",gradient:"from-purple-500 to-purple-700"},bitget:{bg:"bg-cyan-500",text:"text-cyan-500",gradient:"from-cyan-400 to-cyan-600"}};function DI({exchangeId:t,size:e=40,className:r=""}){const n=Zfe[t.toLowerCase()],i=ehe[t.toLowerCase()]||{gradient:"from-gray-400 to-gray-600"},a=o=>({binance:"BN",bybit:"BY",kucoin:"KC",bingx:"BX",okx:"OX",deribit:"DB",bitget:"BG"})[o.toLowerCase()]||o.substring(0,2).toUpperCase();return s.jsx("div",{className:`rounded-lg overflow-hidden flex items-center justify-center ${r}`,style:{width:e,height:e},children:s.jsx("img",{src:n,alt:`${t} logo`,className:"w-full h-full object-contain p-1",onError:o=>{const c=o.target;c.style.display="none";const d=c.parentElement;d&&(d.className=`${d.className} bg-gradient-to-br ${i.gradient}`,d.innerHTML=`<span class="text-white font-bold" style="font-size: ${e*.4}px">${a(t)}</span>`)}})})}function the(){const{user:t}=yn(),[e,r]=P.useState([]),[n,i]=P.useState([]),[a,o]=P.useState(!1),[c,d]=P.useState(null),[f,p]=P.useState(!1),[h,g]=P.useState([]),[y,b]=P.useState(null),[w,x]=P.useState(!1),[S,k]=P.useState(""),[_,C]=P.useState(""),[N,A]=P.useState(""),[E,O]=P.useState(!1),[R,H]=P.useState(!1);P.useEffect(()=>{B(),t?.id&&D()},[t]);const B=async()=>{try{const{projectId:M,publicAnonKey:Q}=await $a(async()=>{const{projectId:L,publicAnonKey:q}=await Promise.resolve().then(()=>Da);return{projectId:L,publicAnonKey:q}},void 0),ee=await fetch(`https://${M}.supabase.co/functions/v1/make-server-7c0f82ca/exchanges`,{headers:{Authorization:`Bearer ${Q}`}});if(ee.ok){const L=await ee.json();r(L.exchanges)}}catch(M){console.error("Error loading exchanges:",M),de.error("Errore caricamento exchange")}},D=async()=>{if(t?.id)try{const{projectId:M,publicAnonKey:Q}=await $a(async()=>{const{projectId:L,publicAnonKey:q}=await Promise.resolve().then(()=>Da);return{projectId:L,publicAnonKey:q}},void 0),ee=await fetch(`https://${M}.supabase.co/functions/v1/make-server-7c0f82ca/exchanges/user/${t.id}`,{headers:{Authorization:`Bearer ${Q}`}});if(ee.ok){const L=await ee.json();i(L.exchanges)}}catch(M){console.error("Error loading connected exchanges:",M)}},$=async()=>{if(!c||!S||!_){de.error("Completa tutti i campi obbligatori");return}H(!0);try{const{projectId:M,publicAnonKey:Q}=await $a(async()=>{const{projectId:q,publicAnonKey:X}=await Promise.resolve().then(()=>Da);return{projectId:q,publicAnonKey:X}},void 0),L=await(await fetch(`https://${M}.supabase.co/functions/v1/make-server-7c0f82ca/exchanges/test-connection`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({exchange:c,apiKey:S,apiSecret:_})})).json();L.success?(de.success(` Connessione a ${L.exchange} verificata!`),await V()):de.error(` Credenziali non valide per ${c}`)}catch(M){console.error("Error testing connection:",M),de.error("Errore durante il test della connessione")}finally{H(!1)}},V=async()=>{if(!(!t?.id||!c||!S||!_)){o(!0);try{const{projectId:M,publicAnonKey:Q}=await $a(async()=>{const{projectId:q,publicAnonKey:X}=await Promise.resolve().then(()=>Da);return{projectId:q,publicAnonKey:X}},void 0),L=await(await fetch(`https://${M}.supabase.co/functions/v1/make-server-7c0f82ca/exchanges/save-credentials`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({userId:t.id,exchange:c,apiKey:S,apiSecret:_,passphrase:N||void 0})})).json();L.success?(de.success(L.message),p(!1),K(),await D()):de.error(L.error||"Errore salvataggio credenziali")}catch(M){console.error("Error saving credentials:",M),de.error("Errore durante il salvataggio")}finally{o(!1)}}},J=async M=>{if(t?.id){x(!0);try{const{projectId:Q,publicAnonKey:ee}=await $a(async()=>{const{projectId:re,publicAnonKey:he}=await Promise.resolve().then(()=>Da);return{projectId:re,publicAnonKey:he}},void 0);if(!n.find(re=>re.id===M)){de.error("Exchange non connesso");return}de.info("Caricamento trade in corso...");const q=new Date,X=new Date;X.setDate(X.getDate()-7);const pe=await(await fetch(`https://${Q}.supabase.co/functions/v1/make-server-7c0f82ca/exchanges/get-trades`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({exchange:M,apiKey:"stored_key",apiSecret:"stored_secret",startDate:X.toISOString(),endDate:q.toISOString()})})).json();pe.trades?(g(pe.trades),b(pe.stats),de.success(`${pe.stats.wheelTrades} trade caricati da ${pe.exchange}`)):de.error(pe.error||"Errore caricamento trade")}catch(Q){console.error("Error loading trades:",Q),de.error("Errore durante il caricamento dei trade")}finally{x(!1)}}},K=()=>{k(""),C(""),A(""),O(!1),d(null)},U=M=>n.some(Q=>Q.exchange===M);return s.jsxs("div",{className:"space-y-6",children:[n.length>0&&s.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[s.jsxs("h3",{className:"text-white mb-4 flex items-center gap-2",children:[s.jsx(Rt,{className:"w-5 h-5 text-emerald-400"}),"Exchange Connessi"]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(M=>s.jsxs(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-4 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border border-emerald-500/20 rounded-lg backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(DI,{exchangeId:M.exchange,size:40}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-semibold",children:M.name}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Connesso ",new Date(M.createdAt||"").toLocaleDateString("it-IT")]})]})]}),s.jsx(Je,{className:"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30",children:"Attivo"})]}),s.jsx(xe,{onClick:()=>J(M.exchange),disabled:w,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 border-0 shadow-lg",size:"sm",children:w?s.jsxs(s.Fragment,{children:[s.jsx(wi,{className:"w-4 h-4 mr-2 animate-spin"}),"Caricamento..."]}):s.jsxs(s.Fragment,{children:[s.jsx(il,{className:"w-4 h-4 mr-2"}),"Carica Trade"]})})]},M.exchange))})]}),y&&s.jsxs(oe,{className:"p-6 bg-gradient-to-br from-blue-500/10 to-purple-500/10 backdrop-blur-xl border border-blue-500/20",children:[s.jsx("h3",{className:"text-white mb-4 flex items-center gap-2",children:" Statistiche Trade (Ultimi 7 giorni)"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Trade Totali"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:y.totalTrades})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Trade Wheel"}),s.jsx("p",{className:"text-emerald-400 text-2xl font-bold",children:y.wheelTrades})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Premium Totale"}),s.jsxs("p",{className:"text-green-400 text-2xl font-bold",children:["$",y.totalPremium.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Fee Pagate"}),s.jsxs("p",{className:"text-orange-400 text-2xl font-bold",children:["$",y.totalFees.toFixed(2)]})]})]})]}),s.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[s.jsx("h3",{className:"text-white mb-4",children:"Exchange Disponibili"}),s.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(M=>{const Q=U(M.id);return s.jsxs(W.button,{onClick:()=>{Q||(d(M.id),p(!0))},disabled:Q,whileHover:Q?{}:{scale:1.02,y:-2},whileTap:Q?{}:{scale:.98},className:`p-4 rounded-xl border-2 text-left transition-all ${Q?"bg-gray-800/30 border-white/5 opacity-50 cursor-not-allowed":c===M.id?"bg-gradient-to-br from-purple-500/20 to-pink-500/20 border-purple-500/40 shadow-lg shadow-purple-500/20":"bg-white/5 border-white/10 hover:border-purple-500/30 hover:bg-white/10"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(DI,{exchangeId:M.id,size:36}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-white font-semibold truncate",children:M.name})}),Q&&s.jsx(Rt,{className:"w-5 h-5 text-emerald-400 flex-shrink-0"})]}),M.supportsOptions&&s.jsx(Je,{className:"bg-purple-500/20 text-purple-300 border border-purple-500/30",children:"Opzioni "})]},M.id)})})]}),s.jsx(ii,{children:f&&c&&s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border-2 border-purple-500/40 shadow-lg shadow-purple-500/20",children:[s.jsxs("h3",{className:"text-white mb-6 flex items-center gap-2 text-xl",children:[" Configura API per ",e.find(M=>M.id===c)?.name]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx(dt,{className:"text-gray-300 mb-2",children:"API Key *"}),s.jsx(vn,{type:"text",value:S,onChange:M=>k(M.target.value),placeholder:"Inserisci la tua API key",className:"h-12 bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-purple-500/50"})]}),s.jsxs("div",{children:[s.jsx(dt,{className:"text-gray-300 mb-2",children:"API Secret *"}),s.jsxs("div",{className:"relative",children:[s.jsx(vn,{type:E?"text":"password",value:_,onChange:M=>C(M.target.value),placeholder:"Inserisci il tuo API secret",className:"h-12 pr-12 bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-purple-500/50"}),s.jsx("button",{onClick:()=>O(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:E?s.jsx(PH,{className:"w-5 h-5"}):s.jsx(Mj,{className:"w-5 h-5"})})]})]}),(c==="kucoin"||c==="okx"||c==="bitget")&&s.jsxs("div",{children:[s.jsxs(dt,{className:"text-gray-300 mb-2",children:["Passphrase ",c==="kucoin"?"*":"(opzionale)"]}),s.jsx(vn,{type:"password",value:N,onChange:M=>A(M.target.value),placeholder:"Inserisci la passphrase",className:"h-12 bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-purple-500/50"})]}),s.jsx("div",{className:"bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-500/30 rounded-xl p-4 backdrop-blur-sm",children:s.jsxs("p",{className:"text-sm text-amber-200 leading-relaxed",children:[" ",s.jsx("strong",{className:"text-amber-100",children:"Importante:"})," Assicurati che le tue API keys abbiano solo permessi di lettura (read-only). Non condividere mai le tue credenziali API."]})}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx(xe,{onClick:$,disabled:R||!S||!_,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 border-0 shadow-lg h-12",children:R?s.jsxs(s.Fragment,{children:[s.jsx(wi,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Testa e Salva"]})}),s.jsx(xe,{onClick:()=>{p(!1),K()},variant:"outline",className:"bg-white/5 border-white/10 text-white hover:bg-white/10 h-12",children:"Annulla"})]})]})]})})}),h.length>0&&s.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[s.jsxs("h3",{className:"text-white mb-4",children:[" Trade Importati (",h.length,")"]}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:h.slice(0,20).map(M=>s.jsxs(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl flex items-center justify-between transition-all",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${M.type==="option"?"bg-gradient-to-br from-purple-500/20 to-pink-500/20":"bg-gradient-to-br from-blue-500/20 to-cyan-500/20"}`,children:M.type==="option"?s.jsx(ht,{className:"w-6 h-6 text-purple-400"}):s.jsx(al,{className:"w-6 h-6 text-blue-400"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-white font-semibold",children:[M.symbol,M.optionType&&s.jsx(Je,{className:"ml-2 bg-purple-500/20 text-purple-300 border-none",children:M.optionType.toUpperCase()})]}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[M.side==="buy"?" Acquisto":" Vendita",M.strike&&`  Strike $${M.strike}`,"  ",new Date(M.timestamp).toLocaleDateString("it-IT")]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-white font-bold text-lg",children:["$",(M.premium||M.price*M.quantity).toFixed(2)]}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[M.quantity," qty"]})]})]},M.id))})]})]})}function rhe({onNavigate:t,mascotVisible:e,onMascotToggle:r}){return s.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white relative",children:[s.jsx("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),s.jsx("div",{className:"fixed top-0 right-0 w-[500px] h-[500px] bg-emerald-500/10 rounded-full blur-[150px] pointer-events-none"}),s.jsx("div",{className:"fixed bottom-0 left-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[150px] pointer-events-none"}),s.jsx(en,{onNavigate:t,currentView:"exchange",mascotVisible:e,onMascotToggle:r}),s.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(W.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(W.div,{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-lg shadow-purple-500/50",whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:s.jsx(zj,{className:"w-8 h-8 text-white drop-shadow-sm"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Exchange Connectors"}),s.jsx(W.div,{animate:{rotate:[0,14,-14,14,0],scale:[1,1.1,1.1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:5},children:s.jsx(mt,{className:"w-6 h-6 text-purple-400"})})]}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Collega i tuoi exchange e importa automaticamente i trade della tua Wheel Strategy"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},whileHover:{y:-4},children:s.jsx(oe,{className:"p-5 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 backdrop-blur-xl border border-emerald-500/20 hover:border-emerald-500/40 transition-all",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-xl flex items-center justify-center flex-shrink-0 backdrop-blur-sm",children:s.jsx(Ji,{className:"w-6 h-6 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-1",children:"Sicurezza Garantita"}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Le tue API keys sono crittografate e utilizzate solo in read-only"})]})]})})}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},whileHover:{y:-4},children:s.jsx(oe,{className:"p-5 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 backdrop-blur-xl border border-blue-500/20 hover:border-blue-500/40 transition-all",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center flex-shrink-0 backdrop-blur-sm",children:s.jsx(Qi,{className:"w-6 h-6 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-1",children:"Sync Automatico"}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"I tuoi trade vengono sincronizzati automaticamente ogni giorno"})]})]})})}),s.jsx(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},whileHover:{y:-4},children:s.jsx(oe,{className:"p-5 bg-gradient-to-br from-purple-500/10 to-pink-500/10 backdrop-blur-xl border border-purple-500/20 hover:border-purple-500/40 transition-all",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center flex-shrink-0 backdrop-blur-sm",children:s.jsx(ht,{className:"w-6 h-6 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-1",children:"Analytics Avanzati"}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Traccia performance, premium incassati e metriche della Wheel Strategy"})]})]})})})]})]}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:s.jsx(the,{})}),s.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8",children:s.jsx(oe,{className:"p-6 bg-gradient-to-br from-amber-500/10 to-orange-500/10 backdrop-blur-xl border border-amber-500/20",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-3xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:["Come configurare le API Keys in modo sicuro",s.jsx(Ji,{className:"w-5 h-5 text-amber-400"})]}),s.jsxs("ul",{className:"space-y-2.5 text-gray-300",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-emerald-400 mt-1 text-lg",children:""}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-white",children:"Permessi read-only:"})," Assicurati di creare API keys con SOLO permessi di lettura (no trading, no withdrawal)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-emerald-400 mt-1 text-lg",children:""}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-white",children:"IP Whitelist:"})," Se possibile, limita le API keys a specifici indirizzi IP"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-emerald-400 mt-1 text-lg",children:""}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-white",children:"2FA abilitato:"})," Mantieni sempre attiva l'autenticazione a due fattori sul tuo account exchange"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-emerald-400 mt-1 text-lg",children:""}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-white",children:"Revoca immediata:"})," Se sospetti un accesso non autorizzato, revoca immediatamente le API keys dall'exchange"]})]})]})]})]})})}),s.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-6 text-center",children:[s.jsx("p",{className:"text-gray-500 mb-4 text-sm uppercase tracking-wider",children:"Exchange supportati"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[["Binance","Bybit","Kucoin","BingX","OKX","Bitget"].map((n,i)=>s.jsx(W.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7+i*.05},className:"px-4 py-2 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 text-gray-300 text-sm font-medium hover:bg-white/10 hover:border-white/20 transition-all",children:n},n)),s.jsxs(W.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1},className:"px-4 py-2 bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm rounded-xl border border-purple-500/30 text-purple-300 text-sm font-medium hover:from-purple-500/30 hover:to-pink-500/30 transition-all",children:["Deribit ",s.jsx("span",{className:"text-xs ml-1",children:" Opzioni"})]})]})]})]})]})}var nhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ihe=nhe.reduce((t,e)=>{const r=od(`Primitive.${e}`),n=P.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),ahe="Separator",zI="horizontal",she=["horizontal","vertical"],kz=P.forwardRef((t,e)=>{const{decorative:r,orientation:n=zI,...i}=t,a=ohe(n)?n:zI,c=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(ihe.div,{"data-orientation":a,...c,...i,ref:e})});kz.displayName=ahe;function ohe(t){return she.includes(t)}var lhe=kz;function che({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return s.jsx(lhe,{"data-slot":"separator-root",decorative:r,orientation:e,className:gr("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}const uhe=rj("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Xo({className:t,variant:e,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:gr(uhe({variant:e}),t),...r})}function Yo({className:t,...e}){return s.jsx("div",{"data-slot":"alert-description",className:gr("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function LI({onAuthSuccess:t}){const{loginAsGuest:e}=yn(),[r,n]=P.useState("signup"),[i,a]=P.useState(!1),[o,c]=P.useState(""),[d,f]=P.useState(!1),[p,h]=P.useState(""),[g,y]=P.useState(""),[b,w]=P.useState({email:"",password:"",name:""}),x=xF(),S=async N=>{if(N.preventDefault(),h(""),f(!0),!bt||!x){h("Autenticazione non disponibile. Usa la modalit demo per continuare."),f(!1);return}try{if(r==="signup"){console.log(" [AuthView] Starting signup process...");const A=await fetch(`https://${st}.supabase.co/functions/v1/make-server-7c0f82ca/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fr}`},body:JSON.stringify({email:b.email,password:b.password,name:b.name})});if(A.status===404||A.status>=500){console.error(` [AuthView] Server error (${A.status}) - falling back to direct signup`),h(" Server non disponibile. Creazione account in modalit diretta...");const{error:R}=await x.auth.signUp({email:b.email,password:b.password,options:{data:{name:b.name}}});if(R){if(R.message?.includes("already registered")){console.log(" [AuthView] User already exists (fallback), attempting auto-login..."),h(" Email gi registrata. Provo ad effettuare il login..."),await new Promise(B=>setTimeout(B,1500));const{error:H}=await x.auth.signInWithPassword({email:b.email,password:b.password});if(H){console.error(" [AuthView] Auto-login failed - wrong password:",H),h(' Email gi registrata. La password inserita non  corretta. Usa "Accedi" invece di "Registrati".'),n("login"),f(!1);return}console.log(" [AuthView] Auto-login successful after detecting existing account"),t();return}throw R}h(" Account creato! IMPORTANTE: Conferma la tua email per accedere (controlla la tua casella di posta)."),f(!1);return}const E=await A.json();if(!A.ok){if(console.error(" [AuthView] Signup failed:",E),A.status===409||E.code==="email_exists"||E.error?.includes("already")||E.error?.includes("registered")){console.log(" [AuthView] User already exists, attempting auto-login..."),h(" Email gi registrata. Provo ad effettuare il login..."),await new Promise(H=>setTimeout(H,1500));const{error:R}=await x.auth.signInWithPassword({email:b.email,password:b.password});if(R){console.error(" [AuthView] Auto-login failed - wrong password:",R),h(' Email gi registrata. La password inserita non  corretta. Usa "Accedi" invece di "Registrati".'),n("login"),f(!1);return}console.log(" [AuthView] Auto-login successful after detecting existing account"),t();return}throw f(!1),new Error(E.error||"Signup failed")}console.log(" [AuthView] Signup successful, now signing in...");const{error:O}=await x.auth.signInWithPassword({email:b.email,password:b.password});if(O)throw console.error(" [AuthView] Auto-login failed:",O),O;console.log(" [AuthView] Auto-login successful!"),t()}else{const{error:A}=await x.auth.signInWithPassword({email:b.email,password:b.password});if(A){if(A.message?.includes("Invalid login credentials"))h(" Email o password non corretti. Riprova o crea un nuovo account.");else throw A;return}t()}}catch(A){console.error("Auth error:",A);const E=A.message||"";E.includes("Invalid login credentials")?h(" Email o password non corretti."):E.includes("Email not confirmed")?h(" Conferma la tua email prima di accedere. Controlla la tua casella di posta."):E.includes("User not found")?h(" Account non trovato. Registrati per creare un nuovo account."):h(E||"Si  verificato un errore. Riprova.")}finally{f(!1)}},k=async()=>{try{f(!0),h("");const{error:N}=await x.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin,skipBrowserRedirect:!1,queryParams:{access_type:"offline",prompt:"consent"}}});if(N)throw N}catch(N){console.error("Google auth error:",N);const A=N.message||"";A.includes("provider")||A.includes("not enabled")||A.includes("configured")?h(" Google OAuth non configurato. Usa email/password."):h(`Errore Google OAuth: ${A}. Usa email/password come alternativa.`),f(!1)}},_=async N=>{if(N.preventDefault(),h(""),y(""),f(!0),!bt||!x){h("Autenticazione non disponibile. Usa la modalit demo per continuare."),f(!1);return}try{console.log(" [AuthView] Sending password reset email to:",o);const{error:A}=await x.auth.resetPasswordForEmail(o,{redirectTo:`${window.location.origin}/reset-password`});if(A)throw A;console.log(" [AuthView] Password reset email sent successfully"),y(" Ti abbiamo inviato un'email con le istruzioni per reimpostare la password. Controlla la tua casella di posta!"),c(""),setTimeout(()=>{a(!1),y("")},3e3)}catch(A){console.error(" [AuthView] Reset password error:",A);const E=A.message||"";E.includes("Email not found")||E.includes("User not found")?h(" Nessun account trovato con questa email."):E.includes("rate limit")?h(" Troppe richieste. Riprova tra qualche minuto."):E.includes("Email")||E.includes("SMTP")?h(" Server email non configurato. Contatta il supporto per reimpostare la password."):h(E||"Errore durante il reset della password. Riprova.")}finally{f(!1)}},C=()=>{n(r==="login"?"signup":"login"),h(""),y("")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-orange-500 flex items-center justify-center p-4 safe-area-inset",children:s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[s.jsxs(oe,{className:"p-8 shadow-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(W.div,{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:s.jsx(o$,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-gray-900 mb-2",children:"Bitcoin Wheel Strategy"}),s.jsx("p",{className:"text-gray-600",children:r==="signup"?"Crea il tuo account per iniziare":"Bentornato! Accedi al tuo account"})]}),s.jsx(ii,{children:p&&s.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6",children:s.jsxs(Xo,{variant:"destructive",children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx(Yo,{children:p})]})})}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs(xe,{type:"button",variant:"outline",className:"w-full h-12 border-2",onClick:k,disabled:d,children:[d?s.jsx(mr,{className:"w-5 h-5 mr-2 animate-spin"}):s.jsx(cH,{className:"w-5 h-5 mr-2"}),"Continua con Google"]}),s.jsxs(xe,{type:"button",variant:"ghost",className:"w-full h-10 text-gray-600 hover:text-gray-900 hover:bg-gray-100",onClick:async()=>{f(!0),await e(),f(!1),t()},disabled:d,children:[s.jsx(_h,{className:"w-4 h-4 mr-2"}),"Entra come Ospite (Demo)"]})]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(che,{}),s.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-3 text-sm text-gray-500",children:"oppure"})]}),s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[r==="signup"&&s.jsxs("div",{children:[s.jsxs(dt,{htmlFor:"name",className:"flex items-center gap-2 mb-2",children:[s.jsx(_h,{className:"w-4 h-4"}),"Nome"]}),s.jsx(vn,{id:"name",type:"text",placeholder:"Il tuo nome",value:b.name,onChange:N=>w({...b,name:N.target.value}),required:!0,disabled:d,className:"h-12"})]}),s.jsxs("div",{children:[s.jsxs(dt,{htmlFor:"email",className:"flex items-center gap-2 mb-2",children:[s.jsx(DA,{className:"w-4 h-4"}),"Email"]}),s.jsx(vn,{id:"email",type:"email",placeholder:"tuo@email.com",value:b.email,onChange:N=>w({...b,email:N.target.value}),required:!0,disabled:d,className:"h-12"})]}),s.jsxs("div",{children:[s.jsxs(dt,{htmlFor:"password",className:"flex items-center gap-2 mb-2",children:[s.jsx(Ls,{className:"w-4 h-4"}),"Password"]}),s.jsx(vn,{id:"password",type:"password",placeholder:"",value:b.password,onChange:N=>w({...b,password:N.target.value}),required:!0,disabled:d,minLength:6,className:"h-12"}),r==="signup"&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimo 6 caratteri"})]}),s.jsx(xe,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(mr,{className:"w-5 h-5 mr-2 animate-spin"}),r==="signup"?"Creazione account...":"Accesso..."]}):s.jsx(s.Fragment,{children:r==="signup"?s.jsxs(s.Fragment,{children:[s.jsx(mt,{className:"w-5 h-5 mr-2"}),"Crea Account"]}):"Accedi"})})]}),r==="login"&&s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{type:"button",onClick:()=>{a(!0),h(""),y("")},disabled:d,className:"text-sm text-blue-600 hover:text-blue-700 underline disabled:opacity-50",children:"Password dimenticata?"})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{type:"button",onClick:C,disabled:d,className:"text-sm text-blue-600 hover:text-blue-700 font-medium disabled:opacity-50",children:r==="signup"?s.jsxs(s.Fragment,{children:["Hai gi un account? ",s.jsx("span",{className:"underline",children:"Accedi"})]}):s.jsxs(s.Fragment,{children:["Non hai un account? ",s.jsx("span",{className:"underline",children:"Registrati"})]})})}),r==="signup"&&s.jsxs("p",{className:"mt-6 text-xs text-gray-500 text-center",children:["Creando un account accetti i nostri"," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Termini di Servizio"})," ","e la"," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),s.jsx(ii,{children:i&&s.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>a(!1),children:s.jsx(W.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:N=>N.stopPropagation(),className:"w-full max-w-md",children:s.jsxs(oe,{className:"p-8",children:[s.jsx("h2",{className:"text-gray-900 mb-2",children:"Reimposta Password"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Inserisci la tua email e ti invieremo un link per reimpostare la password."}),g&&s.jsxs(Xo,{className:"mb-4 border-emerald-300 bg-emerald-50",children:[s.jsx(hi,{className:"h-4 w-4 text-emerald-600"}),s.jsx(Yo,{className:"text-emerald-900",children:g})]}),p&&s.jsxs(Xo,{variant:"destructive",className:"mb-4",children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx(Yo,{children:p})]}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(dt,{htmlFor:"reset-email",className:"flex items-center gap-2 mb-2",children:[s.jsx(DA,{className:"w-4 h-4"}),"Email"]}),s.jsx(vn,{id:"reset-email",type:"email",placeholder:"tuo@email.com",value:o,onChange:N=>c(N.target.value),required:!0,disabled:d,className:"h-12"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(xe,{type:"button",variant:"outline",className:"flex-1 h-12",onClick:()=>{a(!1),c(""),h(""),y("")},disabled:d,children:"Annulla"}),s.jsx(xe,{type:"submit",className:"flex-1 h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(mr,{className:"w-5 h-5 mr-2 animate-spin"}),"Invio..."]}):"Invia Email"})]})]}),s.jsxs(Xo,{className:"mt-4 border-yellow-300 bg-yellow-50",children:[s.jsx(hi,{className:"h-4 w-4 text-yellow-600"}),s.jsxs(Yo,{className:"text-yellow-900 text-xs",children:[s.jsx("strong",{children:"Nota:"})," Se il server email non  configurato, contatta il supporto per reimpostare la password manualmente."]})]})]})})})}),s.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 text-center",children:s.jsx(oe,{className:"p-4 bg-white/90 backdrop-blur",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:" Demo Mode:"})," Puoi anche"," ",s.jsx("button",{onClick:t,className:"text-blue-600 hover:underline font-medium",children:"continuare senza registrarti"})," ","(dati salvati solo localmente)"]})})})]})})}var wm="Checkbox",[dhe]=Ml(wm),[fhe,JS]=dhe(wm);function hhe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:d,required:f,value:p="on",internal_do_not_use_render:h}=t,[g,y]=Lp({prop:r,defaultProp:i??!1,onChange:d,caller:wm}),[b,w]=P.useState(null),[x,S]=P.useState(null),k=P.useRef(!1),_=b?!!o||!!b.closest("form"):!0,C={checked:g,disabled:a,setChecked:y,control:b,setControl:w,name:c,form:o,value:p,hasConsumerStoppedPropagationRef:k,required:f,defaultChecked:Ua(i)?!1:i,isFormControl:_,bubbleInput:x,setBubbleInput:S};return s.jsx(fhe,{scope:e,...C,children:phe(h)?h(C):n})}var Az="CheckboxTrigger",Tz=P.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:a,value:o,disabled:c,checked:d,required:f,setControl:p,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:b}=JS(Az,t),w=Ki(i,p),x=P.useRef(d);return P.useEffect(()=>{const S=a?.form;if(S){const k=()=>h(x.current);return S.addEventListener("reset",k),()=>S.removeEventListener("reset",k)}},[a,h]),s.jsx(xn.button,{type:"button",role:"checkbox","aria-checked":Ua(d)?"mixed":d,"aria-required":f,"data-state":Rz(d),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:w,onKeyDown:rn(e,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:rn(r,S=>{h(k=>Ua(k)?!0:!k),b&&y&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})})});Tz.displayName=Az;var Pz=P.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:c,value:d,onCheckedChange:f,form:p,...h}=t;return s.jsx(hhe,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:f,name:n,form:p,value:d,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(Tz,{...h,ref:e,__scopeCheckbox:r}),g&&s.jsx(Iz,{__scopeCheckbox:r})]})})});Pz.displayName=wm;var Cz="CheckboxIndicator",Ez=P.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=JS(Cz,r);return s.jsx(Fp,{present:n||Ua(a.checked)||a.checked===!0,children:s.jsx(xn.span,{"data-state":Rz(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Ez.displayName=Cz;var Oz="CheckboxBubbleInput",Iz=P.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:d,name:f,value:p,form:h,bubbleInput:g,setBubbleInput:y}=JS(Oz,t),b=Ki(r,y),w=$$(a),x=R$(n);P.useEffect(()=>{const k=g;if(!k)return;const _=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(_,"checked").set,A=!i.current;if(w!==a&&N){const E=new Event("click",{bubbles:A});k.indeterminate=Ua(a),N.call(k,Ua(a)?!1:a),k.dispatchEvent(E)}},[g,w,a,i]);const S=P.useRef(Ua(a)?!1:a);return s.jsx(xn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:c,disabled:d,name:f,value:p,form:h,...e,tabIndex:-1,ref:b,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Iz.displayName=Oz;function phe(t){return typeof t=="function"}function Ua(t){return t==="indeterminate"}function Rz(t){return Ua(t)?"indeterminate":t?"checked":"unchecked"}function BI({className:t,...e}){return s.jsx(Pz,{"data-slot":"checkbox",className:gr("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(Ez,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Mp,{className:"size-3.5"})})})}function mhe({onComplete:t}){const{completeOnboarding:e,skipOnboarding:r,analyzing:n}=a4(),[i,a]=P.useState(0),[o,c]=P.useState({experienceLevel:void 0,tradingKnowledge:void 0,optionsKnowledge:void 0,goals:[],availableTime:void 0,capital:void 0,learningStyle:[]}),d=6,f=()=>{console.log(" handleNext called, currentStep:",i,"totalSteps:",d),console.log(" isStepComplete:",w()),console.log(" profile:",o),i<d-1?a(i+1):(console.log(" Last step reached, calling handleComplete"),h())},p=()=>{i>0&&a(i-1)},h=async()=>{console.log(" handleComplete called"),console.log(" Profile to submit:",o);try{console.log(" Calling completeOnboarding...");const _=await e(o);console.log(" completeOnboarding returned:",_),console.log(" Calling onComplete callback..."),t(),console.log(" onComplete callback finished")}catch(_){console.error(" Error in handleComplete:",_),console.log(" Calling onComplete despite error..."),t()}},g=()=>{r(),t()},y=(_,C)=>{c(N=>({...N,[_]:C}))},b=(_,C)=>{c(N=>{const A=N[_]||[],E=A.includes(C)?A.filter(O=>O!==C):[...A,C];return{...N,[_]:E}})},w=()=>{switch(i){case 0:return!!o.experienceLevel;case 1:return!!o.tradingKnowledge;case 2:return!!o.optionsKnowledge;case 3:return(o.goals?.length||0)>0;case 4:return!!o.availableTime;case 5:return!!o.capital&&(o.learningStyle?.length||0)>0;default:return!1}},S=[{title:"Livello Esperienza Crypto",icon:o$,content:s.jsx(Lo,{value:o.experienceLevel,onValueChange:_=>y("experienceLevel",_),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"beginner",id:"exp-beginner"}),s.jsxs(dt,{htmlFor:"exp-beginner",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Principiante"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Nuovo al mondo crypto, poca o nessuna esperienza"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"intermediate",id:"exp-intermediate"}),s.jsxs(dt,{htmlFor:"exp-intermediate",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Intermedio"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Ho gi investito in crypto, conosco le basi"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"advanced",id:"exp-advanced"}),s.jsxs(dt,{htmlFor:"exp-advanced",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Avanzato"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Trading attivo, esperto di crypto e mercati"})]})]})]})})},{title:"Esperienza Trading",icon:ht,content:s.jsx(Lo,{value:o.tradingKnowledge,onValueChange:_=>y("tradingKnowledge",_),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"none",id:"trade-none"}),s.jsxs(dt,{htmlFor:"trade-none",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Nessuna"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Mai fatto trading prima"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"basic",id:"trade-basic"}),s.jsxs(dt,{htmlFor:"trade-basic",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Base"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Ho comprato/venduto azioni o crypto spot"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"experienced",id:"trade-exp"}),s.jsxs(dt,{htmlFor:"trade-exp",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Esperto"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Trading attivo con analisi tecnica"})]})]})]})})},{title:"Conoscenza Opzioni",icon:MH,content:s.jsx(Lo,{value:o.optionsKnowledge,onValueChange:_=>y("optionsKnowledge",_),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"none",id:"opt-none"}),s.jsxs(dt,{htmlFor:"opt-none",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Mai sentite"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Non so cosa sono le opzioni"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"basic",id:"opt-basic"}),s.jsxs(dt,{htmlFor:"opt-basic",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Teoria"}),s.jsx("p",{className:"text-sm text-gray-600",children:"So cosa sono ma non le ho mai tradiate"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"experienced",id:"opt-exp"}),s.jsxs(dt,{htmlFor:"opt-exp",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Pratico"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Ho gi tradato opzioni (stocks/crypto)"})]})]})]})})},{title:"I Tuoi Obiettivi",icon:zr,content:s.jsx("div",{className:"space-y-3",children:[{value:"learn",label:" Imparare nuova strategia",desc:"Acquisire competenze trading opzioni"},{value:"income",label:" Generare reddito passivo",desc:"Creare flusso di cassa mensile"},{value:"hedge",label:" Proteggere portfolio",desc:"Hedging e gestione rischio"},{value:"curiosity",label:" Curiosit",desc:"Esplorare il mondo delle opzioni"}].map(_=>s.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-colors cursor-pointer ${o.goals?.includes(_.value)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>b("goals",_.value),children:[s.jsx(BI,{checked:o.goals?.includes(_.value),onCheckedChange:()=>b("goals",_.value)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:_.label}),s.jsx("p",{className:"text-sm text-gray-600",children:_.desc})]})]},_.value))})},{title:"Tempo Disponibile",icon:zp,content:s.jsx(Lo,{value:o.availableTime,onValueChange:_=>y("availableTime",_),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"limited",id:"time-limited"}),s.jsxs(dt,{htmlFor:"time-limited",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Limitato"}),s.jsx("p",{className:"text-sm text-gray-600",children:"10-15 minuti al giorno"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"moderate",id:"time-moderate"}),s.jsxs(dt,{htmlFor:"time-moderate",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Moderato"}),s.jsx("p",{className:"text-sm text-gray-600",children:"30-60 minuti al giorno"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"plenty",id:"time-plenty"}),s.jsxs(dt,{htmlFor:"time-plenty",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-semibold",children:" Abbondante"}),s.jsx("p",{className:"text-sm text-gray-600",children:"1-2 ore al giorno o pi"})]})]})]})})},{title:"Capitale & Stile",icon:mt,content:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-900 mb-3",children:"Capitale per Trading"}),s.jsx(Lo,{value:o.capital,onValueChange:_=>y("capital",_),children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"learning",id:"cap-learning"}),s.jsx(dt,{htmlFor:"cap-learning",className:"flex-1 cursor-pointer",children:"Solo apprendimento (simulatore)"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"small",id:"cap-small"}),s.jsx(dt,{htmlFor:"cap-small",className:"flex-1 cursor-pointer",children:"Piccolo (< $5,000)"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"medium",id:"cap-medium"}),s.jsx(dt,{htmlFor:"cap-medium",className:"flex-1 cursor-pointer",children:"Medio ($5,000 - $25,000)"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(jr,{value:"large",id:"cap-large"}),s.jsx(dt,{htmlFor:"cap-large",className:"flex-1 cursor-pointer",children:"Grande (> $25,000)"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-900 mb-3",children:"Preferenze Apprendimento"}),s.jsx("div",{className:"space-y-2",children:[{value:"reading",label:" Leggere testi ed esempi"},{value:"practice",label:" Pratica con simulatore"},{value:"visual",label:" Grafici e visual"},{value:"interactive",label:" Quiz interattivi"}].map(_=>s.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg border-2 transition-colors cursor-pointer ${o.learningStyle?.includes(_.value)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>b("learningStyle",_.value),children:[s.jsx(BI,{checked:o.learningStyle?.includes(_.value),onCheckedChange:()=>b("learningStyle",_.value)}),s.jsx(dt,{className:"flex-1 cursor-pointer",children:_.label})]},_.value))})]})]})}][i],k=S.icon;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center p-4 safe-area-inset",children:s.jsxs(oe,{className:"w-full max-w-2xl shadow-2xl",children:[s.jsxs("div",{className:"p-6 md:p-8 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:s.jsx(k,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-gray-900",children:S.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Passo ",i+1," di ",d]})]}),s.jsx(xe,{variant:"ghost",size:"sm",onClick:g,children:"Salta"})]}),s.jsx(ni,{value:(i+1)/d*100,className:"h-2"})]}),s.jsx("div",{className:"p-6 md:p-8 min-h-[400px]",children:s.jsx(ii,{mode:"wait",children:s.jsx(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:S.content},i)})}),s.jsxs("div",{className:"p-6 md:p-8 border-t border-gray-200 flex items-center justify-between",children:[s.jsxs(xe,{variant:"outline",onClick:p,disabled:i===0,className:"h-11",children:[s.jsx(wu,{className:"w-4 h-4 mr-2"}),"Indietro"]}),s.jsx(xe,{onClick:f,disabled:!w()||n,className:"bg-blue-600 hover:bg-blue-700 h-11",children:n?s.jsxs(s.Fragment,{children:[s.jsx(mr,{className:"w-4 h-4 mr-2 animate-spin"}),"Analisi AI..."]}):i===d-1?s.jsxs(s.Fragment,{children:["Inizia il Corso",s.jsx(mt,{className:"w-4 h-4 ml-2"})]}):s.jsxs(s.Fragment,{children:["Avanti",s.jsx(Ui,{className:"w-4 h-4 ml-2"})]})})]})]})})}function ghe({recommendations:t,onStart:e}){const r=()=>{console.log("[OnboardingResults] Button clicked - calling onStart"),e()};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center p-4 safe-area-inset",children:s.jsx(W.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-3xl",children:s.jsxs(oe,{className:"p-6 md:p-10 shadow-2xl",children:[s.jsx(W.div,{className:"w-20 h-20 md:w-24 md:h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center",initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{delay:.2,duration:.6},children:s.jsx(mt,{className:"w-12 h-12 text-white"})}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center mb-8",children:[s.jsx("h1",{className:"text-gray-900 mb-3",children:"Percorso Personalizzato Pronto! "}),s.jsx("p",{className:"text-gray-600 text-lg",children:"L'AI ha analizzato il tuo profilo e creato un percorso formativo su misura per te"})]}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:s.jsx(oe,{className:"p-5 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200",children:s.jsx("p",{className:"text-gray-900 leading-relaxed",children:t.customMessage})})}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid md:grid-cols-2 gap-4 mb-8",children:[s.jsxs(oe,{className:"p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(zr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-gray-900",children:"Lezione di Partenza"})]}),s.jsxs("p",{className:"text-3xl text-blue-600 font-bold",children:["#",t.startingLesson]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Inizierai dal livello giusto per te"})]}),s.jsxs(oe,{className:"p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(zp,{className:"w-5 h-5 text-purple-600"}),s.jsx("h3",{className:"text-gray-900",children:"Durata Stimata"})]}),s.jsx("p",{className:"text-3xl text-purple-600 font-bold",children:t.estimatedDuration}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Al tuo ritmo di apprendimento"})]})]}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ht,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-gray-900",children:"Percorso Raccomandato"})]}),s.jsx("div",{className:"space-y-2",children:t.recommendedPath.map((n,i)=>s.jsxs(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+i*.1},className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Je,{className:"bg-blue-600 text-white flex-shrink-0",children:i+1}),s.jsx("span",{className:"text-gray-900",children:n})]},i))})]}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(zr,{className:"w-5 h-5 text-orange-600"}),s.jsx("h3",{className:"text-gray-900",children:"Aree di Focus"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.focusAreas.map((n,i)=>s.jsx(Je,{variant:"outline",className:"border-orange-300 text-orange-700 bg-orange-50",children:n},i))})]}),s.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(c$,{className:"w-5 h-5 text-yellow-600"}),s.jsx("h3",{className:"text-gray-900",children:"Consigli per il Successo"})]}),s.jsx("div",{className:"space-y-2",children:t.tips.map((n,i)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 flex-shrink-0 mt-1",children:""}),s.jsx("p",{className:"text-gray-700",children:n})]},i))})]}),s.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},children:s.jsxs(xe,{onClick:r,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white h-14 text-lg",children:["Inizia il Tuo Percorso",s.jsx(Ui,{className:"w-5 h-5 ml-2"})]})})]})})})}function vhe(){return s.jsxs("div",{className:"flex items-start gap-2 mb-4",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex-shrink-0 flex items-center justify-center",children:s.jsx(fi,{className:"w-4 h-4 text-white"})}),s.jsx("div",{className:"bg-gray-100 rounded-2xl rounded-tl-sm px-4 py-3",children:s.jsx("div",{className:"flex gap-1.5",children:[0,1,2].map(t=>s.jsx(W.div,{className:"w-2 h-2 bg-gray-400 rounded-full",animate:{y:[0,-6,0],opacity:[.4,1,.4]},transition:{duration:.8,repeat:1/0,delay:t*.15,ease:"easeInOut"}},t))})})]})}const yhe="/mascot-excited.png",xhe="/mascot-normal.png",bhe=xhe,whe="/mascot-disappointed.png",jhe=yhe;function $z({lessonContext:t,isVisible:e=!0,onVisibilityChange:r}){const[n,i]=P.useState(!1),[a,o]=P.useState([]),[c,d]=P.useState(""),[f,p]=P.useState(!1),[h,g]=P.useState(!1),[y,b]=P.useState(()=>{const q=localStorage.getItem("mascot-position");return q?JSON.parse(q):{x:0,y:0}}),w=P.useRef(null),x=P.useRef(null),S=OW(),k=Q$(),_=Z$(),{progress:C}=Ka(),N=C?.streak||0,{emotion:A,message:E,setActivity:O}=X$(),[R,H]=P.useState(()=>localStorage.getItem("mascotSoundEnabled")!=="false"),B=q=>{R&&q()};P.useEffect(()=>{localStorage.setItem("mascot-position",JSON.stringify(y))},[y]),P.useEffect(()=>{const q=localStorage.getItem("btc-wheel-chat-history");if(q)try{const X=JSON.parse(q);o(X.map(se=>({...se,timestamp:new Date(se.timestamp)})))}catch(X){console.error("Error loading chat history:",X)}},[]),P.useEffect(()=>{a.length>0&&localStorage.setItem("btc-wheel-chat-history",JSON.stringify(a))},[a]),P.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[a]),P.useEffect(()=>{f?O("ai_thinking"):c.length>0?O("ai_listening"):a.length>0&&a[a.length-1]?.role==="assistant"&&O("ai_responding",3e3)},[f,c.length,a.length,O]);const D=()=>{switch(A){case"disappointed":case"encouraging":return whe;case"excited":case"celebrating":return jhe;case"normal":case"teaching":case"thinking":case"sleeping":default:return bhe}},$=()=>{n?(i(!1),O("idle"),B(()=>_.click()),k.light(),r&&r(!1)):(i(!0),B(()=>{_.click(),_.tipShow()}),k.medium(),a.length===0&&O("excited",2e3))},V=()=>{i(!1),O("idle"),B(()=>_.click()),k.light()},J=async()=>{if(!c.trim()||f)return;const q={id:Date.now().toString(),role:"user",content:c.trim(),timestamp:new Date};o(X=>[...X,q]),d(""),p(!0),O("ai_thinking"),B(()=>_.click()),k.light();try{const{projectId:X,publicAnonKey:se}=await $a(async()=>{const{projectId:fe,publicAnonKey:_e}=await Promise.resolve().then(()=>Da);return{projectId:fe,publicAnonKey:_e}},void 0),pe=`https://${X}.supabase.co/functions/v1/make-server-7c0f82ca/chat-tutor`,re=a.slice(-4).map(fe=>({role:fe.role,content:fe.content})),he={userLevel:C.level,userXP:C.xp,completedLessons:C.completedLessons.length,totalLessons:15,currentStreak:N,badges:C.badges,lessonContext:t,conversationHistory:re},le=await fetch(pe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({message:q.content,context:he})});if(!le.ok)throw new Error(`HTTP ${le.status}`);const ie=await le.json();if(ie.response){const fe={id:(Date.now()+1).toString(),role:"assistant",content:ie.response,timestamp:new Date};o(_e=>[..._e,fe]),O("ai_responding",3e3),B(()=>_.excited()),k.success(),(ie.response.includes("Bravo")||ie.response.includes("Ottimo"))&&O("celebrating",1500)}}catch(X){console.error("AI Chat error:",X);const se={id:(Date.now()+1).toString(),role:"assistant",content:"Mi dispiace, ho avuto un problema tecnico. Riprova tra poco! ",timestamp:new Date};o(pe=>[...pe,se]),O("disappointed",3e3),de.error("Errore di connessione AI"),B(()=>_.disappointed()),k.error()}finally{p(!1)}},K=()=>{o([]),localStorage.removeItem("btc-wheel-chat-history"),de.success("Chat cancellata"),B(()=>_.tipDismiss()),k.light(),O("idle")},U=q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),J())},M=["Come funziona la Wheel Strategy?","Cosa sono le opzioni cash-secured put?","Quando dovrei vendere covered call?"],Q=()=>{switch(A){case"thinking":return"animate-pulse";case"celebrating":case"excited":return"animate-bounce";default:return"mascot-idle"}},L=(()=>{switch(A){case"excited":case"celebrating":return{gradient:"from-yellow-500/20 to-green-500/20",border:"border-yellow-500/30",glow:"shadow-yellow-500/20",ring:"bg-yellow-400"};case"disappointed":case"encouraging":return{gradient:"from-orange-500/20 to-red-500/20",border:"border-orange-500/30",glow:"shadow-orange-500/20",ring:"bg-orange-400"};case"thinking":return{gradient:"from-purple-500/20 to-blue-500/20",border:"border-purple-500/30",glow:"shadow-purple-500/20",ring:"bg-purple-400"};default:return{gradient:"from-blue-500/20 to-purple-500/20",border:"border-blue-500/30",glow:"shadow-blue-500/20",ring:"bg-blue-400"}}})();return e?s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
        @keyframes float-idle {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-12px) rotate(2deg); }
        }
        
        .mascot-idle {
          animation: float-idle 3s ease-in-out infinite;
        }
      `}),s.jsx(W.div,{drag:!0,dragControls:S,dragMomentum:!1,dragElastic:.1,onDragEnd:(q,X)=>{b({x:X.offset.x,y:X.offset.y})},style:{x:y.x,y:y.y},className:"fixed bottom-20 md:bottom-8 right-4 md:right-8 z-50 safe-area-bottom",children:s.jsxs("div",{className:"relative",children:[s.jsx(ii,{children:n&&s.jsx(W.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{type:"spring",bounce:.3,duration:.4},className:"absolute bottom-32 md:bottom-40 right-0 w-[calc(100vw-2rem)] md:w-[600px] max-w-2xl",children:s.jsxs(oe,{className:"backdrop-blur-xl bg-white/95 shadow-2xl border-2 border-blue-200/50",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 rounded-t-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative w-12 h-12",children:[s.jsx("img",{src:D(),alt:"Prof Satoshi AI",className:"w-full h-full object-contain"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white",children:"Prof Satoshi AI"}),s.jsx("p",{className:"text-xs text-blue-100",children:"Sempre qui per aiutarti!"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[a.length>0&&s.jsx(xe,{size:"sm",variant:"ghost",onClick:K,className:"text-white hover:bg-white/20",children:s.jsx(wG,{className:"w-4 h-4"})}),s.jsx(xe,{size:"sm",variant:"ghost",onClick:V,className:"text-white hover:bg-white/20",children:s.jsx(Ws,{className:"w-4 h-4"})})]})]})}),s.jsx("div",{className:"h-[400px] md:h-[500px] overflow-y-auto p-4 space-y-4",children:a.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4",children:[s.jsx(W.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx(mt,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-gray-900 mb-2",children:"Ciao!  Sono Prof Satoshi!"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Il tuo AI tutor personale per la Bitcoin Wheel Strategy.",s.jsx("br",{}),"Chiedimi qualsiasi cosa!"]})]}),s.jsxs("div",{className:"w-full space-y-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Prova a chiedermi:"}),M.map((q,X)=>s.jsx("button",{onClick:()=>d(q),className:"w-full text-left p-3 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 rounded-lg text-sm text-gray-700 transition-all border border-blue-200/50 hover:border-blue-300",children:q},X))]})]}):s.jsxs(s.Fragment,{children:[a.map(q=>s.jsx(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${q.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-2xl p-3 ${q.role==="user"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-gray-100 text-gray-900"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:q.content}),s.jsx("p",{className:`text-xs mt-1 ${q.role==="user"?"text-blue-100":"text-gray-500"}`,children:q.timestamp.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]})},q.id)),f&&s.jsx(vhe,{}),s.jsx("div",{ref:w})]})}),s.jsxs("div",{className:"border-t p-4 bg-gray-50/50 rounded-b-lg",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("textarea",{ref:x,value:c,onChange:q=>d(q.target.value),onKeyDown:U,placeholder:"Scrivi la tua domanda...",className:"flex-1 resize-none rounded-lg border border-gray-300 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[44px] max-h-[120px]",rows:1,disabled:f}),s.jsx(xe,{onClick:J,disabled:!c.trim()||f,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 px-4",children:s.jsx(fG,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Premi Invio per inviare, Shift+Invio per andare a capo"})]})]})})}),s.jsxs(W.div,{onClick:$,onHoverStart:()=>g(!0),onHoverEnd:()=>g(!1),whileHover:{scale:1.1},whileTap:{scale:.9},animate:n?{}:{scale:[1,1.03,1],y:[0,-8,0]},transition:{scale:{duration:2.5,repeat:1/0,ease:"easeInOut"},y:{duration:3.5,repeat:1/0,ease:"easeInOut"}},className:"relative cursor-pointer group touch-manipulation w-24 h-24 md:w-32 md:h-32","aria-label":n?"Chiudi e nascondi AI Tutor":"Apri AI Tutor",children:[!n&&s.jsxs(s.Fragment,{children:[s.jsx(W.div,{className:`absolute inset-0 rounded-full ${L.ring} opacity-30`,animate:{scale:[1,1.3,1],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s.jsx(W.div,{className:`absolute inset-0 rounded-full ${L.ring} opacity-20`,animate:{scale:[1,1.5,1],opacity:[.2,0,.2]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:.5}})]}),(h||n)&&s.jsx(W.div,{className:`absolute inset-0 rounded-full bg-gradient-to-br ${L.gradient} blur-xl`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}),s.jsx(ii,{children:h&&!n&&E&&s.jsxs(W.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.9},transition:{type:"spring",bounce:.4,duration:.3},className:"absolute -top-16 left-1/2 transform -translate-x-1/2 px-4 py-2 bg-white rounded-2xl shadow-xl border-2 border-blue-200 whitespace-nowrap z-50",children:[s.jsx("p",{className:"text-sm text-gray-800",children:E}),s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-3 h-3 bg-white border-r-2 border-b-2 border-blue-200"})]})}),s.jsx(W.div,{className:`relative w-full h-full flex items-center justify-center ${Q()}`,children:s.jsx(W.img,{src:D(),alt:"Prof Satoshi AI Mascot",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 15px 30px rgba(0, 0, 0, 0.3))"},initial:{scale:.9,opacity:.7},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20}})},A),A==="thinking"&&s.jsx(s.Fragment,{children:[...Array(3)].map((q,X)=>s.jsx(W.div,{className:"absolute w-3 h-3 bg-purple-400 rounded-full",style:{top:`${30+X*15}%`,left:"20%"},animate:{scale:[0,1,0],opacity:[0,1,0],x:[-10,0],y:[-20,-40]},transition:{duration:1.5,repeat:1/0,delay:X*.3,ease:"easeOut"}},X))}),(A==="excited"||A==="celebrating")&&s.jsx(s.Fragment,{children:[...Array(6)].map((q,X)=>s.jsx(W.div,{className:"absolute w-2 h-2 bg-yellow-400 rounded-full",style:{top:`${20+Math.random()*60}%`,left:`${20+Math.random()*60}%`},animate:{scale:[0,1,0],opacity:[0,1,0],y:[0,-20]},transition:{duration:1.5,repeat:1/0,delay:X*.2,ease:"easeOut"}},X))}),s.jsx(W.div,{className:"absolute top-1 right-1 md:top-2 md:right-2 px-2 py-0.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full text-xs shadow-lg border border-white",animate:{scale:n?1:[1,1.1,1]},transition:{duration:2,repeat:n?0:1/0},children:"AI"})]})]})})]}):s.jsx(W.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"fixed bottom-20 md:bottom-8 right-4 md:right-8 z-50 safe-area-bottom",children:s.jsxs("button",{onClick:()=>{r?.(!0),B(()=>_.appear()),k.light()},className:"relative group","aria-label":"Apri Prof Satoshi",children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-emerald-500 to-orange-500 opacity-75 group-hover:opacity-100 animate-pulse blur-md"}),s.jsxs("div",{className:"relative w-14 h-14 md:w-16 md:h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-full shadow-lg flex items-center justify-center border-2 border-white group-hover:scale-110 transition-transform",children:[s.jsx(mt,{className:"w-7 h-7 md:w-8 md:h-8 text-white"}),s.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center text-white text-xs font-bold border-2 border-white shadow-md",children:"AI"})]})]})})}function $o(){return P.useEffect(()=>{const t=document.querySelector('meta[name="viewport"]');t&&t.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"),[{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"},{name:"apple-mobile-web-app-title",content:"BTC Wheel"},{name:"mobile-web-app-capable",content:"yes"},{name:"theme-color",content:"#3b82f6"}].forEach(o=>{let c=document.querySelector(`meta[name="${o.name}"]`);c||(c=document.createElement("meta"),c.setAttribute("name",o.name),document.head.appendChild(c)),c.setAttribute("content",o.content)}),[{media:"(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/iphone5_splash.png"},{media:"(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/iphone6_splash.png"},{media:"(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)",href:"/splash/iphoneplus_splash.png"},{media:"(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)",href:"/splash/iphonex_splash.png"},{media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/iphonexr_splash.png"},{media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)",href:"/splash/iphonexsmax_splash.png"},{media:"(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/ipad_splash.png"},{media:"(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/ipadpro1_splash.png"},{media:"(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/ipadpro3_splash.png"}].forEach(o=>{let c=document.querySelector(`link[media="${o.media}"]`);c||(c=document.createElement("link"),c.setAttribute("rel","apple-touch-startup-image"),c.setAttribute("media",o.media),document.head.appendChild(c)),c.setAttribute("href",o.href)});const n=document.createElement("link");n.setAttribute("rel","apple-touch-icon"),n.setAttribute("href","/icons/icon-192x192.png"),document.head.appendChild(n),document.body.style.overscrollBehavior="none","vibrate"in navigator&&window.addEventListener("touchstart",()=>{});const i=()=>{console.log("App is online")},a=()=>{console.log("App is offline")};return window.addEventListener("online",i),window.addEventListener("offline",a),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}},[]),null}function She(){return P.useEffect(()=>{let t=0;const e=f=>{if(f.touches.length>1)return;(window.pageYOffset||document.documentElement.scrollTop)===0&&f.touches[0].clientY>t&&f.preventDefault()},r=f=>{t=f.touches[0].clientY},n=f=>{f.touches[0].clientY},i=f=>{"vibrate"in navigator&&f.matches('button, a, [role="button"]')&&navigator.vibrate(10)},a=f=>{f.target instanceof Element&&i(f.target)};document.addEventListener("touchstart",r,{passive:!1}),document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("click",a);const o=()=>{de.success("Sei di nuovo online! ",{description:"I tuoi progressi verranno sincronizzati"})},c=()=>{de.info("Sei offline ",{description:"I progressi verranno salvati localmente"})};window.addEventListener("online",o),window.addEventListener("offline",c);const d=f=>{f.preventDefault()};return document.addEventListener("contextmenu",d),()=>{document.removeEventListener("touchstart",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchmove",e),document.removeEventListener("click",a),window.removeEventListener("online",o),window.removeEventListener("offline",c),document.removeEventListener("contextmenu",d)}},[]),null}function _he(){const[t,e]=P.useState(null),[r,n]=P.useState(!1),[i,a]=P.useState(!1),[o,c]=P.useState(!1);P.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){c(!0);return}const p=/iPad|iPhone|iPod/.test(navigator.userAgent);a(p);const h=y=>{y.preventDefault(),e(y),setTimeout(()=>{n(!0)},1e4)};window.addEventListener("beforeinstallprompt",h);const g=localStorage.getItem("pwa-install-dismissed");if(g){const y=new Date(g);(new Date().getTime()-y.getTime())/(1e3*3600*24)<7&&n(!1)}return()=>window.removeEventListener("beforeinstallprompt",h)},[]);const d=async()=>{if(!t)return;t.prompt();const{outcome:p}=await t.userChoice;p==="accepted"&&(console.log("User accepted the install prompt"),c(!0)),e(null),n(!1)},f=()=>{n(!1),localStorage.setItem("pwa-install-dismissed",new Date().toISOString())};return o||!r?null:s.jsx("div",{className:"fixed bottom-20 md:bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-in slide-in-from-bottom-4",children:s.jsx(oe,{className:"p-4 bg-gradient-to-r from-blue-600 to-orange-500 border-none shadow-2xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(gG,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white mb-1",children:"Installa l'App"}),s.jsx("p",{className:"text-white/90 text-sm mb-3",children:i?"Tocca il pulsante 'Condividi' e seleziona 'Aggiungi a Home' per installare l'app.":"Installa btcwheel sul tuo dispositivo per un'esperienza migliore!"}),!i&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(xe,{onClick:d,size:"sm",className:"bg-white text-blue-600 hover:bg-white/90",children:[s.jsx($j,{className:"w-4 h-4 mr-2"}),"Installa"]}),s.jsx(xe,{onClick:f,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20",children:"Dopo"})]})]}),s.jsx("button",{onClick:f,className:"p-1 hover:bg-white/20 rounded transition-colors",children:s.jsx(Ws,{className:"w-5 h-5 text-white"})})]})})})}function Nhe(){const[t,e]=P.useState(!1),[r,n]=P.useState(null);P.useEffect(()=>{},[]);const i=()=>{r?.waiting&&(r.waiting.postMessage({type:"SKIP_WAITING"}),e(!1),de.success("Aggiornamento in corso...",{description:"L'app verr ricaricata tra poco"}))},a=()=>{e(!1),de.info("Aggiornamento rimandato",{description:"Ricarica la pagina manualmente per aggiornare"})};return t?s.jsx("div",{className:"fixed top-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-in slide-in-from-top-4",children:s.jsx(oe,{className:"p-4 bg-white border-blue-200 shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(wi,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-blue-900 mb-1",children:"Aggiornamento Disponibile"}),s.jsx("p",{className:"text-slate-600 text-sm mb-3",children:" disponibile una nuova versione dell'app con miglioramenti e nuove funzionalit!"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xe,{onClick:i,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Aggiorna Ora"}),s.jsx(xe,{onClick:a,size:"sm",variant:"outline",children:"Dopo"})]})]})]})})}):null}function khe(){const[t,e]=P.useState({component:"pending",backend:"pending",context:"pending"}),[r,n]=P.useState(""),[i,a]=P.useState(!1),o=async()=>{a(!0);try{const{projectId:g,publicAnonKey:y}=await $a(async()=>{const{projectId:S,publicAnonKey:k}=await Promise.resolve().then(()=>Da);return{projectId:S,publicAnonKey:k}},void 0),b=`https://${g}.supabase.co/functions/v1/make-server-7c0f82ca/chat-tutor`,w=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({message:"Test: Spiega brevemente cos' la Wheel Strategy",context:{userLevel:1,userXP:0,completedLessons:0,totalLessons:15,currentStreak:0,badges:[],lessonContext:null,conversationHistory:[]}})});if(!w.ok)throw new Error(`HTTP ${w.status}`);const x=await w.json();if(x.response)n(x.response),e(S=>({...S,backend:"success"}));else throw new Error("No response field")}catch(g){console.error("Backend test error:",g),e(y=>({...y,backend:"error"})),n(g instanceof Error?g.message:"Unknown error")}finally{a(!1)}},c=()=>{try{const g=!!$z;e(y=>({...y,component:g?"success":"error"}))}catch{e(y=>({...y,component:"error"}))}},d=()=>{try{const g={lessonId:9,lessonTitle:"Strike Selection e Delta"};e(y=>({...y,context:g.lessonId>0?"success":"error"}))}catch{e(y=>({...y,context:"error"}))}},f=async()=>{c(),d(),await o()},p=({status:g})=>g==="success"?s.jsx(Rt,{className:"w-5 h-5 text-green-600"}):g==="error"?s.jsx(Rr,{className:"w-5 h-5 text-red-600"}):s.jsx(mr,{className:"w-5 h-5 text-gray-400 animate-spin"}),h=({status:g})=>g==="success"?s.jsx(Je,{className:"bg-green-600",children:"OK"}):g==="error"?s.jsx(Je,{variant:"destructive",children:"ERROR"}):s.jsx(Je,{variant:"outline",children:"PENDING"});return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-orange-50 p-4 md:p-8",children:[s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center",children:s.jsx(tH,{className:"w-8 h-8 text-white"})})}),s.jsx("h1",{className:"text-gray-900 mb-2",children:"AI Chat Tutor Test Suite"}),s.jsx("p",{className:"text-gray-600",children:"Verifica funzionamento completo del Chat Tutor con GPT-4o-mini"})]}),s.jsxs(oe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-gray-900 mb-1",children:"Test Automatici"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Verifica componente, context e backend API"})]}),s.jsx(xe,{onClick:f,disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:i?s.jsxs(s.Fragment,{children:[s.jsx(mr,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Run All Tests"]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(p,{status:t.component}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:"Component Loaded"}),s.jsx("p",{className:"text-xs text-gray-500",children:"MascotAI component available"})]})]}),s.jsx(h,{status:t.component})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(p,{status:t.context}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:"Context Integration"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Lesson context passing works"})]})]}),s.jsx(h,{status:t.context})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(p,{status:t.backend}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:"Backend API"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Supabase Edge Function + OpenAI"})]})]}),s.jsx(h,{status:t.backend})]})]}),r&&s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(fi,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-900 mb-1",children:"AI Response:"}),s.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap",children:r})]})]})})]}),s.jsxs(oe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx(QH,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-900 mb-1",children:"Test Manuale"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Usa il floating button in basso a destra per testare l'AI chat:"})]})]}),s.jsxs("div",{className:"space-y-3 ml-8",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs flex-shrink-0",children:"1"}),s.jsx("p",{className:"text-sm text-gray-700",children:'Click sulla mascotte Prof Satoshi (bottom-right con badge "AI")'})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs flex-shrink-0",children:"2"}),s.jsx("p",{className:"text-sm text-gray-700",children:"Prova una delle domande suggerite o scrivi la tua"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs flex-shrink-0",children:"3"}),s.jsx("p",{className:"text-sm text-gray-700",children:"Verifica che l'AI risponda in italiano e in modo pertinente"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs flex-shrink-0",children:"4"}),s.jsx("p",{className:"text-sm text-gray-700",children:"Testa conversazioni multi-turn (AI deve ricordare context)"})]})]})]}),s.jsxs(oe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx(Vt,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-900 mb-1",children:"Features da Verificare"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Checklist funzionalit AI Chat Tutor:"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-3 ml-8",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Floating button appare"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Chat window si apre smooth"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Welcome message mostra"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Suggested questions clickable"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"AI risponde in italiano"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Loading animation funziona"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Messages salvate localStorage"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Clear chat funziona"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Enter key invia messaggio"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Auto-scroll a nuovi messaggi"]})]})]}),s.jsxs(oe,{className:"p-6 bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:[s.jsx("h3",{className:"text-gray-900 mb-3",children:" Domande di Test Suggerite"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"p-3 bg-white rounded-lg text-sm text-gray-700",children:'"Come funziona la Wheel Strategy?"'}),s.jsx("div",{className:"p-3 bg-white rounded-lg text-sm text-gray-700",children:'"Cosa sono le cash-secured put?"'}),s.jsx("div",{className:"p-3 bg-white rounded-lg text-sm text-gray-700",children:'"Spiega il delta delle opzioni"'}),s.jsx("div",{className:"p-3 bg-white rounded-lg text-sm text-gray-700",children:'"Quali sono i rischi principali?"  poi  "Come li posso mitigare?"'})]})]})]}),s.jsx(ChatTutor,{})]})}function Ahe(){const{user:t,signInWithEmail:e,signUpWithEmail:r,signOut:n}=yn(),[i,a]=P.useState(!0),[o,c]=P.useState(!1),[d,f]=P.useState([]),[p,h]=P.useState("unconfigured"),[g,y]=P.useState("test@btcwheel.com"),[b,w]=P.useState("testpassword123");P.useEffect(()=>{x()},[]);const x=async()=>{if(a(!0),!bt){h("unconfigured"),a(!1);return}try{const{data:C,error:N}=await We.from("kv_store_7c0f82ca").select("count",{count:"exact",head:!0});N?(console.error("Connection error:",N),h("error")):(h("connected"),await S())}catch(C){console.error("Unexpected error:",C),h("error")}a(!1)},S=async()=>{if(!We)return;const C=["kv_store_7c0f82ca","user_progress","user_activities","leaderboard_entries","trading_simulations"],N=[];for(const A of C)try{const{count:E,error:O}=await We.from(A).select("*",{count:"exact",head:!0});O?N.push({name:A,exists:!1,error:O.message}):N.push({name:A,exists:!0,rowCount:E||0})}catch(E){N.push({name:A,exists:!1,error:E.message})}f(N)},k=async C=>{c(!0);try{C==="signup"?(await r(g,b,"Test User")).user&&de.success(" Signup funzionante!"):(await e(g,b)).user&&de.success(" Login funzionante!")}catch(N){de.error("Test fallito: "+N.message)}c(!1)},_=async()=>{await n(),de.success("Logout effettuato")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 p-4 md:p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Yi,{className:"w-8 h-8 text-emerald-600"}),s.jsx("h1",{className:"text-emerald-900",children:"Supabase Status Dashboard"})]}),s.jsx("p",{className:"text-emerald-700",children:"Verifica connessione database, tabelle e autenticazione"})]}),s.jsxs(oe,{className:"mb-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ji,{className:"w-6 h-6 text-emerald-600"}),s.jsx("h2",{className:"text-emerald-900",children:"Stato Connessione"})]}),s.jsx(xe,{onClick:x,disabled:i,variant:"outline",size:"sm",children:i?s.jsx(mr,{className:"w-4 h-4 animate-spin"}):s.jsx(wi,{className:"w-4 h-4"})})]}),i?s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(mr,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Controllo connessione..."})]}):s.jsxs("div",{className:"space-y-4",children:[p==="unconfigured"&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx(Rr,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-900 mb-1",children:"Supabase non configurato"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Le credenziali non sono disponibili. L'app funziona in modalit locale."})]})]}),p==="error"&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(Rr,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-900 mb-1",children:"Errore di connessione"}),s.jsx("p",{className:"text-sm text-red-700",children:"Impossibile connettersi al database. Verifica le credenziali."})]})]}),p==="connected"&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-emerald-50 border border-emerald-200 rounded-lg",children:[s.jsx(Rt,{className:"w-5 h-5 text-emerald-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-emerald-900 mb-1",children:" Connesso a Supabase"}),s.jsxs("p",{className:"text-sm text-emerald-700",children:["Project ID: ",s.jsx("code",{className:"bg-emerald-100 px-2 py-0.5 rounded",children:"rsmvjsokqolxgczclqjv"})]}),s.jsxs("a",{href:"https://supabase.com/dashboard/project/rsmvjsokqolxgczclqjv",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-emerald-600 hover:text-emerald-700 mt-2",children:["Apri Dashboard Supabase",s.jsx(AH,{className:"w-3 h-3"})]})]})]})]})]}),p==="connected"&&s.jsxs(oe,{className:"mb-6 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(il,{className:"w-6 h-6 text-emerald-600"}),s.jsx("h2",{className:"text-emerald-900",children:"Stato Tabelle Database"})]}),s.jsx("div",{className:"space-y-3",children:d.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[C.exists?s.jsx(Rt,{className:"w-5 h-5 text-emerald-600"}):s.jsx(Rr,{className:"w-5 h-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:s.jsx("code",{className:"text-sm bg-gray-100 px-2 py-0.5 rounded",children:C.name})}),C.error&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:C.error})]})]}),C.exists&&s.jsxs(Je,{variant:"secondary",children:[C.rowCount," ",C.rowCount===1?"riga":"righe"]})]},C.name))}),d.some(C=>!C.exists)&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-900 mb-2",children:" Alcune tabelle non esistono ancora"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Questo  normale se  la prima volta che usi l'app. Le tabelle verranno create automaticamente quando necessario, oppure puoi crearle manualmente dalla dashboard Supabase."})]})]}),s.jsxs(oe,{className:"mb-6 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(vi,{className:"w-6 h-6 text-emerald-600"}),s.jsx("h2",{className:"text-emerald-900",children:"Autenticazione"})]}),t?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-emerald-50 border border-emerald-200 rounded-lg",children:[s.jsx(Rt,{className:"w-5 h-5 text-emerald-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-emerald-900 mb-1",children:" Utente autenticato"}),s.jsxs("p",{className:"text-sm text-emerald-700",children:["Email: ",s.jsx("code",{className:"bg-emerald-100 px-2 py-0.5 rounded",children:t.email})]}),s.jsxs("p",{className:"text-sm text-emerald-700 mt-1",children:["ID: ",s.jsx("code",{className:"bg-emerald-100 px-2 py-0.5 rounded text-xs",children:t.id})]})]})]}),s.jsx(xe,{onClick:_,variant:"outline",className:"w-full",children:"Logout"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsx(Rr,{className:"w-5 h-5 text-gray-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900 mb-1",children:"Nessun utente autenticato"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Testa login/signup per verificare che l'autenticazione funzioni"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Email Test"}),s.jsx("input",{type:"email",value:g,onChange:C=>y(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"test@btcwheel.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Password Test"}),s.jsx("input",{type:"password",value:b,onChange:C=>w(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"********"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(xe,{onClick:()=>k("signup"),disabled:o||!bt,variant:"outline",children:[o?s.jsx(mr,{className:"w-4 h-4 animate-spin mr-2"}):null,"Test Signup"]}),s.jsxs(xe,{onClick:()=>k("signin"),disabled:o||!bt,children:[o?s.jsx(mr,{className:"w-4 h-4 animate-spin mr-2"}):null,"Test Accesso"]})]})]})]})]}),s.jsxs(oe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ht,{className:"w-6 h-6 text-emerald-600"}),s.jsx("h2",{className:"text-emerald-900",children:"Quick Actions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs(xe,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://supabase.com/dashboard/project/rsmvjsokqolxgczclqjv/editor","_blank"),children:[s.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Apri Table Editor"]}),s.jsxs(xe,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://supabase.com/dashboard/project/rsmvjsokqolxgczclqjv/auth/users","_blank"),children:[s.jsx(vi,{className:"w-4 h-4 mr-2"}),"Gestisci Utenti"]}),s.jsxs(xe,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://supabase.com/dashboard/project/rsmvjsokqolxgczclqjv/logs/postgres-logs","_blank"),children:[s.jsx(il,{className:"w-4 h-4 mr-2"}),"Vedi Logs"]}),s.jsxs(xe,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://supabase.com/dashboard/project/rsmvjsokqolxgczclqjv/settings/api","_blank"),children:[s.jsx(Ji,{className:"w-4 h-4 mr-2"}),"API Settings"]})]})]})]})})}function The(){const[t,e]=P.useState(!1),[r,n]=P.useState(null),i=async()=>{e(!0);const o={configCheck:!1,projectId:null,hasAnonKey:!1,supabaseUrl:null,clientCreated:!1,pingSuccess:!1,error:null};try{if(o.configCheck=bt,o.projectId=st,o.hasAnonKey=!!(Fr&&Fr.length>0),o.supabaseUrl=`https://${st}.supabase.co`,o.clientCreated=!!We,We&&bt)try{const{data:c,error:d}=await We.auth.getSession();d?o.error=d.message:o.pingSuccess=!0}catch(c){o.error=c.message}}catch(c){o.error=c.message}n(o),e(!1)};if(P.useEffect(()=>{i()},[]),!r)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-orange-500 flex items-center justify-center p-4",children:s.jsx(oe,{className:"p-8 max-w-2xl w-full",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(mr,{className:"w-6 h-6 animate-spin text-blue-600"}),s.jsx("p",{children:"Testing Supabase connection..."})]})})});const a=r.configCheck&&r.clientCreated&&r.pingSuccess;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-orange-500 flex items-center justify-center p-4",children:s.jsxs(oe,{className:"p-8 max-w-2xl w-full",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Yi,{className:"w-8 h-8 text-blue-600"}),s.jsx("h1",{className:"text-gray-900",children:"Supabase Connection Test"})]}),s.jsx(Xo,{className:`mb-6 ${a?"border-green-500 bg-green-50":"border-orange-500 bg-orange-50"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[a?s.jsx(Rt,{className:"w-5 h-5 text-green-600"}):s.jsx(Rr,{className:"w-5 h-5 text-orange-600"}),s.jsx(Yo,{className:a?"text-green-900":"text-orange-900",children:a?" Supabase is configured correctly!":" Some tests failed. See details below."})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.configCheck?s.jsx(Rt,{className:"w-5 h-5 text-green-600 mt-0.5"}):s.jsx(Rr,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Configuration Check"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.configCheck?"Credentials loaded successfully":"Missing credentials in info.tsx"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.projectId?s.jsx(Rt,{className:"w-5 h-5 text-green-600 mt-0.5"}):s.jsx(Rr,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Project ID"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.projectId?s.jsx("code",{className:"bg-white px-2 py-1 rounded",children:r.projectId}):"Not found"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.hasAnonKey?s.jsx(Rt,{className:"w-5 h-5 text-green-600 mt-0.5"}):s.jsx(Rr,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Anon Key"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.hasAnonKey?s.jsx(s.Fragment,{children:s.jsxs("code",{className:"bg-white px-2 py-1 rounded",children:[Fr.substring(0,20),"...",Fr.slice(-10)]})}):"Not found"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.supabaseUrl?s.jsx(Rt,{className:"w-5 h-5 text-green-600 mt-0.5"}):s.jsx(Rr,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Supabase URL"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.supabaseUrl?s.jsx("code",{className:"bg-white px-2 py-1 rounded",children:r.supabaseUrl}):"Could not construct URL"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.clientCreated?s.jsx(Rt,{className:"w-5 h-5 text-green-600 mt-0.5"}):s.jsx(Rr,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Supabase Client"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.clientCreated?"Client created successfully":"Failed to create client"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.pingSuccess?s.jsx(Rt,{className:"w-5 h-5 text-green-600 mt-0.5"}):s.jsx(Rr,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Server Connection"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.pingSuccess?"Successfully connected to Supabase server":r.error||"Could not reach server"})]})]})]}),r.error&&s.jsxs(Xo,{variant:"destructive",className:"mt-6",children:[s.jsx(Rr,{className:"h-4 w-4"}),s.jsxs(Yo,{children:[s.jsx("strong",{children:"Error Details:"}),s.jsx("pre",{className:"mt-2 text-xs overflow-auto",children:r.error})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(xe,{onClick:i,disabled:t,className:"flex-1",children:t?s.jsxs(s.Fragment,{children:[s.jsx(mr,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(d$,{className:"w-4 h-4 mr-2"}),"Re-run Tests"]})}),s.jsx(xe,{onClick:()=>window.location.href="/",variant:"outline",children:"Back to App"})]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-900",children:s.jsx("strong",{children:" Next Steps:"})}),s.jsx("ul",{className:"text-sm text-blue-800 mt-2 space-y-1 ml-4 list-disc",children:a?s.jsxs(s.Fragment,{children:[s.jsx("li",{children:" Authentication is ready!"}),s.jsx("li",{children:" Try creating an account with email/password"}),s.jsx("li",{children:" Google OAuth requires additional setup (see GOOGLE_OAUTH_SETUP.md)"})]}):s.jsxs(s.Fragment,{children:[s.jsx("li",{children:" Check if /utils/supabase/info.tsx exists"}),s.jsx("li",{children:" Verify credentials in info.tsx"}),s.jsx("li",{children:" Contact support if problem persists"})]})})]})]})})}function Phe(){const[t,e]=P.useState("landing"),[r,n]=P.useState(9),[i,a]=P.useState(!1),[o,c]=P.useState(!0),[d,f]=P.useState(!1),[p,h]=P.useState(!1),g=yn(),{user:y,loading:b}=g||{user:null,loading:!0},{onboarding:w,shouldShowOnboarding:x,loading:S}=a4(),k=P.useCallback(()=>{c(!0)},[]);P.useEffect(()=>{h(!1)},[]),P.useEffect(()=>{if(!b){if(y)console.log(" [App] User detected:",y.email),(window.location.hash.includes("access_token")||window.location.search.includes("code=")||document.referrer.includes("google.com")||document.referrer.includes("supabase")||t==="landing")&&(console.log(" [App] Authenticated user on landing/OAuth - redirecting..."),window.location.hash.includes("access_token")&&window.history.replaceState(null,"",window.location.pathname),e(x?"onboarding":"home"));else if(!b){const C=window.location.hash,N=window.location.search;(C.includes("access_token")||N.includes("code="))&&console.warn(" [App] OAuth params present but no user session found yet.")}}},[y,b,x,t]),P.useEffect(()=>{w.completed&&w.recommendations&&y?localStorage.getItem("btcwheel_onboarding_results_shown")?(h(!1),a(!0)):(h(!0),a(!0)):h(!1)},[w.completed,w.recommendations,y]);const _=(C,N)=>{t==="landing"&&C!=="landing"&&a(!0),e(C),N!==void 0&&n(N)};if(typeof window<"u"){const C=new URLSearchParams(window.location.search);if(C.get("test")==="chat")return s.jsx(khe,{});if(C.get("status")==="supabase")return s.jsx(Ahe,{});if(C.get("test")==="supabase")return s.jsx(The,{})}return t==="landing"?s.jsxs(s.Fragment,{children:[s.jsx($o,{}),s.jsx(To,{}),s.jsx(UG,{onNavigate:_})]}):b||S?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center",children:s.jsxs("div",{className:"text-white text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-lg",children:"Caricamento..."})]})}):t==="auth"?s.jsxs(s.Fragment,{children:[s.jsx($o,{}),s.jsx(To,{}),s.jsx(LI,{onAuthSuccess:()=>{f(!0),e(x?"onboarding":"home")}})]}):!y&&i?(console.log("[App] No user found, showing auth"),s.jsxs(s.Fragment,{children:[s.jsx($o,{}),s.jsx(To,{}),s.jsx(LI,{onAuthSuccess:()=>{f(!0),e(x?"onboarding":"home")}})]})):p&&w.recommendations&&i?(console.log("[App] Rendering onboarding results"),s.jsxs(s.Fragment,{children:[s.jsx($o,{}),s.jsx(To,{}),s.jsx(ghe,{recommendations:w.recommendations,onStart:()=>{console.log("[App] Starting course from onboarding results"),localStorage.setItem("btcwheel_onboarding_results_shown","true"),h(!1),e("dashboard")}})]})):t==="onboarding"?(console.log("[App] Rendering onboarding view"),s.jsxs(s.Fragment,{children:[s.jsx($o,{}),s.jsx(To,{}),s.jsx(mhe,{onComplete:()=>{console.log("[App]  Onboarding completed! Navigating to dashboard..."),a(!0),e("dashboard")}})]})):(console.log("[App] Rendering normal app flow, currentView:",t),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($o,{}),s.jsx(She,{}),s.jsx(To,{}),s.jsx(_he,{}),s.jsx(Nhe,{}),t==="home"&&s.jsx(aK,{onNavigate:_,mascotVisible:o,onMascotToggle:k}),t==="dashboard"&&s.jsx(yK,{onNavigate:_,mascotVisible:o,onMascotToggle:k}),t==="lessons"&&s.jsx(SX,{onNavigate:_}),t==="lesson"&&s.jsx(bX,{onNavigate:C=>_(C),lessonId:r}),t==="badges"&&s.jsx(CX,{onNavigate:_}),t==="simulation"&&s.jsx(zfe,{onNavigate:_}),t==="longterm"&&s.jsx(Lfe,{onNavigate:_}),t==="wheel-strategy"&&s.jsx(Ffe,{onNavigate:_}),t==="leaderboard"&&s.jsx(Vfe,{onNavigate:_}),t==="settings"&&s.jsx(Qfe,{onNavigate:_}),t==="exchange"&&s.jsx(rhe,{onNavigate:_,mascotVisible:o,onMascotToggle:k}),s.jsx($z,{lessonContext:t==="lesson"?{lessonId:r,lessonTitle:`Lezione ${r}`}:void 0,isVisible:o,onVisibilityChange:c})]}))}function Che(){return s.jsx(Phe,{})}D6.createRoot(document.getElementById("root")).render(s.jsx(Che,{}));
