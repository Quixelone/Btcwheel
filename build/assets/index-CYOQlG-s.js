function C6(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n0={exports:{}},Ec={},i0={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ck;function E6(){if(Ck)return tt;Ck=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function g(B){return B===null||typeof B!="object"?null:(B=h&&B[h]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function x(B,q,Y){this.props=B,this.context=q,this.refs=w,this.updater=Y||v}x.prototype.isReactComponent={},x.prototype.setState=function(B,q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,q,"setState")},x.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function S(){}S.prototype=x.prototype;function k(B,q,Y){this.props=B,this.context=q,this.refs=w,this.updater=Y||v}var _=k.prototype=new S;_.constructor=k,b(_,x.prototype),_.isPureReactComponent=!0;var C=Array.isArray,N=Object.prototype.hasOwnProperty,T={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function O(B,q,Y){var se,fe={},te=null,he=null;if(q!=null)for(se in q.ref!==void 0&&(he=q.ref),q.key!==void 0&&(te=""+q.key),q)N.call(q,se)&&!E.hasOwnProperty(se)&&(fe[se]=q[se]);var le=arguments.length-2;if(le===1)fe.children=Y;else if(1<le){for(var ie=Array(le),pe=0;pe<le;pe++)ie[pe]=arguments[pe+2];fe.children=ie}if(B&&B.defaultProps)for(se in le=B.defaultProps,le)fe[se]===void 0&&(fe[se]=le[se]);return{$$typeof:t,type:B,key:te,ref:he,props:fe,_owner:T.current}}function R(B,q){return{$$typeof:t,type:B.type,key:q,ref:B.ref,props:B.props,_owner:B._owner}}function H(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function L(B){var q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Y){return q[Y]})}var M=/\/+/g;function $(B,q){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):q.toString(36)}function V(B,q,Y,se,fe){var te=typeof B;(te==="undefined"||te==="boolean")&&(B=null);var he=!1;if(B===null)he=!0;else switch(te){case"string":case"number":he=!0;break;case"object":switch(B.$$typeof){case t:case e:he=!0}}if(he)return he=B,fe=fe(he),B=se===""?"."+$(he,0):se,C(fe)?(Y="",B!=null&&(Y=B.replace(M,"$&/")+"/"),V(fe,q,Y,"",function(pe){return pe})):fe!=null&&(H(fe)&&(fe=R(fe,Y+(!fe.key||he&&he.key===fe.key?"":(""+fe.key).replace(M,"$&/")+"/")+B)),q.push(fe)),1;if(he=0,se=se===""?".":se+":",C(B))for(var le=0;le<B.length;le++){te=B[le];var ie=se+$(te,le);he+=V(te,q,Y,ie,fe)}else if(ie=g(B),typeof ie=="function")for(B=ie.call(B),le=0;!(te=B.next()).done;)te=te.value,ie=se+$(te,le++),he+=V(te,q,Y,ie,fe);else if(te==="object")throw q=String(B),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return he}function Q(B,q,Y){if(B==null)return B;var se=[],fe=0;return V(B,se,"","",function(te){return q.call(Y,te,fe++)}),se}function K(B){if(B._status===-1){var q=B._result;q=q(),q.then(function(Y){(B._status===0||B._status===-1)&&(B._status=1,B._result=Y)},function(Y){(B._status===0||B._status===-1)&&(B._status=2,B._result=Y)}),B._status===-1&&(B._status=0,B._result=q)}if(B._status===1)return B._result.default;throw B._result}var Z={current:null},D={transition:null},U={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:D,ReactCurrentOwner:T};function ee(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:Q,forEach:function(B,q,Y){Q(B,function(){q.apply(this,arguments)},Y)},count:function(B){var q=0;return Q(B,function(){q++}),q},toArray:function(B){return Q(B,function(q){return q})||[]},only:function(B){if(!H(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},tt.Component=x,tt.Fragment=r,tt.Profiler=i,tt.PureComponent=k,tt.StrictMode=n,tt.Suspense=d,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,tt.act=ee,tt.cloneElement=function(B,q,Y){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var se=b({},B.props),fe=B.key,te=B.ref,he=B._owner;if(q!=null){if(q.ref!==void 0&&(te=q.ref,he=T.current),q.key!==void 0&&(fe=""+q.key),B.type&&B.type.defaultProps)var le=B.type.defaultProps;for(ie in q)N.call(q,ie)&&!E.hasOwnProperty(ie)&&(se[ie]=q[ie]===void 0&&le!==void 0?le[ie]:q[ie])}var ie=arguments.length-2;if(ie===1)se.children=Y;else if(1<ie){le=Array(ie);for(var pe=0;pe<ie;pe++)le[pe]=arguments[pe+2];se.children=le}return{$$typeof:t,type:B.type,key:fe,ref:te,props:se,_owner:he}},tt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},tt.createElement=O,tt.createFactory=function(B){var q=O.bind(null,B);return q.type=B,q},tt.createRef=function(){return{current:null}},tt.forwardRef=function(B){return{$$typeof:c,render:B}},tt.isValidElement=H,tt.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:K}},tt.memo=function(B,q){return{$$typeof:f,type:B,compare:q===void 0?null:q}},tt.startTransition=function(B){var q=D.transition;D.transition={};try{B()}finally{D.transition=q}},tt.unstable_act=ee,tt.useCallback=function(B,q){return Z.current.useCallback(B,q)},tt.useContext=function(B){return Z.current.useContext(B)},tt.useDebugValue=function(){},tt.useDeferredValue=function(B){return Z.current.useDeferredValue(B)},tt.useEffect=function(B,q){return Z.current.useEffect(B,q)},tt.useId=function(){return Z.current.useId()},tt.useImperativeHandle=function(B,q,Y){return Z.current.useImperativeHandle(B,q,Y)},tt.useInsertionEffect=function(B,q){return Z.current.useInsertionEffect(B,q)},tt.useLayoutEffect=function(B,q){return Z.current.useLayoutEffect(B,q)},tt.useMemo=function(B,q){return Z.current.useMemo(B,q)},tt.useReducer=function(B,q,Y){return Z.current.useReducer(B,q,Y)},tt.useRef=function(B){return Z.current.useRef(B)},tt.useState=function(B){return Z.current.useState(B)},tt.useSyncExternalStore=function(B,q,Y){return Z.current.useSyncExternalStore(B,q,Y)},tt.useTransition=function(){return Z.current.useTransition()},tt.version="18.3.1",tt}var Ek;function Np(){return Ek||(Ek=1,i0.exports=E6()),i0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ok;function O6(){if(Ok)return Ec;Ok=1;var t=Np(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(c,d,f){var p,h={},g=null,v=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!s.hasOwnProperty(p)&&(h[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)h[p]===void 0&&(h[p]=d[p]);return{$$typeof:e,type:c,key:g,ref:v,props:h,_owner:i.current}}return Ec.Fragment=r,Ec.jsx=o,Ec.jsxs=o,Ec}var Ik;function I6(){return Ik||(Ik=1,n0.exports=O6()),n0.exports}var a=I6(),Cf={},a0={exports:{}},Zr={},s0={exports:{}},o0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk;function R6(){return Rk||(Rk=1,(function(t){function e(D,U){var ee=D.length;D.push(U);e:for(;0<ee;){var B=ee-1>>>1,q=D[B];if(0<i(q,U))D[B]=U,D[ee]=q,ee=B;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var U=D[0],ee=D.pop();if(ee!==U){D[0]=ee;e:for(var B=0,q=D.length,Y=q>>>1;B<Y;){var se=2*(B+1)-1,fe=D[se],te=se+1,he=D[te];if(0>i(fe,ee))te<q&&0>i(he,fe)?(D[B]=he,D[te]=ee,B=te):(D[B]=fe,D[se]=ee,B=se);else if(te<q&&0>i(he,ee))D[B]=he,D[te]=ee,B=te;else break e}}return U}function i(D,U){var ee=D.sortIndex-U.sortIndex;return ee!==0?ee:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],f=[],p=1,h=null,g=3,v=!1,b=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var U=r(f);U!==null;){if(U.callback===null)n(f);else if(U.startTime<=D)n(f),U.sortIndex=U.expirationTime,e(d,U);else break;U=r(f)}}function C(D){if(w=!1,_(D),!b)if(r(d)!==null)b=!0,K(N);else{var U=r(f);U!==null&&Z(C,U.startTime-D)}}function N(D,U){b=!1,w&&(w=!1,S(O),O=-1),v=!0;var ee=g;try{for(_(U),h=r(d);h!==null&&(!(h.expirationTime>U)||D&&!L());){var B=h.callback;if(typeof B=="function"){h.callback=null,g=h.priorityLevel;var q=B(h.expirationTime<=U);U=t.unstable_now(),typeof q=="function"?h.callback=q:h===r(d)&&n(d),_(U)}else n(d);h=r(d)}if(h!==null)var Y=!0;else{var se=r(f);se!==null&&Z(C,se.startTime-U),Y=!1}return Y}finally{h=null,g=ee,v=!1}}var T=!1,E=null,O=-1,R=5,H=-1;function L(){return!(t.unstable_now()-H<R)}function M(){if(E!==null){var D=t.unstable_now();H=D;var U=!0;try{U=E(!0,D)}finally{U?$():(T=!1,E=null)}}else T=!1}var $;if(typeof k=="function")$=function(){k(M)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=M,$=function(){Q.postMessage(null)}}else $=function(){x(M,0)};function K(D){E=D,T||(T=!0,$())}function Z(D,U){O=x(function(){D(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,K(N))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(D){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var ee=g;g=U;try{return D()}finally{g=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ee=g;g=D;try{return U()}finally{g=ee}},t.unstable_scheduleCallback=function(D,U,ee){var B=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?B+ee:B):ee=B,D){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ee+q,D={id:p++,callback:U,priorityLevel:D,startTime:ee,expirationTime:q,sortIndex:-1},ee>B?(D.sortIndex=ee,e(f,D),r(d)===null&&D===r(f)&&(w?(S(O),O=-1):w=!0,Z(C,ee-B))):(D.sortIndex=q,e(d,D),b||v||(b=!0,K(N))),D},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(D){var U=g;return function(){var ee=g;g=U;try{return D.apply(this,arguments)}finally{g=ee}}}})(o0)),o0}var $k;function $6(){return $k||($k=1,s0.exports=R6()),s0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk;function M6(){if(Mk)return Zr;Mk=1;var t=Np(),e=$6();function r(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)n.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(l){return d.call(h,l)?!0:d.call(p,l)?!1:f.test(l)?h[l]=!0:(p[l]=!0,!1)}function v(l,u,m,y){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,u,m,y){if(u===null||typeof u>"u"||v(l,u,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(l,u,m,y,j,A,I){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=j,this.mustUseProperty=m,this.propertyName=l,this.type=u,this.sanitizeURL=A,this.removeEmptyString=I}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){x[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];x[u]=new w(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){x[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){x[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){x[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){x[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){x[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){x[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){x[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function k(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(S,k);x[u]=new w(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(S,k);x[u]=new w(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(S,k);x[u]=new w(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){x[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){x[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function _(l,u,m,y){var j=x.hasOwnProperty(u)?x[u]:null;(j!==null?j.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,m,j,y)&&(m=null),y||j===null?g(u)&&(m===null?l.removeAttribute(u):l.setAttribute(u,""+m)):j.mustUseProperty?l[j.propertyName]=m===null?j.type===3?!1:"":m:(u=j.attributeName,y=j.attributeNamespace,m===null?l.removeAttribute(u):(j=j.type,m=j===3||j===4&&m===!0?"":""+m,y?l.setAttributeNS(y,u,m):l.setAttribute(u,m))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),D=Symbol.iterator;function U(l){return l===null||typeof l!="object"?null:(l=D&&l[D]||l["@@iterator"],typeof l=="function"?l:null)}var ee=Object.assign,B;function q(l){if(B===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);B=u&&u[1]||""}return`
`+B+l}var Y=!1;function se(l,u){if(!l||Y)return"";Y=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ae){var y=ae}Reflect.construct(l,[],u)}else{try{u.call()}catch(ae){y=ae}l.call(u.prototype)}else{try{throw Error()}catch(ae){y=ae}l()}}catch(ae){if(ae&&y&&typeof ae.stack=="string"){for(var j=ae.stack.split(`
`),A=y.stack.split(`
`),I=j.length-1,F=A.length-1;1<=I&&0<=F&&j[I]!==A[F];)F--;for(;1<=I&&0<=F;I--,F--)if(j[I]!==A[F]){if(I!==1||F!==1)do if(I--,F--,0>F||j[I]!==A[F]){var G=`
`+j[I].replace(" at new "," at ");return l.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",l.displayName)),G}while(1<=I&&0<=F);break}}}finally{Y=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?q(l):""}function fe(l){switch(l.tag){case 5:return q(l.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return l=se(l.type,!1),l;case 11:return l=se(l.type.render,!1),l;case 1:return l=se(l.type,!0),l;default:return""}}function te(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case E:return"Fragment";case T:return"Portal";case R:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case V:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case L:return(l.displayName||"Context")+".Consumer";case H:return(l._context.displayName||"Context")+".Provider";case M:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Q:return u=l.displayName||null,u!==null?u:te(l.type)||"Memo";case K:u=l._payload,l=l._init;try{return te(l(u))}catch{}}return null}function he(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(u);case 8:return u===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function le(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ie(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function pe(l){var u=ie(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),y=""+l[u];if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var j=m.get,A=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return j.call(this)},set:function(I){y=""+I,A.call(this,I)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(I){y=""+I},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function _e(l){l._valueTracker||(l._valueTracker=pe(l))}function ue(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),y="";return l&&(y=ie(l)?l.checked?"true":"false":l.value),l=y,l!==m?(u.setValue(l),!0):!1}function Ve(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function J(l,u){var m=u.checked;return ee({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function we(l,u){var m=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;m=le(u.value!=null?u.value:m),l._wrapperState={initialChecked:y,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function xe(l,u){u=u.checked,u!=null&&_(l,"checked",u,!1)}function Me(l,u){xe(l,u);var m=le(u.value),y=u.type;if(m!=null)y==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?We(l,u.type,m):u.hasOwnProperty("defaultValue")&&We(l,u.type,le(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function Le(l,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,m||u===l.value||(l.value=u),l.defaultValue=u}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function We(l,u,m){(u!=="number"||Ve(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var rt=Array.isArray;function at(l,u,m,y){if(l=l.options,u){u={};for(var j=0;j<m.length;j++)u["$"+m[j]]=!0;for(m=0;m<l.length;m++)j=u.hasOwnProperty("$"+l[m].value),l[m].selected!==j&&(l[m].selected=j),j&&y&&(l[m].defaultSelected=!0)}else{for(m=""+le(m),u=null,j=0;j<l.length;j++){if(l[j].value===m){l[j].selected=!0,y&&(l[j].defaultSelected=!0);return}u!==null||l[j].disabled||(u=l[j])}u!==null&&(u.selected=!0)}}function Je(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function kt(l,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(r(92));if(rt(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),m=u}l._wrapperState={initialValue:le(m)}}function yr(l,u){var m=le(u.value),y=le(u.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),u.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),y!=null&&(l.defaultValue=""+y)}function Ie(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function wt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function li(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?wt(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Pr,Tt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,y,j){MSApp.execUnsafeLocalFunction(function(){return l(u,m,y,j)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Pr.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Xe(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ht=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(l){ht.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),ft[u]=ft[l]})});function Ai(l,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||ft.hasOwnProperty(l)&&ft[l]?(""+u).trim():u+"px"}function ci(l,u){l=l.style;for(var m in u)if(u.hasOwnProperty(m)){var y=m.indexOf("--")===0,j=Ai(m,u[m],y);m==="float"&&(m="cssFloat"),y?l.setProperty(m,j):l[m]=j}}var jd=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qs(l,u){if(u){if(jd[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Kl(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=null;function wn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Xl=null,da=null,Pi=null;function Yl(l){if(l=gc(l)){if(typeof Xl!="function")throw Error(r(280));var u=l.stateNode;u&&(u=Ud(u),Xl(l.stateNode,l.type,u))}}function He(l){da?Pi?Pi.push(l):Pi=[l]:da=l}function Ut(){if(da){var l=da,u=Pi;if(Pi=da=null,Yl(l),u)for(l=0;l<u.length;l++)Yl(u[l])}}function er(l,u){return l(u)}function Cr(){}var fa=!1;function Gt(l,u,m){if(fa)return l(u,m);fa=!0;try{return er(l,u,m)}finally{fa=!1,(da!==null||Pi!==null)&&(Cr(),Ut())}}function dr(l,u){var m=l.stateNode;if(m===null)return null;var y=Ud(m);if(y===null)return null;m=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,u,typeof m));return m}var ha=!1;if(c)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){ha=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{ha=!1}function sn(l,u,m,y,j,A,I,F,G){var ae=Array.prototype.slice.call(arguments,3);try{u.apply(m,ae)}catch(ge){this.onError(ge)}}var pa=!1,jn=null,Jl=!1,jm=null,Dz={onError:function(l){pa=!0,jn=l}};function zz(l,u,m,y,j,A,I,F,G){pa=!1,jn=null,sn.apply(Dz,arguments)}function Lz(l,u,m,y,j,A,I,F,G){if(zz.apply(this,arguments),pa){if(pa){var ae=jn;pa=!1,jn=null}else throw Error(r(198));Jl||(Jl=!0,jm=ae)}}function is(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function ZS(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function e_(l){if(is(l)!==l)throw Error(r(188))}function Bz(l){var u=l.alternate;if(!u){if(u=is(l),u===null)throw Error(r(188));return u!==l?null:l}for(var m=l,y=u;;){var j=m.return;if(j===null)break;var A=j.alternate;if(A===null){if(y=j.return,y!==null){m=y;continue}break}if(j.child===A.child){for(A=j.child;A;){if(A===m)return e_(j),l;if(A===y)return e_(j),u;A=A.sibling}throw Error(r(188))}if(m.return!==y.return)m=j,y=A;else{for(var I=!1,F=j.child;F;){if(F===m){I=!0,m=j,y=A;break}if(F===y){I=!0,y=j,m=A;break}F=F.sibling}if(!I){for(F=A.child;F;){if(F===m){I=!0,m=A,y=j;break}if(F===y){I=!0,y=A,m=j;break}F=F.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:u}function t_(l){return l=Bz(l),l!==null?r_(l):null}function r_(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=r_(l);if(u!==null)return u;l=l.sibling}return null}var n_=e.unstable_scheduleCallback,i_=e.unstable_cancelCallback,Fz=e.unstable_shouldYield,qz=e.unstable_requestPaint,Vt=e.unstable_now,Uz=e.unstable_getCurrentPriorityLevel,Sm=e.unstable_ImmediatePriority,a_=e.unstable_UserBlockingPriority,Sd=e.unstable_NormalPriority,Vz=e.unstable_LowPriority,s_=e.unstable_IdlePriority,_d=null,ui=null;function Wz(l){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(_d,l,void 0,(l.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:Kz,Hz=Math.log,Gz=Math.LN2;function Kz(l){return l>>>=0,l===0?32:31-(Hz(l)/Gz|0)|0}var Nd=64,kd=4194304;function Ql(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Td(l,u){var m=l.pendingLanes;if(m===0)return 0;var y=0,j=l.suspendedLanes,A=l.pingedLanes,I=m&268435455;if(I!==0){var F=I&~j;F!==0?y=Ql(F):(A&=I,A!==0&&(y=Ql(A)))}else I=m&~j,I!==0?y=Ql(I):A!==0&&(y=Ql(A));if(y===0)return 0;if(u!==0&&u!==y&&(u&j)===0&&(j=y&-y,A=u&-u,j>=A||j===16&&(A&4194240)!==0))return u;if((y&4)!==0&&(y|=m&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=y;0<u;)m=31-Bn(u),j=1<<m,y|=l[m],u&=~j;return y}function Xz(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yz(l,u){for(var m=l.suspendedLanes,y=l.pingedLanes,j=l.expirationTimes,A=l.pendingLanes;0<A;){var I=31-Bn(A),F=1<<I,G=j[I];G===-1?((F&m)===0||(F&y)!==0)&&(j[I]=Xz(F,u)):G<=u&&(l.expiredLanes|=F),A&=~F}}function _m(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function o_(){var l=Nd;return Nd<<=1,(Nd&4194240)===0&&(Nd=64),l}function Nm(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Zl(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Bn(u),l[u]=m}function Jz(l,u){var m=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<m;){var j=31-Bn(m),A=1<<j;u[j]=0,y[j]=-1,l[j]=-1,m&=~A}}function km(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var y=31-Bn(m),j=1<<y;j&u|l[y]&u&&(l[y]|=u),m&=~j}}var dt=0;function l_(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var c_,Tm,u_,d_,f_,Am=!1,Ad=[],ma=null,ga=null,va=null,ec=new Map,tc=new Map,ya=[],Qz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h_(l,u){switch(l){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":ec.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(u.pointerId)}}function rc(l,u,m,y,j,A){return l===null||l.nativeEvent!==A?(l={blockedOn:u,domEventName:m,eventSystemFlags:y,nativeEvent:A,targetContainers:[j]},u!==null&&(u=gc(u),u!==null&&Tm(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,j!==null&&u.indexOf(j)===-1&&u.push(j),l)}function Zz(l,u,m,y,j){switch(u){case"focusin":return ma=rc(ma,l,u,m,y,j),!0;case"dragenter":return ga=rc(ga,l,u,m,y,j),!0;case"mouseover":return va=rc(va,l,u,m,y,j),!0;case"pointerover":var A=j.pointerId;return ec.set(A,rc(ec.get(A)||null,l,u,m,y,j)),!0;case"gotpointercapture":return A=j.pointerId,tc.set(A,rc(tc.get(A)||null,l,u,m,y,j)),!0}return!1}function p_(l){var u=as(l.target);if(u!==null){var m=is(u);if(m!==null){if(u=m.tag,u===13){if(u=ZS(m),u!==null){l.blockedOn=u,f_(l.priority,function(){u_(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Pd(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=Cm(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var y=new m.constructor(m.type,m);ns=y,m.target.dispatchEvent(y),ns=null}else return u=gc(m),u!==null&&Tm(u),l.blockedOn=m,!1;u.shift()}return!0}function m_(l,u,m){Pd(l)&&m.delete(u)}function eL(){Am=!1,ma!==null&&Pd(ma)&&(ma=null),ga!==null&&Pd(ga)&&(ga=null),va!==null&&Pd(va)&&(va=null),ec.forEach(m_),tc.forEach(m_)}function nc(l,u){l.blockedOn===u&&(l.blockedOn=null,Am||(Am=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eL)))}function ic(l){function u(j){return nc(j,l)}if(0<Ad.length){nc(Ad[0],l);for(var m=1;m<Ad.length;m++){var y=Ad[m];y.blockedOn===l&&(y.blockedOn=null)}}for(ma!==null&&nc(ma,l),ga!==null&&nc(ga,l),va!==null&&nc(va,l),ec.forEach(u),tc.forEach(u),m=0;m<ya.length;m++)y=ya[m],y.blockedOn===l&&(y.blockedOn=null);for(;0<ya.length&&(m=ya[0],m.blockedOn===null);)p_(m),m.blockedOn===null&&ya.shift()}var Zs=C.ReactCurrentBatchConfig,Cd=!0;function tL(l,u,m,y){var j=dt,A=Zs.transition;Zs.transition=null;try{dt=1,Pm(l,u,m,y)}finally{dt=j,Zs.transition=A}}function rL(l,u,m,y){var j=dt,A=Zs.transition;Zs.transition=null;try{dt=4,Pm(l,u,m,y)}finally{dt=j,Zs.transition=A}}function Pm(l,u,m,y){if(Cd){var j=Cm(l,u,m,y);if(j===null)Gm(l,u,y,Ed,m),h_(l,y);else if(Zz(j,l,u,m,y))y.stopPropagation();else if(h_(l,y),u&4&&-1<Qz.indexOf(l)){for(;j!==null;){var A=gc(j);if(A!==null&&c_(A),A=Cm(l,u,m,y),A===null&&Gm(l,u,y,Ed,m),A===j)break;j=A}j!==null&&y.stopPropagation()}else Gm(l,u,y,null,m)}}var Ed=null;function Cm(l,u,m,y){if(Ed=null,l=wn(y),l=as(l),l!==null)if(u=is(l),u===null)l=null;else if(m=u.tag,m===13){if(l=ZS(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Ed=l,null}function g_(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uz()){case Sm:return 1;case a_:return 4;case Sd:case Vz:return 16;case s_:return 536870912;default:return 16}default:return 16}}var xa=null,Em=null,Od=null;function v_(){if(Od)return Od;var l,u=Em,m=u.length,y,j="value"in xa?xa.value:xa.textContent,A=j.length;for(l=0;l<m&&u[l]===j[l];l++);var I=m-l;for(y=1;y<=I&&u[m-y]===j[A-y];y++);return Od=j.slice(l,1<y?1-y:void 0)}function Id(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Rd(){return!0}function y_(){return!1}function on(l){function u(m,y,j,A,I){this._reactName=m,this._targetInst=j,this.type=y,this.nativeEvent=A,this.target=I,this.currentTarget=null;for(var F in l)l.hasOwnProperty(F)&&(m=l[F],this[F]=m?m(A):A[F]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Rd:y_,this.isPropagationStopped=y_,this}return ee(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Rd)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Rd)},persist:function(){},isPersistent:Rd}),u}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Om=on(eo),ac=ee({},eo,{view:0,detail:0}),nL=on(ac),Im,Rm,sc,$d=ee({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mm,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==sc&&(sc&&l.type==="mousemove"?(Im=l.screenX-sc.screenX,Rm=l.screenY-sc.screenY):Rm=Im=0,sc=l),Im)},movementY:function(l){return"movementY"in l?l.movementY:Rm}}),x_=on($d),iL=ee({},$d,{dataTransfer:0}),aL=on(iL),sL=ee({},ac,{relatedTarget:0}),$m=on(sL),oL=ee({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),lL=on(oL),cL=ee({},eo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),uL=on(cL),dL=ee({},eo,{data:0}),b_=on(dL),fL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mL(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=pL[l])?!!u[l]:!1}function Mm(){return mL}var gL=ee({},ac,{key:function(l){if(l.key){var u=fL[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Id(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?hL[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mm,charCode:function(l){return l.type==="keypress"?Id(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Id(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),vL=on(gL),yL=ee({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w_=on(yL),xL=ee({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mm}),bL=on(xL),wL=ee({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),jL=on(wL),SL=ee({},$d,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),_L=on(SL),NL=[9,13,27,32],Dm=c&&"CompositionEvent"in window,oc=null;c&&"documentMode"in document&&(oc=document.documentMode);var kL=c&&"TextEvent"in window&&!oc,j_=c&&(!Dm||oc&&8<oc&&11>=oc),S_=" ",__=!1;function N_(l,u){switch(l){case"keyup":return NL.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k_(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var to=!1;function TL(l,u){switch(l){case"compositionend":return k_(u);case"keypress":return u.which!==32?null:(__=!0,S_);case"textInput":return l=u.data,l===S_&&__?null:l;default:return null}}function AL(l,u){if(to)return l==="compositionend"||!Dm&&N_(l,u)?(l=v_(),Od=Em=xa=null,to=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return j_&&u.locale!=="ko"?null:u.data;default:return null}}var PL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T_(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!PL[l.type]:u==="textarea"}function A_(l,u,m,y){He(y),u=Bd(u,"onChange"),0<u.length&&(m=new Om("onChange","change",null,m,y),l.push({event:m,listeners:u}))}var lc=null,cc=null;function CL(l){H_(l,0)}function Md(l){var u=so(l);if(ue(u))return l}function EL(l,u){if(l==="change")return u}var P_=!1;if(c){var zm;if(c){var Lm="oninput"in document;if(!Lm){var C_=document.createElement("div");C_.setAttribute("oninput","return;"),Lm=typeof C_.oninput=="function"}zm=Lm}else zm=!1;P_=zm&&(!document.documentMode||9<document.documentMode)}function E_(){lc&&(lc.detachEvent("onpropertychange",O_),cc=lc=null)}function O_(l){if(l.propertyName==="value"&&Md(cc)){var u=[];A_(u,cc,l,wn(l)),Gt(CL,u)}}function OL(l,u,m){l==="focusin"?(E_(),lc=u,cc=m,lc.attachEvent("onpropertychange",O_)):l==="focusout"&&E_()}function IL(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Md(cc)}function RL(l,u){if(l==="click")return Md(u)}function $L(l,u){if(l==="input"||l==="change")return Md(u)}function ML(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Fn=typeof Object.is=="function"?Object.is:ML;function uc(l,u){if(Fn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),y=Object.keys(u);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var j=m[y];if(!d.call(u,j)||!Fn(l[j],u[j]))return!1}return!0}function I_(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function R_(l,u){var m=I_(l);l=0;for(var y;m;){if(m.nodeType===3){if(y=l+m.textContent.length,l<=u&&y>=u)return{node:m,offset:u-l};l=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=I_(m)}}function $_(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?$_(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function M_(){for(var l=window,u=Ve();u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=Ve(l.document)}return u}function Bm(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function DL(l){var u=M_(),m=l.focusedElem,y=l.selectionRange;if(u!==m&&m&&m.ownerDocument&&$_(m.ownerDocument.documentElement,m)){if(y!==null&&Bm(m)){if(u=y.start,l=y.end,l===void 0&&(l=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(l,m.value.length);else if(l=(u=m.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var j=m.textContent.length,A=Math.min(y.start,j);y=y.end===void 0?A:Math.min(y.end,j),!l.extend&&A>y&&(j=y,y=A,A=j),j=R_(m,A);var I=R_(m,y);j&&I&&(l.rangeCount!==1||l.anchorNode!==j.node||l.anchorOffset!==j.offset||l.focusNode!==I.node||l.focusOffset!==I.offset)&&(u=u.createRange(),u.setStart(j.node,j.offset),l.removeAllRanges(),A>y?(l.addRange(u),l.extend(I.node,I.offset)):(u.setEnd(I.node,I.offset),l.addRange(u)))}}for(u=[],l=m;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)l=u[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var zL=c&&"documentMode"in document&&11>=document.documentMode,ro=null,Fm=null,dc=null,qm=!1;function D_(l,u,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;qm||ro==null||ro!==Ve(y)||(y=ro,"selectionStart"in y&&Bm(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),dc&&uc(dc,y)||(dc=y,y=Bd(Fm,"onSelect"),0<y.length&&(u=new Om("onSelect","select",null,u,m),l.push({event:u,listeners:y}),u.target=ro)))}function Dd(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var no={animationend:Dd("Animation","AnimationEnd"),animationiteration:Dd("Animation","AnimationIteration"),animationstart:Dd("Animation","AnimationStart"),transitionend:Dd("Transition","TransitionEnd")},Um={},z_={};c&&(z_=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function zd(l){if(Um[l])return Um[l];if(!no[l])return l;var u=no[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in z_)return Um[l]=u[m];return l}var L_=zd("animationend"),B_=zd("animationiteration"),F_=zd("animationstart"),q_=zd("transitionend"),U_=new Map,V_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(l,u){U_.set(l,u),s(u,[l])}for(var Vm=0;Vm<V_.length;Vm++){var Wm=V_[Vm],LL=Wm.toLowerCase(),BL=Wm[0].toUpperCase()+Wm.slice(1);ba(LL,"on"+BL)}ba(L_,"onAnimationEnd"),ba(B_,"onAnimationIteration"),ba(F_,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(q_,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FL=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function W_(l,u,m){var y=l.type||"unknown-event";l.currentTarget=m,Lz(y,u,void 0,l),l.currentTarget=null}function H_(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var y=l[m],j=y.event;y=y.listeners;e:{var A=void 0;if(u)for(var I=y.length-1;0<=I;I--){var F=y[I],G=F.instance,ae=F.currentTarget;if(F=F.listener,G!==A&&j.isPropagationStopped())break e;W_(j,F,ae),A=G}else for(I=0;I<y.length;I++){if(F=y[I],G=F.instance,ae=F.currentTarget,F=F.listener,G!==A&&j.isPropagationStopped())break e;W_(j,F,ae),A=G}}}if(Jl)throw l=jm,Jl=!1,jm=null,l}function At(l,u){var m=u[Zm];m===void 0&&(m=u[Zm]=new Set);var y=l+"__bubble";m.has(y)||(G_(u,l,2,!1),m.add(y))}function Hm(l,u,m){var y=0;u&&(y|=4),G_(m,l,y,u)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function hc(l){if(!l[Ld]){l[Ld]=!0,n.forEach(function(m){m!=="selectionchange"&&(FL.has(m)||Hm(m,!1,l),Hm(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Ld]||(u[Ld]=!0,Hm("selectionchange",!1,u))}}function G_(l,u,m,y){switch(g_(u)){case 1:var j=tL;break;case 4:j=rL;break;default:j=Pm}m=j.bind(null,u,m,l),j=void 0,!ha||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(j=!0),y?j!==void 0?l.addEventListener(u,m,{capture:!0,passive:j}):l.addEventListener(u,m,!0):j!==void 0?l.addEventListener(u,m,{passive:j}):l.addEventListener(u,m,!1)}function Gm(l,u,m,y,j){var A=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var I=y.tag;if(I===3||I===4){var F=y.stateNode.containerInfo;if(F===j||F.nodeType===8&&F.parentNode===j)break;if(I===4)for(I=y.return;I!==null;){var G=I.tag;if((G===3||G===4)&&(G=I.stateNode.containerInfo,G===j||G.nodeType===8&&G.parentNode===j))return;I=I.return}for(;F!==null;){if(I=as(F),I===null)return;if(G=I.tag,G===5||G===6){y=A=I;continue e}F=F.parentNode}}y=y.return}Gt(function(){var ae=A,ge=wn(m),ve=[];e:{var me=U_.get(l);if(me!==void 0){var Ne=Om,Pe=l;switch(l){case"keypress":if(Id(m)===0)break e;case"keydown":case"keyup":Ne=vL;break;case"focusin":Pe="focus",Ne=$m;break;case"focusout":Pe="blur",Ne=$m;break;case"beforeblur":case"afterblur":Ne=$m;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=x_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=aL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=bL;break;case L_:case B_:case F_:Ne=lL;break;case q_:Ne=jL;break;case"scroll":Ne=nL;break;case"wheel":Ne=_L;break;case"copy":case"cut":case"paste":Ne=uL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=w_}var Oe=(u&4)!==0,Wt=!Oe&&l==="scroll",re=Oe?me!==null?me+"Capture":null:me;Oe=[];for(var X=ae,ne;X!==null;){ne=X;var be=ne.stateNode;if(ne.tag===5&&be!==null&&(ne=be,re!==null&&(be=dr(X,re),be!=null&&Oe.push(pc(X,be,ne)))),Wt)break;X=X.return}0<Oe.length&&(me=new Ne(me,Pe,null,m,ge),ve.push({event:me,listeners:Oe}))}}if((u&7)===0){e:{if(me=l==="mouseover"||l==="pointerover",Ne=l==="mouseout"||l==="pointerout",me&&m!==ns&&(Pe=m.relatedTarget||m.fromElement)&&(as(Pe)||Pe[Ci]))break e;if((Ne||me)&&(me=ge.window===ge?ge:(me=ge.ownerDocument)?me.defaultView||me.parentWindow:window,Ne?(Pe=m.relatedTarget||m.toElement,Ne=ae,Pe=Pe?as(Pe):null,Pe!==null&&(Wt=is(Pe),Pe!==Wt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ne=null,Pe=ae),Ne!==Pe)){if(Oe=x_,be="onMouseLeave",re="onMouseEnter",X="mouse",(l==="pointerout"||l==="pointerover")&&(Oe=w_,be="onPointerLeave",re="onPointerEnter",X="pointer"),Wt=Ne==null?me:so(Ne),ne=Pe==null?me:so(Pe),me=new Oe(be,X+"leave",Ne,m,ge),me.target=Wt,me.relatedTarget=ne,be=null,as(ge)===ae&&(Oe=new Oe(re,X+"enter",Pe,m,ge),Oe.target=ne,Oe.relatedTarget=Wt,be=Oe),Wt=be,Ne&&Pe)t:{for(Oe=Ne,re=Pe,X=0,ne=Oe;ne;ne=io(ne))X++;for(ne=0,be=re;be;be=io(be))ne++;for(;0<X-ne;)Oe=io(Oe),X--;for(;0<ne-X;)re=io(re),ne--;for(;X--;){if(Oe===re||re!==null&&Oe===re.alternate)break t;Oe=io(Oe),re=io(re)}Oe=null}else Oe=null;Ne!==null&&K_(ve,me,Ne,Oe,!1),Pe!==null&&Wt!==null&&K_(ve,Wt,Pe,Oe,!0)}}e:{if(me=ae?so(ae):window,Ne=me.nodeName&&me.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&me.type==="file")var Re=EL;else if(T_(me))if(P_)Re=$L;else{Re=IL;var De=OL}else(Ne=me.nodeName)&&Ne.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(Re=RL);if(Re&&(Re=Re(l,ae))){A_(ve,Re,m,ge);break e}De&&De(l,me,ae),l==="focusout"&&(De=me._wrapperState)&&De.controlled&&me.type==="number"&&We(me,"number",me.value)}switch(De=ae?so(ae):window,l){case"focusin":(T_(De)||De.contentEditable==="true")&&(ro=De,Fm=ae,dc=null);break;case"focusout":dc=Fm=ro=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,D_(ve,m,ge);break;case"selectionchange":if(zL)break;case"keydown":case"keyup":D_(ve,m,ge)}var ze;if(Dm)e:{switch(l){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else to?N_(l,m)&&(Ue="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Ue="onCompositionStart");Ue&&(j_&&m.locale!=="ko"&&(to||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&to&&(ze=v_()):(xa=ge,Em="value"in xa?xa.value:xa.textContent,to=!0)),De=Bd(ae,Ue),0<De.length&&(Ue=new b_(Ue,l,null,m,ge),ve.push({event:Ue,listeners:De}),ze?Ue.data=ze:(ze=k_(m),ze!==null&&(Ue.data=ze)))),(ze=kL?TL(l,m):AL(l,m))&&(ae=Bd(ae,"onBeforeInput"),0<ae.length&&(ge=new b_("onBeforeInput","beforeinput",null,m,ge),ve.push({event:ge,listeners:ae}),ge.data=ze))}H_(ve,u)})}function pc(l,u,m){return{instance:l,listener:u,currentTarget:m}}function Bd(l,u){for(var m=u+"Capture",y=[];l!==null;){var j=l,A=j.stateNode;j.tag===5&&A!==null&&(j=A,A=dr(l,m),A!=null&&y.unshift(pc(l,A,j)),A=dr(l,u),A!=null&&y.push(pc(l,A,j))),l=l.return}return y}function io(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function K_(l,u,m,y,j){for(var A=u._reactName,I=[];m!==null&&m!==y;){var F=m,G=F.alternate,ae=F.stateNode;if(G!==null&&G===y)break;F.tag===5&&ae!==null&&(F=ae,j?(G=dr(m,A),G!=null&&I.unshift(pc(m,G,F))):j||(G=dr(m,A),G!=null&&I.push(pc(m,G,F)))),m=m.return}I.length!==0&&l.push({event:u,listeners:I})}var qL=/\r\n?/g,UL=/\u0000|\uFFFD/g;function X_(l){return(typeof l=="string"?l:""+l).replace(qL,`
`).replace(UL,"")}function Fd(l,u,m){if(u=X_(u),X_(l)!==u&&m)throw Error(r(425))}function qd(){}var Km=null,Xm=null;function Ym(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Jm=typeof setTimeout=="function"?setTimeout:void 0,VL=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,WL=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(l){return Y_.resolve(null).then(l).catch(HL)}:Jm;function HL(l){setTimeout(function(){throw l})}function Qm(l,u){var m=u,y=0;do{var j=m.nextSibling;if(l.removeChild(m),j&&j.nodeType===8)if(m=j.data,m==="/$"){if(y===0){l.removeChild(j),ic(u);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=j}while(m);ic(u)}function wa(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function J_(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return l;u--}else m==="/$"&&u++}l=l.previousSibling}return null}var ao=Math.random().toString(36).slice(2),di="__reactFiber$"+ao,mc="__reactProps$"+ao,Ci="__reactContainer$"+ao,Zm="__reactEvents$"+ao,GL="__reactListeners$"+ao,KL="__reactHandles$"+ao;function as(l){var u=l[di];if(u)return u;for(var m=l.parentNode;m;){if(u=m[Ci]||m[di]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=J_(l);l!==null;){if(m=l[di])return m;l=J_(l)}return u}l=m,m=l.parentNode}return null}function gc(l){return l=l[di]||l[Ci],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function so(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Ud(l){return l[mc]||null}var eg=[],oo=-1;function ja(l){return{current:l}}function Pt(l){0>oo||(l.current=eg[oo],eg[oo]=null,oo--)}function jt(l,u){oo++,eg[oo]=l.current,l.current=u}var Sa={},Er=ja(Sa),Kr=ja(!1),ss=Sa;function lo(l,u){var m=l.type.contextTypes;if(!m)return Sa;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var j={},A;for(A in m)j[A]=u[A];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=j),j}function Xr(l){return l=l.childContextTypes,l!=null}function Vd(){Pt(Kr),Pt(Er)}function Q_(l,u,m){if(Er.current!==Sa)throw Error(r(168));jt(Er,u),jt(Kr,m)}function Z_(l,u,m){var y=l.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var j in y)if(!(j in u))throw Error(r(108,he(l)||"Unknown",j));return ee({},m,y)}function Wd(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Sa,ss=Er.current,jt(Er,l),jt(Kr,Kr.current),!0}function eN(l,u,m){var y=l.stateNode;if(!y)throw Error(r(169));m?(l=Z_(l,u,ss),y.__reactInternalMemoizedMergedChildContext=l,Pt(Kr),Pt(Er),jt(Er,l)):Pt(Kr),jt(Kr,m)}var Ei=null,Hd=!1,tg=!1;function tN(l){Ei===null?Ei=[l]:Ei.push(l)}function XL(l){Hd=!0,tN(l)}function _a(){if(!tg&&Ei!==null){tg=!0;var l=0,u=dt;try{var m=Ei;for(dt=1;l<m.length;l++){var y=m[l];do y=y(!0);while(y!==null)}Ei=null,Hd=!1}catch(j){throw Ei!==null&&(Ei=Ei.slice(l+1)),n_(Sm,_a),j}finally{dt=u,tg=!1}}return null}var co=[],uo=0,Gd=null,Kd=0,Sn=[],_n=0,os=null,Oi=1,Ii="";function ls(l,u){co[uo++]=Kd,co[uo++]=Gd,Gd=l,Kd=u}function rN(l,u,m){Sn[_n++]=Oi,Sn[_n++]=Ii,Sn[_n++]=os,os=l;var y=Oi;l=Ii;var j=32-Bn(y)-1;y&=~(1<<j),m+=1;var A=32-Bn(u)+j;if(30<A){var I=j-j%5;A=(y&(1<<I)-1).toString(32),y>>=I,j-=I,Oi=1<<32-Bn(u)+j|m<<j|y,Ii=A+l}else Oi=1<<A|m<<j|y,Ii=l}function rg(l){l.return!==null&&(ls(l,1),rN(l,1,0))}function ng(l){for(;l===Gd;)Gd=co[--uo],co[uo]=null,Kd=co[--uo],co[uo]=null;for(;l===os;)os=Sn[--_n],Sn[_n]=null,Ii=Sn[--_n],Sn[_n]=null,Oi=Sn[--_n],Sn[_n]=null}var ln=null,cn=null,Ot=!1,qn=null;function nN(l,u){var m=An(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,u=l.deletions,u===null?(l.deletions=[m],l.flags|=16):u.push(m)}function iN(l,u){switch(l.tag){case 5:var m=l.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,ln=l,cn=wa(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,ln=l,cn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=os!==null?{id:Oi,overflow:Ii}:null,l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=An(18,null,null,0),m.stateNode=u,m.return=l,l.child=m,ln=l,cn=null,!0):!1;default:return!1}}function ig(l){return(l.mode&1)!==0&&(l.flags&128)===0}function ag(l){if(Ot){var u=cn;if(u){var m=u;if(!iN(l,u)){if(ig(l))throw Error(r(418));u=wa(m.nextSibling);var y=ln;u&&iN(l,u)?nN(y,m):(l.flags=l.flags&-4097|2,Ot=!1,ln=l)}}else{if(ig(l))throw Error(r(418));l.flags=l.flags&-4097|2,Ot=!1,ln=l}}}function aN(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ln=l}function Xd(l){if(l!==ln)return!1;if(!Ot)return aN(l),Ot=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!Ym(l.type,l.memoizedProps)),u&&(u=cn)){if(ig(l))throw sN(),Error(r(418));for(;u;)nN(l,u),u=wa(u.nextSibling)}if(aN(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(u===0){cn=wa(l.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}l=l.nextSibling}cn=null}}else cn=ln?wa(l.stateNode.nextSibling):null;return!0}function sN(){for(var l=cn;l;)l=wa(l.nextSibling)}function fo(){cn=ln=null,Ot=!1}function sg(l){qn===null?qn=[l]:qn.push(l)}var YL=C.ReactCurrentBatchConfig;function vc(l,u,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var y=m.stateNode}if(!y)throw Error(r(147,l));var j=y,A=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===A?u.ref:(u=function(I){var F=j.refs;I===null?delete F[A]:F[A]=I},u._stringRef=A,u)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function Yd(l,u){throw l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function oN(l){var u=l._init;return u(l._payload)}function lN(l){function u(re,X){if(l){var ne=re.deletions;ne===null?(re.deletions=[X],re.flags|=16):ne.push(X)}}function m(re,X){if(!l)return null;for(;X!==null;)u(re,X),X=X.sibling;return null}function y(re,X){for(re=new Map;X!==null;)X.key!==null?re.set(X.key,X):re.set(X.index,X),X=X.sibling;return re}function j(re,X){return re=Oa(re,X),re.index=0,re.sibling=null,re}function A(re,X,ne){return re.index=ne,l?(ne=re.alternate,ne!==null?(ne=ne.index,ne<X?(re.flags|=2,X):ne):(re.flags|=2,X)):(re.flags|=1048576,X)}function I(re){return l&&re.alternate===null&&(re.flags|=2),re}function F(re,X,ne,be){return X===null||X.tag!==6?(X=Jg(ne,re.mode,be),X.return=re,X):(X=j(X,ne),X.return=re,X)}function G(re,X,ne,be){var Re=ne.type;return Re===E?ge(re,X,ne.props.children,be,ne.key):X!==null&&(X.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===K&&oN(Re)===X.type)?(be=j(X,ne.props),be.ref=vc(re,X,ne),be.return=re,be):(be=wf(ne.type,ne.key,ne.props,null,re.mode,be),be.ref=vc(re,X,ne),be.return=re,be)}function ae(re,X,ne,be){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=Qg(ne,re.mode,be),X.return=re,X):(X=j(X,ne.children||[]),X.return=re,X)}function ge(re,X,ne,be,Re){return X===null||X.tag!==7?(X=gs(ne,re.mode,be,Re),X.return=re,X):(X=j(X,ne),X.return=re,X)}function ve(re,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Jg(""+X,re.mode,ne),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return ne=wf(X.type,X.key,X.props,null,re.mode,ne),ne.ref=vc(re,null,X),ne.return=re,ne;case T:return X=Qg(X,re.mode,ne),X.return=re,X;case K:var be=X._init;return ve(re,be(X._payload),ne)}if(rt(X)||U(X))return X=gs(X,re.mode,ne,null),X.return=re,X;Yd(re,X)}return null}function me(re,X,ne,be){var Re=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Re!==null?null:F(re,X,""+ne,be);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case N:return ne.key===Re?G(re,X,ne,be):null;case T:return ne.key===Re?ae(re,X,ne,be):null;case K:return Re=ne._init,me(re,X,Re(ne._payload),be)}if(rt(ne)||U(ne))return Re!==null?null:ge(re,X,ne,be,null);Yd(re,ne)}return null}function Ne(re,X,ne,be,Re){if(typeof be=="string"&&be!==""||typeof be=="number")return re=re.get(ne)||null,F(X,re,""+be,Re);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case N:return re=re.get(be.key===null?ne:be.key)||null,G(X,re,be,Re);case T:return re=re.get(be.key===null?ne:be.key)||null,ae(X,re,be,Re);case K:var De=be._init;return Ne(re,X,ne,De(be._payload),Re)}if(rt(be)||U(be))return re=re.get(ne)||null,ge(X,re,be,Re,null);Yd(X,be)}return null}function Pe(re,X,ne,be){for(var Re=null,De=null,ze=X,Ue=X=0,pr=null;ze!==null&&Ue<ne.length;Ue++){ze.index>Ue?(pr=ze,ze=null):pr=ze.sibling;var ot=me(re,ze,ne[Ue],be);if(ot===null){ze===null&&(ze=pr);break}l&&ze&&ot.alternate===null&&u(re,ze),X=A(ot,X,Ue),De===null?Re=ot:De.sibling=ot,De=ot,ze=pr}if(Ue===ne.length)return m(re,ze),Ot&&ls(re,Ue),Re;if(ze===null){for(;Ue<ne.length;Ue++)ze=ve(re,ne[Ue],be),ze!==null&&(X=A(ze,X,Ue),De===null?Re=ze:De.sibling=ze,De=ze);return Ot&&ls(re,Ue),Re}for(ze=y(re,ze);Ue<ne.length;Ue++)pr=Ne(ze,re,Ue,ne[Ue],be),pr!==null&&(l&&pr.alternate!==null&&ze.delete(pr.key===null?Ue:pr.key),X=A(pr,X,Ue),De===null?Re=pr:De.sibling=pr,De=pr);return l&&ze.forEach(function(Ia){return u(re,Ia)}),Ot&&ls(re,Ue),Re}function Oe(re,X,ne,be){var Re=U(ne);if(typeof Re!="function")throw Error(r(150));if(ne=Re.call(ne),ne==null)throw Error(r(151));for(var De=Re=null,ze=X,Ue=X=0,pr=null,ot=ne.next();ze!==null&&!ot.done;Ue++,ot=ne.next()){ze.index>Ue?(pr=ze,ze=null):pr=ze.sibling;var Ia=me(re,ze,ot.value,be);if(Ia===null){ze===null&&(ze=pr);break}l&&ze&&Ia.alternate===null&&u(re,ze),X=A(Ia,X,Ue),De===null?Re=Ia:De.sibling=Ia,De=Ia,ze=pr}if(ot.done)return m(re,ze),Ot&&ls(re,Ue),Re;if(ze===null){for(;!ot.done;Ue++,ot=ne.next())ot=ve(re,ot.value,be),ot!==null&&(X=A(ot,X,Ue),De===null?Re=ot:De.sibling=ot,De=ot);return Ot&&ls(re,Ue),Re}for(ze=y(re,ze);!ot.done;Ue++,ot=ne.next())ot=Ne(ze,re,Ue,ot.value,be),ot!==null&&(l&&ot.alternate!==null&&ze.delete(ot.key===null?Ue:ot.key),X=A(ot,X,Ue),De===null?Re=ot:De.sibling=ot,De=ot);return l&&ze.forEach(function(P6){return u(re,P6)}),Ot&&ls(re,Ue),Re}function Wt(re,X,ne,be){if(typeof ne=="object"&&ne!==null&&ne.type===E&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case N:e:{for(var Re=ne.key,De=X;De!==null;){if(De.key===Re){if(Re=ne.type,Re===E){if(De.tag===7){m(re,De.sibling),X=j(De,ne.props.children),X.return=re,re=X;break e}}else if(De.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===K&&oN(Re)===De.type){m(re,De.sibling),X=j(De,ne.props),X.ref=vc(re,De,ne),X.return=re,re=X;break e}m(re,De);break}else u(re,De);De=De.sibling}ne.type===E?(X=gs(ne.props.children,re.mode,be,ne.key),X.return=re,re=X):(be=wf(ne.type,ne.key,ne.props,null,re.mode,be),be.ref=vc(re,X,ne),be.return=re,re=be)}return I(re);case T:e:{for(De=ne.key;X!==null;){if(X.key===De)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){m(re,X.sibling),X=j(X,ne.children||[]),X.return=re,re=X;break e}else{m(re,X);break}else u(re,X);X=X.sibling}X=Qg(ne,re.mode,be),X.return=re,re=X}return I(re);case K:return De=ne._init,Wt(re,X,De(ne._payload),be)}if(rt(ne))return Pe(re,X,ne,be);if(U(ne))return Oe(re,X,ne,be);Yd(re,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,X!==null&&X.tag===6?(m(re,X.sibling),X=j(X,ne),X.return=re,re=X):(m(re,X),X=Jg(ne,re.mode,be),X.return=re,re=X),I(re)):m(re,X)}return Wt}var ho=lN(!0),cN=lN(!1),Jd=ja(null),Qd=null,po=null,og=null;function lg(){og=po=Qd=null}function cg(l){var u=Jd.current;Pt(Jd),l._currentValue=u}function ug(l,u,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===m)break;l=l.return}}function mo(l,u){Qd=l,og=po=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Yr=!0),l.firstContext=null)}function Nn(l){var u=l._currentValue;if(og!==l)if(l={context:l,memoizedValue:u,next:null},po===null){if(Qd===null)throw Error(r(308));po=l,Qd.dependencies={lanes:0,firstContext:l}}else po=po.next=l;return u}var cs=null;function dg(l){cs===null?cs=[l]:cs.push(l)}function uN(l,u,m,y){var j=u.interleaved;return j===null?(m.next=m,dg(u)):(m.next=j.next,j.next=m),u.interleaved=m,Ri(l,y)}function Ri(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,m=l.alternate,m!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Na=!1;function fg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dN(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function $i(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function ka(l,u,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(st&2)!==0){var j=y.pending;return j===null?u.next=u:(u.next=j.next,j.next=u),y.pending=u,Ri(l,m)}return j=y.interleaved,j===null?(u.next=u,dg(y)):(u.next=j.next,j.next=u),y.interleaved=u,Ri(l,m)}function Zd(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,km(l,m)}}function fN(l,u){var m=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var j=null,A=null;if(m=m.firstBaseUpdate,m!==null){do{var I={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};A===null?j=A=I:A=A.next=I,m=m.next}while(m!==null);A===null?j=A=u:A=A.next=u}else j=A=u;m={baseState:y.baseState,firstBaseUpdate:j,lastBaseUpdate:A,shared:y.shared,effects:y.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function ef(l,u,m,y){var j=l.updateQueue;Na=!1;var A=j.firstBaseUpdate,I=j.lastBaseUpdate,F=j.shared.pending;if(F!==null){j.shared.pending=null;var G=F,ae=G.next;G.next=null,I===null?A=ae:I.next=ae,I=G;var ge=l.alternate;ge!==null&&(ge=ge.updateQueue,F=ge.lastBaseUpdate,F!==I&&(F===null?ge.firstBaseUpdate=ae:F.next=ae,ge.lastBaseUpdate=G))}if(A!==null){var ve=j.baseState;I=0,ge=ae=G=null,F=A;do{var me=F.lane,Ne=F.eventTime;if((y&me)===me){ge!==null&&(ge=ge.next={eventTime:Ne,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Pe=l,Oe=F;switch(me=u,Ne=m,Oe.tag){case 1:if(Pe=Oe.payload,typeof Pe=="function"){ve=Pe.call(Ne,ve,me);break e}ve=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Oe.payload,me=typeof Pe=="function"?Pe.call(Ne,ve,me):Pe,me==null)break e;ve=ee({},ve,me);break e;case 2:Na=!0}}F.callback!==null&&F.lane!==0&&(l.flags|=64,me=j.effects,me===null?j.effects=[F]:me.push(F))}else Ne={eventTime:Ne,lane:me,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ge===null?(ae=ge=Ne,G=ve):ge=ge.next=Ne,I|=me;if(F=F.next,F===null){if(F=j.shared.pending,F===null)break;me=F,F=me.next,me.next=null,j.lastBaseUpdate=me,j.shared.pending=null}}while(!0);if(ge===null&&(G=ve),j.baseState=G,j.firstBaseUpdate=ae,j.lastBaseUpdate=ge,u=j.shared.interleaved,u!==null){j=u;do I|=j.lane,j=j.next;while(j!==u)}else A===null&&(j.shared.lanes=0);fs|=I,l.lanes=I,l.memoizedState=ve}}function hN(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var y=l[u],j=y.callback;if(j!==null){if(y.callback=null,y=m,typeof j!="function")throw Error(r(191,j));j.call(y)}}}var yc={},fi=ja(yc),xc=ja(yc),bc=ja(yc);function us(l){if(l===yc)throw Error(r(174));return l}function hg(l,u){switch(jt(bc,u),jt(xc,l),jt(fi,yc),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:li(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=li(u,l)}Pt(fi),jt(fi,u)}function go(){Pt(fi),Pt(xc),Pt(bc)}function pN(l){us(bc.current);var u=us(fi.current),m=li(u,l.type);u!==m&&(jt(xc,l),jt(fi,m))}function pg(l){xc.current===l&&(Pt(fi),Pt(xc))}var Rt=ja(0);function tf(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var mg=[];function gg(){for(var l=0;l<mg.length;l++)mg[l]._workInProgressVersionPrimary=null;mg.length=0}var rf=C.ReactCurrentDispatcher,vg=C.ReactCurrentBatchConfig,ds=0,$t=null,tr=null,fr=null,nf=!1,wc=!1,jc=0,JL=0;function Or(){throw Error(r(321))}function yg(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!Fn(l[m],u[m]))return!1;return!0}function xg(l,u,m,y,j,A){if(ds=A,$t=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,rf.current=l===null||l.memoizedState===null?t6:r6,l=m(y,j),wc){A=0;do{if(wc=!1,jc=0,25<=A)throw Error(r(301));A+=1,fr=tr=null,u.updateQueue=null,rf.current=n6,l=m(y,j)}while(wc)}if(rf.current=of,u=tr!==null&&tr.next!==null,ds=0,fr=tr=$t=null,nf=!1,u)throw Error(r(300));return l}function bg(){var l=jc!==0;return jc=0,l}function hi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?$t.memoizedState=fr=l:fr=fr.next=l,fr}function kn(){if(tr===null){var l=$t.alternate;l=l!==null?l.memoizedState:null}else l=tr.next;var u=fr===null?$t.memoizedState:fr.next;if(u!==null)fr=u,tr=l;else{if(l===null)throw Error(r(310));tr=l,l={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},fr===null?$t.memoizedState=fr=l:fr=fr.next=l}return fr}function Sc(l,u){return typeof u=="function"?u(l):u}function wg(l){var u=kn(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=tr,j=y.baseQueue,A=m.pending;if(A!==null){if(j!==null){var I=j.next;j.next=A.next,A.next=I}y.baseQueue=j=A,m.pending=null}if(j!==null){A=j.next,y=y.baseState;var F=I=null,G=null,ae=A;do{var ge=ae.lane;if((ds&ge)===ge)G!==null&&(G=G.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),y=ae.hasEagerState?ae.eagerState:l(y,ae.action);else{var ve={lane:ge,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};G===null?(F=G=ve,I=y):G=G.next=ve,$t.lanes|=ge,fs|=ge}ae=ae.next}while(ae!==null&&ae!==A);G===null?I=y:G.next=F,Fn(y,u.memoizedState)||(Yr=!0),u.memoizedState=y,u.baseState=I,u.baseQueue=G,m.lastRenderedState=y}if(l=m.interleaved,l!==null){j=l;do A=j.lane,$t.lanes|=A,fs|=A,j=j.next;while(j!==l)}else j===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function jg(l){var u=kn(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=m.dispatch,j=m.pending,A=u.memoizedState;if(j!==null){m.pending=null;var I=j=j.next;do A=l(A,I.action),I=I.next;while(I!==j);Fn(A,u.memoizedState)||(Yr=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),m.lastRenderedState=A}return[A,y]}function mN(){}function gN(l,u){var m=$t,y=kn(),j=u(),A=!Fn(y.memoizedState,j);if(A&&(y.memoizedState=j,Yr=!0),y=y.queue,Sg(xN.bind(null,m,y,l),[l]),y.getSnapshot!==u||A||fr!==null&&fr.memoizedState.tag&1){if(m.flags|=2048,_c(9,yN.bind(null,m,y,j,u),void 0,null),hr===null)throw Error(r(349));(ds&30)!==0||vN(m,u,j)}return j}function vN(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=$t.updateQueue,u===null?(u={lastEffect:null,stores:null},$t.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function yN(l,u,m,y){u.value=m,u.getSnapshot=y,bN(u)&&wN(l)}function xN(l,u,m){return m(function(){bN(u)&&wN(l)})}function bN(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!Fn(l,m)}catch{return!0}}function wN(l){var u=Ri(l,1);u!==null&&Hn(u,l,1,-1)}function jN(l){var u=hi();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:l},u.queue=l,l=l.dispatch=e6.bind(null,$t,l),[u.memoizedState,l]}function _c(l,u,m,y){return l={tag:l,create:u,destroy:m,deps:y,next:null},u=$t.updateQueue,u===null?(u={lastEffect:null,stores:null},$t.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect,m===null?u.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,u.lastEffect=l)),l}function SN(){return kn().memoizedState}function af(l,u,m,y){var j=hi();$t.flags|=l,j.memoizedState=_c(1|u,m,void 0,y===void 0?null:y)}function sf(l,u,m,y){var j=kn();y=y===void 0?null:y;var A=void 0;if(tr!==null){var I=tr.memoizedState;if(A=I.destroy,y!==null&&yg(y,I.deps)){j.memoizedState=_c(u,m,A,y);return}}$t.flags|=l,j.memoizedState=_c(1|u,m,A,y)}function _N(l,u){return af(8390656,8,l,u)}function Sg(l,u){return sf(2048,8,l,u)}function NN(l,u){return sf(4,2,l,u)}function kN(l,u){return sf(4,4,l,u)}function TN(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function AN(l,u,m){return m=m!=null?m.concat([l]):null,sf(4,4,TN.bind(null,u,l),m)}function _g(){}function PN(l,u){var m=kn();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&yg(u,y[1])?y[0]:(m.memoizedState=[l,u],l)}function CN(l,u){var m=kn();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&yg(u,y[1])?y[0]:(l=l(),m.memoizedState=[l,u],l)}function EN(l,u,m){return(ds&21)===0?(l.baseState&&(l.baseState=!1,Yr=!0),l.memoizedState=m):(Fn(m,u)||(m=o_(),$t.lanes|=m,fs|=m,l.baseState=!0),u)}function QL(l,u){var m=dt;dt=m!==0&&4>m?m:4,l(!0);var y=vg.transition;vg.transition={};try{l(!1),u()}finally{dt=m,vg.transition=y}}function ON(){return kn().memoizedState}function ZL(l,u,m){var y=Ca(l);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},IN(l))RN(u,m);else if(m=uN(l,u,m,y),m!==null){var j=qr();Hn(m,l,y,j),$N(m,u,y)}}function e6(l,u,m){var y=Ca(l),j={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(IN(l))RN(u,j);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var I=u.lastRenderedState,F=A(I,m);if(j.hasEagerState=!0,j.eagerState=F,Fn(F,I)){var G=u.interleaved;G===null?(j.next=j,dg(u)):(j.next=G.next,G.next=j),u.interleaved=j;return}}catch{}finally{}m=uN(l,u,j,y),m!==null&&(j=qr(),Hn(m,l,y,j),$N(m,u,y))}}function IN(l){var u=l.alternate;return l===$t||u!==null&&u===$t}function RN(l,u){wc=nf=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function $N(l,u,m){if((m&4194240)!==0){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,km(l,m)}}var of={readContext:Nn,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},t6={readContext:Nn,useCallback:function(l,u){return hi().memoizedState=[l,u===void 0?null:u],l},useContext:Nn,useEffect:_N,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,af(4194308,4,TN.bind(null,u,l),m)},useLayoutEffect:function(l,u){return af(4194308,4,l,u)},useInsertionEffect:function(l,u){return af(4,2,l,u)},useMemo:function(l,u){var m=hi();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var y=hi();return u=m!==void 0?m(u):u,y.memoizedState=y.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},y.queue=l,l=l.dispatch=ZL.bind(null,$t,l),[y.memoizedState,l]},useRef:function(l){var u=hi();return l={current:l},u.memoizedState=l},useState:jN,useDebugValue:_g,useDeferredValue:function(l){return hi().memoizedState=l},useTransition:function(){var l=jN(!1),u=l[0];return l=QL.bind(null,l[1]),hi().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var y=$t,j=hi();if(Ot){if(m===void 0)throw Error(r(407));m=m()}else{if(m=u(),hr===null)throw Error(r(349));(ds&30)!==0||vN(y,u,m)}j.memoizedState=m;var A={value:m,getSnapshot:u};return j.queue=A,_N(xN.bind(null,y,A,l),[l]),y.flags|=2048,_c(9,yN.bind(null,y,A,m,u),void 0,null),m},useId:function(){var l=hi(),u=hr.identifierPrefix;if(Ot){var m=Ii,y=Oi;m=(y&~(1<<32-Bn(y)-1)).toString(32)+m,u=":"+u+"R"+m,m=jc++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=JL++,u=":"+u+"r"+m.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},r6={readContext:Nn,useCallback:PN,useContext:Nn,useEffect:Sg,useImperativeHandle:AN,useInsertionEffect:NN,useLayoutEffect:kN,useMemo:CN,useReducer:wg,useRef:SN,useState:function(){return wg(Sc)},useDebugValue:_g,useDeferredValue:function(l){var u=kn();return EN(u,tr.memoizedState,l)},useTransition:function(){var l=wg(Sc)[0],u=kn().memoizedState;return[l,u]},useMutableSource:mN,useSyncExternalStore:gN,useId:ON,unstable_isNewReconciler:!1},n6={readContext:Nn,useCallback:PN,useContext:Nn,useEffect:Sg,useImperativeHandle:AN,useInsertionEffect:NN,useLayoutEffect:kN,useMemo:CN,useReducer:jg,useRef:SN,useState:function(){return jg(Sc)},useDebugValue:_g,useDeferredValue:function(l){var u=kn();return tr===null?u.memoizedState=l:EN(u,tr.memoizedState,l)},useTransition:function(){var l=jg(Sc)[0],u=kn().memoizedState;return[l,u]},useMutableSource:mN,useSyncExternalStore:gN,useId:ON,unstable_isNewReconciler:!1};function Un(l,u){if(l&&l.defaultProps){u=ee({},u),l=l.defaultProps;for(var m in l)u[m]===void 0&&(u[m]=l[m]);return u}return u}function Ng(l,u,m,y){u=l.memoizedState,m=m(y,u),m=m==null?u:ee({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var lf={isMounted:function(l){return(l=l._reactInternals)?is(l)===l:!1},enqueueSetState:function(l,u,m){l=l._reactInternals;var y=qr(),j=Ca(l),A=$i(y,j);A.payload=u,m!=null&&(A.callback=m),u=ka(l,A,j),u!==null&&(Hn(u,l,j,y),Zd(u,l,j))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var y=qr(),j=Ca(l),A=$i(y,j);A.tag=1,A.payload=u,m!=null&&(A.callback=m),u=ka(l,A,j),u!==null&&(Hn(u,l,j,y),Zd(u,l,j))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=qr(),y=Ca(l),j=$i(m,y);j.tag=2,u!=null&&(j.callback=u),u=ka(l,j,y),u!==null&&(Hn(u,l,y,m),Zd(u,l,y))}};function MN(l,u,m,y,j,A,I){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,A,I):u.prototype&&u.prototype.isPureReactComponent?!uc(m,y)||!uc(j,A):!0}function DN(l,u,m){var y=!1,j=Sa,A=u.contextType;return typeof A=="object"&&A!==null?A=Nn(A):(j=Xr(u)?ss:Er.current,y=u.contextTypes,A=(y=y!=null)?lo(l,j):Sa),u=new u(m,A),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=lf,l.stateNode=u,u._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=j,l.__reactInternalMemoizedMaskedChildContext=A),u}function zN(l,u,m,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,y),u.state!==l&&lf.enqueueReplaceState(u,u.state,null)}function kg(l,u,m,y){var j=l.stateNode;j.props=m,j.state=l.memoizedState,j.refs={},fg(l);var A=u.contextType;typeof A=="object"&&A!==null?j.context=Nn(A):(A=Xr(u)?ss:Er.current,j.context=lo(l,A)),j.state=l.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Ng(l,u,A,m),j.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(u=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),u!==j.state&&lf.enqueueReplaceState(j,j.state,null),ef(l,m,j,y),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308)}function vo(l,u){try{var m="",y=u;do m+=fe(y),y=y.return;while(y);var j=m}catch(A){j=`
Error generating stack: `+A.message+`
`+A.stack}return{value:l,source:u,stack:j,digest:null}}function Tg(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function Ag(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var i6=typeof WeakMap=="function"?WeakMap:Map;function LN(l,u,m){m=$i(-1,m),m.tag=3,m.payload={element:null};var y=u.value;return m.callback=function(){mf||(mf=!0,Ug=y),Ag(l,u)},m}function BN(l,u,m){m=$i(-1,m),m.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var j=u.value;m.payload=function(){return y(j)},m.callback=function(){Ag(l,u)}}var A=l.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(m.callback=function(){Ag(l,u),typeof y!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})}),m}function FN(l,u,m){var y=l.pingCache;if(y===null){y=l.pingCache=new i6;var j=new Set;y.set(u,j)}else j=y.get(u),j===void 0&&(j=new Set,y.set(u,j));j.has(m)||(j.add(m),l=y6.bind(null,l,u,m),u.then(l,l))}function qN(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function UN(l,u,m,y,j){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=$i(-1,1),u.tag=2,ka(m,u,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=j,l)}var a6=C.ReactCurrentOwner,Yr=!1;function Fr(l,u,m,y){u.child=l===null?cN(u,null,m,y):ho(u,l.child,m,y)}function VN(l,u,m,y,j){m=m.render;var A=u.ref;return mo(u,j),y=xg(l,u,m,y,A,j),m=bg(),l!==null&&!Yr?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~j,Mi(l,u,j)):(Ot&&m&&rg(u),u.flags|=1,Fr(l,u,y,j),u.child)}function WN(l,u,m,y,j){if(l===null){var A=m.type;return typeof A=="function"&&!Yg(A)&&A.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=A,HN(l,u,A,y,j)):(l=wf(m.type,null,y,u,u.mode,j),l.ref=u.ref,l.return=u,u.child=l)}if(A=l.child,(l.lanes&j)===0){var I=A.memoizedProps;if(m=m.compare,m=m!==null?m:uc,m(I,y)&&l.ref===u.ref)return Mi(l,u,j)}return u.flags|=1,l=Oa(A,y),l.ref=u.ref,l.return=u,u.child=l}function HN(l,u,m,y,j){if(l!==null){var A=l.memoizedProps;if(uc(A,y)&&l.ref===u.ref)if(Yr=!1,u.pendingProps=y=A,(l.lanes&j)!==0)(l.flags&131072)!==0&&(Yr=!0);else return u.lanes=l.lanes,Mi(l,u,j)}return Pg(l,u,m,y,j)}function GN(l,u,m){var y=u.pendingProps,j=y.children,A=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(xo,un),un|=m;else{if((m&1073741824)===0)return l=A!==null?A.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,jt(xo,un),un|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=A!==null?A.baseLanes:m,jt(xo,un),un|=y}else A!==null?(y=A.baseLanes|m,u.memoizedState=null):y=m,jt(xo,un),un|=y;return Fr(l,u,j,m),u.child}function KN(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Pg(l,u,m,y,j){var A=Xr(m)?ss:Er.current;return A=lo(u,A),mo(u,j),m=xg(l,u,m,y,A,j),y=bg(),l!==null&&!Yr?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~j,Mi(l,u,j)):(Ot&&y&&rg(u),u.flags|=1,Fr(l,u,m,j),u.child)}function XN(l,u,m,y,j){if(Xr(m)){var A=!0;Wd(u)}else A=!1;if(mo(u,j),u.stateNode===null)uf(l,u),DN(u,m,y),kg(u,m,y,j),y=!0;else if(l===null){var I=u.stateNode,F=u.memoizedProps;I.props=F;var G=I.context,ae=m.contextType;typeof ae=="object"&&ae!==null?ae=Nn(ae):(ae=Xr(m)?ss:Er.current,ae=lo(u,ae));var ge=m.getDerivedStateFromProps,ve=typeof ge=="function"||typeof I.getSnapshotBeforeUpdate=="function";ve||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(F!==y||G!==ae)&&zN(u,I,y,ae),Na=!1;var me=u.memoizedState;I.state=me,ef(u,y,I,j),G=u.memoizedState,F!==y||me!==G||Kr.current||Na?(typeof ge=="function"&&(Ng(u,m,ge,y),G=u.memoizedState),(F=Na||MN(u,m,F,y,me,G,ae))?(ve||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=G),I.props=y,I.state=G,I.context=ae,y=F):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{I=u.stateNode,dN(l,u),F=u.memoizedProps,ae=u.type===u.elementType?F:Un(u.type,F),I.props=ae,ve=u.pendingProps,me=I.context,G=m.contextType,typeof G=="object"&&G!==null?G=Nn(G):(G=Xr(m)?ss:Er.current,G=lo(u,G));var Ne=m.getDerivedStateFromProps;(ge=typeof Ne=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(F!==ve||me!==G)&&zN(u,I,y,G),Na=!1,me=u.memoizedState,I.state=me,ef(u,y,I,j);var Pe=u.memoizedState;F!==ve||me!==Pe||Kr.current||Na?(typeof Ne=="function"&&(Ng(u,m,Ne,y),Pe=u.memoizedState),(ae=Na||MN(u,m,ae,y,me,Pe,G)||!1)?(ge||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(y,Pe,G),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(y,Pe,G)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||F===l.memoizedProps&&me===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||F===l.memoizedProps&&me===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Pe),I.props=y,I.state=Pe,I.context=G,y=ae):(typeof I.componentDidUpdate!="function"||F===l.memoizedProps&&me===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||F===l.memoizedProps&&me===l.memoizedState||(u.flags|=1024),y=!1)}return Cg(l,u,m,y,A,j)}function Cg(l,u,m,y,j,A){KN(l,u);var I=(u.flags&128)!==0;if(!y&&!I)return j&&eN(u,m,!1),Mi(l,u,A);y=u.stateNode,a6.current=u;var F=I&&typeof m.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,l!==null&&I?(u.child=ho(u,l.child,null,A),u.child=ho(u,null,F,A)):Fr(l,u,F,A),u.memoizedState=y.state,j&&eN(u,m,!0),u.child}function YN(l){var u=l.stateNode;u.pendingContext?Q_(l,u.pendingContext,u.pendingContext!==u.context):u.context&&Q_(l,u.context,!1),hg(l,u.containerInfo)}function JN(l,u,m,y,j){return fo(),sg(j),u.flags|=256,Fr(l,u,m,y),u.child}var Eg={dehydrated:null,treeContext:null,retryLane:0};function Og(l){return{baseLanes:l,cachePool:null,transitions:null}}function QN(l,u,m){var y=u.pendingProps,j=Rt.current,A=!1,I=(u.flags&128)!==0,F;if((F=I)||(F=l!==null&&l.memoizedState===null?!1:(j&2)!==0),F?(A=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(j|=1),jt(Rt,j&1),l===null)return ag(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(I=y.children,l=y.fallback,A?(y=u.mode,A=u.child,I={mode:"hidden",children:I},(y&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=I):A=jf(I,y,0,null),l=gs(l,y,m,null),A.return=u,l.return=u,A.sibling=l,u.child=A,u.child.memoizedState=Og(m),u.memoizedState=Eg,l):Ig(u,I));if(j=l.memoizedState,j!==null&&(F=j.dehydrated,F!==null))return s6(l,u,I,y,F,j,m);if(A){A=y.fallback,I=u.mode,j=l.child,F=j.sibling;var G={mode:"hidden",children:y.children};return(I&1)===0&&u.child!==j?(y=u.child,y.childLanes=0,y.pendingProps=G,u.deletions=null):(y=Oa(j,G),y.subtreeFlags=j.subtreeFlags&14680064),F!==null?A=Oa(F,A):(A=gs(A,I,m,null),A.flags|=2),A.return=u,y.return=u,y.sibling=A,u.child=y,y=A,A=u.child,I=l.child.memoizedState,I=I===null?Og(m):{baseLanes:I.baseLanes|m,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=l.childLanes&~m,u.memoizedState=Eg,y}return A=l.child,l=A.sibling,y=Oa(A,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=m),y.return=u,y.sibling=null,l!==null&&(m=u.deletions,m===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=y,u.memoizedState=null,y}function Ig(l,u){return u=jf({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function cf(l,u,m,y){return y!==null&&sg(y),ho(u,l.child,null,m),l=Ig(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function s6(l,u,m,y,j,A,I){if(m)return u.flags&256?(u.flags&=-257,y=Tg(Error(r(422))),cf(l,u,I,y)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(A=y.fallback,j=u.mode,y=jf({mode:"visible",children:y.children},j,0,null),A=gs(A,j,I,null),A.flags|=2,y.return=u,A.return=u,y.sibling=A,u.child=y,(u.mode&1)!==0&&ho(u,l.child,null,I),u.child.memoizedState=Og(I),u.memoizedState=Eg,A);if((u.mode&1)===0)return cf(l,u,I,null);if(j.data==="$!"){if(y=j.nextSibling&&j.nextSibling.dataset,y)var F=y.dgst;return y=F,A=Error(r(419)),y=Tg(A,y,void 0),cf(l,u,I,y)}if(F=(I&l.childLanes)!==0,Yr||F){if(y=hr,y!==null){switch(I&-I){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(y.suspendedLanes|I))!==0?0:j,j!==0&&j!==A.retryLane&&(A.retryLane=j,Ri(l,j),Hn(y,l,j,-1))}return Xg(),y=Tg(Error(r(421))),cf(l,u,I,y)}return j.data==="$?"?(u.flags|=128,u.child=l.child,u=x6.bind(null,l),j._reactRetry=u,null):(l=A.treeContext,cn=wa(j.nextSibling),ln=u,Ot=!0,qn=null,l!==null&&(Sn[_n++]=Oi,Sn[_n++]=Ii,Sn[_n++]=os,Oi=l.id,Ii=l.overflow,os=u),u=Ig(u,y.children),u.flags|=4096,u)}function ZN(l,u,m){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),ug(l.return,u,m)}function Rg(l,u,m,y,j){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:j}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=y,A.tail=m,A.tailMode=j)}function ek(l,u,m){var y=u.pendingProps,j=y.revealOrder,A=y.tail;if(Fr(l,u,y.children,m),y=Rt.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&ZN(l,m,u);else if(l.tag===19)ZN(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(jt(Rt,y),(u.mode&1)===0)u.memoizedState=null;else switch(j){case"forwards":for(m=u.child,j=null;m!==null;)l=m.alternate,l!==null&&tf(l)===null&&(j=m),m=m.sibling;m=j,m===null?(j=u.child,u.child=null):(j=m.sibling,m.sibling=null),Rg(u,!1,j,m,A);break;case"backwards":for(m=null,j=u.child,u.child=null;j!==null;){if(l=j.alternate,l!==null&&tf(l)===null){u.child=j;break}l=j.sibling,j.sibling=m,m=j,j=l}Rg(u,!0,m,null,A);break;case"together":Rg(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function uf(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Mi(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),fs|=u.lanes,(m&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,m=Oa(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=Oa(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function o6(l,u,m){switch(u.tag){case 3:YN(u),fo();break;case 5:pN(u);break;case 1:Xr(u.type)&&Wd(u);break;case 4:hg(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,j=u.memoizedProps.value;jt(Jd,y._currentValue),y._currentValue=j;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(jt(Rt,Rt.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?QN(l,u,m):(jt(Rt,Rt.current&1),l=Mi(l,u,m),l!==null?l.sibling:null);jt(Rt,Rt.current&1);break;case 19:if(y=(m&u.childLanes)!==0,(l.flags&128)!==0){if(y)return ek(l,u,m);u.flags|=128}if(j=u.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),jt(Rt,Rt.current),y)break;return null;case 22:case 23:return u.lanes=0,GN(l,u,m)}return Mi(l,u,m)}var tk,$g,rk,nk;tk=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},$g=function(){},rk=function(l,u,m,y){var j=l.memoizedProps;if(j!==y){l=u.stateNode,us(fi.current);var A=null;switch(m){case"input":j=J(l,j),y=J(l,y),A=[];break;case"select":j=ee({},j,{value:void 0}),y=ee({},y,{value:void 0}),A=[];break;case"textarea":j=Je(l,j),y=Je(l,y),A=[];break;default:typeof j.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=qd)}Qs(m,y);var I;m=null;for(ae in j)if(!y.hasOwnProperty(ae)&&j.hasOwnProperty(ae)&&j[ae]!=null)if(ae==="style"){var F=j[ae];for(I in F)F.hasOwnProperty(I)&&(m||(m={}),m[I]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?A||(A=[]):(A=A||[]).push(ae,null));for(ae in y){var G=y[ae];if(F=j?.[ae],y.hasOwnProperty(ae)&&G!==F&&(G!=null||F!=null))if(ae==="style")if(F){for(I in F)!F.hasOwnProperty(I)||G&&G.hasOwnProperty(I)||(m||(m={}),m[I]="");for(I in G)G.hasOwnProperty(I)&&F[I]!==G[I]&&(m||(m={}),m[I]=G[I])}else m||(A||(A=[]),A.push(ae,m)),m=G;else ae==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,F=F?F.__html:void 0,G!=null&&F!==G&&(A=A||[]).push(ae,G)):ae==="children"?typeof G!="string"&&typeof G!="number"||(A=A||[]).push(ae,""+G):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(G!=null&&ae==="onScroll"&&At("scroll",l),A||F===G||(A=[])):(A=A||[]).push(ae,G))}m&&(A=A||[]).push("style",m);var ae=A;(u.updateQueue=ae)&&(u.flags|=4)}},nk=function(l,u,m,y){m!==y&&(u.flags|=4)};function Nc(l,u){if(!Ot)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Ir(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(u)for(var j=l.child;j!==null;)m|=j.lanes|j.childLanes,y|=j.subtreeFlags&14680064,y|=j.flags&14680064,j.return=l,j=j.sibling;else for(j=l.child;j!==null;)m|=j.lanes|j.childLanes,y|=j.subtreeFlags,y|=j.flags,j.return=l,j=j.sibling;return l.subtreeFlags|=y,l.childLanes=m,u}function l6(l,u,m){var y=u.pendingProps;switch(ng(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(u),null;case 1:return Xr(u.type)&&Vd(),Ir(u),null;case 3:return y=u.stateNode,go(),Pt(Kr),Pt(Er),gg(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(Xd(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,qn!==null&&(Hg(qn),qn=null))),$g(l,u),Ir(u),null;case 5:pg(u);var j=us(bc.current);if(m=u.type,l!==null&&u.stateNode!=null)rk(l,u,m,y,j),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(r(166));return Ir(u),null}if(l=us(fi.current),Xd(u)){y=u.stateNode,m=u.type;var A=u.memoizedProps;switch(y[di]=u,y[mc]=A,l=(u.mode&1)!==0,m){case"dialog":At("cancel",y),At("close",y);break;case"iframe":case"object":case"embed":At("load",y);break;case"video":case"audio":for(j=0;j<fc.length;j++)At(fc[j],y);break;case"source":At("error",y);break;case"img":case"image":case"link":At("error",y),At("load",y);break;case"details":At("toggle",y);break;case"input":we(y,A),At("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!A.multiple},At("invalid",y);break;case"textarea":kt(y,A),At("invalid",y)}Qs(m,A),j=null;for(var I in A)if(A.hasOwnProperty(I)){var F=A[I];I==="children"?typeof F=="string"?y.textContent!==F&&(A.suppressHydrationWarning!==!0&&Fd(y.textContent,F,l),j=["children",F]):typeof F=="number"&&y.textContent!==""+F&&(A.suppressHydrationWarning!==!0&&Fd(y.textContent,F,l),j=["children",""+F]):i.hasOwnProperty(I)&&F!=null&&I==="onScroll"&&At("scroll",y)}switch(m){case"input":_e(y),Le(y,A,!0);break;case"textarea":_e(y),Ie(y);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(y.onclick=qd)}y=j,u.updateQueue=y,y!==null&&(u.flags|=4)}else{I=j.nodeType===9?j:j.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=wt(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=I.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=I.createElement(m,{is:y.is}):(l=I.createElement(m),m==="select"&&(I=l,y.multiple?I.multiple=!0:y.size&&(I.size=y.size))):l=I.createElementNS(l,m),l[di]=u,l[mc]=y,tk(l,u,!1,!1),u.stateNode=l;e:{switch(I=Kl(m,y),m){case"dialog":At("cancel",l),At("close",l),j=y;break;case"iframe":case"object":case"embed":At("load",l),j=y;break;case"video":case"audio":for(j=0;j<fc.length;j++)At(fc[j],l);j=y;break;case"source":At("error",l),j=y;break;case"img":case"image":case"link":At("error",l),At("load",l),j=y;break;case"details":At("toggle",l),j=y;break;case"input":we(l,y),j=J(l,y),At("invalid",l);break;case"option":j=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},j=ee({},y,{value:void 0}),At("invalid",l);break;case"textarea":kt(l,y),j=Je(l,y),At("invalid",l);break;default:j=y}Qs(m,j),F=j;for(A in F)if(F.hasOwnProperty(A)){var G=F[A];A==="style"?ci(l,G):A==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Tt(l,G)):A==="children"?typeof G=="string"?(m!=="textarea"||G!=="")&&Xe(l,G):typeof G=="number"&&Xe(l,""+G):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?G!=null&&A==="onScroll"&&At("scroll",l):G!=null&&_(l,A,G,I))}switch(m){case"input":_e(l),Le(l,y,!1);break;case"textarea":_e(l),Ie(l);break;case"option":y.value!=null&&l.setAttribute("value",""+le(y.value));break;case"select":l.multiple=!!y.multiple,A=y.value,A!=null?at(l,!!y.multiple,A,!1):y.defaultValue!=null&&at(l,!!y.multiple,y.defaultValue,!0);break;default:typeof j.onClick=="function"&&(l.onclick=qd)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Ir(u),null;case 6:if(l&&u.stateNode!=null)nk(l,u,l.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(m=us(bc.current),us(fi.current),Xd(u)){if(y=u.stateNode,m=u.memoizedProps,y[di]=u,(A=y.nodeValue!==m)&&(l=ln,l!==null))switch(l.tag){case 3:Fd(y.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Fd(y.nodeValue,m,(l.mode&1)!==0)}A&&(u.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[di]=u,u.stateNode=y}return Ir(u),null;case 13:if(Pt(Rt),y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Ot&&cn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)sN(),fo(),u.flags|=98560,A=!1;else if(A=Xd(u),y!==null&&y.dehydrated!==null){if(l===null){if(!A)throw Error(r(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[di]=u}else fo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ir(u),A=!1}else qn!==null&&(Hg(qn),qn=null),A=!0;if(!A)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Rt.current&1)!==0?rr===0&&(rr=3):Xg())),u.updateQueue!==null&&(u.flags|=4),Ir(u),null);case 4:return go(),$g(l,u),l===null&&hc(u.stateNode.containerInfo),Ir(u),null;case 10:return cg(u.type._context),Ir(u),null;case 17:return Xr(u.type)&&Vd(),Ir(u),null;case 19:if(Pt(Rt),A=u.memoizedState,A===null)return Ir(u),null;if(y=(u.flags&128)!==0,I=A.rendering,I===null)if(y)Nc(A,!1);else{if(rr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(I=tf(l),I!==null){for(u.flags|=128,Nc(A,!1),y=I.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=m,m=u.child;m!==null;)A=m,l=y,A.flags&=14680066,I=A.alternate,I===null?(A.childLanes=0,A.lanes=l,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=I.childLanes,A.lanes=I.lanes,A.child=I.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=I.memoizedProps,A.memoizedState=I.memoizedState,A.updateQueue=I.updateQueue,A.type=I.type,l=I.dependencies,A.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return jt(Rt,Rt.current&1|2),u.child}l=l.sibling}A.tail!==null&&Vt()>bo&&(u.flags|=128,y=!0,Nc(A,!1),u.lanes=4194304)}else{if(!y)if(l=tf(I),l!==null){if(u.flags|=128,y=!0,m=l.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),Nc(A,!0),A.tail===null&&A.tailMode==="hidden"&&!I.alternate&&!Ot)return Ir(u),null}else 2*Vt()-A.renderingStartTime>bo&&m!==1073741824&&(u.flags|=128,y=!0,Nc(A,!1),u.lanes=4194304);A.isBackwards?(I.sibling=u.child,u.child=I):(m=A.last,m!==null?m.sibling=I:u.child=I,A.last=I)}return A.tail!==null?(u=A.tail,A.rendering=u,A.tail=u.sibling,A.renderingStartTime=Vt(),u.sibling=null,m=Rt.current,jt(Rt,y?m&1|2:m&1),u):(Ir(u),null);case 22:case 23:return Kg(),y=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(un&1073741824)!==0&&(Ir(u),u.subtreeFlags&6&&(u.flags|=8192)):Ir(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function c6(l,u){switch(ng(u),u.tag){case 1:return Xr(u.type)&&Vd(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return go(),Pt(Kr),Pt(Er),gg(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return pg(u),null;case 13:if(Pt(Rt),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));fo()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Pt(Rt),null;case 4:return go(),null;case 10:return cg(u.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var df=!1,Rr=!1,u6=typeof WeakSet=="function"?WeakSet:Set,Te=null;function yo(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){Lt(l,u,y)}else m.current=null}function Mg(l,u,m){try{m()}catch(y){Lt(l,u,y)}}var ik=!1;function d6(l,u){if(Km=Cd,l=M_(),Bm(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var j=y.anchorOffset,A=y.focusNode;y=y.focusOffset;try{m.nodeType,A.nodeType}catch{m=null;break e}var I=0,F=-1,G=-1,ae=0,ge=0,ve=l,me=null;t:for(;;){for(var Ne;ve!==m||j!==0&&ve.nodeType!==3||(F=I+j),ve!==A||y!==0&&ve.nodeType!==3||(G=I+y),ve.nodeType===3&&(I+=ve.nodeValue.length),(Ne=ve.firstChild)!==null;)me=ve,ve=Ne;for(;;){if(ve===l)break t;if(me===m&&++ae===j&&(F=I),me===A&&++ge===y&&(G=I),(Ne=ve.nextSibling)!==null)break;ve=me,me=ve.parentNode}ve=Ne}m=F===-1||G===-1?null:{start:F,end:G}}else m=null}m=m||{start:0,end:0}}else m=null;for(Xm={focusedElem:l,selectionRange:m},Cd=!1,Te=u;Te!==null;)if(u=Te,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Te=l;else for(;Te!==null;){u=Te;try{var Pe=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Oe=Pe.memoizedProps,Wt=Pe.memoizedState,re=u.stateNode,X=re.getSnapshotBeforeUpdate(u.elementType===u.type?Oe:Un(u.type,Oe),Wt);re.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ne=u.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(be){Lt(u,u.return,be)}if(l=u.sibling,l!==null){l.return=u.return,Te=l;break}Te=u.return}return Pe=ik,ik=!1,Pe}function kc(l,u,m){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var j=y=y.next;do{if((j.tag&l)===l){var A=j.destroy;j.destroy=void 0,A!==void 0&&Mg(u,m,A)}j=j.next}while(j!==y)}}function ff(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&l)===l){var y=m.create;m.destroy=y()}m=m.next}while(m!==u)}}function Dg(l){var u=l.ref;if(u!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof u=="function"?u(l):u.current=l}}function ak(l){var u=l.alternate;u!==null&&(l.alternate=null,ak(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[di],delete u[mc],delete u[Zm],delete u[GL],delete u[KL])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function sk(l){return l.tag===5||l.tag===3||l.tag===4}function ok(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||sk(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function zg(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(l,u):m.insertBefore(l,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(l,m)):(u=m,u.appendChild(l)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=qd));else if(y!==4&&(l=l.child,l!==null))for(zg(l,u,m),l=l.sibling;l!==null;)zg(l,u,m),l=l.sibling}function Lg(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(Lg(l,u,m),l=l.sibling;l!==null;)Lg(l,u,m),l=l.sibling}var br=null,Vn=!1;function Ta(l,u,m){for(m=m.child;m!==null;)lk(l,u,m),m=m.sibling}function lk(l,u,m){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(_d,m)}catch{}switch(m.tag){case 5:Rr||yo(m,u);case 6:var y=br,j=Vn;br=null,Ta(l,u,m),br=y,Vn=j,br!==null&&(Vn?(l=br,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):br.removeChild(m.stateNode));break;case 18:br!==null&&(Vn?(l=br,m=m.stateNode,l.nodeType===8?Qm(l.parentNode,m):l.nodeType===1&&Qm(l,m),ic(l)):Qm(br,m.stateNode));break;case 4:y=br,j=Vn,br=m.stateNode.containerInfo,Vn=!0,Ta(l,u,m),br=y,Vn=j;break;case 0:case 11:case 14:case 15:if(!Rr&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){j=y=y.next;do{var A=j,I=A.destroy;A=A.tag,I!==void 0&&((A&2)!==0||(A&4)!==0)&&Mg(m,u,I),j=j.next}while(j!==y)}Ta(l,u,m);break;case 1:if(!Rr&&(yo(m,u),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(F){Lt(m,u,F)}Ta(l,u,m);break;case 21:Ta(l,u,m);break;case 22:m.mode&1?(Rr=(y=Rr)||m.memoizedState!==null,Ta(l,u,m),Rr=y):Ta(l,u,m);break;default:Ta(l,u,m)}}function ck(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new u6),u.forEach(function(y){var j=b6.bind(null,l,y);m.has(y)||(m.add(y),y.then(j,j))})}}function Wn(l,u){var m=u.deletions;if(m!==null)for(var y=0;y<m.length;y++){var j=m[y];try{var A=l,I=u,F=I;e:for(;F!==null;){switch(F.tag){case 5:br=F.stateNode,Vn=!1;break e;case 3:br=F.stateNode.containerInfo,Vn=!0;break e;case 4:br=F.stateNode.containerInfo,Vn=!0;break e}F=F.return}if(br===null)throw Error(r(160));lk(A,I,j),br=null,Vn=!1;var G=j.alternate;G!==null&&(G.return=null),j.return=null}catch(ae){Lt(j,u,ae)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)uk(u,l),u=u.sibling}function uk(l,u){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Wn(u,l),pi(l),y&4){try{kc(3,l,l.return),ff(3,l)}catch(Oe){Lt(l,l.return,Oe)}try{kc(5,l,l.return)}catch(Oe){Lt(l,l.return,Oe)}}break;case 1:Wn(u,l),pi(l),y&512&&m!==null&&yo(m,m.return);break;case 5:if(Wn(u,l),pi(l),y&512&&m!==null&&yo(m,m.return),l.flags&32){var j=l.stateNode;try{Xe(j,"")}catch(Oe){Lt(l,l.return,Oe)}}if(y&4&&(j=l.stateNode,j!=null)){var A=l.memoizedProps,I=m!==null?m.memoizedProps:A,F=l.type,G=l.updateQueue;if(l.updateQueue=null,G!==null)try{F==="input"&&A.type==="radio"&&A.name!=null&&xe(j,A),Kl(F,I);var ae=Kl(F,A);for(I=0;I<G.length;I+=2){var ge=G[I],ve=G[I+1];ge==="style"?ci(j,ve):ge==="dangerouslySetInnerHTML"?Tt(j,ve):ge==="children"?Xe(j,ve):_(j,ge,ve,ae)}switch(F){case"input":Me(j,A);break;case"textarea":yr(j,A);break;case"select":var me=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!A.multiple;var Ne=A.value;Ne!=null?at(j,!!A.multiple,Ne,!1):me!==!!A.multiple&&(A.defaultValue!=null?at(j,!!A.multiple,A.defaultValue,!0):at(j,!!A.multiple,A.multiple?[]:"",!1))}j[mc]=A}catch(Oe){Lt(l,l.return,Oe)}}break;case 6:if(Wn(u,l),pi(l),y&4){if(l.stateNode===null)throw Error(r(162));j=l.stateNode,A=l.memoizedProps;try{j.nodeValue=A}catch(Oe){Lt(l,l.return,Oe)}}break;case 3:if(Wn(u,l),pi(l),y&4&&m!==null&&m.memoizedState.isDehydrated)try{ic(u.containerInfo)}catch(Oe){Lt(l,l.return,Oe)}break;case 4:Wn(u,l),pi(l);break;case 13:Wn(u,l),pi(l),j=l.child,j.flags&8192&&(A=j.memoizedState!==null,j.stateNode.isHidden=A,!A||j.alternate!==null&&j.alternate.memoizedState!==null||(qg=Vt())),y&4&&ck(l);break;case 22:if(ge=m!==null&&m.memoizedState!==null,l.mode&1?(Rr=(ae=Rr)||ge,Wn(u,l),Rr=ae):Wn(u,l),pi(l),y&8192){if(ae=l.memoizedState!==null,(l.stateNode.isHidden=ae)&&!ge&&(l.mode&1)!==0)for(Te=l,ge=l.child;ge!==null;){for(ve=Te=ge;Te!==null;){switch(me=Te,Ne=me.child,me.tag){case 0:case 11:case 14:case 15:kc(4,me,me.return);break;case 1:yo(me,me.return);var Pe=me.stateNode;if(typeof Pe.componentWillUnmount=="function"){y=me,m=me.return;try{u=y,Pe.props=u.memoizedProps,Pe.state=u.memoizedState,Pe.componentWillUnmount()}catch(Oe){Lt(y,m,Oe)}}break;case 5:yo(me,me.return);break;case 22:if(me.memoizedState!==null){hk(ve);continue}}Ne!==null?(Ne.return=me,Te=Ne):hk(ve)}ge=ge.sibling}e:for(ge=null,ve=l;;){if(ve.tag===5){if(ge===null){ge=ve;try{j=ve.stateNode,ae?(A=j.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(F=ve.stateNode,G=ve.memoizedProps.style,I=G!=null&&G.hasOwnProperty("display")?G.display:null,F.style.display=Ai("display",I))}catch(Oe){Lt(l,l.return,Oe)}}}else if(ve.tag===6){if(ge===null)try{ve.stateNode.nodeValue=ae?"":ve.memoizedProps}catch(Oe){Lt(l,l.return,Oe)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===l)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===l)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===l)break e;ge===ve&&(ge=null),ve=ve.return}ge===ve&&(ge=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:Wn(u,l),pi(l),y&4&&ck(l);break;case 21:break;default:Wn(u,l),pi(l)}}function pi(l){var u=l.flags;if(u&2){try{e:{for(var m=l.return;m!==null;){if(sk(m)){var y=m;break e}m=m.return}throw Error(r(160))}switch(y.tag){case 5:var j=y.stateNode;y.flags&32&&(Xe(j,""),y.flags&=-33);var A=ok(l);Lg(l,A,j);break;case 3:case 4:var I=y.stateNode.containerInfo,F=ok(l);zg(l,F,I);break;default:throw Error(r(161))}}catch(G){Lt(l,l.return,G)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function f6(l,u,m){Te=l,dk(l)}function dk(l,u,m){for(var y=(l.mode&1)!==0;Te!==null;){var j=Te,A=j.child;if(j.tag===22&&y){var I=j.memoizedState!==null||df;if(!I){var F=j.alternate,G=F!==null&&F.memoizedState!==null||Rr;F=df;var ae=Rr;if(df=I,(Rr=G)&&!ae)for(Te=j;Te!==null;)I=Te,G=I.child,I.tag===22&&I.memoizedState!==null?pk(j):G!==null?(G.return=I,Te=G):pk(j);for(;A!==null;)Te=A,dk(A),A=A.sibling;Te=j,df=F,Rr=ae}fk(l)}else(j.subtreeFlags&8772)!==0&&A!==null?(A.return=j,Te=A):fk(l)}}function fk(l){for(;Te!==null;){var u=Te;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Rr||ff(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!Rr)if(m===null)y.componentDidMount();else{var j=u.elementType===u.type?m.memoizedProps:Un(u.type,m.memoizedProps);y.componentDidUpdate(j,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var A=u.updateQueue;A!==null&&hN(u,A,y);break;case 3:var I=u.updateQueue;if(I!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}hN(u,I,m)}break;case 5:var F=u.stateNode;if(m===null&&u.flags&4){m=F;var G=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&m.focus();break;case"img":G.src&&(m.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ae=u.alternate;if(ae!==null){var ge=ae.memoizedState;if(ge!==null){var ve=ge.dehydrated;ve!==null&&ic(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Rr||u.flags&512&&Dg(u)}catch(me){Lt(u,u.return,me)}}if(u===l){Te=null;break}if(m=u.sibling,m!==null){m.return=u.return,Te=m;break}Te=u.return}}function hk(l){for(;Te!==null;){var u=Te;if(u===l){Te=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Te=m;break}Te=u.return}}function pk(l){for(;Te!==null;){var u=Te;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{ff(4,u)}catch(G){Lt(u,m,G)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var j=u.return;try{y.componentDidMount()}catch(G){Lt(u,j,G)}}var A=u.return;try{Dg(u)}catch(G){Lt(u,A,G)}break;case 5:var I=u.return;try{Dg(u)}catch(G){Lt(u,I,G)}}}catch(G){Lt(u,u.return,G)}if(u===l){Te=null;break}var F=u.sibling;if(F!==null){F.return=u.return,Te=F;break}Te=u.return}}var h6=Math.ceil,hf=C.ReactCurrentDispatcher,Bg=C.ReactCurrentOwner,Tn=C.ReactCurrentBatchConfig,st=0,hr=null,Kt=null,wr=0,un=0,xo=ja(0),rr=0,Tc=null,fs=0,pf=0,Fg=0,Ac=null,Jr=null,qg=0,bo=1/0,Di=null,mf=!1,Ug=null,Aa=null,gf=!1,Pa=null,vf=0,Pc=0,Vg=null,yf=-1,xf=0;function qr(){return(st&6)!==0?Vt():yf!==-1?yf:yf=Vt()}function Ca(l){return(l.mode&1)===0?1:(st&2)!==0&&wr!==0?wr&-wr:YL.transition!==null?(xf===0&&(xf=o_()),xf):(l=dt,l!==0||(l=window.event,l=l===void 0?16:g_(l.type)),l)}function Hn(l,u,m,y){if(50<Pc)throw Pc=0,Vg=null,Error(r(185));Zl(l,m,y),((st&2)===0||l!==hr)&&(l===hr&&((st&2)===0&&(pf|=m),rr===4&&Ea(l,wr)),Qr(l,y),m===1&&st===0&&(u.mode&1)===0&&(bo=Vt()+500,Hd&&_a()))}function Qr(l,u){var m=l.callbackNode;Yz(l,u);var y=Td(l,l===hr?wr:0);if(y===0)m!==null&&i_(m),l.callbackNode=null,l.callbackPriority=0;else if(u=y&-y,l.callbackPriority!==u){if(m!=null&&i_(m),u===1)l.tag===0?XL(gk.bind(null,l)):tN(gk.bind(null,l)),WL(function(){(st&6)===0&&_a()}),m=null;else{switch(l_(y)){case 1:m=Sm;break;case 4:m=a_;break;case 16:m=Sd;break;case 536870912:m=s_;break;default:m=Sd}m=_k(m,mk.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function mk(l,u){if(yf=-1,xf=0,(st&6)!==0)throw Error(r(327));var m=l.callbackNode;if(wo()&&l.callbackNode!==m)return null;var y=Td(l,l===hr?wr:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||u)u=bf(l,y);else{u=y;var j=st;st|=2;var A=yk();(hr!==l||wr!==u)&&(Di=null,bo=Vt()+500,ps(l,u));do try{g6();break}catch(F){vk(l,F)}while(!0);lg(),hf.current=A,st=j,Kt!==null?u=0:(hr=null,wr=0,u=rr)}if(u!==0){if(u===2&&(j=_m(l),j!==0&&(y=j,u=Wg(l,j))),u===1)throw m=Tc,ps(l,0),Ea(l,y),Qr(l,Vt()),m;if(u===6)Ea(l,y);else{if(j=l.current.alternate,(y&30)===0&&!p6(j)&&(u=bf(l,y),u===2&&(A=_m(l),A!==0&&(y=A,u=Wg(l,A))),u===1))throw m=Tc,ps(l,0),Ea(l,y),Qr(l,Vt()),m;switch(l.finishedWork=j,l.finishedLanes=y,u){case 0:case 1:throw Error(r(345));case 2:ms(l,Jr,Di);break;case 3:if(Ea(l,y),(y&130023424)===y&&(u=qg+500-Vt(),10<u)){if(Td(l,0)!==0)break;if(j=l.suspendedLanes,(j&y)!==y){qr(),l.pingedLanes|=l.suspendedLanes&j;break}l.timeoutHandle=Jm(ms.bind(null,l,Jr,Di),u);break}ms(l,Jr,Di);break;case 4:if(Ea(l,y),(y&4194240)===y)break;for(u=l.eventTimes,j=-1;0<y;){var I=31-Bn(y);A=1<<I,I=u[I],I>j&&(j=I),y&=~A}if(y=j,y=Vt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*h6(y/1960))-y,10<y){l.timeoutHandle=Jm(ms.bind(null,l,Jr,Di),y);break}ms(l,Jr,Di);break;case 5:ms(l,Jr,Di);break;default:throw Error(r(329))}}}return Qr(l,Vt()),l.callbackNode===m?mk.bind(null,l):null}function Wg(l,u){var m=Ac;return l.current.memoizedState.isDehydrated&&(ps(l,u).flags|=256),l=bf(l,u),l!==2&&(u=Jr,Jr=m,u!==null&&Hg(u)),l}function Hg(l){Jr===null?Jr=l:Jr.push.apply(Jr,l)}function p6(l){for(var u=l;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var j=m[y],A=j.getSnapshot;j=j.value;try{if(!Fn(A(),j))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ea(l,u){for(u&=~Fg,u&=~pf,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-Bn(u),y=1<<m;l[m]=-1,u&=~y}}function gk(l){if((st&6)!==0)throw Error(r(327));wo();var u=Td(l,0);if((u&1)===0)return Qr(l,Vt()),null;var m=bf(l,u);if(l.tag!==0&&m===2){var y=_m(l);y!==0&&(u=y,m=Wg(l,y))}if(m===1)throw m=Tc,ps(l,0),Ea(l,u),Qr(l,Vt()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,ms(l,Jr,Di),Qr(l,Vt()),null}function Gg(l,u){var m=st;st|=1;try{return l(u)}finally{st=m,st===0&&(bo=Vt()+500,Hd&&_a())}}function hs(l){Pa!==null&&Pa.tag===0&&(st&6)===0&&wo();var u=st;st|=1;var m=Tn.transition,y=dt;try{if(Tn.transition=null,dt=1,l)return l()}finally{dt=y,Tn.transition=m,st=u,(st&6)===0&&_a()}}function Kg(){un=xo.current,Pt(xo)}function ps(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,VL(m)),Kt!==null)for(m=Kt.return;m!==null;){var y=m;switch(ng(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Vd();break;case 3:go(),Pt(Kr),Pt(Er),gg();break;case 5:pg(y);break;case 4:go();break;case 13:Pt(Rt);break;case 19:Pt(Rt);break;case 10:cg(y.type._context);break;case 22:case 23:Kg()}m=m.return}if(hr=l,Kt=l=Oa(l.current,null),wr=un=u,rr=0,Tc=null,Fg=pf=fs=0,Jr=Ac=null,cs!==null){for(u=0;u<cs.length;u++)if(m=cs[u],y=m.interleaved,y!==null){m.interleaved=null;var j=y.next,A=m.pending;if(A!==null){var I=A.next;A.next=j,y.next=I}m.pending=y}cs=null}return l}function vk(l,u){do{var m=Kt;try{if(lg(),rf.current=of,nf){for(var y=$t.memoizedState;y!==null;){var j=y.queue;j!==null&&(j.pending=null),y=y.next}nf=!1}if(ds=0,fr=tr=$t=null,wc=!1,jc=0,Bg.current=null,m===null||m.return===null){rr=1,Tc=u,Kt=null;break}e:{var A=l,I=m.return,F=m,G=u;if(u=wr,F.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ae=G,ge=F,ve=ge.tag;if((ge.mode&1)===0&&(ve===0||ve===11||ve===15)){var me=ge.alternate;me?(ge.updateQueue=me.updateQueue,ge.memoizedState=me.memoizedState,ge.lanes=me.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Ne=qN(I);if(Ne!==null){Ne.flags&=-257,UN(Ne,I,F,A,u),Ne.mode&1&&FN(A,ae,u),u=Ne,G=ae;var Pe=u.updateQueue;if(Pe===null){var Oe=new Set;Oe.add(G),u.updateQueue=Oe}else Pe.add(G);break e}else{if((u&1)===0){FN(A,ae,u),Xg();break e}G=Error(r(426))}}else if(Ot&&F.mode&1){var Wt=qN(I);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),UN(Wt,I,F,A,u),sg(vo(G,F));break e}}A=G=vo(G,F),rr!==4&&(rr=2),Ac===null?Ac=[A]:Ac.push(A),A=I;do{switch(A.tag){case 3:A.flags|=65536,u&=-u,A.lanes|=u;var re=LN(A,G,u);fN(A,re);break e;case 1:F=G;var X=A.type,ne=A.stateNode;if((A.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Aa===null||!Aa.has(ne)))){A.flags|=65536,u&=-u,A.lanes|=u;var be=BN(A,F,u);fN(A,be);break e}}A=A.return}while(A!==null)}bk(m)}catch(Re){u=Re,Kt===m&&m!==null&&(Kt=m=m.return);continue}break}while(!0)}function yk(){var l=hf.current;return hf.current=of,l===null?of:l}function Xg(){(rr===0||rr===3||rr===2)&&(rr=4),hr===null||(fs&268435455)===0&&(pf&268435455)===0||Ea(hr,wr)}function bf(l,u){var m=st;st|=2;var y=yk();(hr!==l||wr!==u)&&(Di=null,ps(l,u));do try{m6();break}catch(j){vk(l,j)}while(!0);if(lg(),st=m,hf.current=y,Kt!==null)throw Error(r(261));return hr=null,wr=0,rr}function m6(){for(;Kt!==null;)xk(Kt)}function g6(){for(;Kt!==null&&!Fz();)xk(Kt)}function xk(l){var u=Sk(l.alternate,l,un);l.memoizedProps=l.pendingProps,u===null?bk(l):Kt=u,Bg.current=null}function bk(l){var u=l;do{var m=u.alternate;if(l=u.return,(u.flags&32768)===0){if(m=l6(m,u,un),m!==null){Kt=m;return}}else{if(m=c6(m,u),m!==null){m.flags&=32767,Kt=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{rr=6,Kt=null;return}}if(u=u.sibling,u!==null){Kt=u;return}Kt=u=l}while(u!==null);rr===0&&(rr=5)}function ms(l,u,m){var y=dt,j=Tn.transition;try{Tn.transition=null,dt=1,v6(l,u,m,y)}finally{Tn.transition=j,dt=y}return null}function v6(l,u,m,y){do wo();while(Pa!==null);if((st&6)!==0)throw Error(r(327));m=l.finishedWork;var j=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var A=m.lanes|m.childLanes;if(Jz(l,A),l===hr&&(Kt=hr=null,wr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||gf||(gf=!0,_k(Sd,function(){return wo(),null})),A=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||A){A=Tn.transition,Tn.transition=null;var I=dt;dt=1;var F=st;st|=4,Bg.current=null,d6(l,m),uk(m,l),DL(Xm),Cd=!!Km,Xm=Km=null,l.current=m,f6(m),qz(),st=F,dt=I,Tn.transition=A}else l.current=m;if(gf&&(gf=!1,Pa=l,vf=j),A=l.pendingLanes,A===0&&(Aa=null),Wz(m.stateNode),Qr(l,Vt()),u!==null)for(y=l.onRecoverableError,m=0;m<u.length;m++)j=u[m],y(j.value,{componentStack:j.stack,digest:j.digest});if(mf)throw mf=!1,l=Ug,Ug=null,l;return(vf&1)!==0&&l.tag!==0&&wo(),A=l.pendingLanes,(A&1)!==0?l===Vg?Pc++:(Pc=0,Vg=l):Pc=0,_a(),null}function wo(){if(Pa!==null){var l=l_(vf),u=Tn.transition,m=dt;try{if(Tn.transition=null,dt=16>l?16:l,Pa===null)var y=!1;else{if(l=Pa,Pa=null,vf=0,(st&6)!==0)throw Error(r(331));var j=st;for(st|=4,Te=l.current;Te!==null;){var A=Te,I=A.child;if((Te.flags&16)!==0){var F=A.deletions;if(F!==null){for(var G=0;G<F.length;G++){var ae=F[G];for(Te=ae;Te!==null;){var ge=Te;switch(ge.tag){case 0:case 11:case 15:kc(8,ge,A)}var ve=ge.child;if(ve!==null)ve.return=ge,Te=ve;else for(;Te!==null;){ge=Te;var me=ge.sibling,Ne=ge.return;if(ak(ge),ge===ae){Te=null;break}if(me!==null){me.return=Ne,Te=me;break}Te=Ne}}}var Pe=A.alternate;if(Pe!==null){var Oe=Pe.child;if(Oe!==null){Pe.child=null;do{var Wt=Oe.sibling;Oe.sibling=null,Oe=Wt}while(Oe!==null)}}Te=A}}if((A.subtreeFlags&2064)!==0&&I!==null)I.return=A,Te=I;else e:for(;Te!==null;){if(A=Te,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:kc(9,A,A.return)}var re=A.sibling;if(re!==null){re.return=A.return,Te=re;break e}Te=A.return}}var X=l.current;for(Te=X;Te!==null;){I=Te;var ne=I.child;if((I.subtreeFlags&2064)!==0&&ne!==null)ne.return=I,Te=ne;else e:for(I=X;Te!==null;){if(F=Te,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:ff(9,F)}}catch(Re){Lt(F,F.return,Re)}if(F===I){Te=null;break e}var be=F.sibling;if(be!==null){be.return=F.return,Te=be;break e}Te=F.return}}if(st=j,_a(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(_d,l)}catch{}y=!0}return y}finally{dt=m,Tn.transition=u}}return!1}function wk(l,u,m){u=vo(m,u),u=LN(l,u,1),l=ka(l,u,1),u=qr(),l!==null&&(Zl(l,1,u),Qr(l,u))}function Lt(l,u,m){if(l.tag===3)wk(l,l,m);else for(;u!==null;){if(u.tag===3){wk(u,l,m);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Aa===null||!Aa.has(y))){l=vo(m,l),l=BN(u,l,1),u=ka(u,l,1),l=qr(),u!==null&&(Zl(u,1,l),Qr(u,l));break}}u=u.return}}function y6(l,u,m){var y=l.pingCache;y!==null&&y.delete(u),u=qr(),l.pingedLanes|=l.suspendedLanes&m,hr===l&&(wr&m)===m&&(rr===4||rr===3&&(wr&130023424)===wr&&500>Vt()-qg?ps(l,0):Fg|=m),Qr(l,u)}function jk(l,u){u===0&&((l.mode&1)===0?u=1:(u=kd,kd<<=1,(kd&130023424)===0&&(kd=4194304)));var m=qr();l=Ri(l,u),l!==null&&(Zl(l,u,m),Qr(l,m))}function x6(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),jk(l,m)}function b6(l,u){var m=0;switch(l.tag){case 13:var y=l.stateNode,j=l.memoizedState;j!==null&&(m=j.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(u),jk(l,m)}var Sk;Sk=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Kr.current)Yr=!0;else{if((l.lanes&m)===0&&(u.flags&128)===0)return Yr=!1,o6(l,u,m);Yr=(l.flags&131072)!==0}else Yr=!1,Ot&&(u.flags&1048576)!==0&&rN(u,Kd,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;uf(l,u),l=u.pendingProps;var j=lo(u,Er.current);mo(u,m),j=xg(null,u,y,l,j,m);var A=bg();return u.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Xr(y)?(A=!0,Wd(u)):A=!1,u.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,fg(u),j.updater=lf,u.stateNode=j,j._reactInternals=u,kg(u,y,l,m),u=Cg(null,u,y,!0,A,m)):(u.tag=0,Ot&&A&&rg(u),Fr(null,u,j,m),u=u.child),u;case 16:y=u.elementType;e:{switch(uf(l,u),l=u.pendingProps,j=y._init,y=j(y._payload),u.type=y,j=u.tag=j6(y),l=Un(y,l),j){case 0:u=Pg(null,u,y,l,m);break e;case 1:u=XN(null,u,y,l,m);break e;case 11:u=VN(null,u,y,l,m);break e;case 14:u=WN(null,u,y,Un(y.type,l),m);break e}throw Error(r(306,y,""))}return u;case 0:return y=u.type,j=u.pendingProps,j=u.elementType===y?j:Un(y,j),Pg(l,u,y,j,m);case 1:return y=u.type,j=u.pendingProps,j=u.elementType===y?j:Un(y,j),XN(l,u,y,j,m);case 3:e:{if(YN(u),l===null)throw Error(r(387));y=u.pendingProps,A=u.memoizedState,j=A.element,dN(l,u),ef(u,y,null,m);var I=u.memoizedState;if(y=I.element,A.isDehydrated)if(A={element:y,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},u.updateQueue.baseState=A,u.memoizedState=A,u.flags&256){j=vo(Error(r(423)),u),u=JN(l,u,y,m,j);break e}else if(y!==j){j=vo(Error(r(424)),u),u=JN(l,u,y,m,j);break e}else for(cn=wa(u.stateNode.containerInfo.firstChild),ln=u,Ot=!0,qn=null,m=cN(u,null,y,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(fo(),y===j){u=Mi(l,u,m);break e}Fr(l,u,y,m)}u=u.child}return u;case 5:return pN(u),l===null&&ag(u),y=u.type,j=u.pendingProps,A=l!==null?l.memoizedProps:null,I=j.children,Ym(y,j)?I=null:A!==null&&Ym(y,A)&&(u.flags|=32),KN(l,u),Fr(l,u,I,m),u.child;case 6:return l===null&&ag(u),null;case 13:return QN(l,u,m);case 4:return hg(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=ho(u,null,y,m):Fr(l,u,y,m),u.child;case 11:return y=u.type,j=u.pendingProps,j=u.elementType===y?j:Un(y,j),VN(l,u,y,j,m);case 7:return Fr(l,u,u.pendingProps,m),u.child;case 8:return Fr(l,u,u.pendingProps.children,m),u.child;case 12:return Fr(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(y=u.type._context,j=u.pendingProps,A=u.memoizedProps,I=j.value,jt(Jd,y._currentValue),y._currentValue=I,A!==null)if(Fn(A.value,I)){if(A.children===j.children&&!Kr.current){u=Mi(l,u,m);break e}}else for(A=u.child,A!==null&&(A.return=u);A!==null;){var F=A.dependencies;if(F!==null){I=A.child;for(var G=F.firstContext;G!==null;){if(G.context===y){if(A.tag===1){G=$i(-1,m&-m),G.tag=2;var ae=A.updateQueue;if(ae!==null){ae=ae.shared;var ge=ae.pending;ge===null?G.next=G:(G.next=ge.next,ge.next=G),ae.pending=G}}A.lanes|=m,G=A.alternate,G!==null&&(G.lanes|=m),ug(A.return,m,u),F.lanes|=m;break}G=G.next}}else if(A.tag===10)I=A.type===u.type?null:A.child;else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=m,F=I.alternate,F!==null&&(F.lanes|=m),ug(I,m,u),I=A.sibling}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===u){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}Fr(l,u,j.children,m),u=u.child}return u;case 9:return j=u.type,y=u.pendingProps.children,mo(u,m),j=Nn(j),y=y(j),u.flags|=1,Fr(l,u,y,m),u.child;case 14:return y=u.type,j=Un(y,u.pendingProps),j=Un(y.type,j),WN(l,u,y,j,m);case 15:return HN(l,u,u.type,u.pendingProps,m);case 17:return y=u.type,j=u.pendingProps,j=u.elementType===y?j:Un(y,j),uf(l,u),u.tag=1,Xr(y)?(l=!0,Wd(u)):l=!1,mo(u,m),DN(u,y,j),kg(u,y,j,m),Cg(null,u,y,!0,l,m);case 19:return ek(l,u,m);case 22:return GN(l,u,m)}throw Error(r(156,u.tag))};function _k(l,u){return n_(l,u)}function w6(l,u,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(l,u,m,y){return new w6(l,u,m,y)}function Yg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function j6(l){if(typeof l=="function")return Yg(l)?1:0;if(l!=null){if(l=l.$$typeof,l===M)return 11;if(l===Q)return 14}return 2}function Oa(l,u){var m=l.alternate;return m===null?(m=An(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function wf(l,u,m,y,j,A){var I=2;if(y=l,typeof l=="function")Yg(l)&&(I=1);else if(typeof l=="string")I=5;else e:switch(l){case E:return gs(m.children,j,A,u);case O:I=8,j|=8;break;case R:return l=An(12,m,u,j|2),l.elementType=R,l.lanes=A,l;case $:return l=An(13,m,u,j),l.elementType=$,l.lanes=A,l;case V:return l=An(19,m,u,j),l.elementType=V,l.lanes=A,l;case Z:return jf(m,j,A,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case H:I=10;break e;case L:I=9;break e;case M:I=11;break e;case Q:I=14;break e;case K:I=16,y=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return u=An(I,m,u,j),u.elementType=l,u.type=y,u.lanes=A,u}function gs(l,u,m,y){return l=An(7,l,y,u),l.lanes=m,l}function jf(l,u,m,y){return l=An(22,l,y,u),l.elementType=Z,l.lanes=m,l.stateNode={isHidden:!1},l}function Jg(l,u,m){return l=An(6,l,null,u),l.lanes=m,l}function Qg(l,u,m){return u=An(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function S6(l,u,m,y,j){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nm(0),this.expirationTimes=Nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.identifierPrefix=y,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function Zg(l,u,m,y,j,A,I,F,G){return l=new S6(l,u,m,F,G),u===1?(u=1,A===!0&&(u|=8)):u=0,A=An(3,null,null,u),l.current=A,A.stateNode=l,A.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},fg(A),l}function _6(l,u,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:y==null?null:""+y,children:l,containerInfo:u,implementation:m}}function Nk(l){if(!l)return Sa;l=l._reactInternals;e:{if(is(l)!==l||l.tag!==1)throw Error(r(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Xr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(Xr(m))return Z_(l,m,u)}return u}function kk(l,u,m,y,j,A,I,F,G){return l=Zg(m,y,!0,l,j,A,I,F,G),l.context=Nk(null),m=l.current,y=qr(),j=Ca(m),A=$i(y,j),A.callback=u??null,ka(m,A,j),l.current.lanes=j,Zl(l,j,y),Qr(l,y),l}function Sf(l,u,m,y){var j=u.current,A=qr(),I=Ca(j);return m=Nk(m),u.context===null?u.context=m:u.pendingContext=m,u=$i(A,I),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=ka(j,u,I),l!==null&&(Hn(l,j,I,A),Zd(l,j,I)),I}function _f(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Tk(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function e0(l,u){Tk(l,u),(l=l.alternate)&&Tk(l,u)}function N6(){return null}var Ak=typeof reportError=="function"?reportError:function(l){console.error(l)};function t0(l){this._internalRoot=l}Nf.prototype.render=t0.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));Sf(l,u,null,null)},Nf.prototype.unmount=t0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;hs(function(){Sf(null,l,null,null)}),u[Ci]=null}};function Nf(l){this._internalRoot=l}Nf.prototype.unstable_scheduleHydration=function(l){if(l){var u=d_();l={blockedOn:null,target:l,priority:u};for(var m=0;m<ya.length&&u!==0&&u<ya[m].priority;m++);ya.splice(m,0,l),m===0&&p_(l)}};function r0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function kf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Pk(){}function k6(l,u,m,y,j){if(j){if(typeof y=="function"){var A=y;y=function(){var ae=_f(I);A.call(ae)}}var I=kk(u,y,l,0,null,!1,!1,"",Pk);return l._reactRootContainer=I,l[Ci]=I.current,hc(l.nodeType===8?l.parentNode:l),hs(),I}for(;j=l.lastChild;)l.removeChild(j);if(typeof y=="function"){var F=y;y=function(){var ae=_f(G);F.call(ae)}}var G=Zg(l,0,!1,null,null,!1,!1,"",Pk);return l._reactRootContainer=G,l[Ci]=G.current,hc(l.nodeType===8?l.parentNode:l),hs(function(){Sf(u,G,m,y)}),G}function Tf(l,u,m,y,j){var A=m._reactRootContainer;if(A){var I=A;if(typeof j=="function"){var F=j;j=function(){var G=_f(I);F.call(G)}}Sf(u,I,l,j)}else I=k6(m,u,l,j,y);return _f(I)}c_=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=Ql(u.pendingLanes);m!==0&&(km(u,m|1),Qr(u,Vt()),(st&6)===0&&(bo=Vt()+500,_a()))}break;case 13:hs(function(){var y=Ri(l,1);if(y!==null){var j=qr();Hn(y,l,1,j)}}),e0(l,1)}},Tm=function(l){if(l.tag===13){var u=Ri(l,134217728);if(u!==null){var m=qr();Hn(u,l,134217728,m)}e0(l,134217728)}},u_=function(l){if(l.tag===13){var u=Ca(l),m=Ri(l,u);if(m!==null){var y=qr();Hn(m,l,u,y)}e0(l,u)}},d_=function(){return dt},f_=function(l,u){var m=dt;try{return dt=l,u()}finally{dt=m}},Xl=function(l,u,m){switch(u){case"input":if(Me(l,m),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var y=m[u];if(y!==l&&y.form===l.form){var j=Ud(y);if(!j)throw Error(r(90));ue(y),Me(y,j)}}}break;case"textarea":yr(l,m);break;case"select":u=m.value,u!=null&&at(l,!!m.multiple,u,!1)}},er=Gg,Cr=hs;var T6={usingClientEntryPoint:!1,Events:[gc,so,Ud,He,Ut,Gg]},Cc={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A6={bundleType:Cc.bundleType,version:Cc.version,rendererPackageName:Cc.rendererPackageName,rendererConfig:Cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=t_(l),l===null?null:l.stateNode},findFiberByHostInstance:Cc.findFiberByHostInstance||N6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{_d=Af.inject(A6),ui=Af}catch{}}return Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T6,Zr.createPortal=function(l,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r0(u))throw Error(r(200));return _6(l,u,null,m)},Zr.createRoot=function(l,u){if(!r0(l))throw Error(r(299));var m=!1,y="",j=Ak;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(j=u.onRecoverableError)),u=Zg(l,1,!1,null,null,m,!1,y,j),l[Ci]=u.current,hc(l.nodeType===8?l.parentNode:l),new t0(u)},Zr.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=t_(u),l=l===null?null:l.stateNode,l},Zr.flushSync=function(l){return hs(l)},Zr.hydrate=function(l,u,m){if(!kf(u))throw Error(r(200));return Tf(null,l,u,!0,m)},Zr.hydrateRoot=function(l,u,m){if(!r0(l))throw Error(r(405));var y=m!=null&&m.hydratedSources||null,j=!1,A="",I=Ak;if(m!=null&&(m.unstable_strictMode===!0&&(j=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onRecoverableError!==void 0&&(I=m.onRecoverableError)),u=kk(u,null,l,1,m??null,j,!1,A,I),l[Ci]=u.current,hc(l),y)for(l=0;l<y.length;l++)m=y[l],j=m._getVersion,j=j(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,j]:u.mutableSourceEagerHydrationData.push(m,j);return new Nf(u)},Zr.render=function(l,u,m){if(!kf(u))throw Error(r(200));return Tf(null,l,u,!1,m)},Zr.unmountComponentAtNode=function(l){if(!kf(l))throw Error(r(40));return l._reactRootContainer?(hs(function(){Tf(null,null,l,!1,function(){l._reactRootContainer=null,l[Ci]=null})}),!0):!1},Zr.unstable_batchedUpdates=Gg,Zr.unstable_renderSubtreeIntoContainer=function(l,u,m,y){if(!kf(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return Tf(l,u,m,!1,y)},Zr.version="18.3.1-next-f1338f8080-20240426",Zr}var Dk;function qI(){if(Dk)return a0.exports;Dk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),a0.exports=M6(),a0.exports}var zk;function D6(){if(zk)return Cf;zk=1;var t=qI();return Cf.createRoot=t.createRoot,Cf.hydrateRoot=t.hydrateRoot,Cf}var z6=D6(),P=Np();const z=vt(P),Y1=C6({__proto__:null,default:z},[P]),L6="modulepreload",B6=function(t){return"/"+t},Lk={},qi=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=o(r.map(f=>{if(f=B6(f),f in Lk)return;Lk[f]=!0;const p=f.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":L6,p||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),p)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function kp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function F6(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(p){try{f(n.next(p))}catch(h){o(h)}}function d(p){try{f(n.throw(p))}catch(h){o(h)}}function f(p){p.done?s(p.value):i(p.value).then(c,d)}f((n=n.apply(t,e||[])).next())})}const q6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class J1 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class U6 extends J1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Bk extends J1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fk extends J1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qb||(qb={}));class V6{constructor(e,{headers:r={},customFetch:n,region:i=qb.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=q6(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return F6(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:c,method:d,body:f,signal:p,timeout:h}=n;let g={},{region:v}=n;v||(v=this.region);const b=new URL(`${this.url}/${r}`);v&&v!=="any"&&(g["x-region"]=v,b.searchParams.set("forceFunctionRegion",v));let w;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(g["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(g["Content-Type"]="application/json",w=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?w=JSON.stringify(f):w=f;let x=p;h&&(o=new AbortController,s=setTimeout(()=>o.abort(),h),p?(x=o.signal,p.addEventListener("abort",()=>o.abort())):x=o.signal);const S=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:w,signal:x}).catch(N=>{throw new U6(N)}),k=S.headers.get("x-relay-error");if(k&&k==="true")throw new Bk(S);if(!S.ok)throw new Fk(S);let _=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return _==="application/json"?C=yield S.json():_==="application/octet-stream"||_==="application/pdf"?C=yield S.blob():_==="text/event-stream"?C=S:_==="multipart/form-data"?C=yield S.formData():C=yield S.text(),{data:C,error:null,response:S}}catch(c){return{data:null,error:c,response:c instanceof Fk||c instanceof Bk?c.context:void 0}}finally{s&&clearTimeout(s)}})}}var W6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},H6=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,c=null,d=null,f=s.status,p=s.statusText;if(s.ok){var h,g;if(r.method!=="HEAD"){var v;const S=await s.text();S===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?c=S:c=JSON.parse(S))}const w=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(g=s.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");w&&x&&x.length>1&&(d=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(o={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var b;const w=await s.text();try{o=JSON.parse(w),Array.isArray(o)&&s.status===404&&(c=[],o=null,f=200,p="OK")}catch{s.status===404&&w===""?(f=204,p="No Content"):o={message:w}}if(o&&r.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,f=200,p="OK"),o&&r.shouldThrowOnError)throw new W6(o)}return{error:o,data:c,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let c="";const d=s?.cause;if(d){var f,p,h,g;const b=(f=d?.message)!==null&&f!==void 0?f:"",w=(p=d?.code)!==null&&p!==void 0?p:"";c=`${(h=s?.name)!==null&&h!==void 0?h:"FetchError"}: ${s?.message}`,c+=`

Caused by: ${(g=d?.name)!==null&&g!==void 0?g:"Error"}: ${b}`,w&&(c+=` (${w})`),d?.stack&&(c+=`
${d.stack}`)}else{var v;c=(v=s?.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},G6=class extends H6{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var o;const c=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${d}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const qk=new RegExp("[,()]");var Mo=class extends G6{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&qk.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&qk.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},K6=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(f=>/\s/.test(f)&&!s?"":(f==='"'&&(s=!s),f)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",o),n&&d.append("Prefer",`count=${n}`),new Mo({method:i,url:c,headers:d,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);s.searchParams.set("columns",d.join(","))}}return new Mo({method:i,url:s,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const o="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),n&&d.append("Prefer",`count=${n}`),i||d.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);c.searchParams.set("columns",p.join(","))}}return new Mo({method:o,url:c,headers:d,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Mo({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Mo({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},X6=class UI{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new K6(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new UI(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var o;let c;const d=new URL(`${this.url}/rpc/${e}`);let f;const p=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(p)),h=n&&Object.values(r).some(p);h?(c="POST",f=r):n||i?(c=n?"HEAD":"GET",Object.entries(r).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{d.searchParams.append(v,b)})):(c="POST",f=r);const g=new Headers(this.headers);return h?g.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&g.set("Prefer",`count=${s}`),new Mo({method:c,url:d,headers:g,schema:this.schemaName,body:f,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Y6{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const J6="2.90.1",Q6=`realtime-js/${J6}`,VI="1.0.0",Z6="2.0.0",Uk=VI,Ub=1e4,eB=1e3,tB=100;var Da;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Da||(Da={}));var sr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(sr||(sr={}));var Qn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qn||(Qn={}));var Vb;(function(t){t.websocket="websocket"})(Vb||(Vb={}));var ks;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ks||(ks={}));class rB{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,s;const o=e.topic,c=(i=e.ref)!==null&&i!==void 0?i:"",d=(s=e.join_ref)!==null&&s!==void 0?s:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+o.length+f.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(v),w=0;b.setUint8(w++,this.KINDS.userBroadcastPush),b.setUint8(w++,d.length),b.setUint8(w++,c.length),b.setUint8(w++,o.length),b.setUint8(w++,f.length),b.setUint8(w++,h.length),b.setUint8(w++,r),Array.from(d,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(c,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(o,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(f,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(h,S=>b.setUint8(w++,S.charCodeAt(0)));var x=new Uint8Array(v.byteLength+n.byteLength);return x.set(new Uint8Array(v),0),x.set(new Uint8Array(n),v.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,o,c,d]=n;return r({join_ref:i,ref:s,topic:o,event:c,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(e.slice(d,d+i));d=d+i;const p=n.decode(e.slice(d,d+s));d=d+s;const h=n.decode(e.slice(d,d+o));d=d+o;const g=e.slice(d,e.byteLength),v=c===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,b={type:this.BROADCAST_EVENT,event:p,payload:v};return o>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class WI{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var St;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(St||(St={}));const Vk=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=nB(o,t,e,i),s),{}):{}},nB=(t,e,r,n)=>{const i=e.find(c=>c.name===t),s=i?.type,o=r[t];return s&&!n.includes(s)?HI(s,o):Wb(o)},HI=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return oB(e,r)}switch(t){case St.bool:return iB(e);case St.float4:case St.float8:case St.int2:case St.int4:case St.int8:case St.numeric:case St.oid:return aB(e);case St.json:case St.jsonb:return sB(e);case St.timestamp:return lB(e);case St.abstime:case St.date:case St.daterange:case St.int4range:case St.int8range:case St.money:case St.reltime:case St.text:case St.time:case St.timestamptz:case St.timetz:case St.tsrange:case St.tstzrange:return Wb(e);default:return Wb(e)}},Wb=t=>t,iB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},aB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},oB=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(c=>HI(e,c))}return t},lB=t=>typeof t=="string"?t.replace(" ","T"):t,GI=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class l0{constructor(e,r,n={},i=Ub){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wk;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Wk||(Wk={}));class Qc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qc.syncState(this.state,i,s,o),this.pendingDiffs.forEach(d=>{this.state=Qc.syncDiff(this.state,d,s,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Qc.syncDiff(this.state,i,s,o),c())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),c={},d={};return this.map(s,(f,p)=>{o[f]||(d[f]=p)}),this.map(o,(f,p)=>{const h=s[f];if(h){const g=p.map(x=>x.presence_ref),v=h.map(x=>x.presence_ref),b=p.filter(x=>v.indexOf(x.presence_ref)<0),w=h.filter(x=>g.indexOf(x.presence_ref)<0);b.length>0&&(c[f]=b),w.length>0&&(d[f]=w)}else c[f]=p}),this.syncDiff(s,{joins:c,leaves:d},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(c,d)=>{var f;const p=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),p.length>0){const h=e[c].map(v=>v.presence_ref),g=p.filter(v=>h.indexOf(v.presence_ref)<0);e[c].unshift(...g)}n(c,p,d)}),this.map(o,(c,d)=>{let f=e[c];if(!f)return;const p=d.map(h=>h.presence_ref);f=f.filter(h=>p.indexOf(h.presence_ref)<0),e[c]=f,i(c,f,d),f.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hk;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Hk||(Hk={}));var Zc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zc||(Zc={}));var Fi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fi||(Fi={}));class Fo{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new l0(this,Qn.join,this.params,this.timeout),this.rejoinTimer=new WI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qn.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Qc(this),this.broadcastEndpointURL=GI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==sr.closed){const{config:{broadcast:o,presence:c,private:d}}=this.params,f=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Zc.PRESENCE]&&this.bindings[Zc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},g={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(Fi.CHANNEL_ERROR,v)),this._onClose(()=>e?.(Fi.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e?.(Fi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(b=w?.length)!==null&&b!==void 0?b:0,S=[];for(let k=0;k<x;k++){const _=w[k],{filter:{event:C,schema:N,table:T,filter:E}}=_,O=v&&v[k];if(O&&O.event===C&&Fo.isFilterValueEqual(O.schema,N)&&Fo.isFilterValueEqual(O.table,T)&&Fo.isFilterValueEqual(O.filter,E))S.push(Object.assign(Object.assign({},_),{id:O.id}));else{this.unsubscribe(),this.state=sr.errored,e?.(Fi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Fi.SUBSCRIBED);return}}).receive("error",v=>{this.state=sr.errored,e?.(Fi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(Fi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===sr.joined&&e===Zc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,c,d;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new l0(this,Qn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=sr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new l0(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tB){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:p}=Qn;if(n&&[c,d,f,p].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var b,w,x;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(w=v.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var b,w,x,S,k,_,C,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const T=v.id,E=(b=v.filter)===null||b===void 0?void 0:b.event;return T&&((w=r.ids)===null||w===void 0?void 0:w.includes(T))&&(E==="*"||E?.toLocaleLowerCase()===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((S=v.filter)===null||S===void 0)&&S.table)||v.filter.table===((k=r.data)===null||k===void 0?void 0:k.table))}else{const T=(C=(_=v?.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return T==="*"||T===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:w,table:x,commit_timestamp:S,type:k,errors:_}=b;g=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:S,eventType:k,new:{},old:{},errors:_}),this._getPayloadRecords(b))}v.callback(g,n)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Fo.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qn.close,{},e)}_onError(e){this._on(Qn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Vk(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Vk(e.columns,e.old_record)),r}}const c0=()=>{},Ef={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cB=[1e3,2e3,5e3,1e4],uB=1e4,dB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fB{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ub,this.transport=null,this.heartbeatIntervalMs=Ef.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=c0,this.ref=0,this.reconnectTimer=null,this.vsn=Uk,this.logger=c0,this.conn=null,this.sendBuffer=[],this.serializer=new rB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Vb.websocket}`,this.httpEndpoint=GI(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Y6.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Da.connecting:return ks.Connecting;case Da.open:return ks.Open;case Da.closing:return ks.Closing;default:return ks.Closed}}isConnected(){return this.connectionState()===ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Fo(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(eB,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ef.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:o}=r,c=o?`(${o})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${i} ${c}`.trim(),s),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Da.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Da.open||this.conn.readyState===Da.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([dB],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:Q6};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Qn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new WI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ef.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,c,d,f,p,h,g,v;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Ub,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Ef.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:c0,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:Uk,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>cB[b-1]||uB),this.vsn){case VI:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((b,w)=>w(JSON.stringify(b))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:((b,w)=>w(JSON.parse(b)));break;case Z6:this.encode=(g=e?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var uu=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hB(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function pB(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function mB(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:o}){const c=hB(t.baseUrl,n,i),d=await pB(t.auth),f=await e(c,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...o},body:s?JSON.stringify(s):void 0}),p=await f.text(),h=(f.headers.get("content-type")||"").includes("application/json"),g=h&&p?JSON.parse(p):p;if(!f.ok){const v=h?g:void 0,b=v?.error;throw new uu(b?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:b?.type,icebergCode:b?.code,details:v})}return{status:f.status,headers:f.headers,data:g}}}}function Of(t){return t.join("")}var gB=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Of(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Of(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Of(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Of(t.namespace)}`}),!0}catch(e){if(e instanceof uu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof uu&&r.status===409)return;throw r}}};function jo(t){return t.join("")}var vB=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof uu&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof uu&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},yB=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=mB({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new gB(this.client,e),this.tableOps=new vB(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Tp=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Mt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var xB=class extends Tp{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hb=class extends Tp{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Q1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bB=()=>Response,Gb=t=>{if(Array.isArray(t))return t.map(r=>Gb(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Gb(n)}),e},wB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jB=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function SB(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _B(t){var e=SB(t,"string");return du(e)=="symbol"?e:e+""}function NB(t,e,r){return(e=_B(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){NB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const u0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},kB=async(t,e,r)=>{t instanceof await bB()&&!r?.noResolveJson?t.json().then(n=>{const i=t.status||500,s=n?.statusCode||i+"";e(new xB(u0(n),i,s))}).catch(n=>{e(new Hb(u0(n),n))}):e(new Hb(u0(t),t))},TB=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(wB(n)?(i.headers=qe({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),qe(qe({},i),r))};async function sd(t,e,r,n,i,s){return new Promise((o,c)=>{t(r,TB(e,n,i,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>kB(d,c,n))})}async function fu(t,e,r,n){return sd(t,"GET",e,r,n)}async function Jn(t,e,r,n,i){return sd(t,"POST",e,n,i,r)}async function Kb(t,e,r,n,i){return sd(t,"PUT",e,n,i,r)}async function AB(t,e,r,n){return sd(t,"HEAD",e,qe(qe({},r),{},{noResolveJson:!0}),n)}async function Z1(t,e,r,n,i){return sd(t,"DELETE",e,n,i,r)}var PB=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Mt(e))return{data:null,error:e};throw e}}};let KI;KI=Symbol.toStringTag;var CB=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[KI]="BlobDownloadBuilder",this.promise=null}asStream(){return new PB(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Mt(e))return{data:null,error:e};throw e}}};const EB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var OB=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Q1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let s;const o=qe(qe({},Kk),n);let c=qe(qe({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),d&&s.append("metadata",i.encodeMetadata(d)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),d&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(d))):(s=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,d&&(c["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(c=qe(qe({},c),n.headers));const f=i._removeEmptyFolders(e),p=i._getFinalPath(f),h=await(t=="PUT"?Kb:Jn)(i.fetch,`${i.url}/object/${p}`,s,qe({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),o=i._getFinalPath(s),c=new URL(i.url+`/object/upload/sign/${o}`);c.searchParams.set("token",e);try{let d;const f=qe({upsert:Kk.upsert},n),p=qe(qe({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{data:{path:s,fullPath:(await Kb(i.fetch,c.toString(),d,{headers:p})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(Mt(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=qe({},r.headers);e?.upsert&&(i["x-upsert"]="true");const s=await Jn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+s.url),c=o.searchParams.get("token");if(!c)throw new Tp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Jn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await Jn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),s=await Jn(n.fetch,`${n.url}/object/sign/${i}`,qe({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await Jn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>qe(qe({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",s=this._getFinalPath(t),o=()=>fu(this.fetch,`${this.url}/${r}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new CB(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Gb(await fu(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await AB(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Mt(n)&&n instanceof Hb){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&n.push(o);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${c}`)}}}async remove(t){var e=this;try{return{data:await Z1(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=qe(qe(qe({},EB),e),{},{prefix:t||""});return{data:await Jn(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=qe({},t);return{data:await Jn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const XI="2.90.1",YI={"X-Client-Info":`storage-js/${XI}`};var IB=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=qe(qe({},YI),e),this.fetch=Q1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await fu(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await fu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Jn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Kb(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Jn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Z1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},RB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=qe(qe({},YI),e),this.fetch=Q1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Jn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await fu(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Z1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!jB(t))throw new Tp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new yB({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...c)=>{try{return{data:await o.apply(i,c),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const ej={"X-Client-Info":`storage-js/${XI}`,"Content-Type":"application/json"};var JI=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function mn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var d0=class extends JI{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$B=class extends JI{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const tj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Xk=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DB=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{const o=s?.statusCode||s?.code||n+"";e(new d0(Xk(s),n,o))}).catch(()=>{const s=n+"";e(new d0(i.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";e(new d0(i.statusText||`HTTP ${n} error`,n,s))}}else e(new $B(Xk(t),t))},zB=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(MB(n)?(i.headers=qe({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,qe(qe({},i),r)):i};async function LB(t,e,r,n,i,s){return new Promise((o,c)=>{t(r,zB(e,n,i,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>DB(d,c,n))})}async function gn(t,e,r,n,i){return LB(t,"POST",e,n,i,r)}var BB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=qe(qe({},ej),e),this.fetch=tj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await gn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await gn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await gn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await gn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}}},FB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=qe(qe({},ej),e),this.fetch=tj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await gn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await gn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await gn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await gn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await gn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}}},qB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=qe(qe({},ej),e),this.fetch=tj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await gn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await gn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await gn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await gn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}}},UB=class extends qB{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new VB(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},VB=class extends BB{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,qe(qe({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,qe(qe({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new WB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},WB=class extends FB{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,qe(qe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,qe(qe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,qe(qe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,qe(qe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,qe(qe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},HB=class extends IB{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new OB(this.url,this.headers,t,this.fetch)}get vectors(){return new UB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RB(this.url+"/iceberg",this.headers,this.fetch)}};const QI="2.90.1",Do=30*1e3,Xb=3,f0=Xb*Do,GB="http://localhost:9999",KB="supabase.auth.token",XB={"X-Client-Info":`gotrue-js/${QI}`},Yb="X-Supabase-Api-Version",ZI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JB=600*1e3;class hu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class QB extends hu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ZB(t){return $e(t)&&t.name==="AuthApiError"}class Ts extends hu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class oa extends hu{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class dn extends oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function e8(t){return $e(t)&&t.name==="AuthSessionMissingError"}class So extends oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class If extends oa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rf extends oa{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function t8(t){return $e(t)&&t.name==="AuthImplicitGrantRedirectError"}class Yk extends oa{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class r8 extends oa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Jb extends oa{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function h0(t){return $e(t)&&t.name==="AuthRetryableFetchError"}class Jk extends oa{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Qb extends oa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qk=` 	
\r=`.split(""),n8=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qk.length;e+=1)t[Qk[e].charCodeAt(0)]=-2;for(let e=0;e<lh.length;e+=1)t[lh[e].charCodeAt(0)]=e;return t})();function Zk(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lh[n]),e.queuedBits-=6}}function e4(t,e,r){const n=n8[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function e2(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{s8(o,n,r)};for(let o=0;o<t.length;o+=1)e4(t.charCodeAt(o),i,s);return e.join("")}function i8(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function a8(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}i8(n,e)}}function s8(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Jo(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)e4(t.charCodeAt(i),r,n);return new Uint8Array(e)}function o8(t){const e=[];return a8(t,r=>e.push(r)),new Uint8Array(e)}function As(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Zk(i,r,n)),Zk(null,r,n),e.join("")}function l8(t){return Math.round(Date.now()/1e3)+t}function c8(){return Symbol("auth-callback")}const _r=()=>typeof window<"u"&&typeof document<"u",vs={tested:!1,writable:!1},t4=()=>{if(!_r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vs.tested)return vs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vs.tested=!0,vs.writable=!0}catch{vs.tested=!0,vs.writable=!1}return vs.writable};function u8(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const r4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),d8=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ys=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jr=async(t,e)=>{await t.removeItem(e)};class Ap{constructor(){this.promise=new Ap.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ap.promiseConstructor=Promise;function p0(t){const e=t.split(".");if(e.length!==3)throw new Qb("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!YB.test(e[n]))throw new Qb("JWT not in base64url format");return{header:JSON.parse(e2(e[0])),payload:JSON.parse(e2(e[1])),signature:Jo(e[2]),raw:{header:e[0],payload:e[1]}}}async function f8(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function h8(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function p8(t){return("0"+t.toString(16)).substr(-2)}function m8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,p8).join("")}async function g8(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function v8(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await g8(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _o(t,e,r=!1){const n=m8();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await zo(t,`${e}-code-verifier`,i);const s=await v8(n);return[s,n===s?"plain":"s256"]}const y8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x8(t){const e=t.headers.get(Yb);if(!e||!e.match(y8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function b8(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function w8(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const j8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function No(t){if(!j8.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function m0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function S8(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function t2(t){return JSON.parse(JSON.stringify(t))}const js=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_8=[502,503,504];async function r2(t){var e;if(!d8(t))throw new Jb(js(t),0);if(_8.includes(t.status))throw new Jb(js(t),t.status);let r;try{r=await t.json()}catch(s){throw new Ts(js(s),s)}let n;const i=x8(t);if(i&&i.getTime()>=ZI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Jk(js(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new dn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Jk(js(r),t.status,r.weak_password.reasons);throw new QB(js(r),t.status||500,n)}const N8=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Fe(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[Yb]||(s[Yb]=ZI["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await k8(t,e,r+c,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function k8(t,e,r,n,i,s){const o=N8(e,n,i,s);let c;try{c=await t(r,Object.assign({},o))}catch(d){throw console.error(d),new Jb(js(d),0)}if(c.ok||await r2(c),n?.noResolveJson)return c;try{return await c.json()}catch(d){await r2(d)}}function Xn(t){var e;let r=null;P8(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=l8(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function n2(t){const e=Xn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function La(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function T8(t){return{data:t,error:null}}function A8(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=kp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},d=Object.assign({},o);return{data:{properties:c,user:d},error:null}}function i2(t){return t}function P8(t){return t.access_token&&t.refresh_token&&t.expires_in}const g0=["global","local","others"];class C8{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=r4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=g0[0]){if(g0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${g0.join(", ")}`);try{return await Fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:La})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=kp(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:A8,redirectTo:r?.redirectTo})}catch(r){if($e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:La})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:i2});if(p.error)throw p.error;const h=await p.json(),g=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);f[`${x}Page`]=w}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if($e(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){No(e);try{return await Fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:La})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){No(e);try{return await Fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:La})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){No(e);try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:La})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){No(e.userId);try{const{data:r,error:n}=await Fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _deleteFactor(e){No(e.userId),No(e.id);try{return{data:await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:i2});if(p.error)throw p.error;const h=await p.json(),g=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);f[`${x}Page`]=w}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if($e(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}}function a2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ko={debug:!!(globalThis&&t4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class E8 extends n4{}async function O8(t,e,r){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new E8(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ko.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function I8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function i4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function R8(t){return parseInt(t,16)}function $8(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function M8(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:c,requestId:d,resources:f,scheme:p,uri:h,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=i4(t.address),b=p?`${p}://${n}`:n,w=t.statement?`${t.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${v}

${w}`;let S=`URI: ${h}
Version: ${g}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),c&&(S+=`
Not Before: ${c.toISOString()}`),d&&(S+=`
Request ID: ${d}`),f){let k=`
Resources:`;for(const _ of f){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);k+=`
- ${_}`}S+=k}return`${x}
${S}`}class Yt extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class ch extends Yt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function D8({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Yt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Yt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Yt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Yt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Yt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Yt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(a4(o)){if(s.rp.id!==o)return new Yt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Yt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Yt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function z8({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(a4(n)){if(r.rpId!==n)return new Yt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Yt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class L8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const B8=new L8;function F8(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=kp(t,["challenge","user","excludeCredentials"]),s=Jo(e).buffer,o=Object.assign(Object.assign({},r),{id:Jo(r.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Jo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function q8(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=kp(t,["challenge","allowCredentials"]),i=Jo(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},c),{id:Jo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function U8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:As(new Uint8Array(t.response.attestationObject)),clientDataJSON:As(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function V8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:As(new Uint8Array(i.authenticatorData)),clientDataJSON:As(new Uint8Array(i.clientDataJSON)),signature:As(new Uint8Array(i.signature)),userHandle:i.userHandle?As(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function a4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function s2(){var t,e;return!!(_r()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function W8(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ch("Browser returned unexpected credential type",e)}:{data:null,error:new ch("Empty credential response",e)}}catch(e){return{data:null,error:D8({error:e,options:t})}}}async function H8(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ch("Browser returned unexpected credential type",e)}:{data:null,error:new ch("Empty credential response",e)}}catch(e){return{data:null,error:z8({error:e,options:t})}}}const G8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},K8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uh(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const c=n[s];e(c)?n[s]=uh(c,o):n[s]=uh(o)}else n[s]=o}return n}function X8(t,e){return uh(G8,t,e||{})}function Y8(t,e){return uh(K8,t,e||{})}class J8{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:c};const d=i??B8.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=X8(o.webauthn.credential_options.publicKey,s?.create),{data:p,error:h}=await W8({publicKey:f,signal:d});return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{const f=Y8(o.webauthn.credential_options.publicKey,s?.request),{data:p,error:h}=await H8(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(o){return $e(o)?{data:null,error:o}:{data:null,error:new Ts("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new hu("rpId is required for WebAuthn authentication")};try{if(!s2())return{data:null,error:new Ts("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:c};const{webauthn:d}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return $e(o)?{data:null,error:o}:{data:null,error:new Ts("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new hu("rpId is required for WebAuthn registration")};try{if(!s2())return{data:null,error:new Ts("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return $e(o)?{data:null,error:o}:{data:null,error:new Ts("Unexpected error in register",o)}}}}I8();const Q8={url:GB,storageKey:KB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function o2(t,e,r){return await r()}const To={};class pu{get jwks(){var e,r;return(r=(e=To[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=To[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Q8),e);if(this.storageKey=s.storageKey,this.instanceID=(r=pu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,pu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&_r()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new C8({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=r4(s.fetch),this.lock=s.lock||o2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&_r()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=O8:this.lock=o2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new J8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:t4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=a2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=a2(this.memoryStorage)),_r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${QI}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(_r()&&(r=u8(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),_r()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),t8(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $e(r)?this._returnResult({error:r}):this._returnResult({error:new Ts("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xn}),{data:o,error:c}=s;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if($e(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:p,password:h,options:g}=e;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await _o(this.storage,this.storageKey)),s=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:p,password:h,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:b},xform:Xn})}else if("phone"in e){const{phone:p,password:h,options:g}=e;s=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:h,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Xn})}else throw new If("You must provide either an email or phone number and a password");const{data:o,error:c}=s;if(c||!o)return await jr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(await jr(this.storage,`${this.storageKey}-code-verifier`),$e(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:c}=e;r=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:n2})}else if("phone"in e){const{phone:s,password:o,options:c}=e;r=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:n2})}else throw new If("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new So;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,c,d,f,p,h,g;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:w,wallet:x,statement:S,options:k}=e;let _;if(_r())if(typeof x=="object")_=x;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")_=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const C=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),N=await _.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=i4(N[0]);let E=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const R=await _.request({method:"eth_chainId"});E=R8(R)}const O={domain:C.host,address:T,statement:S,uri:C.href,version:"1",chainId:E,nonce:(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=k?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=k?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=k?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=k?.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=M8(O),b=await _.request({method:"personal_sign",params:[$8(v),T]})}try{const{data:w,error:x}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Xn});if(x)throw x;if(!w||!w.session||!w.user){const S=new So;return this._returnResult({data:{user:null,session:null},error:S})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if($e(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,i,s,o,c,d,f,p,h,g,v;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:x,wallet:S,statement:k,options:_}=e;let C;if(_r())if(typeof S=="object")C=S;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))C=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const N=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const T=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),k?{statement:k}:null));let E;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")E=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)E=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=_?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((f=_?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(p=_?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const T=await C.signMessage(new TextEncoder().encode(b),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=T}}try{const{data:x,error:S}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:As(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Xn});if(S)throw S;if(!x||!x.session||!x.user){const k=new So;return this._returnResult({data:{user:null,session:null},error:k})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:S})}catch(x){if($e(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await ys(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new r8;const{data:s,error:o}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Xn});if(await jr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const c=new So;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await jr(this.storage,`${this.storageKey}-code-verifier`),$e(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,c=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Xn}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new So;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:c,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await _o(this.storage,this.storageKey));const{error:h}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:p}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new If("You must provide either an email or phone number.")}catch(c){if(await jr(this.storage,`${this.storageKey}-code-verifier`),$e(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await Fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Xn});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if($e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,o;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await _o(this.storage,this.storageKey));const f=await Fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:T8});return!((s=f.data)===null||s===void 0)&&s.url&&_r()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await jr(this.storage,`${this.storageKey}-code-verifier`),$e(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new dn;const{error:i}=await Fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if($e(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await Fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:c}=await Fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new If("You must provide either an email or phone number and a type")}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<f0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ys(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=m0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=S8(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:La}):await this._useSession(async r=>{var n,i,s;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:La})})}catch(r){if($e(r))return e8(r)&&(await this._removeSession(),await jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new dn;const o=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await _o(this.storage,this.storageKey));const{data:f,error:p}=await Fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:o.access_token,xform:La});if(p)throw p;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await jr(this.storage,`${this.storageKey}-code-verifier`),$e(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new dn;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=p0(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if($e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:c}=r;if(c)throw c;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new dn;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!_r())throw new Rf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yk("No code detected.");const{data:k,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:c,expires_at:d,token_type:f}=e;if(!s||!c||!o||!f)throw new Rf("No session defined in URL");const p=Math.round(Date.now()/1e3),h=parseInt(c);let g=p+h;d&&(g=parseInt(d));const v=g-p;v*1e3<=Do&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const b=g-h;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,p);const{data:w,error:x}=await this._getUser(s);if(x)throw x;const S={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:g,refresh_token:o,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(n){if($e(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ys(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(ZB(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=c8(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await _o(this.storage,this.storageKey,!0));try{return await Fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await jr(this.storage,`${this.storageKey}-code-verifier`),$e(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,c,d,f,p;const{data:h,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Fe(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=h.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return _r()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if($e(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:c,token:d,access_token:f,nonce:p}=e,h=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Xn}),{data:g,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new So}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(i){if(await jr(this.storage,`${this.storageKey}-code-verifier`),$e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await h8(async i=>(i>0&&await f8(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xn})),(i,s)=>{const o=200*Math.pow(2,i);return s&&h0(s)&&Date.now()+o-n<Do})}catch(n){if(this._debug(r,"error",n),$e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),_r()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ys(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await zo(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:m0()}else if(i&&!i.user&&!i.user){const o=await ys(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await jr(this.storage,this.storageKey+"-user"),await zo(this.storage,this.storageKey,i)):i.user=m0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<f0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${f0}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),h0(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ap;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new dn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),$e(s)){const o={data:null,error:s};return h0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(d){s.push(d)}});if(await Promise.all(o),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await jr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=t2(i);await zo(this.storage,this.storageKey,s)}else{const i=t2(r);await zo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jr(this.storage,this.storageKey),await jr(this.storage,this.storageKey+"-code-verifier"),await jr(this.storage,this.storageKey+"-user"),this.userStorage&&await jr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_r()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Do);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Do);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Do}ms, refresh threshold is ${Xb} ticks`),i<=Xb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof n4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_r()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await _o(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Fe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?U8(e.webauthn.credential_response):V8(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await Fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await Fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:F8(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:q8(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=p0(n.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new dn})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new dn});const o=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&_r()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new dn});const o=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&_r()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new dn})})}catch(e){if($e(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dn})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+JB>i)return n;const{data:s,error:o}=await Fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:b}=await this.getSession();if(b||!v.session)return this._returnResult({data:null,error:b});n=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:c,payload:d}}=p0(n);r?.allowExpired||b8(s.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const p=w8(i.alg),h=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,h,o,o8(`${c}.${d}`)))throw new Qb("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}}pu.nextInstanceID={};const Z8=pu,eF="2.90.1";let Hc="";typeof Deno<"u"?Hc="deno":typeof document<"u"?Hc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hc="react-native":Hc="node";const tF={"X-Client-Info":`supabase-js-${Hc}/${eF}`},rF={headers:tF},nF={schema:"public"},iF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aF={};function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function sF(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oF(t){var e=sF(t,"string");return mu(e)=="symbol"?e:e+""}function lF(t,e,r){return(e=oF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(r),!0).forEach(function(n){lF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const cF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uF=()=>Headers,dF=(t,e,r)=>{const n=cF(r),i=uF();return async(s,o)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:t;let f=new i(o?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(s,Bt(Bt({},o),{},{headers:f}))}};function fF(t){return t.endsWith("/")?t:t+"/"}function hF(t,e){var r,n;const{db:i,auth:s,realtime:o,global:c}=t,{db:d,auth:f,realtime:p,global:h}=e,g={db:Bt(Bt({},d),i),auth:Bt(Bt({},f),s),realtime:Bt(Bt({},p),o),storage:{},global:Bt(Bt(Bt({},h),c),{},{headers:Bt(Bt({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function pF(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fF(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mF=class extends Z8{constructor(t){super(t)}},gF=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=pF(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:nF,realtime:aF,auth:Bt(Bt({},iF),{},{storageKey:o}),global:rF},d=hF(r??{},c);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=dF(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Bt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new X6(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new HB(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new V6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:o,lock:c,debug:d,throwOnError:f},p,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mF({url:this.authUrl.href,headers:Bt(Bt({},g),p),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:c,debug:d,throwOnError:f,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new fB(this.realtimeUrl.href,Bt(Bt({},t),{},{params:Bt(Bt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vF=(t,e,r)=>new gF(t,e,r);function yF(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}yF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const it="tzorfzsdhyceyumhlfdp",Ur="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR6b3JmenNkaHljZXl1bWhsZmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYxMDMyMDksImV4cCI6MjA2MTY3OTIwOX0.2qCFMZpdXEyLKitpoB9BvgSxz2YEKMSsbb4Q0GVP4Cw",Ba=Object.freeze(Object.defineProperty({__proto__:null,projectId:it,publicAnonKey:Ur},Symbol.toStringTag,{value:"Module"})),zi="btcwheel_",Qt={getItem:t=>{try{return localStorage.getItem(`${zi}${t}`)}catch(e){return console.error("localStorage getItem error:",e),null}},setItem:(t,e)=>{try{localStorage.setItem(`${zi}${t}`,e),window.dispatchEvent(new CustomEvent("btcwheel-storage",{detail:{key:t,value:e}}))}catch(r){console.error("localStorage setItem error:",r)}},removeItem:t=>{try{localStorage.removeItem(`${zi}${t}`),window.dispatchEvent(new CustomEvent("btcwheel-storage",{detail:{key:t,value:null}}))}catch(e){console.error("localStorage removeItem error:",e)}},clear:()=>{try{const t=[];for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);r&&r.startsWith(zi)&&t.push(r)}t.forEach(e=>localStorage.removeItem(e))}catch(t){console.error("localStorage clear error:",t)}},isAvailable:()=>{try{const t=`${zi}__test__`;return localStorage.setItem(t,"test"),localStorage.removeItem(t),!0}catch{return!1}},getAllKeys:()=>{try{const t=[];for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);r&&r.startsWith(zi)&&t.push(r.replace(zi,""))}return t}catch(t){return console.error("localStorage getAllKeys error:",t),[]}},migrateFromOldKeys:t=>{try{console.log(" Migrating localStorage keys with prefix:",zi),t.forEach(e=>{const r=localStorage.getItem(e);r!==null&&(Qt.setItem(e,r),localStorage.removeItem(e),console.log(` Migrated: ${e}  ${zi}${e}`))}),console.log(" Migration complete")}catch(e){console.error("localStorage migration error:",e)}}},xF={DEV:!1},bF={getItem:t=>Qt.getItem(t),setItem:(t,e)=>Qt.setItem(t,e),removeItem:t=>Qt.removeItem(t)},rj=xF||{},wF=rj.VITE_SUPABASE_URL,jF=rj.VITE_SUPABASE_ANON_KEY,Zb=wF||`https://${it}.supabase.co`,ew=jF||Ur,xt=!!(Zb&&ew&&Zb!==""&&ew!==""),Ge=xt?vF(Zb,ew,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:typeof window<"u"?bF:void 0}}):null,SF=()=>Ge;typeof window<"u"&&rj.DEV&&console.log(xt?" Supabase connected":" Local mode enabled");async function _F(t){if(!xt||!Ge)return null;try{const{data:e,error:r}=await Ge.from("user_progress").select("*").eq("user_id",t).single();if(r){const n=["42P01","PGRST116","PGRST204","PGRST205","42703","42809"],i=r.code||"";return n.includes(i)||console.error("Error fetching user progress:",r),null}return e}catch{return null}}async function NF(t,e){if(!xt||!Ge)return null;try{const r={user_id:t,level:1,xp:0,xp_to_next_level:1e3,streak:0,badges:[],lessons_completed:0,total_lessons:15,current_lesson:1},{data:n,error:i}=await Ge.from("user_progress").insert(r).select().single();if(i){const s=["42P01","PGRST116","PGRST204","PGRST205","42703","42809"],o=i.code||"";return s.includes(o)||console.error("Error creating user progress:",i),null}return await Ge.from("leaderboard_entries").insert({user_id:t,username:e,total_xp:0,level:1,streak:0,badges_count:0}).catch(()=>{}),n}catch{return null}}async function kF(t,e){if(!xt||!Ge)return!1;try{const{error:r}=await Ge.from("user_progress").update(e).eq("user_id",t);if(r){const n=["42P01","PGRST116","PGRST204","PGRST205","42703","42809"],i=r.code||"";return n.includes(i)||console.error("Error updating user progress:",r),!1}if(e.xp!==void 0||e.level!==void 0)try{const{data:n}=await Ge.from("user_progress").select("xp, level, streak, badges").eq("user_id",t).single();n&&(await Ge.from("leaderboard_entries").update({total_xp:n.xp,level:n.level,streak:n.streak,badges_count:n.badges?.length||0}).eq("user_id",t).catch(()=>{}),await Ge.rpc("update_leaderboard_ranks").catch(()=>{}))}catch{}return!0}catch{return!1}}async function c2(t,e,r,n){if(!xt||!Ge)return!1;try{const{error:i}=await Ge.from("user_activities").insert({user_id:t,activity_type:e,activity_description:r,xp_earned:n});return!i}catch{return!1}}async function v0(t,e=10){if(!xt||!Ge)return[];try{const{data:r,error:n}=await Ge.from("user_activities").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(e);if(n){const i=["42P01","PGRST116","PGRST204","PGRST205","42703","42809"],s=n.code||"";return i.includes(s)||console.error("Error fetching user activities:",n),[]}return r||[]}catch{return[]}}async function TF(t=50){if(!xt||!Ge)return[];try{const{data:e,error:r}=await Ge.from("leaderboard_entries").select("*").order("total_xp",{ascending:!1}).limit(t);if(r){const n=["42P01","PGRST116","PGRST204","PGRST205","42703","42809"],i=r.code||"";return n.includes(i)||console.error("Error fetching leaderboard:",r),[]}return e||[]}catch{return[]}}var AF=qI();const PF=vt(AF);function CF(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const EF=t=>{switch(t){case"success":return RF;case"info":return MF;case"warning":return $F;case"error":return DF;default:return null}},OF=Array(12).fill(0),IF=({visible:t,className:e})=>z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},z.createElement("div",{className:"sonner-spinner"},OF.map((r,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),RF=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$F=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),MF=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),DF=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zF=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),LF=()=>{const[t,e]=z.useState(document.hidden);return z.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let tw=1;class BF{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,s=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:tw++,o=this.toasts.find(d=>d.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...e,id:s,title:n}),{...d,...e,id:s,dismissible:c,title:n}):d):this.addToast({title:n,...i,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=n!==void 0,o;const c=i.then(async f=>{if(o=["resolve",f],z.isValidElement(f))s=!1,this.create({id:n,type:"default",message:f});else if(qF(f)&&!f.ok){s=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,b=typeof h=="object"&&!z.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...b})}else if(f instanceof Error){s=!1;const h=typeof r.error=="function"?await r.error(f):r.error,g=typeof r.description=="function"?await r.description(f):r.description,b=typeof h=="object"&&!z.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...b})}else if(r.success!==void 0){s=!1;const h=typeof r.success=="function"?await r.success(f):r.success,g=typeof r.description=="function"?await r.description(f):r.description,b=typeof h=="object"&&!z.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:g,...b})}}).catch(async f=>{if(o=["reject",f],r.error!==void 0){s=!1;const p=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,v=typeof p=="object"&&!z.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:h,...v})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,p)=>c.then(()=>o[0]==="reject"?p(o[1]):f(o[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,r)=>{const n=r?.id||tw++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const en=new BF,FF=(t,e)=>{const r=e?.id||tw++;return en.addToast({title:t,...e,id:r}),r},qF=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",UF=FF,VF=()=>en.toasts,WF=()=>en.getActiveToasts(),de=Object.assign(UF,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:VF,getToasts:WF});CF("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function $f(t){return t.label!==void 0}const HF=3,GF="24px",KF="16px",u2=4e3,XF=356,YF=14,JF=45,QF=200;function mi(...t){return t.filter(Boolean).join(" ")}function ZF(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const eq=t=>{var e,r,n,i,s,o,c,d,f;const{invert:p,toast:h,unstyled:g,interacting:v,setHeights:b,visibleToasts:w,heights:x,index:S,toasts:k,expanded:_,removeToast:C,defaultRichColors:N,closeButton:T,style:E,cancelButtonStyle:O,actionButtonStyle:R,className:H="",descriptionClassName:L="",duration:M,position:$,gap:V,expandByDefault:Q,classNames:K,icons:Z,closeButtonAriaLabel:D="Close toast"}=t,[U,ee]=z.useState(null),[B,q]=z.useState(null),[Y,se]=z.useState(!1),[fe,te]=z.useState(!1),[he,le]=z.useState(!1),[ie,pe]=z.useState(!1),[_e,ue]=z.useState(!1),[Ve,J]=z.useState(0),[we,xe]=z.useState(0),Me=z.useRef(h.duration||M||u2),Le=z.useRef(null),We=z.useRef(null),rt=S===0,at=S+1<=w,Je=h.type,kt=h.dismissible!==!1,yr=h.className||"",Ie=h.descriptionClassName||"",wt=z.useMemo(()=>x.findIndex(He=>He.toastId===h.id)||0,[x,h.id]),li=z.useMemo(()=>{var He;return(He=h.closeButton)!=null?He:T},[h.closeButton,T]),Pr=z.useMemo(()=>h.duration||M||u2,[h.duration,M]),Tt=z.useRef(0),Xe=z.useRef(0),ft=z.useRef(0),ht=z.useRef(null),[Ai,ci]=$.split("-"),jd=z.useMemo(()=>x.reduce((He,Ut,er)=>er>=wt?He:He+Ut.height,0),[x,wt]),Qs=LF(),Kl=h.invert||p,ns=Je==="loading";Xe.current=z.useMemo(()=>wt*V+jd,[wt,jd]),z.useEffect(()=>{Me.current=Pr},[Pr]),z.useEffect(()=>{se(!0)},[]),z.useEffect(()=>{const He=We.current;if(He){const Ut=He.getBoundingClientRect().height;return xe(Ut),b(er=>[{toastId:h.id,height:Ut,position:h.position},...er]),()=>b(er=>er.filter(Cr=>Cr.toastId!==h.id))}},[b,h.id]),z.useLayoutEffect(()=>{if(!Y)return;const He=We.current,Ut=He.style.height;He.style.height="auto";const er=He.getBoundingClientRect().height;He.style.height=Ut,xe(er),b(Cr=>Cr.find(Gt=>Gt.toastId===h.id)?Cr.map(Gt=>Gt.toastId===h.id?{...Gt,height:er}:Gt):[{toastId:h.id,height:er,position:h.position},...Cr])},[Y,h.title,h.description,b,h.id,h.jsx,h.action,h.cancel]);const wn=z.useCallback(()=>{te(!0),J(Xe.current),b(He=>He.filter(Ut=>Ut.toastId!==h.id)),setTimeout(()=>{C(h)},QF)},[h,C,b,Xe]);z.useEffect(()=>{if(h.promise&&Je==="loading"||h.duration===1/0||h.type==="loading")return;let He;return _||v||Qs?(()=>{if(ft.current<Tt.current){const Cr=new Date().getTime()-Tt.current;Me.current=Me.current-Cr}ft.current=new Date().getTime()})():(()=>{Me.current!==1/0&&(Tt.current=new Date().getTime(),He=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),wn()},Me.current))})(),()=>clearTimeout(He)},[_,v,h,Je,Qs,wn]),z.useEffect(()=>{h.delete&&(wn(),h.onDismiss==null||h.onDismiss.call(h,h))},[wn,h.delete]);function Xl(){var He;if(Z?.loading){var Ut;return z.createElement("div",{className:mi(K?.loader,h==null||(Ut=h.classNames)==null?void 0:Ut.loader,"sonner-loader"),"data-visible":Je==="loading"},Z.loading)}return z.createElement(IF,{className:mi(K?.loader,h==null||(He=h.classNames)==null?void 0:He.loader),visible:Je==="loading"})}const da=h.icon||Z?.[Je]||EF(Je);var Pi,Yl;return z.createElement("li",{tabIndex:0,ref:We,className:mi(H,yr,K?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,K?.default,K?.[Je],h==null||(r=h.classNames)==null?void 0:r[Je]),"data-sonner-toast":"","data-rich-colors":(Pi=h.richColors)!=null?Pi:N,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":Y,"data-promise":!!h.promise,"data-swiped":_e,"data-removed":fe,"data-visible":at,"data-y-position":Ai,"data-x-position":ci,"data-index":S,"data-front":rt,"data-swiping":he,"data-dismissible":kt,"data-type":Je,"data-invert":Kl,"data-swipe-out":ie,"data-swipe-direction":B,"data-expanded":!!(_||Q&&Y),"data-testid":h.testId,style:{"--index":S,"--toasts-before":S,"--z-index":k.length-S,"--offset":`${fe?Ve:Xe.current}px`,"--initial-height":Q?"auto":`${we}px`,...E,...h.style},onDragEnd:()=>{le(!1),ee(null),ht.current=null},onPointerDown:He=>{He.button!==2&&(ns||!kt||(Le.current=new Date,J(Xe.current),He.target.setPointerCapture(He.pointerId),He.target.tagName!=="BUTTON"&&(le(!0),ht.current={x:He.clientX,y:He.clientY})))},onPointerUp:()=>{var He,Ut,er;if(ie||!kt)return;ht.current=null;const Cr=Number(((He=We.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fa=Number(((Ut=We.current)==null?void 0:Ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gt=new Date().getTime()-((er=Le.current)==null?void 0:er.getTime()),dr=U==="x"?Cr:fa,ha=Math.abs(dr)/Gt;if(Math.abs(dr)>=JF||ha>.11){J(Xe.current),h.onDismiss==null||h.onDismiss.call(h,h),q(U==="x"?Cr>0?"right":"left":fa>0?"down":"up"),wn(),pe(!0);return}else{var xr,sn;(xr=We.current)==null||xr.style.setProperty("--swipe-amount-x","0px"),(sn=We.current)==null||sn.style.setProperty("--swipe-amount-y","0px")}ue(!1),le(!1),ee(null)},onPointerMove:He=>{var Ut,er,Cr;if(!ht.current||!kt||((Ut=window.getSelection())==null?void 0:Ut.toString().length)>0)return;const Gt=He.clientY-ht.current.y,dr=He.clientX-ht.current.x;var ha;const xr=(ha=t.swipeDirections)!=null?ha:ZF($);!U&&(Math.abs(dr)>1||Math.abs(Gt)>1)&&ee(Math.abs(dr)>Math.abs(Gt)?"x":"y");let sn={x:0,y:0};const pa=jn=>1/(1.5+Math.abs(jn)/20);if(U==="y"){if(xr.includes("top")||xr.includes("bottom"))if(xr.includes("top")&&Gt<0||xr.includes("bottom")&&Gt>0)sn.y=Gt;else{const jn=Gt*pa(Gt);sn.y=Math.abs(jn)<Math.abs(Gt)?jn:Gt}}else if(U==="x"&&(xr.includes("left")||xr.includes("right")))if(xr.includes("left")&&dr<0||xr.includes("right")&&dr>0)sn.x=dr;else{const jn=dr*pa(dr);sn.x=Math.abs(jn)<Math.abs(dr)?jn:dr}(Math.abs(sn.x)>0||Math.abs(sn.y)>0)&&ue(!0),(er=We.current)==null||er.style.setProperty("--swipe-amount-x",`${sn.x}px`),(Cr=We.current)==null||Cr.style.setProperty("--swipe-amount-y",`${sn.y}px`)}},li&&!h.jsx&&Je!=="loading"?z.createElement("button",{"aria-label":D,"data-disabled":ns,"data-close-button":!0,onClick:ns||!kt?()=>{}:()=>{wn(),h.onDismiss==null||h.onDismiss.call(h,h)},className:mi(K?.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(Yl=Z?.close)!=null?Yl:zF):null,(Je||h.icon||h.promise)&&h.icon!==null&&(Z?.[Je]!==null||h.icon)?z.createElement("div",{"data-icon":"",className:mi(K?.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Xl():null,h.type!=="loading"?da:null):null,z.createElement("div",{"data-content":"",className:mi(K?.content,h==null||(s=h.classNames)==null?void 0:s.content)},z.createElement("div",{"data-title":"",className:mi(K?.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?z.createElement("div",{"data-description":"",className:mi(L,Ie,K?.description,h==null||(c=h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),z.isValidElement(h.cancel)?h.cancel:h.cancel&&$f(h.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:He=>{$f(h.cancel)&&kt&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,He),wn())},className:mi(K?.cancelButton,h==null||(d=h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,z.isValidElement(h.action)?h.action:h.action&&$f(h.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:He=>{$f(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,He),!He.defaultPrevented&&wn())},className:mi(K?.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function d2(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function tq(t,e){const r={};return[t,e].forEach((n,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",c=s?KF:GF;function d(f){["top","right","bottom","left"].forEach(p=>{r[`${o}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${o}-${f}`]=c:r[`${o}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):d(c)}),r}const Ao=z.forwardRef(function(e,r){const{id:n,invert:i,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,mobileOffset:h,theme:g="light",richColors:v,duration:b,style:w,visibleToasts:x=HF,toastOptions:S,dir:k=d2(),gap:_=YF,icons:C,containerAriaLabel:N="Notifications"}=e,[T,E]=z.useState([]),O=z.useMemo(()=>n?T.filter(Y=>Y.toasterId===n):T.filter(Y=>!Y.toasterId),[T,n]),R=z.useMemo(()=>Array.from(new Set([s].concat(O.filter(Y=>Y.position).map(Y=>Y.position)))),[O,s]),[H,L]=z.useState([]),[M,$]=z.useState(!1),[V,Q]=z.useState(!1),[K,Z]=z.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=z.useRef(null),U=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=z.useRef(null),B=z.useRef(!1),q=z.useCallback(Y=>{E(se=>{var fe;return(fe=se.find(te=>te.id===Y.id))!=null&&fe.delete||en.dismiss(Y.id),se.filter(({id:te})=>te!==Y.id)})},[]);return z.useEffect(()=>en.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{E(se=>se.map(fe=>fe.id===Y.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{PF.flushSync(()=>{E(se=>{const fe=se.findIndex(te=>te.id===Y.id);return fe!==-1?[...se.slice(0,fe),{...se[fe],...Y},...se.slice(fe+1)]:[Y,...se]})})})}),[T]),z.useEffect(()=>{if(g!=="system"){Z(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:se})=>{Z(se?"dark":"light")})}catch{Y.addListener(({matches:fe})=>{try{Z(fe?"dark":"light")}catch(te){console.error(te)}})}},[g]),z.useEffect(()=>{T.length<=1&&$(!1)},[T]),z.useEffect(()=>{const Y=se=>{var fe;if(o.every(le=>se[le]||se.code===le)){var he;$(!0),(he=D.current)==null||he.focus()}se.code==="Escape"&&(document.activeElement===D.current||(fe=D.current)!=null&&fe.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[o]),z.useEffect(()=>{if(D.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,B.current=!1)}},[D.current]),z.createElement("section",{ref:r,"aria-label":`${N} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((Y,se)=>{var fe;const[te,he]=Y.split("-");return O.length?z.createElement("ol",{key:Y,dir:k==="auto"?d2():k,tabIndex:-1,ref:D,className:f,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":te,"data-x-position":he,style:{"--front-toast-height":`${((fe=H[0])==null?void 0:fe.height)||0}px`,"--width":`${XF}px`,"--gap":`${_}px`,...w,...tq(p,h)},onBlur:le=>{B.current&&!le.currentTarget.contains(le.relatedTarget)&&(B.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||B.current||(B.current=!0,ee.current=le.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{V||$(!1)},onDragEnd:()=>$(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},O.filter(le=>!le.position&&se===0||le.position===Y).map((le,ie)=>{var pe,_e;return z.createElement(eq,{key:le.id,icons:C,index:ie,toast:le,defaultRichColors:v,duration:(pe=S?.duration)!=null?pe:b,className:S?.className,descriptionClassName:S?.descriptionClassName,invert:i,visibleToasts:x,closeButton:(_e=S?.closeButton)!=null?_e:d,interacting:V,position:Y,style:S?.style,unstyled:S?.unstyled,classNames:S?.classNames,cancelButtonStyle:S?.cancelButtonStyle,actionButtonStyle:S?.actionButtonStyle,closeButtonAriaLabel:S?.closeButtonAriaLabel,removeToast:q,toasts:O.filter(ue=>ue.position==le.position),heights:H.filter(ue=>ue.position==le.position),setHeights:L,expandByDefault:c,gap:_,expanded:M,swipeDirections:e.swipeDirections})})):null}))});function xn(){const[t,e]=P.useState(null),[r,n]=P.useState(null),[i,s]=P.useState(!0);P.useEffect(()=>{const p=xt;if(console.log(" [useAuth] Checking authentication..."),console.log(" [useAuth] Supabase configured:",p),!p){console.log(" [useAuth] Supabase not configured, using local mode");const v=Qt.getItem("btcwheel_local_user");if(v)try{const b=JSON.parse(v);e(b),console.log(" [useAuth] Local user found:",b.email)}catch(b){console.error(" [useAuth] Error parsing local user:",b),Qt.removeItem("btcwheel_local_user")}else console.log(" [useAuth] No local user found");s(!1);return}console.log(" [useAuth] Checking Supabase session..."),Ge.auth.getSession().then(({data:v})=>{const b=v.session;if(b)console.log(" [useAuth] Session found! User:",b.user.email),console.log(" [useAuth] Access token:",b.access_token.substring(0,20)+"..."),n(b),e(b?.user??null),s(!1);else{console.log(" [useAuth] No active session found - checking for local demo user");const w=Qt.getItem("btcwheel_local_user");if(w)try{const x=JSON.parse(w);x.app_metadata?.provider==="local"&&(e(x),console.log(" [useAuth] Local demo user found:",x.email))}catch(x){console.error(" [useAuth] Error parsing local user:",x)}s(!1)}});const{data:{subscription:h}}=Ge.auth.onAuthStateChange((v,b)=>{if(console.log(" [useAuth] Auth state changed:",v),b)console.log(" [useAuth] New session:",b.user.email),n(b),e(b.user);else{console.log(" [useAuth] Session cleared"),n(null);const w=Qt.getItem("btcwheel_local_user");if(w){const x=JSON.parse(w);x.app_metadata?.provider==="local"?e(x):e(null)}else e(null)}s(!1)}),g=v=>{if(v.detail?.key==="btcwheel_local_user"){console.log(" [useAuth] Local storage update detected:",v.detail.key);const b=v.detail.value;if(b)try{const w=JSON.parse(b);e(w)}catch(w){console.error("Error parsing local user update",w)}else e(null)}};return window.addEventListener("btcwheel-storage",g),()=>{h.unsubscribe(),window.removeEventListener("btcwheel-storage",g)}},[]);const o=async(p,h)=>{if(!xt){const g=Qt.getItem("btcwheel_local_user");if(g){const v=JSON.parse(g);if(v.email===p)return e(v),de.success("Accesso effettuato!"),{user:v,error:null}}return de.error("Credenziali non valide"),{user:null,error:new Error("Invalid credentials")}}try{const{data:g,error:v}=await Ge.auth.signInWithPassword({email:p,password:h});return v?(de.error(v.message),{user:null,error:v}):(de.success("Accesso effettuato!"),{user:g.user,error:null})}catch(g){return console.error("Sign in error:",g),de.error("Errore durante l'accesso"),{user:null,error:g}}},c=async(p,h,g)=>{if(!xt){const v={id:`local-${Date.now()}`,email:p,user_metadata:{name:g||"User"},app_metadata:{provider:"local"},aud:"authenticated",created_at:new Date().toISOString()};return Qt.setItem("btcwheel_local_user",JSON.stringify(v)),e(v),de.success("Account creato! Benvenuto!"),{user:v,error:null}}try{console.log(" [useAuth] Signing up via server endpoint...");const{projectId:v}=await qi(async()=>{const{projectId:k}=await Promise.resolve().then(()=>Ba);return{projectId:k}},void 0),b=await fetch(`https://${v}.supabase.co/functions/v1/make-server-7c0f82ca/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p,password:h,name:g||"User"})});if(b.status===404||b.status>=500){console.warn(` [useAuth] Server error (${b.status}), falling back to direct signup`);const{data:k,error:_}=await Ge.auth.signUp({email:p,password:h,options:{data:{name:g||"User"}}});if(_)throw _;return de.success("Account creato! Controlla la tua email per confermare."),{user:k.user,error:null}}const w=await b.json();if(!b.ok||w.error)return console.error(" [useAuth] Signup error:",w.error),de.error(w.error||"Errore durante la registrazione"),{user:null,error:new Error(w.error)};console.log(" [useAuth] User created successfully via server"),console.log(" [useAuth] Auto-signing in...");const{data:x,error:S}=await Ge.auth.signInWithPassword({email:p,password:h});return S?(console.error(" [useAuth] Auto-signin error:",S),de.success("Account creato! Puoi ora effettuare il login."),{user:null,error:S}):(console.log(" [useAuth] User signed in successfully"),de.success("Account creato e accesso effettuato! Benvenuto! "),{user:x.user,error:null})}catch(v){return console.error(" [useAuth] Sign up error:",v),de.error("Errore durante la registrazione"),{user:null,error:v}}},d=async()=>{if(console.log(" [useAuth] Signing out..."),!xt)return console.log(" [useAuth] Local mode - clearing localStorage"),Qt.removeItem("btcwheel_local_user"),e(null),de.success("Disconnesso"),{error:null};try{console.log(" [useAuth] Cloud mode - signing out from Supabase");const{error:p}=await Ge.auth.signOut();return p?(console.error(" [useAuth] Logout error:",p),de.error(p.message),{error:p}):(console.log(" [useAuth] Successfully signed out"),de.success("Disconnesso"),{error:null})}catch(p){return console.error(" [useAuth] Sign out error:",p),de.error("Errore durante la disconnessione"),{error:p}}},f=async()=>{if(!xt)return de.error("Google Sign-In richiede configurazione Supabase"),{user:null,error:new Error("Supabase not configured")};try{const{data:p,error:h}=await Ge.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}`}});return h?(de.error(h.message),{user:null,error:h}):{user:p,error:null}}catch(p){return console.error("Google sign in error:",p),de.error("Errore durante l'accesso con Google"),{user:null,error:p}}};return{user:t,session:r,loading:i,signIn:o,signUp:c,signOut:d,signInWithGoogle:f,loginAsGuest:async()=>{console.log(" [useAuth] Logging in as Guest...");const p={id:`guest-${Date.now()}`,email:"guest@btcwheel.app",user_metadata:{name:"Ospite"},app_metadata:{provider:"local"},aud:"authenticated",created_at:new Date().toISOString()};return Qt.setItem("btcwheel_local_user",JSON.stringify(p)),e(p),de.success("Accesso come ospite effettuato!"),{user:p,error:null}},signInWithEmail:o,signUpWithEmail:c,signInWithMagicLink:f}}async function rq(t){try{const e=`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/analyze-profile`,r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ur}`},body:JSON.stringify(t)});if(!r.ok)return console.error("Server error:",r.status),Mf(t);const n=await r.json();return n.useFallback?(console.warn("Using fallback recommendations (OpenAI not available on server)"),Mf(t)):n.recommendation?(console.log(" AI-powered recommendations generated successfully!"),n.recommendation):Mf(t)}catch(e){return console.error("Error calling analyze-profile endpoint:",e),Mf(t)}}function Mf(t){return t.experienceLevel==="beginner"&&t.optionsKnowledge==="none"?{startingLesson:1,recommendedPath:["Lezione 1: Introduzione Bitcoin","Lezione 2: Wheel Strategy Basics","Lezione 3: Fondamenti Opzioni","Lezione 4: Put Cash-Secured","Lezione 6: Gestione Rischio"],estimatedDuration:"3-4 settimane",focusAreas:["Basi del Bitcoin e volatilit","Comprendere le opzioni Put e Call","Gestione rischio fondamentale","Pratica con simulatore"],tips:["Inizia con piccole somme nel simulatore","Studia ogni giorno 15-20 minuti","Non saltare le basi delle opzioni","Fai domande alla mascotte quando hai dubbi"],customMessage:" Benvenuto! Sei all'inizio del tuo viaggio nel trading di opzioni Bitcoin. Inizieremo dalle basi assolute per costruire una solida fondazione. Prenditi il tuo tempo e completa ogni lezione con attenzione!"}:t.experienceLevel==="intermediate"||t.tradingKnowledge==="basic"?{startingLesson:3,recommendedPath:["Lezione 3: Fondamenti Opzioni","Lezione 5: Strike Selection","Lezione 7: Time Decay","Lezione 9: Roll & Adjust","Lezione 11: Greeks Avanzati"],estimatedDuration:"2-3 settimane",focusAreas:["Selezione strike ottimale","Time decay e gestione tempo","Tecniche di roll avanzate","Greeks per decisioni informate"],tips:["Concentrati sulla gestione delle posizioni","Pratica roll scenarios nel simulatore","Studia i Greeks in dettaglio","Tieni un journal delle tue simulazioni"],customMessage:" Ottimo! Hai gi delle basi. Ci concentreremo su strategie intermedie e gestione avanzata delle posizioni. Il tuo obiettivo  padroneggiare il roll e l'aggiustamento delle posizioni."}:{startingLesson:7,recommendedPath:["Lezione 7: Time Decay","Lezione 9: Roll & Adjust","Lezione 11: Greeks Avanzati","Lezione 12: Portfolio Management","Lezione 15: Strategie Multi-Leg"],estimatedDuration:"1-2 settimane",focusAreas:["Greeks avanzati e volatilit","Portfolio diversification","Strategie multi-leg complesse","Ottimizzazione fiscale"],tips:["Sperimenta con strategie avanzate","Ottimizza il tuo portfolio per rischio/rendimento","Studia le implicazioni fiscali","Pratica scenari complessi di mercato"],customMessage:" Eccellente! Sei un trader esperto. Ci focalizzeremo su strategie avanzate, ottimizzazione del portfolio e tecniche professionali. Pronto per portare il tuo trading al livello successivo!"}}function s4(){const{user:t}=xn(),[e,r]=P.useState({completed:!1,profile:null,recommendations:null}),[n,i]=P.useState(!0),[s,o]=P.useState(!1);P.useEffect(()=>{(async()=>{i(!0);try{const h=t?`btc-wheel-onboarding-${t.id}`:"btc-wheel-onboarding",g=Qt.getItem(h);g&&r(JSON.parse(g))}catch(h){console.error("Error loading onboarding state:",h)}finally{i(!1)}})()},[t]);const c=P.useCallback(async p=>{console.log(" useOnboarding: completeOnboarding called with profile:",p),o(!0);try{let h=null;try{console.log(" useOnboarding: Calling analyzeUserProfile..."),h=await rq(p),console.log(" useOnboarding: AI analysis successful:",h)}catch(b){console.warn(" useOnboarding: AI analysis failed, continuing with onboarding:",b)}const g={completed:!0,profile:p,recommendations:h},v=t?`btc-wheel-onboarding-${t.id}`:"btc-wheel-onboarding";return console.log(" useOnboarding: Saving to localStorage with key:",v),Qt.setItem(v,JSON.stringify(g)),r(g),console.log(" useOnboarding: State saved successfully"),h}catch(h){console.error(" useOnboarding: Error completing onboarding:",h);const g={completed:!0,profile:p,recommendations:null},v=t?`btc-wheel-onboarding-${t.id}`:"btc-wheel-onboarding";return console.log(" useOnboarding: Saving fallback state to localStorage"),Qt.setItem(v,JSON.stringify(g)),r(g),console.log(" useOnboarding: Fallback state saved"),null}finally{console.log(" useOnboarding: Setting analyzing to false"),o(!1)}},[t]),d=P.useCallback(()=>{const p={completed:!0,profile:null,recommendations:null},h=t?`btc-wheel-onboarding-${t.id}`:"btc-wheel-onboarding";Qt.setItem(h,JSON.stringify(p)),r(p)},[t]),f=P.useCallback(async()=>{const p=t?`btc-wheel-onboarding-${t.id}`:"btc-wheel-onboarding";Qt.removeItem(p),r({completed:!1,profile:null,recommendations:null})},[t]);return{onboarding:e,loading:n,analyzing:s,completeOnboarding:c,skipOnboarding:d,resetOnboarding:f,shouldShowOnboarding:!n&&!e.completed}}function f2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Pp(...t){return e=>{let r=!1;const n=t.map(i=>{const s=f2(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():f2(t[i],null)}}}}function Qi(...t){return P.useCallback(Pp(...t),t)}var nq=Symbol.for("react.lazy"),dh=Y1[" use ".trim().toString()];function iq(t){return typeof t=="object"&&t!==null&&"then"in t}function o4(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===nq&&"_payload"in t&&iq(t._payload)}function od(t){const e=aq(t),r=P.forwardRef((n,i)=>{let{children:s,...o}=n;o4(s)&&typeof dh=="function"&&(s=dh(s._payload));const c=P.Children.toArray(s),d=c.find(oq);if(d){const f=d.props.children,p=c.map(h=>h===d?P.Children.count(f)>1?P.Children.only(null):P.isValidElement(f)?f.props.children:null:h);return a.jsx(e,{...o,ref:i,children:P.isValidElement(f)?P.cloneElement(f,void 0,p):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var l4=od("Slot");function aq(t){const e=P.forwardRef((r,n)=>{let{children:i,...s}=r;if(o4(i)&&typeof dh=="function"&&(i=dh(i._payload)),P.isValidElement(i)){const o=cq(i),c=lq(s,i.props);return i.type!==P.Fragment&&(c.ref=n?Pp(n,o):o),P.cloneElement(i,c)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var sq=Symbol("radix.slottable");function oq(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===sq}function lq(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...c)=>{const d=s(...c);return i(...c),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function cq(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function c4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=c4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function nt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=c4(t))&&(n&&(n+=" "),n+=e);return n}const h2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,p2=nt,nj=(t,e)=>r=>{var n;if(e?.variants==null)return p2(t,r?.class,r?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(f=>{const p=r?.[f],h=s?.[f];if(p===null)return null;const g=h2(p)||h2(h);return i[f][g]}),c=r&&Object.entries(r).reduce((f,p)=>{let[h,g]=p;return g===void 0||(f[h]=g),f},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:h,className:g,...v}=p;return Object.entries(v).every(b=>{let[w,x]=b;return Array.isArray(x)?x.includes({...s,...c}[w]):{...s,...c}[w]===x})?[...f,h,g]:f},[]);return p2(t,o,d,r?.class,r?.className)},uq=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},dq=(t,e)=>({classGroupId:t,validator:e}),u4=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),fh="-",m2=[],fq="arbitrary..",hq=t=>{const e=mq(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return pq(o);const c=o.split(fh),d=c[0]===""&&c.length>1?1:0;return d4(c,d,e)},getConflictingClassGroupIds:(o,c)=>{if(c){const d=n[o],f=r[o];return d?f?uq(f,d):d:f||m2}return r[o]||m2}}},d4=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const i=t[e],s=r.nextPart.get(i);if(s){const f=d4(t,e+1,s);if(f)return f}const o=r.validators;if(o===null)return;const c=e===0?t.join(fh):t.slice(e).join(fh),d=o.length;for(let f=0;f<d;f++){const p=o[f];if(p.validator(c))return p.classGroupId}},pq=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?fq+n:void 0})(),mq=t=>{const{theme:e,classGroups:r}=t;return gq(r,e)},gq=(t,e)=>{const r=u4();for(const n in t){const i=t[n];ij(i,r,n,e)}return r},ij=(t,e,r,n)=>{const i=t.length;for(let s=0;s<i;s++){const o=t[s];vq(o,e,r,n)}},vq=(t,e,r,n)=>{if(typeof t=="string"){yq(t,e,r);return}if(typeof t=="function"){xq(t,e,r,n);return}bq(t,e,r,n)},yq=(t,e,r)=>{const n=t===""?e:f4(e,t);n.classGroupId=r},xq=(t,e,r,n)=>{if(wq(t)){ij(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(dq(r,t))},bq=(t,e,r,n)=>{const i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[c,d]=i[o];ij(d,f4(e,c),r,n)}},f4=(t,e)=>{let r=t;const n=e.split(fh),i=n.length;for(let s=0;s<i;s++){const o=n[s];let c=r.nextPart.get(o);c||(c=u4(),r.nextPart.set(o,c)),r=c}return r},wq=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,jq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const i=(s,o)=>{r[s]=o,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(s){let o=r[s];if(o!==void 0)return o;if((o=n[s])!==void 0)return i(s,o),o},set(s,o){s in r?r[s]=o:i(s,o)}}},rw="!",g2=":",Sq=[],v2=(t,e,r,n,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),_q=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const s=[];let o=0,c=0,d=0,f;const p=i.length;for(let w=0;w<p;w++){const x=i[w];if(o===0&&c===0){if(x===g2){s.push(i.slice(d,w)),d=w+1;continue}if(x==="/"){f=w;continue}}x==="["?o++:x==="]"?o--:x==="("?c++:x===")"&&c--}const h=s.length===0?i:i.slice(d);let g=h,v=!1;h.endsWith(rw)?(g=h.slice(0,-1),v=!0):h.startsWith(rw)&&(g=h.slice(1),v=!0);const b=f&&f>d?f-d:void 0;return v2(s,v,g,b)};if(e){const i=e+g2,s=n;n=o=>o.startsWith(i)?s(o.slice(i.length)):v2(Sq,!1,o,void 0,!0)}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},Nq=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let s=0;s<r.length;s++){const o=r[s],c=o[0]==="[",d=e.has(o);c||d?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(o)):i.push(o)}return i.length>0&&(i.sort(),n.push(...i)),n}},kq=t=>({cache:jq(t.cacheSize),parseClassName:_q(t),sortModifiers:Nq(t),...hq(t)}),Tq=/\s+/,Aq=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],c=t.trim().split(Tq);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:h,modifiers:g,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:w}=r(p);if(h){d=p+(d.length>0?" "+d:d);continue}let x=!!w,S=n(x?b.substring(0,w):b);if(!S){if(!x){d=p+(d.length>0?" "+d:d);continue}if(S=n(b),!S){d=p+(d.length>0?" "+d:d);continue}x=!1}const k=g.length===0?"":g.length===1?g[0]:s(g).join(":"),_=v?k+rw:k,C=_+S;if(o.indexOf(C)>-1)continue;o.push(C);const N=i(S,x);for(let T=0;T<N.length;++T){const E=N[T];o.push(_+E)}d=p+(d.length>0?" "+d:d)}return d},Pq=(...t)=>{let e=0,r,n,i="";for(;e<t.length;)(r=t[e++])&&(n=h4(r))&&(i&&(i+=" "),i+=n);return i},h4=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=h4(t[n]))&&(r&&(r+=" "),r+=e);return r},Cq=(t,...e)=>{let r,n,i,s;const o=d=>{const f=e.reduce((p,h)=>h(p),t());return r=kq(f),n=r.cache.get,i=r.cache.set,s=c,c(d)},c=d=>{const f=n(d);if(f)return f;const p=Aq(d,r);return i(d,p),p};return s=o,(...d)=>s(Pq(...d))},Eq=[],nr=t=>{const e=r=>r[t]||Eq;return e.isThemeGetter=!0,e},p4=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,m4=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Oq=/^\d+\/\d+$/,Iq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$q=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Mq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Dq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Po=t=>Oq.test(t),Qe=t=>!!t&&!Number.isNaN(Number(t)),Ra=t=>!!t&&Number.isInteger(Number(t)),y0=t=>t.endsWith("%")&&Qe(t.slice(0,-1)),Li=t=>Iq.test(t),zq=()=>!0,Lq=t=>Rq.test(t)&&!$q.test(t),g4=()=>!1,Bq=t=>Mq.test(t),Fq=t=>Dq.test(t),qq=t=>!Ce(t)&&!Ee(t),Uq=t=>El(t,x4,g4),Ce=t=>p4.test(t),xs=t=>El(t,b4,Lq),x0=t=>El(t,Kq,Qe),y2=t=>El(t,v4,g4),Vq=t=>El(t,y4,Fq),Df=t=>El(t,w4,Bq),Ee=t=>m4.test(t),Oc=t=>Ol(t,b4),Wq=t=>Ol(t,Xq),x2=t=>Ol(t,v4),Hq=t=>Ol(t,x4),Gq=t=>Ol(t,y4),zf=t=>Ol(t,w4,!0),El=(t,e,r)=>{const n=p4.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},Ol=(t,e,r=!1)=>{const n=m4.exec(t);return n?n[1]?e(n[1]):r:!1},v4=t=>t==="position"||t==="percentage",y4=t=>t==="image"||t==="url",x4=t=>t==="length"||t==="size"||t==="bg-size",b4=t=>t==="length",Kq=t=>t==="number",Xq=t=>t==="family-name",w4=t=>t==="shadow",Yq=()=>{const t=nr("color"),e=nr("font"),r=nr("text"),n=nr("font-weight"),i=nr("tracking"),s=nr("leading"),o=nr("breakpoint"),c=nr("container"),d=nr("spacing"),f=nr("radius"),p=nr("shadow"),h=nr("inset-shadow"),g=nr("text-shadow"),v=nr("drop-shadow"),b=nr("blur"),w=nr("perspective"),x=nr("aspect"),S=nr("ease"),k=nr("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...C(),Ee,Ce],T=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],O=()=>[Ee,Ce,d],R=()=>[Po,"full","auto",...O()],H=()=>[Ra,"none","subgrid",Ee,Ce],L=()=>["auto",{span:["full",Ra,Ee,Ce]},Ra,Ee,Ce],M=()=>[Ra,"auto",Ee,Ce],$=()=>["auto","min","max","fr",Ee,Ce],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...O()],Z=()=>[Po,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],D=()=>[t,Ee,Ce],U=()=>[...C(),x2,y2,{position:[Ee,Ce]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",Hq,Uq,{size:[Ee,Ce]}],q=()=>[y0,Oc,xs],Y=()=>["","none","full",f,Ee,Ce],se=()=>["",Qe,Oc,xs],fe=()=>["solid","dashed","dotted","double"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Qe,y0,x2,y2],le=()=>["","none",b,Ee,Ce],ie=()=>["none",Qe,Ee,Ce],pe=()=>["none",Qe,Ee,Ce],_e=()=>[Qe,Ee,Ce],ue=()=>[Po,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Li],breakpoint:[Li],color:[zq],container:[Li],"drop-shadow":[Li],ease:["in","out","in-out"],font:[qq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Li],shadow:[Li],spacing:["px",Qe],text:[Li],"text-shadow":[Li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Po,Ce,Ee,x]}],container:["container"],columns:[{columns:[Qe,Ce,Ee,c]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Ra,"auto",Ee,Ce]}],basis:[{basis:[Po,"full","auto",c,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qe,Po,"auto","initial","none",Ce]}],grow:[{grow:["",Qe,Ee,Ce]}],shrink:[{shrink:["",Qe,Ee,Ce]}],order:[{order:[Ra,"first","last","none",Ee,Ce]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[c,"screen",...Z()]}],"min-w":[{"min-w":[c,"screen","none",...Z()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",r,Oc,xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ee,x0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",y0,Ce]}],"font-family":[{font:[Wq,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ee,Ce]}],"line-clamp":[{"line-clamp":[Qe,"none",Ee,x0]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",Ee,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qe,"from-font","auto",Ee,xs]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[Qe,"auto",Ee,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ra,Ee,Ce],radial:["",Ee,Ce],conic:[Ra,Ee,Ce]},Gq,Vq]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qe,Ee,Ce]}],"outline-w":[{outline:["",Qe,Oc,xs]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",p,zf,Df]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",h,zf,Df]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[Qe,xs]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",g,zf,Df]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[Qe,Ee,Ce]}],"mix-blend":[{"mix-blend":[...te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[Ee,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,Ce]}],filter:[{filter:["","none",Ee,Ce]}],blur:[{blur:le()}],brightness:[{brightness:[Qe,Ee,Ce]}],contrast:[{contrast:[Qe,Ee,Ce]}],"drop-shadow":[{"drop-shadow":["","none",v,zf,Df]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",Qe,Ee,Ce]}],"hue-rotate":[{"hue-rotate":[Qe,Ee,Ce]}],invert:[{invert:["",Qe,Ee,Ce]}],saturate:[{saturate:[Qe,Ee,Ce]}],sepia:[{sepia:["",Qe,Ee,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,Ce]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[Qe,Ee,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Qe,Ee,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qe,Ee,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qe,Ee,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Qe,Ee,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Qe,Ee,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Qe,Ee,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Qe,Ee,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qe,"initial",Ee,Ce]}],ease:[{ease:["linear","initial",S,Ee,Ce]}],delay:[{delay:[Qe,Ee,Ce]}],animate:[{animate:["none",k,Ee,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ee,Ce]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[Ee,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,Ce]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[Qe,Oc,xs,x0]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Jq=Cq(Yq);function gr(...t){return Jq(nt(t))}const Qq=nj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function ye({className:t,variant:e,size:r,asChild:n=!1,...i}){const s=n?l4:"button";return a.jsx(s,{"data-slot":"button",className:gr(Qq({variant:e,size:r,className:t})),...i})}function oe({className:t,...e}){return a.jsx("div",{"data-slot":"card",className:gr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}const Zq=nj("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:t,variant:e,asChild:r=!1,...n}){const i=r?l4:"span";return a.jsx(i,{"data-slot":"badge",className:gr(Zq({variant:e}),t),...n})}const aj=P.createContext({});function Cp(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const j4=typeof window<"u",S4=j4?P.useLayoutEffect:P.useEffect,Ep=P.createContext(null);function sj(t,e){t.indexOf(e)===-1&&t.push(e)}function oj(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Si=(t,e,r)=>r>e?e:r<t?t:r;let lj=()=>{};const Zi={},_4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function N4(t){return typeof t=="object"&&t!==null}const k4=t=>/^0[^.\s]+$/u.test(t);function cj(t){let e;return()=>(e===void 0&&(e=t()),e)}const $n=t=>t,eU=(t,e)=>r=>e(t(r)),ld=(...t)=>t.reduce(eU),gu=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class uj{constructor(){this.subscriptions=[]}add(e){return sj(this.subscriptions,e),()=>oj(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hi=t=>t*1e3,In=t=>t/1e3;function T4(t,e){return e?t*(1e3/e):0}const A4=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,tU=1e-7,rU=12;function nU(t,e,r,n,i){let s,o,c=0;do o=e+(r-e)/2,s=A4(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>tU&&++c<rU);return o}function cd(t,e,r,n){if(t===e&&r===n)return $n;const i=s=>nU(s,0,1,t,r);return s=>s===0||s===1?s:A4(i(s),e,n)}const P4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,C4=t=>e=>1-t(1-e),E4=cd(.33,1.53,.69,.99),dj=C4(E4),O4=P4(dj),I4=t=>(t*=2)<1?.5*dj(t):.5*(2-Math.pow(2,-10*(t-1))),fj=t=>1-Math.sin(Math.acos(t)),R4=C4(fj),$4=P4(fj),iU=cd(.42,0,1,1),aU=cd(0,0,.58,1),M4=cd(.42,0,.58,1),sU=t=>Array.isArray(t)&&typeof t[0]!="number",D4=t=>Array.isArray(t)&&typeof t[0]=="number",oU={linear:$n,easeIn:iU,easeInOut:M4,easeOut:aU,circIn:fj,circInOut:$4,circOut:R4,backIn:dj,backInOut:O4,backOut:E4,anticipate:I4},lU=t=>typeof t=="string",b2=t=>{if(D4(t)){lj(t.length===4);const[e,r,n,i]=t;return cd(e,r,n,i)}else if(lU(t))return oU[t];return t},Lf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cU(t,e){let r=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){o.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,h=!1,g=!1)=>{const b=g&&i?r:n;return h&&o.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),o.delete(p)},process:p=>{if(c=p,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(d),r.clear(),i=!1,s&&(s=!1,f.process(p))}};return f}const uU=40;function z4(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=Lf.reduce((_,C)=>(_[C]=cU(s),_),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:p,update:h,preRender:g,render:v,postRender:b}=o,w=()=>{const _=Zi.useManualTiming?i.timestamp:performance.now();r=!1,Zi.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(_-i.timestamp,uU),1)),i.timestamp=_,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),p.process(i),h.process(i),g.process(i),v.process(i),b.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(w))},x=()=>{r=!0,n=!0,i.isProcessing||t(w)};return{schedule:Lf.reduce((_,C)=>{const N=o[C];return _[C]=(T,E=!1,O=!1)=>(r||x(),N.schedule(T,E,O)),_},{}),cancel:_=>{for(let C=0;C<Lf.length;C++)o[Lf[C]].cancel(_)},state:i,steps:o}}const{schedule:Et,cancel:Ga,state:kr,steps:b0}=z4(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0);let ih;function dU(){ih=void 0}const Vr={now:()=>(ih===void 0&&Vr.set(kr.isProcessing||Zi.useManualTiming?kr.timestamp:performance.now()),ih),set:t=>{ih=t,queueMicrotask(dU)}},L4=t=>e=>typeof e=="string"&&e.startsWith(t),B4=L4("--"),fU=L4("var(--"),hj=t=>fU(t)?hU.test(t.split("/*")[0].trim()):!1,hU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function w2(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vu={...Il,transform:t=>Si(0,1,t)},Bf={...Il,default:1},eu=t=>Math.round(t*1e5)/1e5,pj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pU(t){return t==null}const mU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mj=(t,e)=>r=>!!(typeof r=="string"&&mU.test(r)&&r.startsWith(t)||e&&!pU(r)&&Object.prototype.hasOwnProperty.call(r,e)),F4=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,c]=n.match(pj);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},gU=t=>Si(0,255,t),w0={...Il,transform:t=>Math.round(gU(t))},Ps={test:mj("rgb","red"),parse:F4("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+w0.transform(t)+", "+w0.transform(e)+", "+w0.transform(r)+", "+eu(vu.transform(n))+")"};function vU(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const nw={test:mj("#"),parse:vU,transform:Ps.transform},ud=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$a=ud("deg"),xi=ud("%"),ke=ud("px"),yU=ud("vh"),xU=ud("vw"),j2={...xi,parse:t=>xi.parse(t)/100,transform:t=>xi.transform(t*100)},qo={test:mj("hsl","hue"),parse:F4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+xi.transform(eu(e))+", "+xi.transform(eu(r))+", "+eu(vu.transform(n))+")"},Jt={test:t=>Ps.test(t)||nw.test(t)||qo.test(t),parse:t=>Ps.test(t)?Ps.parse(t):qo.test(t)?qo.parse(t):nw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ps.transform(t):qo.transform(t),getAnimatableNone:t=>{const e=Jt.parse(t);return e.alpha=0,Jt.transform(e)}},bU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wU(t){return isNaN(t)&&typeof t=="string"&&(t.match(pj)?.length||0)+(t.match(bU)?.length||0)>0}const q4="number",U4="color",jU="var",SU="var(",S2="${}",_U=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yu(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const c=e.replace(_U,d=>(Jt.test(d)?(n.color.push(s),i.push(U4),r.push(Jt.parse(d))):d.startsWith(SU)?(n.var.push(s),i.push(jU),r.push(d)):(n.number.push(s),i.push(q4),r.push(parseFloat(d))),++s,S2)).split(S2);return{values:r,split:c,indexes:n,types:i}}function V4(t){return yu(t).values}function W4(t){const{split:e,types:r}=yu(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const c=r[o];c===q4?s+=eu(i[o]):c===U4?s+=Jt.transform(i[o]):s+=i[o]}return s}}const NU=t=>typeof t=="number"?0:Jt.test(t)?Jt.getAnimatableNone(t):t;function kU(t){const e=V4(t);return W4(t)(e.map(NU))}const Ka={test:wU,parse:V4,createTransformer:W4,getAnimatableNone:kU};function j0(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function TU({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const c=r<.5?r*(1+e):r+e-r*e,d=2*r-c;i=j0(d,c,t+1/3),s=j0(d,c,t),o=j0(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function hh(t,e){return r=>r>0?e:t}const zt=(t,e,r)=>t+(e-t)*r,S0=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},AU=[nw,Ps,qo],PU=t=>AU.find(e=>e.test(t));function _2(t){const e=PU(t);if(!e)return!1;let r=e.parse(t);return e===qo&&(r=TU(r)),r}const N2=(t,e)=>{const r=_2(t),n=_2(e);if(!r||!n)return hh(t,e);const i={...r};return s=>(i.red=S0(r.red,n.red,s),i.green=S0(r.green,n.green,s),i.blue=S0(r.blue,n.blue,s),i.alpha=zt(r.alpha,n.alpha,s),Ps.transform(i))},iw=new Set(["none","hidden"]);function CU(t,e){return iw.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function EU(t,e){return r=>zt(t,e,r)}function gj(t){return typeof t=="number"?EU:typeof t=="string"?hj(t)?hh:Jt.test(t)?N2:RU:Array.isArray(t)?H4:typeof t=="object"?Jt.test(t)?N2:OU:hh}function H4(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>gj(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function OU(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=gj(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function IU(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][n[s]],c=t.values[o]??0;r[i]=c,n[s]++}return r}const RU=(t,e)=>{const r=Ka.createTransformer(e),n=yu(t),i=yu(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?iw.has(t)&&!i.values.length||iw.has(e)&&!n.values.length?CU(t,e):ld(H4(IU(n,i),i.values),r):hh(t,e)};function G4(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?zt(t,e,r):gj(t)(t,e)}const $U=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Et.update(e,r),stop:()=>Ga(e),now:()=>kr.isProcessing?kr.timestamp:Vr.now()}},K4=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},ph=2e4;function vj(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<ph;)e+=r,n=t.next(e);return e>=ph?1/0:e}function MU(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(vj(n),ph);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:In(i)}}const DU=5;function X4(t,e,r){const n=Math.max(e-DU,0);return T4(r-t(n),e-n)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_0=.001;function zU({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:r=Ft.velocity,mass:n=Ft.mass}){let i,s,o=1-e;o=Si(Ft.minDamping,Ft.maxDamping,o),t=Si(Ft.minDuration,Ft.maxDuration,In(t)),o<1?(i=f=>{const p=f*o,h=p*t,g=p-r,v=aw(f,o),b=Math.exp(-h);return _0-g/v*b},s=f=>{const h=f*o*t,g=h*r+r,v=Math.pow(o,2)*Math.pow(f,2)*t,b=Math.exp(-h),w=aw(Math.pow(f,2),o);return(-i(f)+_0>0?-1:1)*((g-v)*b)/w}):(i=f=>{const p=Math.exp(-f*t),h=(f-r)*t+1;return-_0+p*h},s=f=>{const p=Math.exp(-f*t),h=(r-f)*(t*t);return p*h});const c=5/t,d=BU(i,s,c);if(t=Hi(t),isNaN(d))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:o*2*Math.sqrt(n*f),duration:t}}}const LU=12;function BU(t,e,r){let n=r;for(let i=1;i<LU;i++)n=n-t(n)/e(n);return n}function aw(t,e){return t*Math.sqrt(1-e*e)}const FU=["duration","bounce"],qU=["stiffness","damping","mass"];function k2(t,e){return e.some(r=>t[r]!==void 0)}function UU(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!k2(t,qU)&&k2(t,FU))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Si(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ft.mass,stiffness:i,damping:s}}else{const r=zU(t);e={...e,...r,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function mh(t=Ft.visualDuration,e=Ft.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:s},{stiffness:d,damping:f,mass:p,duration:h,velocity:g,isResolvedFromDuration:v}=UU({...r,velocity:-In(r.velocity||0)}),b=g||0,w=f/(2*Math.sqrt(d*p)),x=o-s,S=In(Math.sqrt(d/p)),k=Math.abs(x)<5;n||(n=k?Ft.restSpeed.granular:Ft.restSpeed.default),i||(i=k?Ft.restDelta.granular:Ft.restDelta.default);let _;if(w<1){const N=aw(S,w);_=T=>{const E=Math.exp(-w*S*T);return o-E*((b+w*S*x)/N*Math.sin(N*T)+x*Math.cos(N*T))}}else if(w===1)_=N=>o-Math.exp(-S*N)*(x+(b+S*x)*N);else{const N=S*Math.sqrt(w*w-1);_=T=>{const E=Math.exp(-w*S*T),O=Math.min(N*T,300);return o-E*((b+w*S*x)*Math.sinh(O)+N*x*Math.cosh(O))/N}}const C={calculatedDuration:v&&h||null,next:N=>{const T=_(N);if(v)c.done=N>=h;else{let E=N===0?b:0;w<1&&(E=N===0?Hi(b):X4(_,N,T));const O=Math.abs(E)<=n,R=Math.abs(o-T)<=i;c.done=O&&R}return c.value=c.done?o:T,c},toString:()=>{const N=Math.min(vj(C),ph),T=K4(E=>C.next(N*E).value,N,30);return N+"ms "+T},toTransition:()=>{}};return C}mh.applyToOptions=t=>{const e=MU(t,100,mh);return t.ease=e.ease,t.duration=Hi(e.duration),t.type="keyframes",t};function sw({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:c,max:d,restDelta:f=.5,restSpeed:p}){const h=t[0],g={done:!1,value:h},v=O=>c!==void 0&&O<c||d!==void 0&&O>d,b=O=>c===void 0?d:d===void 0||Math.abs(c-O)<Math.abs(d-O)?c:d;let w=r*e;const x=h+w,S=o===void 0?x:o(x);S!==x&&(w=S-h);const k=O=>-w*Math.exp(-O/n),_=O=>S+k(O),C=O=>{const R=k(O),H=_(O);g.done=Math.abs(R)<=f,g.value=g.done?S:H};let N,T;const E=O=>{v(g.value)&&(N=O,T=mh({keyframes:[g.value,b(g.value)],velocity:X4(_,O,g.value),damping:i,stiffness:s,restDelta:f,restSpeed:p}))};return E(0),{calculatedDuration:null,next:O=>{let R=!1;return!T&&N===void 0&&(R=!0,C(O),E(O)),N!==void 0&&O>=N?T.next(O-N):(!R&&C(O),g)}}}function VU(t,e,r){const n=[],i=r||Zi.mix||G4,s=t.length-1;for(let o=0;o<s;o++){let c=i(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||$n:e;c=ld(d,c)}n.push(c)}return n}function WU(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(lj(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=VU(e,n,i),d=c.length,f=p=>{if(o&&p<t[0])return e[0];let h=0;if(d>1)for(;h<t.length-2&&!(p<t[h+1]);h++);const g=gu(t[h],t[h+1],p);return c[h](g)};return r?p=>f(Si(t[0],t[s-1],p)):f}function HU(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=gu(0,e,n);t.push(zt(r,1,i))}}function GU(t){const e=[0];return HU(e,t.length-1),e}function KU(t,e){return t.map(r=>r*e)}function XU(t,e){return t.map(()=>e||M4).splice(0,t.length-1)}function tu({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=sU(n)?n.map(b2):b2(n),s={done:!1,value:e[0]},o=KU(r&&r.length===e.length?r:GU(e),t),c=WU(o,e,{ease:Array.isArray(i)?i:XU(e,i)});return{calculatedDuration:t,next:d=>(s.value=c(d),s.done=d>=t,s)}}const YU=t=>t!==null;function yj(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(YU),c=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!c||n===void 0?s[c]:n}const JU={decay:sw,inertia:sw,tween:tu,keyframes:tu,spring:mh};function Y4(t){typeof t.type=="string"&&(t.type=JU[t.type])}class xj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const QU=t=>t/100;class bj extends xj{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Vr.now()&&this.tick(Vr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Y4(e);const{type:r=tu,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:c}=e;const d=r||tu;d!==tu&&typeof c[0]!="number"&&(this.mixKeyframes=ld(QU,G4(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=vj(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=f}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:p,repeat:h,repeatType:g,repeatDelay:v,type:b,onUpdate:w,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,C=n;if(h){const O=Math.min(this.currentTime,i)/c;let R=Math.floor(O),H=O%1;!H&&O>=1&&(H=1),H===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(g==="reverse"?(H=1-H,v&&(H-=v/c)):g==="mirror"&&(C=o)),_=Si(0,1,H)*c}const N=k?{done:!1,value:p[0]}:C.next(_);s&&(N.value=s(N.value));let{done:T}=N;!k&&d!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return E&&b!==sw&&(N.value=yj(p,this.options,x,this.speed)),w&&w(N.value),E&&this.finish(),N}then(e,r){return this.finished.then(e,r)}get duration(){return In(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+In(e)}get time(){return In(this.currentTime)}set time(e){e=Hi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vr.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=In(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=$U,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ZU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Cs=t=>t*180/Math.PI,ow=t=>{const e=Cs(Math.atan2(t[1],t[0]));return lw(e)},eV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ow,rotateZ:ow,skewX:t=>Cs(Math.atan(t[1])),skewY:t=>Cs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lw=t=>(t=t%360,t<0&&(t+=360),t),T2=ow,A2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),P2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:A2,scaleY:P2,scale:t=>(A2(t)+P2(t))/2,rotateX:t=>lw(Cs(Math.atan2(t[6],t[5]))),rotateY:t=>lw(Cs(Math.atan2(-t[2],t[0]))),rotateZ:T2,rotate:T2,skewX:t=>Cs(Math.atan(t[4])),skewY:t=>Cs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cw(t){return t.includes("scale")?1:0}function uw(t,e){if(!t||t==="none")return cw(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=tV,i=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=eV,i=c}if(!i)return cw(e);const s=n[e],o=i[1].split(",").map(nV);return typeof s=="function"?s(o):o[s]}const rV=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return uw(r,e)};function nV(t){return parseFloat(t.trim())}const Rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$l=new Set(Rl),C2=t=>t===Il||t===ke,iV=new Set(["x","y","z"]),aV=Rl.filter(t=>!iV.has(t));function sV(t){const e=[];return aV.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const qa={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>uw(e,"x"),y:(t,{transform:e})=>uw(e,"y")};qa.translateX=qa.x;qa.translateY=qa.y;const Ms=new Set;let dw=!1,fw=!1,hw=!1;function J4(){if(fw){const t=Array.from(Ms).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=sV(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{n.getValue(s)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}fw=!1,dw=!1,Ms.forEach(t=>t.complete(hw)),Ms.clear()}function Q4(){Ms.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fw=!0)})}function oV(){hw=!0,Q4(),J4(),hw=!1}class wj{constructor(e,r,n,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ms.add(this),dw||(dw=!0,Et.read(Q4),Et.resolveKeyframes(J4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}ZU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ms.delete(this)}cancel(){this.state==="scheduled"&&(Ms.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lV=t=>t.startsWith("--");function cV(t,e,r){lV(e)?t.style.setProperty(e,r):t.style[e]=r}const uV=cj(()=>window.ScrollTimeline!==void 0),dV={};function fV(t,e){const r=cj(t);return()=>dV[e]??r()}const Z4=fV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gc=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,E2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gc([0,.65,.55,1]),circOut:Gc([.55,0,1,.45]),backIn:Gc([.31,.01,.66,-.59]),backOut:Gc([.33,1.53,.69,.99])};function eR(t,e){if(t)return typeof t=="function"?Z4()?K4(t,e):"ease-out":D4(t)?Gc(t):Array.isArray(t)?t.map(r=>eR(r,e)||E2.easeOut):E2[t]}function hV(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:c="easeOut",times:d}={},f=void 0){const p={[e]:r};d&&(p.offset=d);const h=eR(c,i);Array.isArray(h)&&(p.easing=h);const g={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(p,g)}function tR(t){return typeof t=="function"&&"applyToOptions"in t}function pV({type:t,...e}){return tR(t)&&Z4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mV extends xj{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,lj(typeof e.type!="string");const f=pV(e);this.animation=hV(r,n,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const p=yj(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):cV(r,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return In(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+In(e)}get time(){return In(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Hi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&uV()?(this.animation.timeline=e,$n):r(this)}}const rR={anticipate:I4,backInOut:O4,circInOut:$4};function gV(t){return t in rR}function vV(t){typeof t.ease=="string"&&gV(t.ease)&&(t.ease=rR[t.ease])}const N0=10;class yV extends mV{constructor(e){vV(e),Y4(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new bj({...o,autoplay:!1}),d=Math.max(N0,Vr.now()-this.startTime),f=Si(0,N0,d-N0);r.setWithVelocity(c.sample(Math.max(0,d-f)).value,c.sample(d).value,f),c.stop()}}const O2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ka.test(t)||t==="0")&&!t.startsWith("url("));function xV(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function bV(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=O2(i,e),c=O2(s,e);return!o||!c?!1:xV(t)||(r==="spring"||tR(r))&&n}function pw(t){t.duration=0,t.type="keyframes"}const wV=new Set(["opacity","clipPath","filter","transform"]),jV=cj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function SV(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return jV()&&r&&wV.has(r)&&(r!=="transform"||!f)&&!d&&!n&&i!=="mirror"&&s!==0&&o!=="inertia"}const _V=40;class NV extends xj{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:c,name:d,motionValue:f,element:p,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vr.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,name:d,motionValue:f,element:p,...h},v=p?.KeyframeResolver||wj;this.keyframeResolver=new v(c,(b,w,x)=>this.onKeyframesResolved(b,w,g,!x),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:c,delay:d,isHandoff:f,onUpdate:p}=n;this.resolvedAt=Vr.now(),bV(e,s,o,c)||((Zi.instantAnimations||!d)&&p?.(yj(e,n,r)),e[0]=e[e.length-1],pw(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>_V?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!f&&SV(g)?new yV({...g,element:g.motionValue.owner.current}):new bj(g);v.finished.then(()=>this.notifyFinished()).catch($n),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),oV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const kV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TV(t){const e=kV.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function nR(t,e,r=1){const[n,i]=TV(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return _4(o)?parseFloat(o):o}return hj(i)?nR(i,e,r+1):i}function jj(t,e){return t?.[e]??t?.default??t}const AV={type:"spring",stiffness:500,damping:25,restSpeed:10},PV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CV={type:"keyframes",duration:.8},EV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OV=(t,{keyframes:e})=>e.length>2?CV:$l.has(t)?t.startsWith("scale")?PV(e[1]):AV:EV;function IV({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:c,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const RV=t=>t!==null;function $V(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(RV),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}function iR(t,e,r,n=0,i=1){const s=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),o=t.size,c=(o-1)*n;return typeof r=="function"?r(s,o):i===1?s*n:c-s*n}const Sj=(t,e,r,n={},i,s)=>o=>{const c=jj(n,t)||{},d=c.delay||n.delay||0;let{elapsed:f=0}=n;f=f-Hi(d);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:s?void 0:i};IV(c)||Object.assign(p,OV(t,p)),p.duration&&(p.duration=Hi(p.duration)),p.repeatDelay&&(p.repeatDelay=Hi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let h=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(pw(p),p.delay===0&&(h=!0)),(Zi.instantAnimations||Zi.skipAnimations)&&(h=!0,pw(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,h&&!s&&e.get()!==void 0){const g=$V(p.keyframes,c);if(g!==void 0){Et.update(()=>{p.onUpdate(g),p.onComplete()});return}}return c.isSync?new bj(p):new NV(p)},aR=new Set(["width","height","top","left","right","bottom",...Rl]),I2=30,MV=t=>!isNaN(parseFloat(t));class DV{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=Vr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Vr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new uj);const n=this.events[e].add(r);return e==="change"?()=>{n(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>I2)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,I2);return T4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nl(t,e){return new DV(t,e)}function R2(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function _j(t,e,r,n){if(typeof e=="function"){const[i,s]=R2(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=R2(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function Qo(t,e,r){const n=t.getProps();return _j(n,e,r!==void 0?r:n.custom,t)}const mw=t=>Array.isArray(t);function zV(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,nl(r))}function LV(t){return mw(t)?t[t.length-1]||0:t}function BV(t,e){const r=Qo(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const c=LV(s[o]);zV(t,o,c)}}const Lr=t=>!!(t&&t.getVelocity);function FV(t){return!!(Lr(t)&&t.add)}function gw(t,e){const r=t.getValue("willChange");if(FV(r))return r.add(e);if(!r&&Zi.WillChange){const n=new Zi.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Nj(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const qV="framerAppearId",sR="data-"+Nj(qV);function oR(t){return t.props[sR]}function UV({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function lR(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(s=n);const d=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const h=t.getValue(p,t.latestValues[p]??null),g=c[p];if(g===void 0||f&&UV(f,p))continue;const v={delay:r,...jj(s||{},p)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(g)&&g===b&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const S=oR(t);if(S){const k=window.MotionHandoffAnimation(S,p,Et);k!==null&&(v.startTime=k,w=!0)}}gw(t,p),h.start(Sj(p,h,g,t.shouldReduceMotion&&aR.has(p)?{type:!1}:v,t,w));const x=h.animation;x&&d.push(x)}return o&&Promise.all(d).then(()=>{Et.update(()=>{o&&BV(t,o)})}),d}function vw(t,e,r={}){const n=Qo(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(lR(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:h}=i;return VV(t,e,d,f,p,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,f]=c==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(r.delay)])}function VV(t,e,r=0,n=0,i=0,s=1,o){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(vw(d,e,{...o,delay:r+(typeof n=="function"?0:n)+iR(t.variantChildren,d,n,i,s)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function WV(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>vw(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=vw(t,e,r);else{const i=typeof e=="function"?Qo(t,e,r.custom):e;n=Promise.all(lR(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const HV={test:t=>t==="auto",parse:t=>t},cR=t=>e=>e.test(t),uR=[Il,ke,xi,$a,xU,yU,HV],$2=t=>uR.find(cR(t));function GV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||k4(t):!0}const KV=new Set(["brightness","contrast","saturate","opacity"]);function XV(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(pj)||[];if(!n)return t;const i=r.replace(n,"");let s=KV.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const YV=/\b([a-z-]*)\(.*?\)/gu,yw={...Ka,getAnimatableNone:t=>{const e=t.match(YV);return e?e.map(XV).join(" "):t}},M2={...Il,transform:Math.round},JV={rotate:$a,rotateX:$a,rotateY:$a,rotateZ:$a,scale:Bf,scaleX:Bf,scaleY:Bf,scaleZ:Bf,skew:$a,skewX:$a,skewY:$a,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:vu,originX:j2,originY:j2,originZ:ke},kj={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,inset:ke,insetBlock:ke,insetBlockStart:ke,insetBlockEnd:ke,insetInline:ke,insetInlineStart:ke,insetInlineEnd:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,paddingBlock:ke,paddingBlockStart:ke,paddingBlockEnd:ke,paddingInline:ke,paddingInlineStart:ke,paddingInlineEnd:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,marginBlock:ke,marginBlockStart:ke,marginBlockEnd:ke,marginInline:ke,marginInlineStart:ke,marginInlineEnd:ke,backgroundPositionX:ke,backgroundPositionY:ke,...JV,zIndex:M2,fillOpacity:vu,strokeOpacity:vu,numOctaves:M2},QV={...kj,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:yw,WebkitFilter:yw},dR=t=>QV[t];function fR(t,e){let r=dR(t);return r!==yw&&(r=Ka),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const ZV=new Set(["auto","none","0"]);function e9(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!ZV.has(s)&&yu(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=fR(r,i)}class t9 extends wj{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let h=e[p];if(typeof h=="string"&&(h=h.trim(),hj(h))){const g=nR(h,r.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!aR.has(n)||e.length!==2)return;const[i,s]=e,o=$2(i),c=$2(s),d=w2(i),f=w2(s);if(d!==f&&qa[n]){this.needsMeasurement=!0;return}if(o!==c)if(C2(o)&&C2(c))for(let p=0;p<e.length;p++){const h=e[p];typeof h=="string"&&(e[p]=parseFloat(h))}else qa[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||GV(e[i]))&&n.push(i);n.length&&e9(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=qa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function hR(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const pR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function mR(t){return N4(t)&&"offsetHeight"in t}const{schedule:Tj}=z4(queueMicrotask,!1),Yn={x:!1,y:!1};function gR(){return Yn.x||Yn.y}function r9(t){return t==="x"||t==="y"?Yn[t]?null:(Yn[t]=!0,()=>{Yn[t]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}function vR(t,e){const r=hR(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function D2(t){return!(t.pointerType==="touch"||gR())}function n9(t,e,r={}){const[n,i,s]=vR(t,r),o=c=>{if(!D2(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const p=h=>{D2(h)&&(f(h),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,i)};return n.forEach(c=>{c.addEventListener("pointerenter",o,i)}),s}const yR=(t,e)=>e?t===e?!0:yR(t,e.parentElement):!1,Aj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,i9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xR(t){return i9.has(t.tagName)||t.isContentEditable===!0}const ah=new WeakSet;function z2(t){return e=>{e.key==="Enter"&&t(e)}}function k0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const a9=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=z2(()=>{if(ah.has(r))return;k0(r,"down");const i=z2(()=>{k0(r,"up")}),s=()=>k0(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function L2(t){return Aj(t)&&!gR()}function s9(t,e,r={}){const[n,i,s]=vR(t,r),o=c=>{const d=c.currentTarget;if(!L2(c))return;ah.add(d);const f=e(d,c),p=(v,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",g),ah.has(d)&&ah.delete(d),L2(v)&&typeof f=="function"&&f(v,{success:b})},h=v=>{p(v,d===window||d===document||r.useGlobalTarget||yR(d,v.target))},g=v=>{p(v,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",g,i)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),mR(c)&&(c.addEventListener("focus",f=>a9(f,i)),!xR(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function bR(t){return N4(t)&&"ownerSVGElement"in t}function o9(t){return bR(t)&&t.tagName==="svg"}const l9=[...uR,Jt,Ka],c9=t=>l9.find(cR(t)),B2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:B2(),y:B2()}),F2=()=>({min:0,max:0}),or=()=>({x:F2(),y:F2()}),xw={current:null},wR={current:!1},u9=typeof window<"u";function d9(){if(wR.current=!0,!!u9)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xw.current=t.matches;t.addEventListener("change",e),e()}else xw.current=!1}const f9=new WeakMap;function Op(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xu(t){return typeof t=="string"||Array.isArray(t)}const Pj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cj=["initial",...Pj];function Ip(t){return Op(t.animate)||Cj.some(e=>xu(t[e]))}function jR(t){return!!(Ip(t)||t.variants)}function h9(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Lr(i))t.addValue(n,i);else if(Lr(s))t.addValue(n,nl(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,nl(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const q2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let gh={};function SR(t){gh=t}function p9(){return gh}class m9{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Vr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Et.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=Ip(r),this.isVariantNode=jR(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in h){const v=h[g];d[g]!==void 0&&Lr(v)&&v.set(d[g])}}mount(e){this.current=e,f9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(wR.current||d9(),this.shouldReduceMotion=xw.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ga(this.notifyUpdate),Ga(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=$l.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Et.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gh){const r=gh[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):or()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<q2.length;n++){const i=q2[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=h9(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=nl(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(_4(n)||k4(n))?n=parseFloat(n):!c9(n)&&Ka.test(r)&&(n=fR(e,r)),this.setBaseTarget(e,Lr(n)?n.get():n)),Lr(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=_j(this.props,r,this.presenceContext?.custom);s&&(n=s[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Lr(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new uj),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Tj.render(this.render)}}class Ya{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _R extends m9{constructor(){super(...arguments),this.KeyframeResolver=t9}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function NR({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function g9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function v9(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function T0(t){return t===void 0||t===1}function bw({scale:t,scaleX:e,scaleY:r}){return!T0(t)||!T0(e)||!T0(r)}function Ss(t){return bw(t)||kR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kR(t){return U2(t.x)||U2(t.y)}function U2(t){return t&&t!=="0%"}function vh(t,e,r){const n=t-r,i=e*n;return r+i}function V2(t,e,r,n,i){return i!==void 0&&(t=vh(t,i,n)),vh(t,r,n)+e}function ww(t,e=0,r=1,n,i){t.min=V2(t.min,e,r,n,i),t.max=V2(t.max,e,r,n,i)}function TR(t,{x:e,y:r}){ww(t.x,e.translate,e.scale,e.originPoint),ww(t.y,r.translate,r.scale,r.originPoint)}const W2=.999999999999,H2=1.0000000000001;function y9(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let c=0;c<i;c++){s=r[c],o=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Wo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,TR(t,o)),n&&Ss(s.latestValues)&&Wo(t,s.latestValues))}e.x<H2&&e.x>W2&&(e.x=1),e.y<H2&&e.y>W2&&(e.y=1)}function Vo(t,e){t.min=t.min+e,t.max=t.max+e}function G2(t,e,r,n,i=.5){const s=zt(t.min,t.max,i);ww(t,e,r,s,n)}function Wo(t,e){G2(t.x,e.x,e.scaleX,e.scale,e.originX),G2(t.y,e.y,e.scaleY,e.scale,e.originY)}function AR(t,e){return NR(v9(t.getBoundingClientRect(),e))}function x9(t,e,r){const n=AR(t,r),{scroll:i}=e;return i&&(Vo(n.x,i.offset.x),Vo(n.y,i.offset.y)),n}const b9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},w9=Rl.length;function j9(t,e,r){let n="",i=!0;for(let s=0;s<w9;s++){const o=Rl[s],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const f=pR(c,kj[o]);if(!d){i=!1;const p=b9[o]||o;n+=`${p}(${f}) `}r&&(e[o]=f)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function Ej(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,c=!1;for(const d in e){const f=e[d];if($l.has(d)){o=!0;continue}else if(B4(d)){i[d]=f;continue}else{const p=pR(f,kj[d]);d.startsWith("origin")?(c=!0,s[d]=p):n[d]=p}}if(e.transform||(o||r?n.transform=j9(e,t.transform,r):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=s;n.transformOrigin=`${d} ${f} ${p}`}}function PR(t,{style:e,vars:r},n,i){const s=t.style;let o;for(o in e)s[o]=e[o];i?.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function K2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ic={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ke.test(t))t=parseFloat(t);else return t;const r=K2(t,e.target.x),n=K2(t,e.target.y);return`${r}% ${n}%`}},S9={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Ka.parse(t);if(i.length>5)return n;const s=Ka.createTransformer(t),o=typeof i[0]!="number"?1:0,c=r.x.scale*e.x,d=r.y.scale*e.y;i[0+o]/=c,i[1+o]/=d;const f=zt(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=f),typeof i[3+o]=="number"&&(i[3+o]/=f),s(i)}},jw={borderRadius:{...Ic,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ic,borderTopRightRadius:Ic,borderBottomLeftRadius:Ic,borderBottomRightRadius:Ic,boxShadow:S9};function CR(t,{layout:e,layoutId:r}){return $l.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!jw[t]||t==="opacity")}function Oj(t,e,r){const n=t.style,i=e?.style,s={};if(!n)return s;for(const o in n)(Lr(n[o])||i&&Lr(i[o])||CR(o,t)||r?.getValue(o)?.liveStyle!==void 0)&&(s[o]=n[o]);return s}function _9(t){return window.getComputedStyle(t)}class N9 extends _R{constructor(){super(...arguments),this.type="html",this.renderInstance=PR}readValueFromInstance(e,r){if($l.has(r))return this.projection?.isProjecting?cw(r):rV(e,r);{const n=_9(e),i=(B4(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return AR(e,r)}build(e,r,n){Ej(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Oj(e,r,n)}}const k9={offset:"stroke-dashoffset",array:"stroke-dasharray"},T9={offset:"strokeDashoffset",array:"strokeDasharray"};function A9(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?k9:T9;t[s.offset]=ke.transform(-n);const o=ke.transform(e),c=ke.transform(r);t[s.array]=`${o} ${c}`}const P9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function ER(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...c},d,f,p){if(Ej(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g}=t;h.transform&&(g.transform=h.transform,delete h.transform),(g.transform||h.transformOrigin)&&(g.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),g.transform&&(g.transformBox=p?.transformBox??"fill-box",delete h.transformBox);for(const v of P9)h[v]!==void 0&&(g[v]=h[v],delete h[v]);e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),i!==void 0&&A9(h,i,s,o,!1)}const OR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),IR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function C9(t,e,r,n){PR(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(OR.has(i)?i:Nj(i),e.attrs[i])}function RR(t,e,r){const n=Oj(t,e,r);for(const i in t)if(Lr(t[i])||Lr(e[i])){const s=Rl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}class E9 extends _R{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=or}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if($l.has(r)){const n=dR(r);return n&&n.default||0}return r=OR.has(r)?r:Nj(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return RR(e,r,n)}build(e,r,n){ER(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){C9(e,r,n,i)}mount(e){this.isSVGTag=IR(e.tagName),super.mount(e)}}const O9=Cj.length;function $R(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?$R(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<O9;r++){const n=Cj[r],i=t.props[n];(xu(i)||i===!1)&&(e[n]=i)}return e}function MR(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const I9=[...Pj].reverse(),R9=Pj.length;function $9(t){return e=>Promise.all(e.map(({animation:r,options:n})=>WV(t,r,n)))}function M9(t){let e=$9(t),r=X2(),n=!0;const i=d=>(f,p)=>{const h=Qo(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:g,transitionEnd:v,...b}=h;f={...f,...b,...v}}return f};function s(d){e=d(t)}function o(d){const{props:f}=t,p=$R(t.parent)||{},h=[],g=new Set;let v={},b=1/0;for(let x=0;x<R9;x++){const S=I9[x],k=r[S],_=f[S]!==void 0?f[S]:p[S],C=xu(_),N=S===d?k.isActive:null;N===!1&&(b=x);let T=_===p[S]&&_!==f[S]&&C;if(T&&n&&t.manuallyAnimateOnMount&&(T=!1),k.protectedKeys={...v},!k.isActive&&N===null||!_&&!k.prevProp||Op(_)||typeof _=="boolean")continue;const E=D9(k.prevProp,_);let O=E||S===d&&k.isActive&&!T&&C||x>b&&C,R=!1;const H=Array.isArray(_)?_:[_];let L=H.reduce(i(S),{});N===!1&&(L={});const{prevResolvedValues:M={}}=k,$={...M,...L},V=Z=>{O=!0,g.has(Z)&&(R=!0,g.delete(Z)),k.needsAnimating[Z]=!0;const D=t.getValue(Z);D&&(D.liveStyle=!1)};for(const Z in $){const D=L[Z],U=M[Z];if(v.hasOwnProperty(Z))continue;let ee=!1;mw(D)&&mw(U)?ee=!MR(D,U):ee=D!==U,ee?D!=null?V(Z):g.add(Z):D!==void 0&&g.has(Z)?V(Z):k.protectedKeys[Z]=!0}k.prevProp=_,k.prevResolvedValues=L,k.isActive&&(v={...v,...L}),n&&t.blockInitialAnimation&&(O=!1);const Q=T&&E;O&&(!Q||R)&&h.push(...H.map(Z=>{const D={type:S};if(typeof Z=="string"&&n&&!Q&&t.manuallyAnimateOnMount&&t.parent){const{parent:U}=t,ee=Qo(U,Z);if(U.enteringChildren&&ee){const{delayChildren:B}=ee.transition||{};D.delay=iR(U.enteringChildren,t,B)}}return{animation:Z,options:D}}))}if(g.size){const x={};if(typeof f.initial!="boolean"){const S=Qo(t,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(x.transition=S.transition)}g.forEach(S=>{const k=t.getBaseTarget(S),_=t.getValue(S);_&&(_.liveStyle=!0),x[S]=k??null}),h.push({animation:x})}let w=!!h.length;return n&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(h):Promise.resolve()}function c(d,f){if(r[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(d,f)),r[d].isActive=f;const p=o(d);for(const h in r)r[h].protectedKeys={};return p}return{animateChanges:o,setActive:c,setAnimateFunction:s,getState:()=>r,reset:()=>{r=X2()}}}function D9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MR(e,t):!1}function bs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X2(){return{animate:bs(!0),whileInView:bs(),whileHover:bs(),whileTap:bs(),whileDrag:bs(),whileFocus:bs(),exit:bs()}}const DR=1e-4,z9=1-DR,L9=1+DR,zR=.01,B9=0-zR,F9=0+zR;function Wr(t){return t.max-t.min}function q9(t,e,r){return Math.abs(t-e)<=r}function Y2(t,e,r,n=.5){t.origin=n,t.originPoint=zt(e.min,e.max,t.origin),t.scale=Wr(r)/Wr(e),t.translate=zt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=z9&&t.scale<=L9||isNaN(t.scale))&&(t.scale=1),(t.translate>=B9&&t.translate<=F9||isNaN(t.translate))&&(t.translate=0)}function ru(t,e,r,n){Y2(t.x,e.x,r.x,n?n.originX:void 0),Y2(t.y,e.y,r.y,n?n.originY:void 0)}function J2(t,e,r){t.min=r.min+e.min,t.max=t.min+Wr(e)}function U9(t,e,r){J2(t.x,e.x,r.x),J2(t.y,e.y,r.y)}function Q2(t,e,r){t.min=e.min-r.min,t.max=t.min+Wr(e)}function yh(t,e,r){Q2(t.x,e.x,r.x),Q2(t.y,e.y,r.y)}function Z2(t,e,r,n,i){return t-=e,t=vh(t,1/r,n),i!==void 0&&(t=vh(t,1/i,n)),t}function V9(t,e=0,r=1,n=.5,i,s=t,o=t){if(xi.test(e)&&(e=parseFloat(e),e=zt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=zt(s.min,s.max,n);t===s&&(c-=e),t.min=Z2(t.min,e,r,c,i),t.max=Z2(t.max,e,r,c,i)}function eT(t,e,[r,n,i],s,o){V9(t,e[r],e[n],e[i],e.scale,s,o)}const W9=["x","scaleX","originX"],H9=["y","scaleY","originY"];function tT(t,e,r,n){eT(t.x,e,W9,r?r.x:void 0,n?n.x:void 0),eT(t.y,e,H9,r?r.y:void 0,n?n.y:void 0)}function rT(t,e){t.min=e.min,t.max=e.max}function Gn(t,e){rT(t.x,e.x),rT(t.y,e.y)}function nT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function iT(t){return t.translate===0&&t.scale===1}function LR(t){return iT(t.x)&&iT(t.y)}function aT(t,e){return t.min===e.min&&t.max===e.max}function G9(t,e){return aT(t.x,e.x)&&aT(t.y,e.y)}function sT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function BR(t,e){return sT(t.x,e.x)&&sT(t.y,e.y)}function oT(t){return Wr(t.x)/Wr(t.y)}function lT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function On(t){return[t("x"),t("y")]}function K9(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=r?.z||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:f,rotate:p,rotateX:h,rotateY:g,skewX:v,skewY:b}=r;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),h&&(n+=`rotateX(${h}deg) `),g&&(n+=`rotateY(${g}deg) `),v&&(n+=`skewX(${v}deg) `),b&&(n+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const FR=["TopLeft","TopRight","BottomLeft","BottomRight"],X9=FR.length,cT=t=>typeof t=="string"?parseFloat(t):t,uT=t=>typeof t=="number"||ke.test(t);function Y9(t,e,r,n,i,s){i?(t.opacity=zt(0,r.opacity??1,J9(n)),t.opacityExit=zt(e.opacity??1,0,Q9(n))):s&&(t.opacity=zt(e.opacity??1,r.opacity??1,n));for(let o=0;o<X9;o++){const c=`border${FR[o]}Radius`;let d=dT(e,c),f=dT(r,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||uT(d)===uT(f)?(t[c]=Math.max(zt(cT(d),cT(f),n),0),(xi.test(f)||xi.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||r.rotate)&&(t.rotate=zt(e.rotate||0,r.rotate||0,n))}function dT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const J9=qR(0,.5,R4),Q9=qR(.5,.95,$n);function qR(t,e,r){return n=>n<t?0:n>e?1:r(gu(t,e,n))}function Z9(t,e){const r=Vr.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Ga(n),t(s-e))};return Et.setup(n,!0),()=>Ga(n)}function bu(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function sh(t){return Lr(t)?t.get():t}function e7(t,e,r){const n=Lr(t)?t:nl(t);return n.start(Sj("",n,e,r)),n.animation}const t7=(t,e)=>t.depth-e.depth;class r7{constructor(){this.children=[],this.isDirty=!1}add(e){sj(this.children,e),this.isDirty=!0}remove(e){oj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(t7),this.isDirty=!1,this.children.forEach(e)}}class n7{constructor(){this.members=[]}add(e){sj(this.members,e),e.scheduleRender()}remove(e){if(oj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const oh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},A0=["","X","Y","Z"],i7=1e3;let a7=0;function P0(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function UR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=oR(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Et,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&UR(n)}function VR({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},c=e?.()){this.id=a7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(l7),this.nodes.forEach(f7),this.nodes.forEach(h7),this.nodes.forEach(c7)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new r7)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new uj),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=bR(o)&&!o9(o),this.instance=o;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,h=0;const g=()=>this.root.updateBlockedByResize=!1;Et.read(()=>{h=window.innerWidth}),t(o,()=>{const v=window.innerWidth;v!==h&&(h=v,this.root.updateBlockedByResize=!0,p&&p(),p=Z9(g,250),oh.hasAnimatedSinceResize&&(oh.hasAnimatedSinceResize=!1,this.nodes.forEach(pT)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:h,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||y7,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=f.getProps(),S=!this.targetLayout||!BR(this.targetLayout,v),k=!h&&g;if(this.options.layoutRoot||this.resumeFrom||k||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...jj(b,"layout"),onPlay:w,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,k)}else h||pT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ga(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const h=this.path[p];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(d7),this.nodes.forEach(s7),this.nodes.forEach(o7)):this.nodes.forEach(hT),this.clearAllSnapshots();const c=Vr.now();kr.delta=Si(0,1e3/60,c-kr.timestamp),kr.timestamp=c,kr.isProcessing=!0,b0.update.process(kr),b0.preRender.process(kr),b0.render.process(kr),kr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u7),this.sharedNodes.forEach(m7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wr(this.snapshot.measuredBox.x)&&!Wr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=or(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!LR(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;o&&this.instance&&(c||Ss(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),x7(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return or();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(b7))){const{scroll:f}=this.root;f&&(Vo(c.x,f.offset.x),Vo(c.y,f.offset.y))}return c}removeElementScroll(o){const c=or();if(Gn(c,o),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:h}=f;f!==this.root&&p&&h.layoutScroll&&(p.wasRoot&&Gn(c,o),Vo(c.x,p.offset.x),Vo(c.y,p.offset.y))}return c}applyTransform(o,c=!1){const d=or();Gn(d,o);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Wo(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ss(p.latestValues)&&Wo(d,p.latestValues)}return Ss(this.latestValues)&&Wo(d,this.latestValues),d}removeTransform(o){const c=or();Gn(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Ss(f.latestValues))continue;bw(f.latestValues)&&f.updateSnapshot();const p=or(),h=f.measurePageBox();Gn(p,h),tT(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Ss(this.latestValues)&&tT(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:h}=this.options;if(!this.layout||!(p||h))return;this.resolvedRelativeTargetAt=kr.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=or(),this.targetWithTransforms=or()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),TR(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||bw(this.parent.latestValues)||kR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,d){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=or(),this.relativeTargetOrigin=or(),yh(this.relativeTargetOrigin,c,d),Gn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===kr.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Gn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;y9(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=or());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nT(this.prevProjectionDelta.x,this.projectionDelta.x),nT(this.prevProjectionDelta.y,this.projectionDelta.y)),ru(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!lT(this.projectionDelta.x,this.prevProjectionDelta.x)||!lT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(o,c=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},h=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=or(),v=d?d.source:void 0,b=this.layout?this.layout.source:void 0,w=v!==b,x=this.getStack(),S=!x||x.members.length<=1,k=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(v7));this.animationProgress=0;let _;this.mixTargetDelta=C=>{const N=C/1e3;mT(h.x,o.x,N),mT(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yh(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g7(this.relativeTarget,this.relativeTargetOrigin,g,N),_&&G9(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=or()),Gn(_,this.relativeTarget)),w&&(this.animationValues=p,Y9(p,f,this.latestValues,N,k,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ga(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{oh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nl(0)),this.currentAnimation=e7(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(i7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:p}=o;if(!(!c||!d||!f)){if(this!==o&&this.layout&&f&&WR(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||or();const h=Wr(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+h;const g=Wr(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}Gn(c,d),Wo(c,p),ru(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new n7),this.sharedNodes.get(o).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&P0("z",o,f,this.animationValues);for(let p=0;p<A0.length;p++)P0(`rotate${A0[p]}`,o,f,this.animationValues),P0(`skew${A0[p]}`,o,f,this.animationValues);o.render();for(const p in f)o.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=sh(c?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=sh(c?.pointerEvents)||""),this.hasProjected&&!Ss(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let h=K9(this.projectionDeltaWithTransform,this.treeScale,p);d&&(h=d(p,h)),o.transform=h;const{x:g,y:v}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?o.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:o.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in jw){if(p[b]===void 0)continue;const{correct:w,applyTo:x,isCSSVariable:S}=jw[b],k=h==="none"?p[b]:w(p[b],f);if(x){const _=x.length;for(let C=0;C<_;C++)o[x[C]]=k}else S?this.options.visualElement.renderState.vars[b]=k:o[b]=k}this.options.layoutId&&(o.pointerEvents=f===this?sh(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(fT),this.root.sharedNodes.clear()}}}function s7(t){t.updateLayout()}function o7(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?On(p=>{const h=s?e.measuredBox[p]:e.layoutBox[p],g=Wr(h);h.min=r[p].min,h.max=h.min+g}):WR(i,e.layoutBox,r)&&On(p=>{const h=s?e.measuredBox[p]:e.layoutBox[p],g=Wr(r[p]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+g)});const o=Uo();ru(o,r,e.layoutBox);const c=Uo();s?ru(c,t.applyTransform(n,!0),e.measuredBox):ru(c,r,e.layoutBox);const d=!LR(o);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:h,layout:g}=p;if(h&&g){const v=or();yh(v,e.layoutBox,h.layoutBox);const b=or();yh(b,r,g.layoutBox),BR(v,b)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function l7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function u7(t){t.clearSnapshot()}function fT(t){t.clearMeasurements()}function hT(t){t.isLayoutDirty=!1}function d7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function f7(t){t.resolveTargetDelta()}function h7(t){t.calcProjection()}function p7(t){t.resetSkewAndRotation()}function m7(t){t.removeLeadSnapshot()}function mT(t,e,r){t.translate=zt(e.translate,0,r),t.scale=zt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function gT(t,e,r,n){t.min=zt(e.min,r.min,n),t.max=zt(e.max,r.max,n)}function g7(t,e,r,n){gT(t.x,e.x,r.x,n),gT(t.y,e.y,r.y,n)}function v7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const y7={duration:.45,ease:[.4,0,.1,1]},vT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yT=vT("applewebkit/")&&!vT("chrome/")?Math.round:$n;function xT(t){t.min=yT(t.min),t.max=yT(t.max)}function x7(t){xT(t.x),xT(t.y)}function WR(t,e,r){return t==="position"||t==="preserve-aspect"&&!q9(oT(e),oT(r),.2)}function b7(t){return t!==t.root&&t.scroll?.wasRoot}const w7=VR({attachResizeListener:(t,e)=>bu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),C0={current:void 0},HR=VR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!C0.current){const t=new w7({});t.mount(window),t.setOptions({layoutScroll:!0}),C0.current=t}return C0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ij=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function bT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function j7(...t){return e=>{let r=!1;const n=t.map(i=>{const s=bT(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():bT(t[i],null)}}}}function S7(...t){return P.useCallback(j7(...t),t)}class _7 extends P.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=mR(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function N7({children:t,isPresent:e,anchorX:r,root:n}){const i=P.useId(),s=P.useRef(null),o=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=P.useContext(Ij),d=t.props?.ref??t?.ref,f=S7(s,d);return P.useInsertionEffect(()=>{const{width:p,height:h,top:g,left:v,right:b}=o.current;if(e||!s.current||!p||!h)return;const w=r==="left"?`left: ${v}`:`right: ${b}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");c&&(x.nonce=c);const S=n??document.head;return S.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(x)&&S.removeChild(x)}},[e]),a.jsx(_7,{isPresent:e,childRef:s,sizeRef:o,children:P.cloneElement(t,{ref:f})})}const k7=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o,anchorX:c,root:d})=>{const f=Cp(T7),p=P.useId();let h=!0,g=P.useMemo(()=>(h=!1,{id:p,initial:e,isPresent:r,custom:i,onExitComplete:v=>{f.set(v,!0);for(const b of f.values())if(!b)return;n&&n()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[r,f,n]);return s&&h&&(g={...g}),P.useMemo(()=>{f.forEach((v,b)=>f.set(b,!1))},[r]),P.useEffect(()=>{!r&&!f.size&&n&&n()},[r]),o==="popLayout"&&(t=a.jsx(N7,{isPresent:r,anchorX:c,root:d,children:t})),a.jsx(Ep.Provider,{value:g,children:t})};function T7(){return new Map}function GR(t=!0){const e=P.useContext(Ep);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=P.useId();P.useEffect(()=>{if(t)return i(s)},[t]);const o=P.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const Ff=t=>t.key||"";function wT(t){const e=[];return P.Children.forEach(t,r=>{P.isValidElement(r)&&e.push(r)}),e}const si=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[f,p]=GR(o),h=P.useMemo(()=>wT(t),[t]),g=o&&!f?[]:h.map(Ff),v=P.useRef(!0),b=P.useRef(h),w=Cp(()=>new Map),x=P.useRef(new Set),[S,k]=P.useState(h),[_,C]=P.useState(h);S4(()=>{v.current=!1,b.current=h;for(let E=0;E<_.length;E++){const O=Ff(_[E]);g.includes(O)?(w.delete(O),x.current.delete(O)):w.get(O)!==!0&&w.set(O,!1)}},[_,g.length,g.join("-")]);const N=[];if(h!==S){let E=[...h];for(let O=0;O<_.length;O++){const R=_[O],H=Ff(R);g.includes(H)||(E.splice(O,0,R),N.push(R))}return s==="wait"&&N.length&&(E=N),C(wT(E)),k(h),null}const{forceRender:T}=P.useContext(aj);return a.jsx(a.Fragment,{children:_.map(E=>{const O=Ff(E),R=o&&!f?!1:h===_||g.includes(O),H=()=>{if(x.current.has(O))return;if(x.current.add(O),w.has(O))w.set(O,!0);else return;let L=!0;w.forEach(M=>{M||(L=!1)}),L&&(T?.(),C(b.current),o&&p?.(),n&&n())};return a.jsx(k7,{isPresent:R,initial:!v.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:d,onExitComplete:R?void 0:H,anchorX:c,children:E},O)})})},KR=P.createContext({strict:!1}),jT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ST=!1;function A7(){if(ST)return;const t={};for(const e in jT)t[e]={isEnabled:r=>jT[e].some(n=>!!r[n])};SR(t),ST=!0}function XR(){return A7(),p9()}function P7(t){const e=XR();for(const r in t)e[r]={...e[r],...t[r]};SR(e)}const C7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||C7.has(t)}let YR=t=>!xh(t);function E7(t){typeof t=="function"&&(YR=e=>e.startsWith("on")?!xh(e):t(e))}try{E7(require("@emotion/is-prop-valid").default)}catch{}function O7(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(YR(i)||r===!0&&xh(i)||!e&&!xh(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const Rp=P.createContext({});function I7(t,e){if(Ip(t)){const{initial:r,animate:n}=t;return{initial:r===!1||xu(r)?r:void 0,animate:xu(n)?n:void 0}}return t.inherit!==!1?e:{}}function R7(t){const{initial:e,animate:r}=I7(t,P.useContext(Rp));return P.useMemo(()=>({initial:e,animate:r}),[_T(e),_T(r)])}function _T(t){return Array.isArray(t)?t.join(" "):t}const Rj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JR(t,e,r){for(const n in e)!Lr(e[n])&&!CR(n,r)&&(t[n]=e[n])}function $7({transformTemplate:t},e){return P.useMemo(()=>{const r=Rj();return Ej(r,e,t),Object.assign({},r.vars,r.style)},[e])}function M7(t,e){const r=t.style||{},n={};return JR(n,r,t),Object.assign(n,$7(t,e)),n}function D7(t,e){const r={},n=M7(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const QR=()=>({...Rj(),attrs:{}});function z7(t,e,r,n){const i=P.useMemo(()=>{const s=QR();return ER(s,e,IR(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};JR(s,t.style,t),i.style={...s,...i.style}}return i}const L7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $j(t){return typeof t!="string"||t.includes("-")?!1:!!(L7.indexOf(t)>-1||/[A-Z]/u.test(t))}function B7(t,e,r,{latestValues:n},i,s=!1,o){const d=(o??$j(t)?z7:D7)(e,n,i,t),f=O7(e,typeof t=="string",s),p=t!==P.Fragment?{...f,...d,ref:r}:{},{children:h}=e,g=P.useMemo(()=>Lr(h)?h.get():h,[h]);return P.createElement(t,{...p,children:g})}function F7({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:q7(r,n,i,t),renderState:e()}}function q7(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=sh(s[g]);let{initial:o,animate:c}=t;const d=Ip(t),f=jR(t);e&&f&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let p=r?r.initial===!1:!1;p=p||o===!1;const h=p?c:o;if(h&&typeof h!="boolean"&&!Op(h)){const g=Array.isArray(h)?h:[h];for(let v=0;v<g.length;v++){const b=_j(t,g[v]);if(b){const{transitionEnd:w,transition:x,...S}=b;for(const k in S){let _=S[k];if(Array.isArray(_)){const C=p?_.length-1:0;_=_[C]}_!==null&&(i[k]=_)}for(const k in w)i[k]=w[k]}}}return i}const ZR=t=>(e,r)=>{const n=P.useContext(Rp),i=P.useContext(Ep),s=()=>F7(t,e,n,i);return r?s():Cp(s)},U7=ZR({scrapeMotionValuesFromProps:Oj,createRenderState:Rj}),V7=ZR({scrapeMotionValuesFromProps:RR,createRenderState:QR}),W7=Symbol.for("motionComponentSymbol");function H7(t,e,r){const n=P.useRef(r);P.useInsertionEffect(()=>{n.current=r});const i=P.useRef(null);return P.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const o=n.current;if(typeof o=="function")if(s){const c=o(s);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(s);else o&&(o.current=s)},[e])}const e$=P.createContext({});function Kc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function G7(t,e,r,n,i,s){const{visualElement:o}=P.useContext(Rp),c=P.useContext(KR),d=P.useContext(Ep),f=P.useContext(Ij).reducedMotion,p=P.useRef(null);n=n||c.renderer,!p.current&&n&&(p.current=n(t,{visualState:e,parent:o,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f,isSVG:s}));const h=p.current,g=P.useContext(e$);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&K7(p.current,r,i,g);const v=P.useRef(!1);P.useInsertionEffect(()=>{h&&v.current&&h.update(r,d)});const b=r[sR],w=P.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return S4(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),P.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),w.current=!1),h.enteringChildren=void 0)}),h}function K7(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:t$(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||c&&Kc(c),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:f})}function t$(t){if(t)return t.options.allowProjection!==!1?t.projection:t$(t.parent)}function E0(t,{forwardMotionProps:e=!1,type:r}={},n,i){n&&P7(n);const s=r?r==="svg":$j(t),o=s?V7:U7;function c(f,p){let h;const g={...P.useContext(Ij),...f,layoutId:X7(f)},{isStatic:v}=g,b=R7(f),w=o(f,v);if(!v&&j4){Y7();const x=J7(g);h=x.MeasureLayout,b.visualElement=G7(t,w,g,i,x.ProjectionNode,s)}return a.jsxs(Rp.Provider,{value:b,children:[h&&b.visualElement?a.jsx(h,{visualElement:b.visualElement,...g}):null,B7(t,f,H7(w,b.visualElement,p),w,v,e,s)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=P.forwardRef(c);return d[W7]=t,d}function X7({layoutId:t}){const e=P.useContext(aj).id;return e&&t!==void 0?e+"-"+t:t}function Y7(t,e){P.useContext(KR).strict}function J7(t){const e=XR(),{drag:r,layout:n}=e;if(!r&&!n)return{};const i={...r,...n};return{MeasureLayout:r?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Q7(t,e){if(typeof Proxy>"u")return E0;const r=new Map,n=(s,o)=>E0(s,o,t,e),i=(s,o)=>n(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,E0(o,void 0,t,e)),r.get(o))})}const Z7=(t,e)=>e.isSVG??$j(t)?new E9(e):new N9(e,{allowProjection:t!==P.Fragment});class eW extends Ya{constructor(e){super(e),e.animationState||(e.animationState=M9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Op(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let tW=0;class rW extends Ya{constructor(){super(...arguments),this.id=tW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nW={animation:{Feature:eW},exit:{Feature:rW}};function dd(t){return{point:{x:t.pageX,y:t.pageY}}}const iW=t=>e=>Aj(e)&&t(e,dd(e));function nu(t,e,r,n){return bu(t,e,iW(r),n)}const r$=({current:t})=>t?t.ownerDocument.defaultView:null,NT=(t,e)=>Math.abs(t-e);function aW(t,e){const r=NT(t.x,e.x),n=NT(t.y,e.y);return Math.sqrt(r**2+n**2)}const kT=new Set(["auto","scroll"]);class n${constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=v=>{this.handleScroll(v.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=I0(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=aW(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:x}=v,{timestamp:S}=kr;this.history.push({...x,timestamp:S});const{onStart:k,onMove:_}=this.handlers;b||(k&&k(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=O0(b,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:S}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=I0(v.type==="pointercancel"?this.lastMoveEventInfo:O0(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,k),x&&x(v,k)},!Aj(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const d=dd(e),f=O0(d,this.transformPagePoint),{point:p}=f,{timestamp:h}=kr;this.history=[{...p,timestamp:h}];const{onSessionStart:g}=r;g&&g(e,I0(f,this.history)),this.removeListeners=ld(nu(this.contextWindow,"pointermove",this.handlePointerMove),nu(this.contextWindow,"pointerup",this.handlePointerUp),nu(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(kT.has(n.overflowX)||kT.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-r.x,y:i.y-r.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),Et.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ga(this.updatePoint)}}function O0(t,e){return e?{point:e(t.point)}:t}function TT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function I0({point:t},e){return{point:t,delta:TT(t,i$(e)),offset:TT(t,sW(e)),velocity:oW(e,.1)}}function sW(t){return t[0]}function i$(t){return t[t.length-1]}function oW(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=i$(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Hi(e)));)r--;if(!n)return{x:0,y:0};const s=In(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lW(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?zt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?zt(r,t,n.max):Math.min(t,r)),t}function AT(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function cW(t,{top:e,left:r,bottom:n,right:i}){return{x:AT(t.x,r,i),y:AT(t.y,e,n)}}function PT(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function uW(t,e){return{x:PT(t.x,e.x),y:PT(t.y,e.y)}}function dW(t,e){let r=.5;const n=Wr(t),i=Wr(e);return i>n?r=gu(e.min,e.max-n,t.min):n>i&&(r=gu(t.min,t.max-i,e.min)),Si(0,1,r)}function fW(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Sw=.35;function hW(t=Sw){return t===!1?t=0:t===!0&&(t=Sw),{x:CT(t,"left","right"),y:CT(t,"top","bottom")}}function CT(t,e,r){return{min:ET(t,e),max:ET(t,r)}}function ET(t,e){return typeof t=="number"?t:t[e]||0}const pW=new WeakMap;class mW{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=or(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{r?(this.stopAnimation(),this.snapToCursor(dd(h).point)):this.pauseAnimation()},o=(h,g)=>{this.stopAnimation();const{drag:v,dragPropagation:b,onDragStart:w}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=r9(v),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(S=>{let k=this.getAxisMotionValue(S).get()||0;if(xi.test(k)){const{projection:_}=this.visualElement;if(_&&_.layout){const C=_.layout.layoutBox[S];C&&(k=Wr(C)*(parseFloat(k)/100))}}this.originPoint[S]=k}),w&&Et.postRender(()=>w(h,g)),gw(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},c=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:w,onDrag:x}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=g;if(b&&this.currentDirection===null){this.currentDirection=gW(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,S),this.updateAxis("y",g.point,S),this.visualElement.render(),x&&x(h,g)},d=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g,this.stop(h,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>On(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new n$(e,{onSessionStart:s,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:r$(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Et.postRender(()=>c(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!qf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=lW(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Kc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=cW(n.layoutBox,e):this.constraints=!1,this.elastic=hW(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&On(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=fW(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Kc(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=x9(n,i.root,this.visualElement.getTransformPagePoint());let o=uW(i.layout.layoutBox,s);if(r){const c=r(g9(o));this.hasMutatedConstraints=!!c,c&&(o=NR(c))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=On(p=>{if(!qf(p,r,this.currentDirection))return;let h=d&&d[p]||{};o&&(h={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,b={type:"inertia",velocity:n?e[p]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(p,b)});return Promise.all(f).then(c)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return gw(this.visualElement,e),n.start(Sj(e,n,0,r,this.visualElement,!1))}stopAnimation(){On(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){On(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){On(r=>{const{drag:n}=this.getProps();if(!qf(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[r],d=s.get()||0;s.set(e[r]-zt(o,c,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Kc(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};On(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=dW({min:d,max:d},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),On(o=>{if(!qf(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:f}=this.constraints[o];c.set(zt(d,f,i[o]))})}addListeners(){if(!this.visualElement.current)return;pW.set(this.visualElement,this);const e=this.visualElement.current,r=nu(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&!xR(d.target)&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Kc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Et.read(n);const o=bu(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(On(p=>{const h=this.getAxisMotionValue(p);h&&(this.originPoint[p]+=d[p].translate,h.set(h.get()+d[p].translate))}),this.visualElement.render())}));return()=>{o(),r(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Sw,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:c}}}function qf(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function gW(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class vW extends Ya{constructor(e){super(e),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new mW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const OT=t=>(e,r)=>{t&&Et.postRender(()=>t(e,r))};class yW extends Ya{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(e){this.session=new n$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:OT(e),onStart:OT(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Et.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=nu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let R0=!1;class xW extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),R0&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),oh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,R0=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Et.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tj.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;R0=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a$(t){const[e,r]=GR(),n=P.useContext(aj);return a.jsx(xW,{...t,layoutGroup:n,switchLayoutGroup:P.useContext(e$),isPresent:e,safeToRemove:r})}const bW={pan:{Feature:yW},drag:{Feature:vW,ProjectionNode:HR,MeasureLayout:a$}};function IT(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Et.postRender(()=>s(e,dd(e)))}class wW extends Ya{mount(){const{current:e}=this.node;e&&(this.unmount=n9(e,(r,n)=>(IT(this.node,n,"Start"),i=>IT(this.node,i,"End"))))}unmount(){}}class jW extends Ya{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ld(bu(this.node.current,"focus",()=>this.onFocus()),bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RT(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Et.postRender(()=>s(e,dd(e)))}class SW extends Ya{mount(){const{current:e}=this.node;e&&(this.unmount=s9(e,(r,n)=>(RT(this.node,n,"Start"),(i,{success:s})=>RT(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _w=new WeakMap,$0=new WeakMap,_W=t=>{const e=_w.get(t.target);e&&e(t)},NW=t=>{t.forEach(_W)};function kW({root:t,...e}){const r=t||document;$0.has(r)||$0.set(r,{});const n=$0.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(NW,{root:t,...e})),n[i]}function TW(t,e,r){const n=kW(e);return _w.set(t,r),n.observe(t),()=>{_w.delete(t),n.unobserve(t)}}const AW={some:0,all:1};class PW extends Ya{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:AW[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:h}=this.node.getProps(),g=f?p:h;g&&g(d)};return TW(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(CW(e,r))&&this.startObserver()}unmount(){}}function CW({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const EW={inView:{Feature:PW},tap:{Feature:SW},focus:{Feature:jW},hover:{Feature:wW}},OW={layout:{ProjectionNode:HR,MeasureLayout:a$}},IW={...nW,...EW,...bW,...OW},W=Q7(IW,Z7);class RW{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,r){this.componentControls.forEach(n=>{n.start(e.nativeEvent||e,r)})}cancel(){this.componentControls.forEach(e=>{e.cancel()})}stop(){this.componentControls.forEach(e=>{e.stop()})}}const $W=()=>new RW;function MW(){return Cp($W)}const DW={some:0,all:1};function zW(t,e,{root:r,margin:n,amount:i="some"}={}){const s=hR(t),o=new WeakMap,c=f=>{f.forEach(p=>{const h=o.get(p.target);if(p.isIntersecting!==!!h)if(p.isIntersecting){const g=e(p.target,p);typeof g=="function"?o.set(p.target,g):d.unobserve(p.target)}else typeof h=="function"&&(h(p),o.delete(p.target))})},d=new IntersectionObserver(c,{root:r,rootMargin:n,threshold:typeof i=="number"?i:DW[i]});return s.forEach(f=>d.observe(f)),()=>d.disconnect()}function s$(t,{root:e,margin:r,amount:n,once:i=!1,initial:s=!1}={}){const[o,c]=P.useState(s);return P.useEffect(()=>{if(!t.current||i&&o)return;const d=()=>(c(!0),i?void 0:()=>c(!1)),f={root:e&&e.current||void 0,margin:r,amount:n};return zW(t.current,d,f)},[e,t,r,i,n]),o}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BW=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),$T=t=>{const e=BW(t);return e.charAt(0).toUpperCase()+e.slice(1)},o$=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...c},d)=>P.createElement("svg",{ref:d,...FW,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:o$("lucide",i),...c},[...o.map(([f,p])=>P.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const r=P.forwardRef(({className:n,...i},s)=>P.createElement(qW,{ref:s,iconNode:e,className:o$(`lucide-${LW($T(t))}`,`lucide-${t}`,n),...i}));return r.displayName=$T(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],il=Se("activity",UW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],M0=Se("arrow-down",VW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wu=Se("arrow-left",WW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],MT=Se("arrow-right-left",HW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Gi=Se("arrow-right",GW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],D0=Se("arrow-up",KW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],YW=Se("award",XW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],QW=Se("ban",JW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],eH=Se("bell",ZW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],l$=Se("bitcoin",tH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ju=Se("book-open",rH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],DT=Se("book",nH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],aH=Se("bot",iH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],gi=Se("brain",sH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bh=Se("calendar",oH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$p=Se("chart-column",lH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mp=Se("check",cH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],c$=Se("chevron-left",uH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dp=Se("chevron-right",dH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],hH=Se("chrome",fH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ni=Se("circle-alert",pH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Nw=Se("circle-check-big",mH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Dt=Se("circle-check",gH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yH=Se("circle-help",vH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mr=Se("circle-x",xH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wH=Se("circle",bH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],zp=Se("clock",jH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_H=Se("copy",SH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wh=Se("crown",NH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ea=Se("database",kH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],al=Se("dollar-sign",TH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Mj=Se("download",AH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]],kw=Se("euro",PH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],EH=Se("external-link",CH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],IH=Se("eye-off",OH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dj=Se("eye",RH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],MH=Se("file-json",$H);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],z0=Se("file-text",DH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],sl=Se("flame",zH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],BH=Se("graduation-cap",LH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],qH=Se("house",FH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],VH=Se("info",UH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zj=Se("layout-dashboard",WH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],u$=Se("lightbulb",HH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Lj=Se("link",GH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lr=Se("loader-circle",KH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],YH=Se("loader",XH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Bs=Se("lock",JH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],d$=Se("log-out",QH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],zT=Se("mail",ZH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],LT=Se("medal",eG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],rG=Se("message-circle",tG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],iG=Se("percent",nG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]],sG=Se("piggy-bank",aG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],jh=Se("play",oG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cG=Se("plus",lG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],f$=Se("refresh-ccw",uG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_i=Se("refresh-cw",dG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Sh=Se("rocket",fG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uf=Se("save",hG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],h$=Se("search",pG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gG=Se("send",mG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p$=Se("settings",vG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ta=Se("shield",yG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],bG=Se("smartphone",xG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],yt=Se("sparkles",wG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],iu=Se("star",jG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Br=Se("target",SG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],NG=Se("trash-2",_G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],TG=Se("trending-down",kG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],gt=Se("trending-up",AG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Ht=Se("trophy",PG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],BT=Se("upload",CG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],OG=Se("user-check",EG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_h=Se("user",IG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],bi=Se("users",RG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]],MG=Se("vibrate",$G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],zG=Se("volume-2",DG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],BG=Se("volume-x",LG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],qG=Se("wallet",FG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hs=Se("x",UG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ra=Se("zap",VG),m$={excited:"/mascot-excited.png",logo:"/logo.svg"},WG=m$.excited,HG=m$.logo,Rc=WG,FT=HG;function qT({end:t,duration:e=2}){const[r,n]=P.useState(0),i=P.useRef(null),s=s$(i);return P.useEffect(()=>{if(!s)return;let o,c;const d=f=>{o||(o=f);const p=Math.min((f-o)/(e*1e3),1);n(Math.floor(p*t)),p<1&&(c=requestAnimationFrame(d))};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[t,e,s]),a.jsx("span",{ref:i,children:r.toLocaleString()})}function $c({delay:t=0,color:e}){return a.jsx(W.div,{className:`absolute w-32 h-32 rounded-full blur-3xl ${e} opacity-20`,animate:{x:[0,100,0],y:[0,-100,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,delay:t,ease:"easeInOut"}})}function GG({onNavigate:t}){const[e,r]=P.useState(null),[n,i]=P.useState({x:0,y:0}),s=P.useRef(null);P.useEffect(()=>{const p=h=>{i({x:h.clientX,y:h.clientY})};return window.addEventListener("mousemove",p),()=>window.removeEventListener("mousemove",p)},[]);const o=[{icon:gi,title:"AI Tutor Personalizzato",description:"Prof Satoshi, la tua mascotte AI, ti guida con consigli personalizzati basati sul tuo livello e stile di apprendimento.",gradient:"from-purple-500 to-blue-500",glowColor:"shadow-purple-500/50",stats:"GPT-4o powered"},{icon:Br,title:"Missioni Guidate",description:"Impara attraverso missioni progressive che ti portano da principiante a master trader della Wheel Strategy.",gradient:"from-blue-500 to-cyan-500",glowColor:"shadow-blue-500/50",stats:"5 livelli progressivi"},{icon:$p,title:"Paper Trading Reale",description:"Simula trades con prezzi Bitcoin live senza rischiare capitale. Guadagna XP e sblocca strategie avanzate.",gradient:"from-orange-500 to-pink-500",glowColor:"shadow-orange-500/50",stats:"Dati market live"},{icon:Ht,title:"Gamification Completa",description:"Sistema XP, badge, streak giornalieri e leaderboard globale. Competi con altri trader e sali di livello.",gradient:"from-green-500 to-teal-500",glowColor:"shadow-green-500/50",stats:"20+ badge unici"},{icon:ju,title:"Lezioni Interattive",description:"Quiz, flashcard e contenuti progressivi dal basic all'avanzato. Ogni lezione ti porta pi vicino alla maestria.",gradient:"from-pink-500 to-purple-500",glowColor:"shadow-pink-500/50",stats:"15+ lezioni"},{icon:bi,title:"Community Globale",description:"Unisciti a migliaia di trader. Condividi strategie, confronta performance e impara dai migliori.",gradient:"from-indigo-500 to-purple-500",glowColor:"shadow-indigo-500/50",stats:"Leaderboard live"}],c=[{value:1e4,label:"Studenti Attivi",icon:bi,suffix:"+"},{value:95,label:"Success Rate",icon:gt,suffix:"%"},{value:4.9,label:"Rating Medio",icon:iu,suffix:"/5",decimals:!0},{value:5e5,label:"Missioni Completate",icon:Br,suffix:"+"}],d=[{name:"Marco R.",role:"Beginner Trader",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Marco",content:"In 2 settimane ho capito la Wheel Strategy meglio di quanto avessi fatto in 6 mesi di video YouTube. Le missioni sono geniali!",rating:5},{name:"Giulia T.",role:"Intermediate Investor",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Giulia",content:"Il paper trading mi ha permesso di fare pratica senza stress. Ora gestisco le opzioni Bitcoin con sicurezza nel mondo reale.",rating:5},{name:"Luca M.",role:"Advanced Trader",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Luca",content:"Prof Satoshi  come avere un mentor personale 24/7. I suoi consigli sono sempre spot-on e mi hanno fatto evitare errori costosi.",rating:5}],f=[{name:"Free",price:"0",description:"Perfetto per iniziare",features:["Accesso a tutte le lezioni base","3 missioni guidate","Paper trading limitato","Leaderboard locale","Prof Satoshi con limiti"],cta:"Inizia Gratis",popular:!1},{name:"Pro",price:"9.99",period:"/mese",description:"Il pi popolare",features:["Tutte le lezioni + contenuti premium","Tutte le 15+ missioni","Paper trading illimitato","Leaderboard globale","Prof Satoshi AI illimitato","Analytics avanzati","Supporto prioritario"],cta:"Diventa Pro",popular:!0},{name:"Enterprise",price:"Custom",description:"Per team e organizzazioni",features:["Tutto di Pro +","Dashboard team","Report personalizzati","API access","Onboarding dedicato","SLA garantito"],cta:"Contattaci",popular:!1}];return a.jsxs("div",{className:"min-h-screen bg-gray-950 text-white overflow-hidden",children:[a.jsx(W.nav,{className:"fixed top-0 w-full bg-gray-950/80 backdrop-blur-xl border-b border-gray-800 z-50",initial:{y:-100},animate:{y:0},transition:{duration:.6,ease:"easeOut"},children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 md:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(W.div,{className:"flex items-center gap-3",whileHover:{scale:1.05},children:[a.jsx(W.div,{className:"w-10 h-10 relative",animate:{rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:a.jsx("img",{src:FT,alt:"btcwheel Logo",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 4px 12px rgba(52, 211, 153, 0.4))"}})}),a.jsx("span",{className:"text-white font-bold text-xl",children:"btcwheel"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[a.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white transition-colors",children:"Funzionalit"}),a.jsx("a",{href:"#pricing",className:"text-gray-400 hover:text-white transition-colors",children:"Prezzi"}),a.jsx("a",{href:"#testimonials",className:"text-gray-400 hover:text-white transition-colors",children:"Testimonianze"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ye,{variant:"ghost",onClick:()=>t("auth"),className:"text-gray-400 hover:text-white hover:bg-gray-800",children:"Accedi"}),a.jsx(ye,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg shadow-blue-500/50",onClick:()=>t("onboarding"),children:"Inizia Gratis"})]})]})})}),a.jsxs("section",{className:"relative pt-32 pb-20 md:pt-40 md:pb-32 overflow-hidden",ref:s,children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx($c,{delay:0,color:"bg-blue-600"}),a.jsx($c,{delay:2,color:"bg-purple-600"}),a.jsx($c,{delay:4,color:"bg-orange-600"}),a.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(59, 130, 246, 0.1) 1px, transparent 1px)",backgroundSize:"50px 50px",transform:"perspective(500px) rotateX(60deg) translateZ(-100px)"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950 via-gray-950/90 to-gray-950"})]}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 relative z-10",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[a.jsxs(W.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:[a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(Ze,{className:"mb-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white border-0 px-4 py-2",children:[a.jsx(yt,{className:"w-4 h-4 mr-2"}),"Nuovo: AI Tutor con GPT-4o"]})}),a.jsxs(W.h1,{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:["Impara la Bitcoin Wheel Strategy con il",a.jsx(W.span,{className:"block mt-2 bg-gradient-to-r from-blue-400 via-purple-400 to-orange-400 bg-clip-text text-transparent",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"},children:"Metodo Pi Efficace"}),"al Mondo"]}),a.jsxs(W.p,{className:"text-gray-400 mb-8 text-xl leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:["Da zero a master trader in 30 giorni. Impara con missioni guidate, AI tutor personalizzato e paper trading sicuro.",a.jsx("span",{className:"text-white font-semibold",children:" Niente rischi, solo risultati."})]}),a.jsxs(W.div,{className:"flex flex-col sm:flex-row gap-4 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[a.jsx(W.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(ye,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 h-14 px-8 shadow-2xl shadow-blue-500/50 text-lg group",onClick:()=>t("onboarding"),children:[a.jsx(Sh,{className:"w-5 h-5 mr-2 group-hover:translate-y-[-4px] transition-transform"}),"Inizia il Percorso Gratis",a.jsx(Gi,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}),a.jsx(W.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(ye,{size:"lg",variant:"outline",className:"h-14 px-8 border-2 border-gray-300 bg-gray-900/50 backdrop-blur hover:bg-gray-800 hover:border-white text-white text-lg group",onClick:()=>{const p=document.getElementById("demo-video");p&&p.scrollIntoView({behavior:"smooth"})},children:[a.jsx(jh,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Guarda Demo"]})})]}),a.jsx(W.div,{className:"flex items-center gap-6 flex-wrap",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[{icon:Bs,text:"Nessuna carta richiesta"},{icon:ta,text:"100% sicuro"},{icon:bi,text:"10K+ studenti"}].map((p,h)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center",children:a.jsx(p.icon,{className:"w-4 h-4 text-green-400"})}),a.jsx("span",{className:"text-gray-400",children:p.text})]},h))})]}),a.jsx(W.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative",children:a.jsxs("div",{className:"relative",children:[a.jsxs(W.div,{className:"relative z-20 mb-8",animate:{y:[0,-20,0],rotate:[0,-3,3,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[a.jsxs(W.div,{className:"relative w-64 h-64 md:w-80 md:h-80 mx-auto",whileHover:{scale:1.1,rotate:[0,-10,10,0]},transition:{duration:.3},children:[a.jsx(W.div,{className:"absolute inset-0 rounded-full bg-blue-500 opacity-20",animate:{scale:[1,1.3,1],opacity:[.2,0,.2]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),a.jsx(W.div,{className:"absolute inset-0 rounded-full bg-purple-500 opacity-20",animate:{scale:[1,1.5,1],opacity:[.2,0,.2]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:.5}}),a.jsx("img",{src:Rc,alt:"Prof Satoshi - Your AI Trading Tutor",className:"w-full h-full object-contain relative z-10",style:{filter:"drop-shadow(0 20px 40px rgba(59, 130, 246, 0.6))"},onError:p=>{console.error(" Error loading Landing Page Mascot:",Rc),p.currentTarget.style.display="none"},onLoad:()=>console.log(" Landing Page Mascot Loaded:",Rc)}),[...Array(8)].map((p,h)=>a.jsx(W.div,{className:"absolute w-3 h-3 bg-yellow-400 rounded-full",style:{top:`${20+Math.random()*60}%`,left:`${20+Math.random()*60}%`},animate:{scale:[0,1.5,0],opacity:[0,1,0],y:[0,-30],x:[0,(Math.random()-.5)*20]},transition:{duration:2,repeat:1/0,delay:h*.3,ease:"easeOut"}},h))]}),a.jsxs(W.div,{className:"absolute top-0 -left-4 md:-left-12 bg-white rounded-2xl px-4 py-3 shadow-2xl border-2 border-blue-500",initial:{opacity:0,scale:0,x:-20},animate:{opacity:1,scale:1,x:0},transition:{delay:1,type:"spring",bounce:.5},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yt,{className:"w-4 h-4 text-blue-500"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Ciao! Sono Prof Satoshi! "})]}),a.jsx("div",{className:"absolute -bottom-2 left-8 w-4 h-4 bg-white border-r-2 border-b-2 border-blue-500 rotate-45"})]})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl blur-3xl opacity-50 animate-pulse"}),a.jsx(W.div,{className:"relative z-10",animate:{rotateY:[0,5,0,-5,0],rotateX:[0,2,0,-2,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{transformStyle:"preserve-3d",perspective:1e3},children:a.jsxs(oe,{className:"p-8 bg-gradient-to-br from-gray-900 to-gray-800 backdrop-blur-xl border-2 border-gray-700 shadow-2xl rounded-3xl",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(W.div,{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-pink-500 rounded-2xl flex items-center justify-center",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},children:a.jsx(Ht,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Il Tuo Progresso"}),a.jsx("p",{className:"text-white font-bold text-lg",children:"Level 12 - Master Trader"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-gray-400",children:"XP Progress"}),a.jsx("span",{className:"text-white font-semibold",children:"7,850 / 10,000"})]}),a.jsx("div",{className:"h-3 bg-gray-800 rounded-full overflow-hidden",children:a.jsx(W.div,{className:"h-full bg-gradient-to-r from-blue-600 via-purple-600 to-orange-600",initial:{width:0},animate:{width:"78.5%"},transition:{duration:2,delay:.5}})})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"12",label:"Missioni",color:"blue"},{value:"8",label:"Badge",color:"purple"},{value:"45",label:"Streak",color:"orange"}].map((p,h)=>a.jsxs(W.div,{className:`bg-${p.color}-500/10 border border-${p.color}-500/20 p-3 rounded-xl text-center`,whileHover:{scale:1.05,y:-5},transition:{type:"spring",stiffness:300},children:[a.jsx("p",{className:`text-${p.color}-400 font-bold text-xl mb-1`,children:p.value}),a.jsx("p",{className:"text-gray-200 text-sm font-medium",children:p.label})]},h))})]})]})}),a.jsx(W.div,{className:"absolute -top-8 -right-8 z-20",animate:{y:[0,-10,0],rotate:[0,10,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0},children:a.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white px-6 py-3 rounded-2xl shadow-2xl shadow-green-500/50 flex items-center gap-2 border border-green-400/50",children:[a.jsx(yt,{className:"w-5 h-5"}),a.jsx("span",{className:"font-bold text-lg",children:"+200 XP"})]})}),a.jsx(W.div,{className:"absolute -bottom-6 -left-6 z-20",animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:4,repeat:1/0},children:a.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 text-white p-5 rounded-3xl shadow-2xl shadow-purple-500/50 border border-purple-400/50",children:a.jsx(Ht,{className:"w-10 h-10"})})}),a.jsx(W.div,{className:"absolute top-1/2 -left-12 z-20",animate:{x:[0,-10,0],rotate:[0,-10,0]},transition:{duration:2.5,repeat:1/0},children:a.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white p-4 rounded-2xl shadow-2xl shadow-orange-500/50",children:a.jsx(sl,{className:"w-8 h-8"})})})]})})]})})]}),a.jsx("section",{className:"py-16 border-y border-gray-800 bg-gray-900/50 backdrop-blur",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:c.map((p,h)=>a.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.1},className:"text-center group",children:[a.jsx(W.div,{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-2xl mb-4 border border-blue-500/20",whileHover:{scale:1.1,rotate:5},children:a.jsx(p.icon,{className:"w-8 h-8 text-blue-400 group-hover:text-blue-300 transition-colors"})}),a.jsx("p",{className:"text-4xl font-bold text-white mb-2",children:p.decimals?a.jsxs(a.Fragment,{children:[a.jsx(qT,{end:p.value}),p.suffix]}):a.jsxs(a.Fragment,{children:[a.jsx(qT,{end:p.value}),p.suffix]})}),a.jsx("p",{className:"text-gray-400",children:p.label})]},h))})})}),a.jsx("section",{className:"py-20 md:py-32 relative overflow-hidden bg-gradient-to-b from-gray-950 via-blue-950/20 to-gray-950",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[a.jsx(W.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative order-2 md:order-1",children:a.jsxs(W.div,{className:"relative w-full max-w-md mx-auto",animate:{y:[0,-15,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/30 to-blue-600/30 rounded-full blur-3xl"}),a.jsx(W.img,{src:Rc,alt:"Prof Satoshi AI Tutor",className:"w-full h-full object-contain relative z-10",style:{filter:"drop-shadow(0 20px 60px rgba(139, 92, 246, 0.6))"},whileHover:{scale:1.05,rotate:[0,-5,5,0]},transition:{duration:.3}}),a.jsxs(W.div,{className:"absolute top-10 -right-4 bg-gradient-to-br from-blue-500 to-purple-600 text-white px-4 py-2 rounded-full shadow-xl flex items-center gap-2",animate:{y:[0,-10,0],rotate:[0,5,0]},transition:{duration:3,repeat:1/0,delay:.5},children:[a.jsx(gi,{className:"w-4 h-4"}),a.jsx("span",{className:"font-semibold text-sm",children:"GPT-4o"})]}),a.jsxs(W.div,{className:"absolute bottom-20 -left-4 bg-gradient-to-br from-green-500 to-teal-600 text-white px-4 py-2 rounded-full shadow-xl flex items-center gap-2",animate:{y:[0,10,0],rotate:[0,-5,0]},transition:{duration:3,repeat:1/0,delay:1},children:[a.jsx(yt,{className:"w-4 h-4"}),a.jsx("span",{className:"font-semibold text-sm",children:"24/7 Disponibile"})]})]})}),a.jsxs(W.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"order-1 md:order-2",children:[a.jsxs(Ze,{className:"mb-6 bg-purple-500/10 text-purple-400 border border-purple-500/20 px-4 py-2",children:[a.jsx(gi,{className:"w-4 h-4 mr-2"}),"Incontra Prof Satoshi"]}),a.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Il Tuo",a.jsx("span",{className:"block mt-2 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"AI Tutor Personale"})]}),a.jsxs("div",{className:"space-y-4 text-gray-300 text-lg mb-8",children:[a.jsxs("p",{children:[a.jsx("strong",{className:"text-white",children:"Prof Satoshi"}),"  la tua mascotte AI alimentata da GPT-4o che ti accompagna in ogni passo del tuo percorso di apprendimento."]}),a.jsxs("p",{children:["Non  solo un chatbot -  un ",a.jsx("strong",{className:"text-white",children:"mentor intelligente"})," che:"]})]}),a.jsx("div",{className:"space-y-4",children:[{icon:Br,text:"Analizza il tuo livello e crea percorsi personalizzati"},{icon:yt,text:"Ti d consigli in tempo reale durante le missioni"},{icon:Ht,text:"Celebra i tuoi successi e ti motiva nei momenti difficili"},{icon:gi,text:"Risponde a qualsiasi domanda sulla Wheel Strategy"}].map((p,h)=>a.jsxs(W.div,{className:"flex items-start gap-4 group",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:h*.1},children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform border border-purple-500/20",children:a.jsx(p.icon,{className:"w-5 h-5 text-purple-400"})}),a.jsx("p",{className:"text-gray-300 leading-relaxed pt-2",children:p.text})]},h))}),a.jsx(W.div,{className:"mt-8",whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(ye,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 h-14 px-8 shadow-2xl shadow-purple-500/50 text-lg group",onClick:()=>t("onboarding"),children:[a.jsx(yt,{className:"w-5 h-5 mr-2 group-hover:rotate-12 transition-transform"}),"Chatta con Prof Satoshi Ora",a.jsx(Gi,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})})}),a.jsxs("section",{id:"features",className:"py-20 md:py-32 relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 relative z-10",children:[a.jsxs(W.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[a.jsxs(Ze,{className:"mb-6 bg-blue-500/10 text-blue-400 border border-blue-500/20 px-4 py-2",children:[a.jsx(ra,{className:"w-4 h-4 mr-2"}),"Funzionalit"]}),a.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Tutto ci che ti serve per",a.jsx("span",{className:"block mt-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"padroneggiare la Wheel Strategy"})]}),a.jsx("p",{className:"text-gray-400 text-xl max-w-3xl mx-auto",children:"Un ecosistema completo di strumenti educativi, gamification e AI per portarti da principiante a esperto."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((p,h)=>a.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.1},onMouseEnter:()=>r(h),onMouseLeave:()=>r(null),children:a.jsx(W.div,{whileHover:{scale:1.05,rotateY:5,rotateX:5},transition:{type:"spring",stiffness:300},style:{transformStyle:"preserve-3d"},children:a.jsxs(oe,{className:`p-8 h-full bg-gradient-to-br from-gray-900 to-gray-800 border-2 transition-all duration-300 ${e===h?`border-blue-500/50 shadow-2xl ${p.glowColor}`:"border-gray-700 shadow-lg"}`,children:[a.jsxs(W.div,{className:`w-16 h-16 bg-gradient-to-br ${p.gradient} rounded-2xl flex items-center justify-center mb-6 relative`,animate:e===h?{rotate:[0,10,-10,0],scale:[1,1.1,1]}:{},transition:{duration:.5},children:[a.jsx(p.icon,{className:"w-8 h-8 text-white"}),e===h&&a.jsx(W.div,{className:"absolute inset-0 bg-white rounded-2xl",initial:{opacity:0},animate:{opacity:[0,.2,0]},transition:{duration:1,repeat:1/0}})]}),a.jsx(Ze,{className:"mb-4 bg-gray-800 text-gray-300 border-0 px-3 py-1",children:p.stats}),a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:p.title}),a.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:p.description}),a.jsxs(ye,{variant:"ghost",className:"p-0 h-auto text-blue-400 hover:text-blue-300 group",children:["Scopri di pi",a.jsx(Dp,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})})},h))})]})]}),a.jsxs("section",{className:"py-20 md:py-32 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx($c,{delay:1,color:"bg-purple-600"}),a.jsx($c,{delay:3,color:"bg-blue-600"})]}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 relative z-10",children:[a.jsxs(W.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[a.jsx(Ze,{className:"mb-6 bg-purple-500/10 text-purple-400 border border-purple-500/20 px-4 py-2",children:"Come Funziona"}),a.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Da zero a master in",a.jsx("span",{className:"block mt-2 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"3 semplici step"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[a.jsx("div",{className:"hidden md:block absolute top-1/4 left-0 right-0 h-1",children:a.jsx(W.div,{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-orange-500 opacity-30",initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:1.5}})}),[{step:"1",title:"Onboarding AI",description:"Rispondi a 5 domande e lascia che l'AI crei un percorso personalizzato basato sul tuo livello e obiettivi.",icon:gi,color:"from-blue-500 to-cyan-500"},{step:"2",title:"Impara & Pratica",description:"Completa missioni guidate, lezioni interattive e paper trading. Prof Satoshi ti assiste in ogni momento.",icon:Br,color:"from-purple-500 to-pink-500"},{step:"3",title:"Diventa Master",description:"Guadagna XP, sblocca badge, scala la leaderboard e applica le tue skills nel mondo reale.",icon:Ht,color:"from-orange-500 to-red-500"}].map((p,h)=>a.jsx(W.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.2},className:"relative",children:a.jsx(W.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:a.jsxs(oe,{className:"p-8 text-center h-full bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-gray-700 hover:border-gray-600 transition-all",children:[a.jsxs(W.div,{className:`w-24 h-24 bg-gradient-to-br ${p.color} rounded-3xl flex items-center justify-center mx-auto mb-6 relative`,whileHover:{rotate:360},transition:{duration:.8},children:[a.jsx(p.icon,{className:"w-12 h-12 text-white"}),a.jsx(W.div,{className:"absolute inset-0 rounded-3xl",animate:{boxShadow:["0 0 20px rgba(59, 130, 246, 0.3)","0 0 40px rgba(147, 51, 234, 0.5)","0 0 20px rgba(59, 130, 246, 0.3)"]},transition:{duration:2,repeat:1/0}})]}),a.jsx(W.div,{className:"w-14 h-14 bg-gradient-to-br from-gray-800 to-gray-900 text-white rounded-full flex items-center justify-center mx-auto mb-6 font-bold text-2xl border-2 border-gray-700",whileHover:{scale:1.2},children:p.step}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:p.title}),a.jsx("p",{className:"text-gray-400 leading-relaxed",children:p.description})]})})},h))]})]})]}),a.jsx("section",{id:"testimonials",className:"py-20 md:py-32 bg-gray-900/50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:[a.jsxs(W.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[a.jsxs(Ze,{className:"mb-6 bg-orange-500/10 text-orange-400 border border-orange-500/20 px-4 py-2",children:[a.jsx(iu,{className:"w-4 h-4 mr-2"}),"Testimonianze"]}),a.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Cosa dicono i nostri",a.jsx("span",{className:"block mt-2 bg-gradient-to-r from-orange-400 to-pink-400 bg-clip-text text-transparent",children:"studenti"})]})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:d.map((p,h)=>a.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.1},children:a.jsx(W.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:a.jsxs(oe,{className:"p-8 h-full bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-gray-700 hover:border-yellow-500/50 transition-all",children:[a.jsx("div",{className:"flex items-center gap-1 mb-6",children:[...Array(p.rating)].map((g,v)=>a.jsx(W.div,{initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{delay:v*.1},children:a.jsx(iu,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"})},v))}),a.jsxs("p",{className:"text-gray-300 mb-8 italic leading-relaxed text-lg",children:['"',p.content,'"']}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:p.avatar,alt:p.name,className:"w-14 h-14 rounded-full border-2 border-gray-700"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-bold",children:p.name}),a.jsx("p",{className:"text-gray-400",children:p.role})]})]})]})})},h))})]})}),a.jsxs("section",{id:"pricing",className:"py-20 md:py-32 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 relative z-10",children:[a.jsxs(W.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[a.jsx(Ze,{className:"mb-6 bg-green-500/10 text-green-400 border border-green-500/20 px-4 py-2",children:"Prezzi"}),a.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Scegli il piano",a.jsx("span",{className:"block mt-2 bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent",children:"perfetto per te"})]}),a.jsx("p",{className:"text-gray-400 text-xl max-w-3xl mx-auto",children:"Inizia gratis e passa a Pro quando sei pronto. Nessun impegno, cancella quando vuoi."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:f.map((p,h)=>a.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.1},children:a.jsxs(W.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},className:"relative h-full",children:[p.popular&&a.jsx(W.div,{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl blur-xl opacity-50",animate:{opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0}}),a.jsxs(oe,{className:`p-8 h-full relative ${p.popular?"bg-gradient-to-br from-blue-600 to-purple-600 border-0":"bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-gray-700"}`,children:[p.popular&&a.jsx(W.div,{className:"absolute -top-5 left-1/2 transform -translate-x-1/2",animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},children:a.jsx(Ze,{className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white border-0 px-4 py-2 shadow-lg",children:" Pi Popolare"})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:p.name}),a.jsx("p",{className:p.popular?"text-blue-100":"text-gray-400",children:p.description})]}),a.jsx("div",{className:"text-center mb-8",children:a.jsx("span",{className:"text-white",children:p.price==="Custom"?a.jsx("span",{className:"text-4xl font-bold",children:"Custom"}):a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"text-6xl font-bold",children:["",p.price]}),p.period&&a.jsx("span",{className:"text-gray-400 text-xl",children:p.period})]})})}),a.jsx("ul",{className:"space-y-4 mb-8",children:p.features.map((g,v)=>a.jsxs(W.li,{className:"flex items-start gap-3",initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:v*.05},children:[a.jsx(Dt,{className:`w-6 h-6 flex-shrink-0 ${p.popular?"text-white":"text-blue-400"}`}),a.jsx("span",{className:`${p.popular?"text-white":"text-gray-300"} leading-relaxed`,children:g})]},v))}),a.jsx(W.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(ye,{className:`w-full h-14 text-lg font-semibold ${p.popular?"bg-white text-blue-600 hover:bg-gray-100 shadow-2xl":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-xl"}`,onClick:()=>t("auth"),children:p.cta})})]})]})},h))})]})]}),a.jsxs("section",{className:"py-20 md:py-32 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-orange-600"}),a.jsx("div",{className:"absolute inset-0",children:[...Array(30)].map((p,h)=>a.jsx(W.div,{className:"absolute w-2 h-2 bg-white rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-50,0],opacity:[0,1,0],scale:[0,1,0]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*3}},h))}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 md:px-6 text-center relative z-10",children:a.jsxs(W.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8},children:[a.jsxs(W.div,{className:"relative w-32 h-32 mx-auto mb-8",animate:{y:[0,-15,0],rotate:[0,-5,5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[a.jsx(W.div,{className:"absolute inset-0 rounded-full bg-white/30",animate:{scale:[1,1.5,1],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),a.jsx("img",{src:Rc,alt:"Prof Satoshi ti aspetta!",className:"w-full h-full object-contain relative z-10",style:{filter:"drop-shadow(0 10px 30px rgba(255, 255, 255, 0.4))"}}),[...Array(5)].map((p,h)=>a.jsx(W.div,{className:"absolute w-2 h-2 bg-white rounded-full",style:{top:`${20+Math.random()*60}%`,left:`${20+Math.random()*60}%`},animate:{scale:[0,1.5,0],opacity:[0,1,0],y:[0,-20]},transition:{duration:2,repeat:1/0,delay:h*.4,ease:"easeOut"}},h))]}),a.jsx("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Pronto a Diventare un Master Trader?"}),a.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Unisciti a migliaia di studenti che stanno gi padroneggiando la Bitcoin Wheel Strategy. Inizia gratis oggi!"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(W.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsxs(ye,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 h-16 px-10 text-lg font-bold shadow-2xl group",onClick:()=>t("onboarding"),children:[a.jsx(Sh,{className:"w-6 h-6 mr-2 group-hover:translate-y-[-4px] transition-transform"}),"Inizia Ora Gratis",a.jsx(Gi,{className:"w-6 h-6 ml-2 group-hover:translate-x-2 transition-transform"})]})}),a.jsx(W.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(ye,{size:"lg",variant:"outline",className:"h-16 px-10 border-2 border-white bg-white/10 backdrop-blur hover:bg-white/20 text-white text-lg font-bold",onClick:()=>t("auth"),children:"Hai gi un account? Accedi"})})]})]})})]}),a.jsx("footer",{className:"py-12 border-t border-gray-800 bg-gray-950",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(W.div,{className:"w-10 h-10",animate:{rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:a.jsx("img",{src:FT,alt:"btcwheel Logo",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 2px 8px rgba(52, 211, 153, 0.4))"}})}),a.jsx("span",{className:"text-white font-bold text-xl",children:"btcwheel"})]}),a.jsx("p",{className:"text-gray-400",children:"Impara la Bitcoin Wheel Strategy con AI tutor personale e simulazioni trading."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Prodotto"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white transition-colors",children:"Funzionalit"})}),a.jsx("li",{children:a.jsx("a",{href:"#pricing",className:"text-gray-400 hover:text-white transition-colors",children:"Prezzi"})}),a.jsx("li",{children:a.jsx("a",{href:"#testimonials",className:"text-gray-400 hover:text-white transition-colors",children:"Testimonianze"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Risorse"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Blog"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Guide"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"FAQ"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Legale"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Terms"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Cookies"})})]})]})]}),a.jsx("div",{className:"pt-8 border-t border-gray-800 text-center text-gray-400",children:a.jsx("p",{children:" 2024 btcwheel. Tutti i diritti riservati."})})]})})]})}const KG="/favicon.svg";function tn({currentView:t,onNavigate:e,onMascotToggle:r,mascotVisible:n}){const{signOut:i}=xn(),s=[{id:"home",icon:qH,label:"Home"},{id:"dashboard",icon:zj,label:"Dashboard"},{id:"lessons",icon:ju,label:"Lezioni"},{id:"simulation",icon:gt,label:"Trading"},{id:"exchange",icon:Lj,label:"Exchange"},{id:"leaderboard",icon:Ht,label:"Classifica"}],o=async()=>{console.log(" [Navigation] Logging out..."),await i(),setTimeout(()=>{window.location.reload()},300)};return a.jsxs(a.Fragment,{children:[a.jsxs("nav",{className:"hidden md:flex fixed left-0 top-0 h-screen w-20 bg-gray-900/95 backdrop-blur-xl border-r border-white/10 flex-col items-center py-6 z-50 safe-area-left",children:[a.jsx("div",{className:"mb-8 w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 p-2 shadow-lg shadow-emerald-500/20",children:a.jsx("img",{src:KG,alt:"btcwheel",className:"w-full h-full object-contain"})}),a.jsx("div",{className:"flex-1 flex flex-col gap-4 w-full px-3",children:s.map(c=>{const d=c.icon,f=t===c.id;return a.jsxs(W.button,{onClick:()=>e(c.id),className:`relative group flex flex-col items-center justify-center gap-1 p-3 rounded-xl transition-all ${f?"bg-emerald-500/20 text-emerald-400":"text-gray-400 hover:text-white hover:bg-white/5"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(d,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px] font-medium",children:c.label}),f&&a.jsx(W.div,{className:"absolute -left-3 top-1/2 -translate-y-1/2 w-1 h-8 bg-emerald-500 rounded-r-full",layoutId:"activeIndicator",transition:{type:"spring",stiffness:300,damping:30}}),a.jsx("div",{className:"absolute left-full ml-4 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-50 border border-white/10",children:c.label})]},c.id)})}),r&&a.jsx("button",{onClick:r,className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all mb-4 ${n?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"bg-white/5 text-gray-400 hover:text-white hover:bg-white/10"}`,title:n?"Nascondi Prof Satoshi":"Mostra Prof Satoshi",children:a.jsx(yt,{className:"w-5 h-5"})}),a.jsx("button",{onClick:o,className:"w-12 h-12 rounded-xl bg-red-500/10 text-red-400 hover:bg-red-500/20 flex items-center justify-center transition-all group",title:"Logout",children:a.jsx(d$,{className:"w-5 h-5"})})]}),a.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 h-20 bg-gray-900/95 backdrop-blur-xl border-t border-white/10 z-50 safe-area-bottom",children:a.jsx("div",{className:"h-full flex items-center justify-around px-2",children:s.map(c=>{const d=c.icon,f=t===c.id;return a.jsxs(W.button,{onClick:()=>e(c.id),className:`flex flex-col items-center justify-center gap-1 p-2 rounded-xl transition-all min-w-[60px] ${f?"text-emerald-400":"text-gray-400"}`,whileTap:{scale:.9},children:[a.jsx(d,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px] font-medium",children:c.label}),f&&a.jsx(W.div,{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-emerald-500 rounded-t-full",layoutId:"mobileActiveIndicator",transition:{type:"spring",stiffness:300,damping:30}})]},c.id)})})})]})}function XG(t,e=[]){let r=[];function n(s,o){const c=P.createContext(o);c.displayName=s+"Context";const d=r.length;r=[...r,o];const f=h=>{const{scope:g,children:v,...b}=h,w=g?.[t]?.[d]||c,x=P.useMemo(()=>b,Object.values(b));return a.jsx(w.Provider,{value:x,children:v})};f.displayName=s+"Provider";function p(h,g){const v=g?.[t]?.[d]||c,b=P.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[f,p]}const i=()=>{const s=r.map(o=>P.createContext(o));return function(c){const d=c?.[t]||s;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[n,YG(i,...e)]}function YG(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const h=d(s)[`__scope${f}`];return{...c,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function g$(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...r)=>e.current?.(...r),[])}var Xa=globalThis?.document?P.useLayoutEffect:()=>{},JG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bj=JG.reduce((t,e)=>{const r=od(`Primitive.${e}`),n=P.forwardRef((i,s)=>{const{asChild:o,...c}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),L0={exports:{}},B0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function QG(){if(UT)return B0;UT=1;var t=Np();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function c(h,g){var v=g(),b=n({inst:{value:v,getSnapshot:g}}),w=b[0].inst,x=b[1];return s(function(){w.value=v,w.getSnapshot=g,d(w)&&x({inst:w})},[h,v,g]),i(function(){return d(w)&&x({inst:w}),h(function(){d(w)&&x({inst:w})})},[h]),o(v),v}function d(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!r(h,v)}catch{return!0}}function f(h,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return B0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,B0}var VT;function ZG(){return VT||(VT=1,L0.exports=QG()),L0.exports}var eK=ZG();function tK(){return eK.useSyncExternalStore(rK,()=>!0,()=>!1)}function rK(){return()=>{}}var Fj="Avatar",[nK]=XG(Fj),[iK,v$]=nK(Fj),y$=P.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=P.useState("idle");return a.jsx(iK,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(Bj.span,{...n,ref:e})})});y$.displayName=Fj;var x$="AvatarImage",aK=P.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=v$(x$,r),c=sK(n,s),d=g$(f=>{i(f),o.onImageLoadingStatusChange(f)});return Xa(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?a.jsx(Bj.img,{...s,ref:e,src:n}):null});aK.displayName=x$;var b$="AvatarFallback",w$=P.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=v$(b$,r),[o,c]=P.useState(n===void 0);return P.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(Bj.span,{...i,ref:e}):null});w$.displayName=b$;function WT(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function sK(t,{referrerPolicy:e,crossOrigin:r}){const n=tK(),i=P.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,c]=P.useState(()=>WT(s,t));return Xa(()=>{c(WT(s,t))},[s,t]),Xa(()=>{const d=h=>()=>{c(h)};if(!s)return;const f=d("loaded"),p=d("error");return s.addEventListener("load",f),s.addEventListener("error",p),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",f),s.removeEventListener("error",p)}},[s,r,e]),o}var oK=y$,lK=w$;function Su({className:t,...e}){return a.jsx(oK,{"data-slot":"avatar",className:gr("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function _u({className:t,...e}){return a.jsx(lK,{"data-slot":"avatar-fallback",className:gr("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function qj({onNavigate:t}){const{user:e,signOut:r}=xn(),[n,i]=P.useState(!1);if(!e)return null;const s=e.user_metadata?.name||e.email?.split("@")[0]||"Utente",o=s.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2),c=async()=>{console.log(" [UserMenu] Logging out..."),i(!1),await r(),setTimeout(()=>{window.location.reload()},300)};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[a.jsx(Su,{className:"w-10 h-10 border-2 border-white/50",children:a.jsx(_u,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:o})}),a.jsxs("div",{className:"hidden md:block text-left",children:[a.jsx("p",{className:"text-sm font-semibold text-white",children:s}),a.jsx("p",{className:"text-xs text-white/70",children:e.email})]})]}),a.jsx(si,{children:n&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),a.jsx(W.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-64 z-50",children:a.jsxs(oe,{className:"p-4 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-3 mb-3 border-b border-gray-200",children:[a.jsx(Su,{className:"w-12 h-12",children:a.jsx(_u,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:o})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-gray-900 truncate",children:s}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:e.email})]})]}),a.jsx("div",{className:"mb-3",children:a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:[a.jsx(ta,{className:"w-3 h-3"}),e.app_metadata?.provider==="google"?"Google Account":"Email Account"]})}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(ye,{variant:"ghost",className:"w-full justify-start",onClick:()=>{i(!1)},children:[a.jsx(_h,{className:"w-4 h-4 mr-2"}),"Profilo"]}),a.jsxs(ye,{variant:"ghost",className:"w-full justify-start",onClick:()=>{i(!1),t?.("settings")},children:[a.jsx(p$,{className:"w-4 h-4 mr-2"}),"Impostazioni"]}),a.jsxs(ye,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:c,children:[a.jsx(d$,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})]})})]})}function Ja(){const{user:t}=xn(),e=!xt||!t,[r,n]=P.useState({level:1,xp:0,xpToNextLevel:1e3,streak:0,badges:[],lessonsCompleted:0,totalLessons:15,currentLesson:1,completedLessons:[],perfectQuizzes:0,profitableSimulations:0}),[i,s]=P.useState([]),[o,c]=P.useState(!0),[d,f]=P.useState(!1),p=P.useCallback(async()=>{c(!0);try{if(e){const x=Qt.getItem("btc-wheel-progress");if(x){const S=JSON.parse(x);n({...S,completedLessons:S.completedLessons||[],perfectQuizzes:S.perfectQuizzes||0,profitableSimulations:S.profitableSimulations||0})}c(!1);return}if(t){let x=await _F(t.id);if(!x){const k=t.user_metadata?.username||t.email?.split("@")[0]||"User";x=await NF(t.id,k)}x&&n({level:x.level,xp:x.xp,xpToNextLevel:x.xp_to_next_level,streak:x.streak,badges:x.badges||[],lessonsCompleted:x.lessons_completed,totalLessons:x.total_lessons,currentLesson:x.current_lesson,completedLessons:x.completed_lessons||[],perfectQuizzes:x.perfect_quizzes||0,profitableSimulations:x.profitable_simulations||0});const S=await v0(t.id,10);s(S)}}catch(x){console.error("Error loading progress:",x)}finally{c(!1)}},[t,e]);P.useEffect(()=>{p()},[p]);const h=P.useCallback(async x=>{f(!0);try{const S={...r,...x};if(Qt.setItem("btc-wheel-progress",JSON.stringify(S)),!e&&t){const k={level:x.level,xp:x.xp,xp_to_next_level:x.xpToNextLevel,streak:x.streak,badges:x.badges,lessons_completed:x.lessonsCompleted,current_lesson:x.currentLesson};await kF(t.id,k)}return n(S),!0}catch(S){return console.error("Error syncing progress:",S),!1}finally{f(!1)}},[t,r,e]),g=P.useCallback(async x=>{const S=r.xp+x;let k=r.level,_=r.xpToNextLevel;S>=r.xpToNextLevel&&(k+=1,_=r.xpToNextLevel+500);const C={...r,xp:S,level:k,xpToNextLevel:_};n(C),t&&await h(C)},[r,t,h]),v=P.useCallback(async x=>{const S=x||r.currentLesson,k=r.completedLessons||[],_=k.includes(S),C={...r,lessonsCompleted:_?r.lessonsCompleted:r.lessonsCompleted+1,currentLesson:r.currentLesson+1,completedLessons:_?k:[...k,S]};if(n(C),t){await h(C),await c2(t.id,"lesson_completed",`Completata lezione ${S}`,250);const N=await v0(t.id,10);s(N)}return C},[r,t,h]),b=P.useCallback(async x=>{if(r.badges.includes(x))return;const S={...r,badges:[...r.badges,x]};if(n(S),t){await h(S),await c2(t.id,"badge_earned",`Sbloccato badge: ${x}`,500);const k=await v0(t.id,10);s(k)}},[r,t,h]),w=P.useCallback(async x=>{const S={...r,streak:x};n(S),t&&await h(S)},[r,t,h]);return{progress:r,activities:i,loading:o,syncing:d,addXP:g,completeLesson:v,addBadge:b,updateStreak:w,syncProgress:h,reloadProgress:p}}function cK({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const{progress:n}=Ja(),[i,s]=P.useState(null),o=[{id:1,title:"Introduzione al Bitcoin",status:"completed",xp:100,category:"Fondamenti"},{id:2,title:"Cos' la Wheel Strategy",status:"completed",xp:100,category:"Fondamenti"},{id:3,title:"Vendere Cash-Secured Puts",status:"completed",xp:150,category:"Strategie Base"},{id:4,title:"Vendere Covered Calls",status:"completed",xp:150,category:"Strategie Base"},{id:5,title:"Gestione del Rischio",status:"completed",xp:200,category:"Risk Management"},{id:6,title:"Calcolo della Volatilit",status:"completed",xp:200,category:"Analisi Tecnica"},{id:7,title:"Strike Selection",status:"completed",xp:200,category:"Analisi Tecnica"},{id:8,title:"Premium Collection",status:"completed",xp:250,category:"Strategie Avanzate"},{id:9,title:"Roll & Adjust",status:"current",xp:250,category:"Strategie Avanzate"},{id:10,title:"Trade Psychology",status:"locked",xp:300,category:"Psicologia"},{id:11,title:"Portfolio Sizing",status:"locked",xp:300,category:"Portfolio Management"},{id:12,title:"Market Analysis",status:"locked",xp:350,category:"Analisi Mercato"},{id:13,title:"Advanced Strategies",status:"locked",xp:400,category:"Strategie Avanzate"},{id:14,title:"Tax Considerations",status:"locked",xp:400,category:"Fiscalit"},{id:15,title:"Master Exam",status:"locked",xp:500,category:"Certificazione"}],c=d=>({Fondamenti:"from-blue-500 to-cyan-500","Strategie Base":"from-emerald-500 to-teal-500","Risk Management":"from-orange-500 to-red-500","Analisi Tecnica":"from-violet-500 to-purple-500","Strategie Avanzate":"from-pink-500 to-rose-500",Psicologia:"from-amber-500 to-yellow-500","Portfolio Management":"from-indigo-500 to-blue-500","Analisi Mercato":"from-teal-500 to-cyan-500",Fiscalit:"from-slate-500 to-gray-500",Certificazione:"from-yellow-400 to-orange-500"})[d]||"from-gray-500 to-gray-600";return a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white",children:[a.jsx("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),a.jsx("div",{className:"fixed top-0 right-0 w-[500px] h-[500px] bg-emerald-500/10 rounded-full blur-[150px] pointer-events-none"}),a.jsx("div",{className:"fixed bottom-0 left-0 w-[500px] h-[500px] bg-orange-500/10 rounded-full blur-[150px] pointer-events-none"}),a.jsx(tn,{currentView:"home",onNavigate:t,onMascotToggle:r,mascotVisible:e}),a.jsx(W.header,{className:"relative bg-gradient-to-br from-gray-900/50 to-gray-800/50 safe-area-top sticky top-0 z-40 backdrop-blur-xl border-b border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:a.jsx("div",{className:"px-4 py-5 md:px-6 md:py-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-1",children:"Percorso di Apprendimento"}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[n.lessonsCompleted," di ",n.totalLessons," lezioni completate"]})]}),a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[a.jsxs(W.div,{className:"flex items-center gap-2 bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/20 backdrop-blur-sm rounded-xl px-3 py-2",whileHover:{scale:1.05},children:[a.jsx(sl,{className:"w-4 h-4 text-orange-400 flex-shrink-0"}),a.jsx("span",{className:"text-white font-semibold",children:n.streak})]}),a.jsxs(W.div,{className:"flex items-center gap-2 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 border border-emerald-500/20 backdrop-blur-sm rounded-xl px-3 py-2",whileHover:{scale:1.05},children:[a.jsx(ra,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),a.jsx("span",{className:"text-white font-semibold",children:n.xp})]}),a.jsx("div",{className:"hidden md:block",children:a.jsx(qj,{onNavigate:t})})]})]}),a.jsxs(W.div,{className:"mt-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Completamento Corso"}),a.jsxs("span",{className:"text-sm font-bold text-emerald-400",children:[Math.round(n.lessonsCompleted/n.totalLessons*100),"%"]})]}),a.jsx("div",{className:"relative h-2 bg-white/5 rounded-full overflow-hidden backdrop-blur-sm border border-white/10",children:a.jsx(W.div,{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-full",initial:{width:0},animate:{width:`${n.lessonsCompleted/n.totalLessons*100}%`},transition:{duration:1,ease:"easeOut",delay:.3}})})]})]})})}),a.jsxs("main",{className:"relative max-w-6xl mx-auto px-4 py-6 md:px-6 md:py-8",children:[a.jsxs(W.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[a.jsx(oe,{className:"p-4 bg-gradient-to-br from-emerald-600 to-teal-600 border-0 text-white",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(Br,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-emerald-100 text-sm",children:"Livello"}),a.jsx("p",{className:"text-2xl font-bold",children:n.level})]})]})}),a.jsx(oe,{className:"p-4 bg-gradient-to-br from-orange-600 to-red-600 border-0 text-white",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(sl,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-orange-100 text-sm",children:"Streak"}),a.jsx("p",{className:"text-2xl font-bold",children:n.streak})]})]})}),a.jsx(oe,{className:"p-4 bg-gradient-to-br from-violet-600 to-purple-600 border-0 text-white",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(Ht,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-purple-100 text-sm",children:"Badge"}),a.jsx("p",{className:"text-2xl font-bold",children:n.badges.length})]})]})}),a.jsx(oe,{className:"p-4 bg-gradient-to-br from-blue-600 to-cyan-600 border-0 text-white",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(ju,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Lezioni"}),a.jsx("p",{className:"text-2xl font-bold",children:n.lessonsCompleted})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(ju,{className:"w-5 h-5 text-emerald-400"}),"Tutte le Lezioni"]}),a.jsx("div",{className:"space-y-3",children:o.map((d,f)=>{const p=d.status==="locked",h=d.status==="current",g=d.status==="completed";return a.jsx(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+f*.05},onHoverStart:()=>s(d.id),onHoverEnd:()=>s(null),whileHover:p?{}:{x:4},children:a.jsxs(oe,{className:`
                      relative overflow-hidden transition-all
                      ${p?"bg-gray-800/20 border-white/5 cursor-not-allowed":"bg-gradient-to-br from-gray-800/50 to-gray-900/50 border-white/10 hover:border-white/20 cursor-pointer"}
                      ${h?"ring-2 ring-emerald-500/50 ring-offset-2 ring-offset-gray-950":""}
                    `,onClick:()=>!p&&t("lesson"),children:[h&&a.jsx(W.div,{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 via-teal-500/10 to-emerald-500/10",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:3,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 100%"}}),a.jsxs("div",{className:"relative p-4 md:p-5 flex items-center gap-4",children:[a.jsxs("div",{className:`
                        relative flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center
                        ${g?"bg-gradient-to-br from-emerald-500 to-teal-500":h?"bg-gradient-to-br from-orange-500 to-red-500":"bg-gray-700/50"}
                      `,children:[g&&a.jsx(Mp,{className:"w-6 h-6 text-white"}),h&&a.jsx(W.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:a.jsx(jh,{className:"w-6 h-6 text-white"})}),p&&a.jsx(Bs,{className:"w-6 h-6 text-gray-500"}),h&&a.jsx(W.div,{className:"absolute inset-0 rounded-xl bg-orange-500",initial:{scale:1,opacity:.5},animate:{scale:1.5,opacity:0},transition:{duration:2,repeat:1/0}})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 mb-1",children:[a.jsx("h3",{className:`font-semibold ${p?"text-gray-500":"text-white"}`,children:d.title}),h&&a.jsx(W.div,{animate:{rotate:[0,14,-14,14,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:a.jsx(yt,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"})})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Ze,{className:`
                              text-xs border-0
                              ${p?"bg-gray-700/50 text-gray-500":`bg-gradient-to-r ${c(d.category)} text-white`}
                            `,children:d.category}),a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[a.jsx(ra,{className:`w-3 h-3 ${p?"text-gray-600":"text-yellow-400"}`}),a.jsxs("span",{className:p?"text-gray-600":"text-gray-400",children:[d.xp," XP"]})]}),g&&a.jsx(Ze,{variant:"outline",className:"text-xs border-emerald-500/30 text-emerald-400 bg-emerald-500/10",children:"Completata"}),h&&a.jsx(Ze,{variant:"outline",className:"text-xs border-orange-500/30 text-orange-400 bg-orange-500/10",children:"In Corso"})]})]}),!p&&a.jsx(W.div,{animate:i===d.id?{x:[0,4,0]}:{},transition:{duration:1,repeat:1/0},children:a.jsx(Dp,{className:"w-5 h-5 text-gray-500 flex-shrink-0"})})]}),h&&a.jsx("div",{className:"relative h-1 bg-white/5",children:a.jsx(W.div,{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-emerald-500 to-teal-500",initial:{width:"0%"},animate:{width:"45%"},transition:{duration:1,delay:.5}})})]})},d.id)})})]}),a.jsx(W.div,{className:"mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:a.jsxs(oe,{className:"relative p-6 md:p-8 bg-gradient-to-br from-emerald-600 to-teal-600 border-0 text-white overflow-hidden",children:[a.jsx(W.div,{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:4,repeat:1/0}}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(iu,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Continua il tuo percorso!"}),a.jsxs("p",{className:"text-emerald-100",children:["Hai completato ",n.lessonsCompleted," lezioni. Ancora ",n.totalLessons-n.lessonsCompleted," da scoprire!"]})]})]}),a.jsxs(ye,{onClick:()=>t("lesson"),className:"bg-white text-emerald-600 hover:bg-gray-100 font-semibold",children:[a.jsx(jh,{className:"w-4 h-4 mr-2"}),"Riprendi Lezione"]})]})]})})]})]})}function uK(t,e=[]){let r=[];function n(s,o){const c=P.createContext(o);c.displayName=s+"Context";const d=r.length;r=[...r,o];const f=h=>{const{scope:g,children:v,...b}=h,w=g?.[t]?.[d]||c,x=P.useMemo(()=>b,Object.values(b));return a.jsx(w.Provider,{value:x,children:v})};f.displayName=s+"Provider";function p(h,g){const v=g?.[t]?.[d]||c,b=P.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[f,p]}const i=()=>{const s=r.map(o=>P.createContext(o));return function(c){const d=c?.[t]||s;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[n,dK(i,...e)]}function dK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const h=d(s)[`__scope${f}`];return{...c,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var fK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],j$=fK.reduce((t,e)=>{const r=od(`Primitive.${e}`),n=P.forwardRef((i,s)=>{const{asChild:o,...c}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Uj="Progress",Vj=100,[hK]=uK(Uj),[pK,mK]=hK(Uj),S$=P.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=gK,...o}=t;(i||i===0)&&!HT(i)&&console.error(vK(`${i}`,"Progress"));const c=HT(i)?i:Vj;n!==null&&!GT(n,c)&&console.error(yK(`${n}`,"Progress"));const d=GT(n,c)?n:null,f=Nh(d)?s(d,c):void 0;return a.jsx(pK,{scope:r,value:d,max:c,children:a.jsx(j$.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Nh(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":k$(d,c),"data-value":d??void 0,"data-max":c,...o,ref:e})})});S$.displayName=Uj;var _$="ProgressIndicator",N$=P.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=mK(_$,r);return a.jsx(j$.div,{"data-state":k$(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});N$.displayName=_$;function gK(t,e){return`${Math.round(t/e*100)}%`}function k$(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Nh(t){return typeof t=="number"}function HT(t){return Nh(t)&&!isNaN(t)&&t>0}function GT(t,e){return Nh(t)&&!isNaN(t)&&t<=e&&t>=0}function vK(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Vj}\`.`}function yK(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Vj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xK=S$,bK=N$;function ai({className:t,value:e,...r}){return a.jsx(xK,{"data-slot":"progress",className:gr("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:a.jsx(bK,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const wK={"first-lesson":{name:"Prima Lezione",icon:iu,color:"from-yellow-400 to-yellow-600"},"week-streak":{name:"Settimana Perfetta",icon:sl,color:"from-orange-400 to-orange-600"},"quick-learner":{name:"Apprendimento Rapido",icon:ra,color:"from-blue-400 to-blue-600"},"paper-trader":{name:"Paper Trader",icon:gt,color:"from-green-400 to-green-600"}};function jK({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const{progress:n}=Ja(),i=P.useRef(null),s=s$(i,{once:!0}),o=[{label:"Lezioni",value:n.lessonsCompleted,total:n.totalLessons,icon:ju,gradient:"from-emerald-400 to-teal-500",percentage:n.lessonsCompleted/n.totalLessons*100},{label:"Streak",value:n.streak,total:30,icon:sl,gradient:"from-pink-500 to-red-500",percentage:n.streak/30*100},{label:"Quiz",value:24,total:30,icon:Dt,gradient:"from-lime-400 to-green-500",percentage:80},{label:"Trading",value:12,total:20,icon:$p,gradient:"from-purple-500 to-violet-600",percentage:60}],c=[{title:"Continua a Imparare",description:"Strike Price Selection",icon:jh,gradient:"from-emerald-500 to-teal-600",action:()=>t("lessons"),badge:""},{title:"Connetti Exchange",description:"Importa i tuoi trade reali",icon:Lj,gradient:"from-pink-500 to-purple-600",action:()=>t("exchange")},{title:"Wheel Strategy",description:"Dashboard 0DTE Trading",icon:Br,gradient:"from-blue-500 to-cyan-600",action:()=>t("wheel-strategy")},{title:"Simulatore Trading",description:"Pratica le strategie",icon:gt,gradient:"from-purple-600 to-fuchsia-600",action:()=>t("longterm")},{title:"Test Skills",description:"Quiz Intelligenti AI",icon:gi,gradient:"from-orange-500 to-red-600",action:()=>t("lessons")}],d=[{icon:Nw,text:"Lezione completata",time:"2 ore fa",color:"text-emerald-400"},{icon:Ht,text:"Nuovo badge ottenuto!",time:"1 giorno fa",color:"text-yellow-400"},{icon:gt,text:"Trade simulato",time:"2 giorni fa",color:"text-blue-400"}];return a.jsxs("div",{className:"min-h-screen bg-[#0a1628]",children:[a.jsx(tn,{currentView:"dashboard",onNavigate:t,mascotVisible:e,onMascotToggle:r}),a.jsx("div",{className:"md:pl-20",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-[1600px]",children:[a.jsxs(oe,{className:"p-6 bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Su,{className:"w-16 h-16 border-4 border-emerald-500 shadow-lg shadow-emerald-500/30",children:a.jsx(_u,{className:"bg-gradient-to-br from-emerald-600 to-teal-600 text-white text-xl font-bold",children:"CU"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:"Bentornato, Crypto User "}),a.jsx("p",{className:"text-sm text-gray-400",children:"Continua il tuo percorso verso il trading professionale"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(qj,{onNavigate:t}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[a.jsx(yt,{className:"w-4 h-4 text-emerald-400"}),a.jsxs("span",{className:"text-sm text-gray-400",children:["Livello ",n.level]})]}),a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx(sl,{className:"w-4 h-4 text-orange-400"}),a.jsxs("span",{className:"text-sm text-gray-400",children:[n.streak," giorni"]})]})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-1",children:[" Progresso Livello ",n.level]}),a.jsxs("span",{className:"text-sm font-semibold text-emerald-400",children:[n.xp," / ",n.xpToNextLevel," XP"]})]}),a.jsx(ai,{value:n.xp/n.xpToNextLevel*100,className:"h-2 bg-slate-800"})]})]}),a.jsx("div",{ref:i,className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:o.map((f,p)=>{const h=f.icon;return a.jsx(W.div,{initial:{opacity:0,y:20},animate:s?{opacity:1,y:0}:{},transition:{delay:p*.1},children:a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 hover:border-slate-600/50 transition-all",children:[a.jsx("div",{className:`h-2 -mx-4 -mt-4 mb-4 rounded-t-lg bg-gradient-to-r ${f.gradient}`}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(h,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-3xl font-bold text-white leading-none",children:f.value}),a.jsxs("p",{className:"text-sm text-gray-500",children:["/ ",f.total]})]})]}),a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:f.label}),a.jsx(ai,{value:f.percentage,className:"h-1.5 bg-slate-800"})]})},f.label)})}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Sh,{className:"w-5 h-5 text-emerald-400"}),a.jsx("h3",{className:"text-lg font-bold text-white",children:"Azioni Rapide"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((f,p)=>{const h=f.icon;return a.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:p*.05},whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},children:a.jsxs(oe,{onClick:f.action,className:`relative overflow-hidden p-5 cursor-pointer border-0 bg-gradient-to-br ${f.gradient} hover:shadow-xl transition-all duration-300 group`,children:[f.badge&&a.jsx("div",{className:"absolute top-3 right-3 text-xl",children:f.badge}),a.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:a.jsx(h,{className:"w-6 h-6 text-white"})}),a.jsx("h4",{className:"text-base font-bold text-white mb-1",children:f.title}),a.jsx("p",{className:"text-white/90 text-sm",children:f.description}),a.jsx("div",{className:"mt-3 text-white text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:""})]})},f.title)})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(zp,{className:"w-5 h-5 text-orange-400"}),a.jsx("h3",{className:"text-lg font-bold text-white",children:"Attivit Recente"})]}),a.jsx(oe,{className:"p-5 bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50",children:a.jsx("div",{className:"space-y-4",children:d.map((f,p)=>{const h=f.icon;return a.jsxs(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:p*.1},className:"flex items-center gap-3 p-3 rounded-lg bg-slate-800/30 hover:bg-slate-800/50 transition-colors",children:[a.jsx("div",{className:`w-10 h-10 rounded-full bg-slate-700/50 flex items-center justify-center ${f.color}`,children:a.jsx(h,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:f.text}),a.jsx("p",{className:"text-xs text-gray-500",children:f.time})]})]},p)})})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(YW,{className:"w-5 h-5 text-yellow-400"}),a.jsx("h3",{className:"text-lg font-bold text-white",children:"I Tuoi Badge"})]}),a.jsx("button",{onClick:()=>t("leaderboard"),className:"text-sm text-emerald-400 hover:text-emerald-300 transition-colors",children:"Vedi tutti "})]}),a.jsx(oe,{className:"p-6 bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50",children:n.badges.length>0?a.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.badges.slice(0,4).map(f=>{const p=wK[f];if(!p)return null;const h=p.icon;return a.jsx(W.div,{whileHover:{scale:1.05,rotate:5},className:"cursor-pointer",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`w-16 h-16 mx-auto mb-2 bg-gradient-to-br ${p.color} rounded-full flex items-center justify-center shadow-lg`,children:a.jsx(h,{className:"w-8 h-8 text-white"})}),a.jsx("p",{className:"text-xs text-gray-300",children:p.name})]})},f)})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ht,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Completa lezioni per sbloccare badge!"})]})})]}),a.jsx("div",{children:a.jsxs(oe,{className:"p-5 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 backdrop-blur-xl border border-emerald-500/30",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded-full"}),a.jsx("h4",{className:"font-bold text-white",children:"Prossimo Traguardo"})]}),a.jsxs("p",{className:"text-sm text-emerald-300",children:["Livello ",n.level+1]})]}),a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center",children:a.jsx(Br,{className:"w-6 h-6 text-white"})})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Progressi"}),a.jsx("div",{className:"flex items-center gap-2 text-xs text-emerald-300",children:a.jsxs("span",{className:"font-medium",children:[Math.round(n.xp/n.xpToNextLevel*100),"%"]})})]}),a.jsxs("div",{className:"space-y-2 text-xs text-gray-400",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:["Completa 3 lezioni (",n.lessonsCompleted,"/3)"]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Mantieni lo streak (100 XP)"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Completa 2 quiz (80 XP)"})]})]})]})})]})]})]})})]})}function nn(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function Ml(t,e=[]){let r=[];function n(s,o){const c=P.createContext(o),d=r.length;r=[...r,o];const f=h=>{const{scope:g,children:v,...b}=h,w=g?.[t]?.[d]||c,x=P.useMemo(()=>b,Object.values(b));return a.jsx(w.Provider,{value:x,children:v})};f.displayName=s+"Provider";function p(h,g){const v=g?.[t]?.[d]||c,b=P.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[f,p]}const i=()=>{const s=r.map(o=>P.createContext(o));return function(c){const d=c?.[t]||s;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[n,SK(i,...e)]}function SK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const h=d(s)[`__scope${f}`];return{...c,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function _K(t){const e=NK(t),r=P.forwardRef((n,i)=>{const{children:s,...o}=n,c=P.Children.toArray(s),d=c.find(TK);if(d){const f=d.props.children,p=c.map(h=>h===d?P.Children.count(f)>1?P.Children.only(null):P.isValidElement(f)?f.props.children:null:h);return a.jsx(e,{...o,ref:i,children:P.isValidElement(f)?P.cloneElement(f,void 0,p):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function NK(t){const e=P.forwardRef((r,n)=>{const{children:i,...s}=r;if(P.isValidElement(i)){const o=PK(i),c=AK(s,i.props);return i.type!==P.Fragment&&(c.ref=n?Pp(n,o):o),P.cloneElement(i,c)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kK=Symbol("radix.slottable");function TK(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kK}function AK(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...c)=>{const d=s(...c);return i(...c),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function PK(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var CK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bn=CK.reduce((t,e)=>{const r=_K(`Primitive.${e}`),n=P.forwardRef((i,s)=>{const{asChild:o,...c}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function KT(t){const e=EK(t),r=P.forwardRef((n,i)=>{const{children:s,...o}=n,c=P.Children.toArray(s),d=c.find(IK);if(d){const f=d.props.children,p=c.map(h=>h===d?P.Children.count(f)>1?P.Children.only(null):P.isValidElement(f)?f.props.children:null:h);return a.jsx(e,{...o,ref:i,children:P.isValidElement(f)?P.cloneElement(f,void 0,p):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function EK(t){const e=P.forwardRef((r,n)=>{const{children:i,...s}=r;if(P.isValidElement(i)){const o=$K(i),c=RK(s,i.props);return i.type!==P.Fragment&&(c.ref=n?Pp(n,o):o),P.cloneElement(i,c)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var OK=Symbol("radix.slottable");function IK(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OK}function RK(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...c)=>{const d=s(...c);return i(...c),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function $K(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function MK(t){const e=t+"CollectionProvider",[r,n]=Ml(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:x,children:S}=w,k=z.useRef(null),_=z.useRef(new Map).current;return a.jsx(i,{scope:x,itemMap:_,collectionRef:k,children:S})};o.displayName=e;const c=t+"CollectionSlot",d=KT(c),f=z.forwardRef((w,x)=>{const{scope:S,children:k}=w,_=s(c,S),C=Qi(x,_.collectionRef);return a.jsx(d,{ref:C,children:k})});f.displayName=c;const p=t+"CollectionItemSlot",h="data-radix-collection-item",g=KT(p),v=z.forwardRef((w,x)=>{const{scope:S,children:k,..._}=w,C=z.useRef(null),N=Qi(x,C),T=s(p,S);return z.useEffect(()=>(T.itemMap.set(C,{ref:C,..._}),()=>void T.itemMap.delete(C))),a.jsx(g,{[h]:"",ref:N,children:k})});v.displayName=p;function b(w){const x=s(t+"CollectionConsumer",w);return z.useCallback(()=>{const k=x.collectionRef.current;if(!k)return[];const _=Array.from(k.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((T,E)=>_.indexOf(T.ref.current)-_.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:f,ItemSlot:v},b,n]}var DK=Y1[" useId ".trim().toString()]||(()=>{}),zK=0;function T$(t){const[e,r]=P.useState(DK());return Xa(()=>{r(n=>n??String(zK++))},[t]),t||(e?`radix-${e}`:"")}var LK=Y1[" useInsertionEffect ".trim().toString()]||Xa;function Lp({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=BK({defaultProp:e,onChange:r}),c=t!==void 0,d=c?t:i;{const p=P.useRef(t!==void 0);P.useEffect(()=>{const h=p.current;h!==c&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,n])}const f=P.useCallback(p=>{if(c){const h=FK(p)?p(t):p;h!==t&&o.current?.(h)}else s(p)},[c,t,s,o]);return[d,f]}function BK({defaultProp:t,onChange:e}){const[r,n]=P.useState(t),i=P.useRef(r),s=P.useRef(e);return LK(()=>{s.current=e},[e]),P.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function FK(t){return typeof t=="function"}var qK=P.createContext(void 0);function Wj(t){const e=P.useContext(qK);return t||e||"ltr"}var F0="rovingFocusGroup.onEntryFocus",UK={bubbles:!1,cancelable:!0},fd="RovingFocusGroup",[Tw,A$,VK]=MK(fd),[WK,Bp]=Ml(fd,[VK]),[HK,GK]=WK(fd),P$=P.forwardRef((t,e)=>a.jsx(Tw.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Tw.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(KK,{...t,ref:e})})}));P$.displayName=fd;var KK=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...h}=t,g=P.useRef(null),v=Qi(e,g),b=Wj(s),[w,x]=Lp({prop:o,defaultProp:c??null,onChange:d,caller:fd}),[S,k]=P.useState(!1),_=g$(f),C=A$(r),N=P.useRef(!1),[T,E]=P.useState(0);return P.useEffect(()=>{const O=g.current;if(O)return O.addEventListener(F0,_),()=>O.removeEventListener(F0,_)},[_]),a.jsx(HK,{scope:r,orientation:n,dir:b,loop:i,currentTabStopId:w,onItemFocus:P.useCallback(O=>x(O),[x]),onItemShiftTab:P.useCallback(()=>k(!0),[]),onFocusableItemAdd:P.useCallback(()=>E(O=>O+1),[]),onFocusableItemRemove:P.useCallback(()=>E(O=>O-1),[]),children:a.jsx(bn.div,{tabIndex:S||T===0?-1:0,"data-orientation":n,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:nn(t.onMouseDown,()=>{N.current=!0}),onFocus:nn(t.onFocus,O=>{const R=!N.current;if(O.target===O.currentTarget&&R&&!S){const H=new CustomEvent(F0,UK);if(O.currentTarget.dispatchEvent(H),!H.defaultPrevented){const L=C().filter(K=>K.focusable),M=L.find(K=>K.active),$=L.find(K=>K.id===w),Q=[M,$,...L].filter(Boolean).map(K=>K.ref.current);O$(Q,p)}}N.current=!1}),onBlur:nn(t.onBlur,()=>k(!1))})})}),C$="RovingFocusGroupItem",E$=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...c}=t,d=T$(),f=s||d,p=GK(C$,r),h=p.currentTabStopId===f,g=A$(r),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:w}=p;return P.useEffect(()=>{if(n)return v(),()=>b()},[n,v,b]),a.jsx(Tw.ItemSlot,{scope:r,id:f,focusable:n,active:i,children:a.jsx(bn.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:nn(t.onMouseDown,x=>{n?p.onItemFocus(f):x.preventDefault()}),onFocus:nn(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:nn(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){p.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const S=JK(x,p.orientation,p.dir);if(S!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let _=g().filter(C=>C.focusable).map(C=>C.ref.current);if(S==="last")_.reverse();else if(S==="prev"||S==="next"){S==="prev"&&_.reverse();const C=_.indexOf(x.currentTarget);_=p.loop?QK(_,C+1):_.slice(C+1)}setTimeout(()=>O$(_))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:w!=null}):o})})});E$.displayName=C$;var XK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function JK(t,e,r){const n=YK(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return XK[n]}function O$(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function QK(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var I$=P$,R$=E$;function $$(t){const[e,r]=P.useState(void 0);return Xa(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,c;if("borderBoxSize"in s){const d=s.borderBoxSize,f=Array.isArray(d)?d[0]:d;o=f.inlineSize,c=f.blockSize}else o=t.offsetWidth,c=t.offsetHeight;r({width:o,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}function M$(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function ZK(t,e){return P.useReducer((r,n)=>e[r][n]??r,t)}var Fp=t=>{const{present:e,children:r}=t,n=eX(e),i=typeof r=="function"?r({present:n.isPresent}):P.Children.only(r),s=Qi(n.ref,tX(i));return typeof r=="function"||n.isPresent?P.cloneElement(i,{ref:s}):null};Fp.displayName="Presence";function eX(t){const[e,r]=P.useState(),n=P.useRef(null),i=P.useRef(t),s=P.useRef("none"),o=t?"mounted":"unmounted",[c,d]=ZK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const f=Vf(n.current);s.current=c==="mounted"?f:"none"},[c]),Xa(()=>{const f=n.current,p=i.current;if(p!==t){const g=s.current,v=Vf(f);t?d("MOUNT"):v==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),Xa(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,h=v=>{const w=Vf(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&w&&(d("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},g=v=>{v.target===e&&(s.current=Vf(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:P.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Vf(t){return t?.animationName||"none"}function tX(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Hj="Radio",[rX,D$]=Ml(Hj),[nX,iX]=rX(Hj),z$=P.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:o,value:c="on",onCheck:d,form:f,...p}=t,[h,g]=P.useState(null),v=Qi(e,x=>g(x)),b=P.useRef(!1),w=h?f||!!h.closest("form"):!0;return a.jsxs(nX,{scope:r,checked:i,disabled:o,children:[a.jsx(bn.button,{type:"button",role:"radio","aria-checked":i,"data-state":q$(i),"data-disabled":o?"":void 0,disabled:o,value:c,...p,ref:v,onClick:nn(t.onClick,x=>{i||d?.(),w&&(b.current=x.isPropagationStopped(),b.current||x.stopPropagation())})}),w&&a.jsx(F$,{control:h,bubbles:!b.current,name:n,value:c,checked:i,required:s,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});z$.displayName=Hj;var L$="RadioIndicator",B$=P.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,s=iX(L$,r);return a.jsx(Fp,{present:n||s.checked,children:a.jsx(bn.span,{"data-state":q$(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});B$.displayName=L$;var aX="RadioBubbleInput",F$=P.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const o=P.useRef(null),c=Qi(o,s),d=M$(r),f=$$(e);return P.useEffect(()=>{const p=o.current;if(!p)return;const h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==r&&v){const b=new Event("click",{bubbles:n});v.call(p,r),p.dispatchEvent(b)}},[d,r,n]),a.jsx(bn.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:c,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});F$.displayName=aX;function q$(t){return t?"checked":"unchecked"}var sX=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qp="RadioGroup",[oX]=Ml(qp,[Bp,D$]),U$=Bp(),V$=D$(),[lX,cX]=oX(qp),W$=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:o=!1,disabled:c=!1,orientation:d,dir:f,loop:p=!0,onValueChange:h,...g}=t,v=U$(r),b=Wj(f),[w,x]=Lp({prop:s,defaultProp:i??null,onChange:h,caller:qp});return a.jsx(lX,{scope:r,name:n,required:o,disabled:c,value:w,onValueChange:x,children:a.jsx(I$,{asChild:!0,...v,orientation:d,dir:b,loop:p,children:a.jsx(bn.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:b,...g,ref:e})})})});W$.displayName=qp;var H$="RadioGroupItem",G$=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,s=cX(H$,r),o=s.disabled||n,c=U$(r),d=V$(r),f=P.useRef(null),p=Qi(e,f),h=s.value===i.value,g=P.useRef(!1);return P.useEffect(()=>{const v=w=>{sX.includes(w.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",b)}},[]),a.jsx(R$,{asChild:!0,...c,focusable:!o,active:h,children:a.jsx(z$,{disabled:o,required:s.required,checked:h,...d,...i,name:s.name,ref:p,onCheck:()=>s.onValueChange(i.value),onKeyDown:nn(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:nn(i.onFocus,()=>{g.current&&f.current?.click()})})})});G$.displayName=H$;var uX="RadioGroupIndicator",K$=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=V$(r);return a.jsx(B$,{...i,...n,ref:e})});K$.displayName=uX;var dX=W$,fX=G$,hX=K$;function Lo({className:t,...e}){return a.jsx(dX,{"data-slot":"radio-group",className:gr("grid gap-3",t),...e})}function Sr({className:t,...e}){return a.jsx(fX,{"data-slot":"radio-group-item",className:gr("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(hX,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:a.jsx(wH,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var pX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mX=pX.reduce((t,e)=>{const r=od(`Primitive.${e}`),n=P.forwardRef((i,s)=>{const{asChild:o,...c}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),gX="Label",X$=P.forwardRef((t,e)=>a.jsx(mX.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));X$.displayName=gX;var vX=X$;function pt({className:t,...e}){return a.jsx(vX,{"data-slot":"label",className:gr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Y$(){const[t,e]=P.useState({emotion:"normal",message:"Ciao! Sono Prof Satoshi, il tuo tutor personale! ",isThinking:!1}),r=P.useRef(null),n=P.useCallback(c=>{switch(c){case"quiz_correct":return{emotion:"celebrating",message:"Perfetto! Hai capito benissimo! ",isThinking:!1};case"quiz_wrong":return{emotion:"encouraging",message:"Nessun problema! Impariamo dagli errori. Riprova! ",isThinking:!1};case"quiz_start":return{emotion:"teaching",message:"Vediamo cosa hai imparato! Ce la puoi fare! ",isThinking:!1};case"lesson_start":return{emotion:"teaching",message:"Iniziamo questa lezione! Sar interessante! ",isThinking:!1};case"lesson_complete":return{emotion:"celebrating",message:"Lezione completata! Sei sulla strada giusta! ",isThinking:!1};case"level_up":return{emotion:"celebrating",message:"Nuovo livello! Stai facendo progressi incredibili! ",isThinking:!1};case"badge_unlock":return{emotion:"excited",message:"Wow! Hai sbloccato un nuovo badge! Fantastico! ",isThinking:!1};case"streak_active":return{emotion:"excited",message:"Grande! Continua cos la tua streak! ",isThinking:!1};case"streak_broken":return{emotion:"encouraging",message:"Non preoccuparti, ricominciamo oggi! ",isThinking:!1};case"trade_profit":return{emotion:"excited",message:"Trade profittevole! Ottima strategia! ",isThinking:!1};case"trade_loss":return{emotion:"teaching",message:"Ogni trade  una lezione. Analizziamo insieme! ",isThinking:!1};case"ai_listening":return{emotion:"normal",message:"Ti ascolto... dimmi tutto! ",isThinking:!1};case"ai_thinking":return{emotion:"thinking",message:"Hmm, fammi pensare... ",isThinking:!0};case"ai_responding":return{emotion:"teaching",message:"Ecco cosa ne penso! ",isThinking:!1};case"idle":return{emotion:"normal",message:"Ciao! Sono Prof Satoshi, il tuo tutor personale! ",isThinking:!1};case"excited":return{emotion:"excited",message:"Fantastico! ",isThinking:!1};case"celebrating":return{emotion:"celebrating",message:"Evviva! ",isThinking:!1};case"disappointed":return{emotion:"disappointed",message:"Oh no... ",isThinking:!1};default:return{emotion:"normal",message:"Ciao! Come posso aiutarti? ",isThinking:!1}}},[]),i=P.useCallback((c,d=3e3)=>{const f=n(c);if(e(f),r.current&&(clearTimeout(r.current),r.current=null),!f.isThinking&&c!=="idle"){const p=setTimeout(()=>{e({emotion:"normal",message:"Sono qui se hai bisogno! ",isThinking:!1})},d);r.current=p}},[n]),s=P.useCallback((c,d,f=!1)=>{e({emotion:c,message:d,isThinking:f}),r.current&&(clearTimeout(r.current),r.current=null)},[]),o=P.useCallback(()=>{e({emotion:"normal",message:"Sono qui se hai bisogno! ",isThinking:!1}),r.current&&(clearTimeout(r.current),r.current=null)},[]);return P.useEffect(()=>{const c=setTimeout(()=>{t.emotion==="normal"&&i("idle")},3e4);return()=>clearTimeout(c)},[t.emotion,i]),P.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]),{emotion:t.emotion,message:t.message,isThinking:t.isThinking,setActivity:i,setEmotion:s,reset:o}}const XT=3;function yX(){const[t,e]=P.useState(!1),[r,n]=P.useState({correctAnswers:0,wrongAnswers:0,consecutiveWrong:0,consecutiveCorrect:0,difficultyLevel:"easy",weakTopics:[],questionsAsked:[],totalAttempts:0}),i=P.useCallback(async(h,g,v,b)=>{try{e(!0);const w=b||r.difficultyLevel,x=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/generate-quiz-question`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ur}`},body:JSON.stringify({lessonId:h,lessonTitle:g,lessonContent:v,difficulty:w,performance:{...r,previousQuestions:r.questionsAsked}})});if(!x.ok){const k=await x.text();console.error("AI question generation error:",k);try{const _=JSON.parse(k);console.error("Error details:",_),_.rawResponse&&console.error("AI raw response preview:",_.rawResponse)}catch{}return null}const S=await x.json();return n(k=>({...k,questionsAsked:[...k.questionsAsked,S.question.question]})),{...S.question,isAI:!0,difficulty:w,attemptsLeft:XT}}catch(w){return console.error("Error generating AI question:",w),null}finally{e(!1)}},[r]),s=P.useCallback((h,g,v=1)=>{n(b=>{const w={...b};return w.totalAttempts+=v,h?(w.correctAnswers++,w.consecutiveWrong=0,w.consecutiveCorrect++,w.consecutiveCorrect>=3&&v===1&&(b.difficultyLevel==="easy"?(w.difficultyLevel="medium",console.log(" Difficolt aumentata a MEDIUM")):b.difficultyLevel==="medium"&&(w.difficultyLevel="hard",console.log(" Difficolt aumentata a HARD")),w.consecutiveCorrect=0)):(w.wrongAnswers++,w.consecutiveWrong++,w.consecutiveCorrect=0,g&&!w.weakTopics.includes(g)&&w.weakTopics.push(g),w.consecutiveWrong>=2&&(b.difficultyLevel==="hard"?(w.difficultyLevel="medium",console.log(" Difficolt ridotta a MEDIUM")):b.difficultyLevel==="medium"&&(w.difficultyLevel="easy",console.log(" Difficolt ridotta a EASY")))),w})},[]),o=P.useCallback(()=>{const h=r.correctAnswers/(r.correctAnswers+r.wrongAnswers),g=r.correctAnswers+r.wrongAnswers;return r.consecutiveWrong>=3||r.wrongAnswers>=5&&r.correctAnswers<r.wrongAnswers||g>=10&&h<.5},[r]),c=P.useCallback(async(h,g)=>{try{const v=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/get-quiz-feedback`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ur}`},body:JSON.stringify({lessonTitle:h,wrongAnswers:g,performance:{...r,accuracy:r.correctAnswers/(r.correctAnswers+r.wrongAnswers)}})});if(!v.ok)throw new Error("Failed to get AI feedback");return(await v.json()).feedback}catch(v){return console.error("Error getting AI feedback:",v),"Sembra che tu abbia qualche difficolt con questo argomento. Ti consiglio di rivedere la lezione prima di continuare. Focus sui concetti chiave! "}},[r]),d=P.useCallback(()=>r.weakTopics.length===0?null:{topics:r.weakTopics,message:`Hai avuto difficolt con: ${r.weakTopics.join(", ")}. Ripassa questi concetti prima di continuare!`,shouldBlock:r.consecutiveWrong>=3},[r]),f=P.useCallback(()=>{const h=r.correctAnswers+r.wrongAnswers,g=h>0?r.correctAnswers/h*100:0,v=h>0?r.totalAttempts/h:0;return{total:h,correct:r.correctAnswers,wrong:r.wrongAnswers,accuracy:Math.round(g),averageAttempts:Math.round(v*10)/10,difficulty:r.difficultyLevel,weakTopics:r.weakTopics}},[r]),p=P.useCallback(()=>{n({correctAnswers:0,wrongAnswers:0,consecutiveWrong:0,consecutiveCorrect:0,difficultyLevel:"easy",weakTopics:[],questionsAsked:[],totalAttempts:0})},[]);return{generateAIQuestion:i,recordAnswer:s,shouldReviewLesson:o,getAIFeedback:c,getReviewSuggestions:d,getQuizStats:f,resetPerformance:p,performance:r,isGenerating:t,maxAttemptsPerQuestion:XT}}function YT({amount:t,onComplete:e,trigger:r}){const[n,i]=P.useState(!1),[s,o]=P.useState(0);return P.useEffect(()=>{if(r){i(!0);let c=0;const d=t/20,f=setInterval(()=>{c+=d,c>=t?(o(t),clearInterval(f)):o(Math.floor(c))},30),p=setTimeout(()=>{i(!1),e?.()},2e3);return()=>{clearInterval(f),clearTimeout(p)}}},[r,t,e]),a.jsx(si,{children:n&&a.jsx(W.div,{className:"fixed left-1/2 top-1/2 z-50 pointer-events-none",initial:{opacity:0,y:20,x:"-50%",scale:0},animate:{opacity:[0,1,1,0],y:[20,-60,-80,-100],scale:[0,1.2,1,.8],x:"-50%"},exit:{opacity:0,scale:0},transition:{duration:2,times:[0,.2,.7,1],ease:[.34,1.56,.64,1]},children:a.jsxs("div",{className:"relative",children:[a.jsxs(W.div,{className:"text-5xl px-8 py-4 rounded-2xl bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-2xl",style:{textShadow:"0 0 20px rgba(59, 130, 246, 0.8)"},children:["+",s," XP"]}),[...Array(5)].map((c,d)=>a.jsx(W.div,{className:"absolute text-yellow-400",initial:{opacity:0,scale:0,x:0,y:0},animate:{opacity:[0,1,0],scale:[0,1.5,0],x:[0,(Math.random()-.5)*100],y:[0,(Math.random()-.5)*100]},transition:{duration:1.2,delay:d*.1,ease:"easeOut"},style:{left:"50%",top:"50%"},children:a.jsx(yt,{className:"w-6 h-6",fill:"currentColor"})},d))]})})})}function JT({isCorrect:t,show:e,onAnimationComplete:r,onDismiss:n}){return a.jsx(si,{mode:"wait",onExitComplete:r,children:e&&t!==null&&a.jsxs(W.div,{className:"fixed inset-0 z-40 flex items-center justify-center cursor-pointer",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:n,children:[a.jsx(W.div,{className:`absolute inset-0 ${t?"bg-green-500/20":"bg-red-500/20"}`,initial:{opacity:0},animate:{opacity:[0,.6,0]},transition:{duration:.6}}),a.jsx(W.div,{className:`relative ${t?"bg-green-500 text-white":"bg-red-500 text-white"} rounded-full p-8 shadow-2xl`,initial:{scale:0,rotate:t?-180:0},animate:{scale:t?[0,1.2,1]:[0,1],rotate:t?[0,10,-10,10,0]:[-10,10,-10,10,-5,5,0]},exit:{scale:0,opacity:0},transition:{duration:t?.5:.6,ease:t?[.34,1.56,.64,1]:"easeInOut"},style:{boxShadow:t?"0 0 50px rgba(34, 197, 94, 0.6)":"0 0 50px rgba(239, 68, 68, 0.6)"},children:t?a.jsx(Mp,{className:"w-24 h-24",strokeWidth:3}):a.jsx(Hs,{className:"w-24 h-24",strokeWidth:3})}),t&&a.jsxs(a.Fragment,{children:[a.jsx(W.div,{className:"absolute w-32 h-32 border-4 border-green-500 rounded-full",initial:{scale:1,opacity:.8},animate:{scale:3,opacity:0},exit:{scale:0,opacity:0},transition:{duration:.8,ease:"easeOut"}}),a.jsx(W.div,{className:"absolute w-32 h-32 border-4 border-green-400 rounded-full",initial:{scale:1,opacity:.6},animate:{scale:2.5,opacity:0},exit:{scale:0,opacity:0},transition:{duration:.8,delay:.1,ease:"easeOut"}})]})]},"quiz-feedback")})}const Up={first_lesson:{id:"first_lesson",name:"Primo Passo",description:"Hai completato la tua prima lezione!",icon:"",rarity:"common",category:"learning",requirement:{type:"lessons_completed",value:1,description:"Completa 1 lezione"},reward:{xp:50}},bitcoin_basics:{id:"bitcoin_basics",name:"Bitcoin Enthusiast",description:"Padroneggi le basi di Bitcoin",icon:"",rarity:"common",category:"learning",requirement:{type:"lessons_completed",value:3,description:"Completa le prime 3 lezioni"},reward:{xp:100}},options_scholar:{id:"options_scholar",name:"Options Scholar",description:"Comprendi il mondo delle opzioni",icon:"",rarity:"rare",category:"learning",requirement:{type:"lessons_completed",value:6,description:"Completa 6 lezioni (met corso)"},reward:{xp:200}},wheel_master:{id:"wheel_master",name:"Wheel Master",description:"Hai completato tutte le lezioni sulla Wheel Strategy!",icon:"",rarity:"epic",category:"mastery",requirement:{type:"lessons_completed",value:9,description:"Completa 9 lezioni (Wheel completa)"},reward:{xp:500}},knowledge_seeker:{id:"knowledge_seeker",name:"Knowledge Seeker",description:"Hai completato 12 lezioni avanzate",icon:"",rarity:"epic",category:"learning",requirement:{type:"lessons_completed",value:12,description:"Completa 12 lezioni"},reward:{xp:750}},grand_master:{id:"grand_master",name:"Grand Master",description:"Hai completato TUTTE le 15 lezioni! Sei un esperto!",icon:"",rarity:"legendary",category:"mastery",requirement:{type:"lessons_completed",value:15,description:"Completa tutte le 15 lezioni"},reward:{xp:1e3,multiplier:1.1}},xp_collector_1k:{id:"xp_collector_1k",name:"XP Collector",description:"Hai guadagnato 1,000 XP!",icon:"",rarity:"common",category:"achievement",requirement:{type:"xp_earned",value:1e3,description:"Guadagna 1,000 XP"},reward:{xp:100}},xp_hunter_5k:{id:"xp_hunter_5k",name:"XP Hunter",description:"Hai accumulato 5,000 XP!",icon:"",rarity:"rare",category:"achievement",requirement:{type:"xp_earned",value:5e3,description:"Guadagna 5,000 XP"},reward:{xp:500}},xp_legend_10k:{id:"xp_legend_10k",name:"XP Legend",description:"Hai raggiunto 10,000 XP! Incredibile!",icon:"",rarity:"legendary",category:"achievement",requirement:{type:"xp_earned",value:1e4,description:"Guadagna 10,000 XP"},reward:{xp:1e3,multiplier:1.05}},level_5:{id:"level_5",name:"Rising Trader",description:"Hai raggiunto il livello 5!",icon:"",rarity:"rare",category:"achievement",requirement:{type:"level_reached",value:5,description:"Raggiungi livello 5"},reward:{xp:250}},level_10:{id:"level_10",name:"Advanced Trader",description:"Livello 10! Sei tra i migliori!",icon:"",rarity:"epic",category:"achievement",requirement:{type:"level_reached",value:10,description:"Raggiungi livello 10"},reward:{xp:500}},level_15:{id:"level_15",name:"Elite Trader",description:"Livello 15! Sei un'lite!",icon:"",rarity:"legendary",category:"mastery",requirement:{type:"level_reached",value:15,description:"Raggiungi livello 15"},reward:{xp:1e3,multiplier:1.15}},streak_3:{id:"streak_3",name:"On Fire",description:"3 giorni di streak! Continua cos!",icon:"",rarity:"common",category:"streak",requirement:{type:"streak_days",value:3,description:"Mantieni uno streak di 3 giorni"},reward:{xp:100}},streak_7:{id:"streak_7",name:"Weekly Warrior",description:"Una settimana di streak! Dedizione totale!",icon:"",rarity:"rare",category:"streak",requirement:{type:"streak_days",value:7,description:"Mantieni uno streak di 7 giorni"},reward:{xp:300,multiplier:1.05}},streak_30:{id:"streak_30",name:"Monthly Master",description:"30 giorni di streak! Sei inarrestabile!",icon:"",rarity:"epic",category:"streak",requirement:{type:"streak_days",value:30,description:"Mantieni uno streak di 30 giorni"},reward:{xp:1e3,multiplier:1.1}},streak_100:{id:"streak_100",name:"Centurion",description:"100 giorni consecutivi! Leggenda vivente!",icon:"",rarity:"legendary",category:"streak",requirement:{type:"streak_days",value:100,description:"Mantieni uno streak di 100 giorni"},reward:{xp:5e3,multiplier:1.2}},quiz_perfectionist:{id:"quiz_perfectionist",name:"Perfectionist",description:"Hai fatto 5 quiz con punteggio perfetto!",icon:"",rarity:"rare",category:"achievement",requirement:{type:"quiz_perfect",value:5,description:"Completa 5 quiz con 100% risposte corrette"},reward:{xp:300}},quiz_genius:{id:"quiz_genius",name:"Quiz Genius",description:"10 quiz perfetti! Hai memoria fotografica!",icon:"",rarity:"epic",category:"achievement",requirement:{type:"quiz_perfect",value:10,description:"Completa 10 quiz con 100% risposte corrette"},reward:{xp:750}},first_profit:{id:"first_profit",name:"First Profit",description:"Hai completato la tua prima simulazione in profitto!",icon:"",rarity:"common",category:"trading",requirement:{type:"simulation_profit",value:1,description:"Completa 1 simulazione con profitto positivo"},reward:{xp:150}},profitable_trader:{id:"profitable_trader",name:"Profitable Trader",description:"Hai completato 5 simulazioni profittevoli!",icon:"",rarity:"rare",category:"trading",requirement:{type:"simulation_profit",value:5,description:"Completa 5 simulazioni con profitto positivo"},reward:{xp:500}},trading_pro:{id:"trading_pro",name:"Trading Pro",description:"10 simulazioni profittevoli! Sei un professionista!",icon:"",rarity:"epic",category:"trading",requirement:{type:"simulation_profit",value:10,description:"Completa 10 simulazioni con profitto positivo"},reward:{xp:1e3,multiplier:1.1}}};function J$(t,e){switch(t.requirement.type){case"lessons_completed":return e.completedLessons.length>=t.requirement.value;case"xp_earned":return e.xp>=t.requirement.value;case"streak_days":return e.streak>=t.requirement.value;case"level_reached":return e.level>=t.requirement.value;case"quiz_perfect":return(e.perfectQuizzes||0)>=t.requirement.value;case"simulation_profit":return(e.profitableSimulations||0)>=t.requirement.value;default:return!1}}function xX(t){const e=[];return Object.values(Up).forEach(r=>{!t.unlockedBadges?.includes(r.id)&&J$(r,t)&&e.push(r.id)}),e}function bX(t){const e=Object.values(Up).filter(r=>!t.unlockedBadges?.includes(r.id)&&!J$(r,t));return e.length===0?null:e.reduce((r,n)=>{const i=QT(n,t),s=QT(r,t);return i>s?n:r})}function QT(t,e){switch(t.requirement.type){case"lessons_completed":return e.completedLessons.length/t.requirement.value;case"xp_earned":return e.xp/t.requirement.value;case"streak_days":return e.streak/t.requirement.value;case"level_reached":return e.level/t.requirement.value;case"quiz_perfect":return(e.perfectQuizzes||0)/t.requirement.value;case"simulation_profit":return(e.profitableSimulations||0)/t.requirement.value;default:return 0}}const Aw={common:"from-gray-400 to-gray-600",rare:"from-blue-400 to-blue-600",epic:"from-purple-400 to-purple-600",legendary:"from-yellow-400 to-orange-600"},wX={common:"border-gray-400",rare:"border-blue-400",epic:"border-purple-400",legendary:"border-yellow-400"},Q$={common:"Comune",rare:"Raro",epic:"Epico",legendary:"Leggendario"};function ZT({badgeId:t,onClose:e}){const[r,n]=P.useState(!1),i=t?Up[t]:null;P.useEffect(()=>{t&&i&&(n(!0),typeof window<"u"&&"vibrate"in navigator&&navigator.vibrate([200,100,200,100,400]))},[t,i]);const s=()=>{n(!1),setTimeout(e,300)};return i?a.jsx(si,{children:r&&a.jsxs(a.Fragment,{children:[a.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100]",onClick:s}),a.jsx("div",{className:"fixed inset-0 z-[101] flex items-center justify-center p-4",children:a.jsx(W.div,{initial:{scale:.5,opacity:0,rotateY:-180},animate:{scale:1,opacity:1,rotateY:0,transition:{type:"spring",stiffness:200,damping:20}},exit:{scale:.8,opacity:0,transition:{duration:.2}},className:"w-full max-w-md",children:a.jsxs(oe,{className:"relative overflow-hidden p-8 text-center",children:[a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((o,c)=>a.jsx(W.div,{className:"absolute w-2 h-2 rounded-full bg-yellow-400",initial:{x:"50%",y:"50%",scale:0,opacity:0},animate:{x:`${Math.random()*100}%`,y:`${Math.random()*100}%`,scale:[0,1,0],opacity:[0,1,0]},transition:{duration:1.5,delay:c*.05,ease:"easeOut"}},c))}),a.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Hs,{className:"w-5 h-5"})}),a.jsx(W.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mb-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(Ht,{className:"w-6 h-6 text-yellow-500"}),a.jsx("h2",{className:"text-gray-900",children:"Badge Sbloccato!"})]})}),a.jsxs(W.div,{initial:{scale:0},animate:{scale:1,transition:{type:"spring",stiffness:200,damping:15,delay:.3}},className:"relative mb-6",children:[a.jsx("div",{className:`absolute inset-0 blur-2xl opacity-50 bg-gradient-to-r ${Aw[i.rarity]}`}),a.jsx("div",{className:"relative text-8xl filter drop-shadow-xl",children:i.icon})]}),a.jsxs(W.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"space-y-3",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("span",{className:`inline-block px-4 py-1 rounded-full text-sm bg-gradient-to-r ${Aw[i.rarity]} text-white`,children:Q$[i.rarity]})}),a.jsx("h3",{className:"text-gray-900 text-2xl",children:i.name}),a.jsx("p",{className:"text-gray-600",children:i.description}),i.reward&&a.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 pt-4",children:[a.jsx(yt,{className:"w-5 h-5"}),a.jsxs("div",{className:"space-x-3",children:[i.reward.xp&&a.jsxs("span",{className:"font-semibold",children:["+",i.reward.xp," XP"]}),i.reward.multiplier&&a.jsxs("span",{className:"text-sm",children:[((i.reward.multiplier-1)*100).toFixed(0),"% XP Boost"]})]})]})]}),a.jsx(W.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"mt-6",children:a.jsx(ye,{onClick:s,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:"Fantastico!"})}),a.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"absolute inset-0 pointer-events-none",children:[...Array(30)].map((o,c)=>a.jsx(W.div,{className:"absolute",style:{left:`${50+(Math.random()-.5)*20}%`,top:`${50+(Math.random()-.5)*20}%`},animate:{y:[0,-200-Math.random()*100],x:[(Math.random()-.5)*200],rotate:[0,360*(Math.random()>.5?1:-1)],opacity:[1,0]},transition:{duration:2+Math.random(),delay:.4+Math.random()*.3,ease:"easeOut"},children:a.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8"][Math.floor(Math.random()*6)]}})},c))})]})})})]})}):null}function jX({performance:t,isGenerating:e,onGenerateTest:r}){const[n,i]=P.useState(!1),s=t.correctAnswers+t.wrongAnswers,o=s>0?t.correctAnswers/s*100:0;return n?a.jsx("div",{className:"fixed bottom-20 right-4 z-50 md:bottom-4 max-w-sm",children:a.jsxs(oe,{className:"p-4 bg-gray-900 text-white shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"text-white flex items-center gap-2",children:[a.jsx(gi,{className:"w-5 h-5 text-purple-400"}),"AI Performance"]}),a.jsx(ye,{onClick:()=>i(!1),size:"sm",variant:"ghost",className:"text-gray-400 hover:text-white",children:""})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Difficolt:"}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${t.difficultyLevel==="easy"?"bg-green-600":t.difficultyLevel==="medium"?"bg-yellow-600":"bg-red-600"}`,children:t.difficultyLevel.toUpperCase()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Score:"}),a.jsxs("span",{className:"text-white font-semibold",children:[" ",t.correctAnswers," |  ",t.wrongAnswers]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Accuracy:"}),a.jsxs("span",{className:`font-semibold ${o>=70?"text-green-400":o>=50?"text-yellow-400":"text-red-400"}`,children:[o.toFixed(1),"%"]})]}),a.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all ${o>=70?"bg-green-500":o>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o}%`}})})]}),t.consecutiveWrong>0&&a.jsxs("div",{className:"flex items-center gap-2 text-orange-400 bg-orange-900/30 p-2 rounded",children:[a.jsx(ni,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-xs",children:[t.consecutiveWrong," errori consecutivi"]})]}),t.weakTopics.length>0&&a.jsxs("div",{className:"bg-red-900/30 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-red-400 mb-1",children:"Punti deboli:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:t.weakTopics.map((c,d)=>a.jsx("span",{className:"text-xs bg-red-800 px-2 py-0.5 rounded",children:c},d))})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"Domande storico:"}),a.jsx("span",{className:"text-white",children:t.questionsAsked.length})]}),a.jsx("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-700",children:e?a.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-yellow-400 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-xs",children:"Generando AI..."})]}):a.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx(ra,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs",children:"AI Ready"})]})}),r&&a.jsxs(ye,{onClick:r,disabled:e,size:"sm",className:"w-full bg-purple-600 hover:bg-purple-700 mt-2",children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Test AI Generation"]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-3 pt-3 border-t border-gray-700",children:" Sistema AI Quiz Dinamico attivo"})]})}):a.jsxs(ye,{onClick:()=>i(!0),size:"sm",variant:"outline",className:"fixed bottom-20 right-4 z-50 md:bottom-4 bg-purple-600 text-white hover:bg-purple-700",children:[a.jsx(gi,{className:"w-4 h-4 mr-2"}),"AI Debug"]})}function Z$(){const t=P.useCallback(r=>{if(Qt.getItem("mascotHapticEnabled")!=="false"&&"vibrate"in navigator&&typeof navigator.vibrate=="function")try{navigator.vibrate(r)}catch(i){console.warn("Vibration not supported or failed:",i)}},[]);return{light:()=>t(10),medium:()=>t(20),heavy:()=>t(40),success:()=>t([10,50,10,50,10]),error:()=>t([50,100,50]),notification:()=>t([20,40,20]),selection:()=>t([5,10,5]),custom:r=>t(r)}}function eM(){const t=P.useRef(null),e=P.useRef(!0);P.useEffect(()=>{const i=()=>{t.current||(t.current=new(window.AudioContext||window.webkitAudioContext))};return document.addEventListener("click",i,{once:!0}),document.addEventListener("touchstart",i,{once:!0}),()=>{t.current&&t.current.close()}},[]);const r=P.useCallback((i,s,o="sine",c=.3)=>{if(!(!e.current||!t.current))try{const d=t.current,f=d.createOscillator(),p=d.createGain();f.connect(p),p.connect(d.destination),f.type=o,f.frequency.setValueAtTime(i,d.currentTime),p.gain.setValueAtTime(c,d.currentTime),p.gain.exponentialRampToValueAtTime(.01,d.currentTime+s),f.start(d.currentTime),f.stop(d.currentTime+s)}catch(d){console.warn("Sound playback failed:",d)}},[]),n={appear:()=>{r(400,.1,"sine",.2),setTimeout(()=>r(600,.15,"sine",.25),80)},click:()=>{r(800,.08,"sine",.3)},tipShow:()=>{r(600,.12,"sine",.2),setTimeout(()=>r(800,.12,"sine",.2),60)},tipDismiss:()=>{r(500,.1,"sine",.15)},excited:()=>{r(523,.1,"sine",.25),setTimeout(()=>r(659,.1,"sine",.25),80),setTimeout(()=>r(784,.15,"sine",.25),160)},disappointed:()=>{r(440,.15,"sine",.2),setTimeout(()=>r(349,.2,"sine",.2),120)},normal:()=>{r(600,.12,"sine",.2)},hover:()=>{r(700,.05,"sine",.15)},success:()=>{r(523,.08,"square",.2),setTimeout(()=>r(659,.08,"square",.2),70),setTimeout(()=>r(784,.08,"square",.2),140),setTimeout(()=>r(1047,.2,"square",.25),210)},playSound:i=>{i==="positive"?n.success():n.disappointed()},toggleSound:i=>{e.current=i},isSoundEnabled:()=>e.current};return n}function SX(){const t=Z$(),e=eM(),[r,n]=P.useState({xpGain:!1,quizFeedback:{show:!1,isCorrect:null},streakIncrement:!1,levelUp:!1,badgeUnlock:!1,lessonComplete:!1}),i=P.useCallback(g=>{n(v=>({...v,xpGain:!0})),e.success(),t.success(),setTimeout(()=>{n(v=>({...v,xpGain:!1}))},100)},[e,t]),s=P.useCallback(g=>{n(v=>({...v,quizFeedback:{show:!0,isCorrect:g}})),g?(e.excited(),t.success()):(e.disappointed(),t.error()),setTimeout(()=>{n(v=>({...v,quizFeedback:{show:!1,isCorrect:null}}))},1e3)},[e,t]),o=P.useCallback(()=>{n(g=>({...g,quizFeedback:{show:!1,isCorrect:null}}))},[]),c=P.useCallback(()=>{n(g=>({...g,streakIncrement:!0})),e.excited(),t.success(),setTimeout(()=>{n(g=>({...g,streakIncrement:!1}))},100)},[e,t]),d=P.useCallback(g=>{n(v=>({...v,levelUp:!0})),e.success(),t.success(),setTimeout(()=>{n(v=>({...v,levelUp:!1}))},100)},[e,t]),f=P.useCallback(g=>{n(v=>({...v,badgeUnlock:!0})),e.success(),t.success(),setTimeout(()=>{n(v=>({...v,badgeUnlock:!1}))},100)},[e,t]),p=P.useCallback(()=>{n(g=>({...g,lessonComplete:!0})),e.success(),t.success(),setTimeout(()=>{n(g=>({...g,lessonComplete:!1}))},100)},[e,t]),h=P.useCallback(()=>{n({xpGain:!1,quizFeedback:{show:!1,isCorrect:null},streakIncrement:!1,levelUp:!1,badgeUnlock:!1,lessonComplete:!1})},[]);return{triggers:r,triggerXPGain:i,triggerQuizFeedback:s,dismissQuizFeedback:o,triggerStreakIncrement:c,triggerLevelUp:d,triggerBadgeUnlock:f,triggerLessonComplete:p,resetAll:h}}const Bo={1:{id:1,title:"Introduzione a Bitcoin",description:"Scopri cos' Bitcoin, come funziona la blockchain e perch  una rivoluzione finanziaria",difficulty:"beginner",estimatedTime:"15 min",requiredLevel:1,sections:[{title:"Cos' Bitcoin?",content:"Bitcoin  la prima criptovaluta decentralizzata al mondo, creata nel 2009 da Satoshi Nakamoto. Non  controllata da nessuna banca o governo, ma da una rete distribuita di computer in tutto il mondo. Bitcoin permette di inviare valore digitale direttamente da persona a persona, senza intermediari."},{title:"La Blockchain",content:'La blockchain  il registro pubblico distribuito su cui vengono registrate tutte le transazioni Bitcoin. Ogni "blocco" contiene un gruppo di transazioni, e i blocchi sono collegati tra loro in una "catena". Questa struttura rende estremamente difficile alterare le transazioni passate, garantendo sicurezza e trasparenza.'},{title:"Perch Bitcoin ha Valore?",content:"Bitcoin ha valore per tre motivi principali: 1) Scarsit - ci saranno solo 21 milioni di bitcoin, 2) Utilit - permette trasferimenti rapidi e sicuri, 3) Rete - pi persone lo usano, pi diventa prezioso. Come l'oro digitale, Bitcoin  un store of value resistente alla censura."},{title:"Mining e Sicurezza",content:'I miner usano potenza computazionale per validare le transazioni e aggiungere nuovi blocchi alla blockchain. In cambio ricevono bitcoin come ricompensa. Questo processo chiamato "Proof of Work" rende la rete sicura: per attaccarla servirebbe pi potenza di calcolo di tutti i miner onesti messi insieme, cosa economicamente non conveniente.'}],questions:[{id:1,type:"multiple-choice",question:"Chi ha creato Bitcoin?",options:["Elon Musk","Satoshi Nakamoto","Vitalik Buterin","La NSA"],correctAnswer:1,explanation:"Bitcoin  stato creato da Satoshi Nakamoto nel 2009. La sua vera identit rimane ancora sconosciuta.",xp:50},{id:2,type:"multiple-choice",question:"Quanti bitcoin esisteranno in totale?",options:["10 milioni","21 milioni","100 milioni","Infiniti"],correctAnswer:1,explanation:"Il limite massimo di bitcoin  fissato a 21 milioni. Questa scarsit programmata  una caratteristica fondamentale di Bitcoin.",xp:50},{id:3,type:"multiple-choice",question:"Cos' la blockchain?",options:["Un tipo di criptovaluta","Un registro distribuito di transazioni","Un algoritmo di mining","Un wallet digitale"],correctAnswer:1,explanation:"La blockchain  un registro pubblico e distribuito che contiene tutte le transazioni Bitcoin in ordine cronologico.",xp:75}]},2:{id:2,title:"Volatilit e Prezzo di Bitcoin",description:"Comprendi i cicli di mercato, la volatilit e cosa muove il prezzo di Bitcoin",difficulty:"beginner",estimatedTime:"20 min",requiredLevel:1,sections:[{title:"Cosa Causa la Volatilit",content:"Bitcoin  noto per la sua alta volatilit. I fattori principali includono: 1) Mercato relativamente piccolo rispetto ad asset tradizionali, 2) Notizie e sentiment del mercato, 3) Regolamentazioni governative, 4) Adozione istituzionale, 5) Eventi tecnici come halving. La volatilit  sia un rischio che un'opportunit per i trader."},{title:"I Cicli di Mercato di Bitcoin",content:'Bitcoin segue cicli di circa 4 anni legati agli "halving" (dimezzamento della ricompensa dei miner). Tipicamente dopo ogni halving segue un bull market, poi un top, un bear market, e un periodo di accumulazione. Comprendere questi cicli ti aiuta a posizionarti meglio strategicamente.'},{title:"Analisi On-Chain",content:"L'analisi on-chain studia i dati direttamente dalla blockchain per capire il comportamento dei detentori di bitcoin. Metriche importanti includono: indirizzi attivi, bitcoin in movimento, supply su exchange, profitti/perdite degli investitori. Questi dati ti danno insight sul sentiment di mercato."},{title:"Correlazioni di Mercato",content:"Bitcoin ha mostrato diverse correlazioni nel tempo: a volte con l'oro (store of value), a volte con tech stocks (risk-on asset). Negli ultimi anni la correlazione con i mercati tradizionali  aumentata, specialmente con il NASDAQ. Capire queste dinamiche  fondamentale per il risk management."}],questions:[{id:1,type:"multiple-choice",question:"Ogni quanti anni circa avviene l'halving di Bitcoin?",options:["2 anni","4 anni","6 anni","10 anni"],correctAnswer:1,explanation:"L'halving di Bitcoin avviene circa ogni 4 anni, o pi precisamente ogni 210,000 blocchi minati.",xp:50},{id:2,type:"multiple-choice",question:"Quale fattore NON influenza tipicamente la volatilit di Bitcoin?",options:["Annunci di regolamentazione governativa","Adozione da parte di aziende","Il prezzo del petrolio","Sentiment sui social media"],correctAnswer:2,explanation:"Il prezzo del petrolio ha una correlazione molto bassa con Bitcoin. Gli altri fattori invece influenzano significativamente la volatilit.",xp:75},{id:3,type:"multiple-choice",question:"Cosa indica un alto numero di bitcoin che si spostano dagli exchange ai wallet personali?",options:["Gli investitori vogliono vendere","Gli investitori stanno accumulando per il lungo termine","Il prezzo sta per crollare","Non ha alcun significato"],correctAnswer:1,explanation:"Quando i bitcoin lasciano gli exchange significa che gli investitori li stanno mettendo in cold storage, segnale di accumulo e holding a lungo termine.",xp:100}]},3:{id:3,title:"Cosa Sono le Opzioni",description:"Introduzione al mondo delle opzioni: put, call, strike, scadenza e premium",difficulty:"beginner",estimatedTime:"25 min",requiredLevel:2,sections:[{title:"Opzioni: Il Concetto Base",content:`Un'opzione  un contratto che ti d il DIRITTO (ma non l'obbligo) di comprare o vendere un asset a un prezzo prestabilito entro una certa data.  come un "coupon" che ti permette di bloccare un prezzo futuro. Le opzioni Bitcoin funzionano esattamente come quelle su azioni, ma con BTC come sottostante.`},{title:"Call vs Put",content:"Ci sono due tipi di opzioni: CALL (diritto di COMPRARE) e PUT (diritto di VENDERE). Esempio: una call a $50k ti permette di comprare BTC a $50k anche se il prezzo sale a $80k. Una put a $40k ti permette di vendere BTC a $40k anche se il prezzo scende a $30k."},{title:"Componenti di un'Opzione",content:"Ogni opzione ha 4 elementi chiave: 1) STRIKE PRICE - il prezzo di esercizio, 2) SCADENZA - quando il contratto termina, 3) PREMIUM - il prezzo che paghi per l'opzione, 4) SOTTOSTANTE - l'asset (nel nostro caso BTC). Questi elementi determinano il valore e il rischio dell'opzione."},{title:"Comprare vs Vendere Opzioni",content:"Puoi essere BUYER (compratore) o SELLER (venditore) di opzioni. Il buyer paga un premium e ha diritti limitati al premium pagato. Il seller riceve il premium ma assume obblighi potenzialmente illimitati. Nella Wheel Strategy, vendiamo opzioni per raccogliere premium regolarmente."}],questions:[{id:1,type:"multiple-choice",question:"Una CALL option ti d il diritto di:",options:["Vendere l'asset","Comprare l'asset","Tenere l'asset","Scambiare l'asset"],correctAnswer:1,explanation:"Una CALL option ti d il diritto (non l'obbligo) di COMPRARE l'asset sottostante al prezzo strike.",xp:50},{id:2,type:"multiple-choice",question:"Se vendi un'opzione, cosa ricevi?",options:["Il diritto di comprare","Il diritto di vendere","Il premium","Niente"],correctAnswer:2,explanation:"Quando vendi un'opzione, ricevi immediatamente il premium, ma assumi l'obbligo di onorare il contratto se richiesto.",xp:75},{id:3,type:"multiple-choice",question:"Quale elemento NON  parte di un contratto di opzione?",options:["Strike price","Data di scadenza","Dividend yield","Premium"],correctAnswer:2,explanation:"Il dividend yield non  rilevante per le opzioni Bitcoin. Strike, scadenza e premium sono i componenti essenziali.",xp:75}]},4:{id:4,title:"Cash-Secured Put",description:"Impara la prima gamba della Wheel Strategy: vendere put per generare income",difficulty:"intermediate",estimatedTime:"30 min",requiredLevel:3,sections:[{title:"Cos' una Cash-Secured Put",content:'Una Cash-Secured Put (CSP)  quando VENDI una put option avendo il cash necessario per comprare BTC se assegnato. Esempio: vendi una put strike $40k, tieni $40k in cash. Se BTC scende sotto $40k, compri BTC a quel prezzo. Se resta sopra, tieni il premium.  un modo per "farsi pagare per aspettare" un prezzo di entrata.'},{title:"Calcolo del Premium e Rendimento",content:"Il premium che ricevi dipende da: 1) Volatilit implicita (IV) - pi alta, pi premium, 2) Distanza dello strike dal prezzo attuale - pi lontano, meno premium, 3) Tempo a scadenza - pi tempo, pi premium. Un buon target  1-3% del capitale investito al mese (12-36% annualizzato)."},{title:"Selezione dello Strike",content:'Scegli uno strike a cui saresti FELICE di comprare BTC. Considera: 1) Livelli di supporto tecnico, 2) Prezzo medio di mercato, 3) Il tuo punto di vista sul prezzo. Strike "Out of the Money" (sotto il prezzo attuale) sono pi sicuri ma danno meno premium. Strike "At the Money" danno pi premium ma pi probabilit di assegnazione.'},{title:"Gestione del Rischio",content:"I rischi principali sono: 1) BTC crolla molto sotto il tuo strike (ma se volevi comprarlo, va bene), 2) BTC sale molto e perdi l'opportunit (ma hai il premium). Per mitigare: vendi put solo a strike che ti vanno bene, non investire tutto in una scadenza, considera strike pi conservativi in mercati incerti."}],questions:[{id:1,type:"multiple-choice",question:"Quando vendi una Cash-Secured Put, il tuo profitto massimo :",options:["Illimitato","Il premium ricevuto","La differenza tra strike e prezzo di mercato","Zero"],correctAnswer:1,explanation:"Quando vendi una put, il massimo che puoi guadagnare  il premium ricevuto. Non puoi guadagnare pi di quello, ma  tuo sin dall'inizio.",xp:100},{id:2,type:"multiple-choice",question:"Se vendi una put a strike $45,000 e ricevi $500 di premium, qual  il tuo breakeven?",options:["$45,000","$45,500","$44,500","$40,000"],correctAnswer:2,explanation:"Il breakeven  strike - premium ricevuto = $45,000 - $500 = $44,500. A quel prezzo sei in pareggio anche se assegnato.",xp:150},{id:3,type:"multiple-choice",question:"Quale scenario  MEGLIO per vendere put con alto premium?",options:["Bassa volatilit, mercato calmo","Alta volatilit, mercato nervoso","Trend fortemente rialzista","Non fa differenza"],correctAnswer:1,explanation:"Alta volatilit implicita significa premium pi alti. I mercati nervosi e incerti offrono i migliori premi per i venditori di opzioni.",xp:150}]},5:{id:5,title:"Covered Call",description:"La seconda gamba della Wheel: vendere call sul BTC che possiedi per generare income extra",difficulty:"intermediate",estimatedTime:"30 min",requiredLevel:4,sections:[{title:"Cos' una Covered Call",content:"Una Covered Call (CC)  quando VENDI una call option possedendo gi il BTC sottostante. Esempio: hai 1 BTC comprato a $40k, lo vendi a call strike $50k per $800. Se BTC resta sotto $50k tieni BTC + $800. Se sale sopra $50k, vendi il tuo BTC a $50k ma tieni i $800. In entrambi i casi, generi reddito extra."},{title:"Quando Vendere Covered Call",content:"Le covered call sono ideali quando: 1) Possiedi gi BTC e vuoi generare income, 2) Pensi che il prezzo rester flat o salir moderatamente, 3) Vuoi ridurre il costo base del tuo BTC, 4) Sei disposto a vendere BTC a un prezzo target. Evita in strong uptrend dove preferiresti tenere BTC."},{title:"Scelta dello Strike per le Call",content:'Strike "Out of the Money" (sopra il prezzo attuale): meno premium ma tieni BTC pi facilmente. Strike "At the Money": pi premium ma alta probabilit di vendere BTC. Strike "In the Money": massimo premium ma quasi certo che vendi BTC. Considera il tuo target di vendita: se venderesti BTC a $55k, vendi call a quello strike.'},{title:"Gestione della Posizione",content:"Se BTC sale verso il tuo strike: 1) Lascia che venga assegnato (vendi a profitto), 2) Fai roll up/out per strike pi alto, 3) Chiudi la call in perdita per tenere BTC. Se BTC scende: la call scade senza valore, tieni BTC + premium, puoi vendere nuova call. Il premium riduce il tuo costo base nel tempo."}],questions:[{id:1,type:"multiple-choice",question:"Con una Covered Call, il tuo rischio massimo :",options:["Il premium ricevuto","La perdita sul BTC sottostante","Illimitato","Zero"],correctAnswer:1,explanation:"Il rischio principale  la perdita sul BTC posseduto. Il premium ricevuto aiuta a ridurre questa perdita, ma non la elimina.",xp:100},{id:2,type:"multiple-choice",question:"Hai comprato BTC a $40k, vendi call strike $50k per $1k. Se BTC sale a $55k e vieni assegnato, qual  il tuo profitto totale?",options:["$10,000","$11,000","$15,000","$5,000"],correctAnswer:1,explanation:"Guadagno su BTC: $50k - $40k = $10k. Premium call: $1k. Totale: $11k. Non realizzi il guadagno extra da $50k a $55k perch hai venduto a $50k.",xp:150},{id:3,type:"multiple-choice",question:"Quale affermazione  VERA per le covered call?",options:["Limitano il profitto massimo verso l'alto","Eliminano completamente il rischio","Funzionano meglio in strong downtrend","Richiedono margine aggiuntivo"],correctAnswer:0,explanation:"Le covered call limitano il profitto massimo allo strike scelto, ma in cambio ricevi premium regolari che riducono il rischio verso il basso.",xp:150}]},6:{id:6,title:"La Wheel Strategy Completa",description:"Unisci put e call in un ciclo perpetuo di generazione di income su Bitcoin",difficulty:"intermediate",estimatedTime:"35 min",requiredLevel:5,sections:[{title:"Come Funziona la Wheel",content:"La Wheel Strategy  un ciclo: 1) INIZIO: Vendi Cash-Secured Put per generare premium, 2) SE ASSEGNATO: Compri BTC al tuo strike, 3) CONTINUA: Vendi Covered Call sul BTC posseduto, 4) SE ASSEGNATO: Vendi BTC a profitto, 5) RIPETI: Torna a vendere put. Ad ogni step generi premium, che sia in cash o con BTC in portafoglio."},{title:"Esempio Pratico Completo",content:"Capitale $50k, BTC a $50k. STEP 1: Vendi put strike $45k, ricevi $900 premium. BTC scende a $44k. STEP 2: Vieni assegnato, compri BTC a $45k. STEP 3: Vendi call strike $50k, ricevi $1k. BTC sale a $51k. STEP 4: Vieni assegnato, vendi BTC a $50k. Guadagno: $900 (put) + $1k (call) + $5k (profitto BTC) = $6,900 su $45k investiti = 15.3% in un ciclo!"},{title:"Gestione del Capitale",content:"Non usare MAI tutto il capitale in una posizione. Regola del 20-30%: usa solo 20-30% del capitale per ogni wheel cycle, cos puoi vendere put a strike diversi o scadenze diverse. Questo ti protegge da draw down severi e ti permette di mediare il costo se BTC scende molto. Mantieni cash per opportunit."},{title:"Quando la Wheel NON Funziona",content:"La Wheel soffre in: 1) Mercati fortemente direzionali - se BTC 10x, avresti guadagnato pi holddando, 2) Crash improvvisi - potresti comprare BTC in caduta, 3) Bassa volatilit - premium bassi non compensano il tempo. Migliore in mercati range-bound o moderatamente volatili. Considera il contesto macro prima di entrare."}],questions:[{id:1,type:"multiple-choice",question:"La Wheel Strategy funziona meglio in quale tipo di mercato?",options:["Strong uptrend con +100% in poche settimane","Range-bound o moderatamente volatile","Crash del -80%","Volatilit zero"],correctAnswer:1,explanation:"La Wheel  ottimale in mercati range-bound o con volatilit moderata, dove raccogli premium regolari senza movimenti estremi.",xp:100},{id:2,type:"multiple-choice",question:"Quale percentuale del capitale  consigliabile usare per ogni wheel cycle?",options:["100% - massimizza i rendimenti","50% - equilibrato","20-30% - consente diversificazione","5% - troppo conservativo"],correctAnswer:2,explanation:"Usare 20-30% per cycle ti permette di diversificare strike e scadenze, riducendo il rischio concentrato.",xp:150},{id:3,type:"multiple-choice",question:"In un ciclo completo della Wheel, quante volte generi premium?",options:["Una volta (solo la put)","Due volte (put + call)","Tre volte (put + call + vendita BTC)","Mai, guadagni solo dalla vendita di BTC"],correctAnswer:1,explanation:"In un ciclo completo generi premium due volte: quando vendi la put iniziale e quando vendi la call sul BTC posseduto.",xp:150}]},7:{id:7,title:"Greeks: Delta, Theta, Vega",description:"Comprendi le forze che muovono il prezzo delle opzioni e come usarle a tuo vantaggio",difficulty:"advanced",estimatedTime:"40 min",requiredLevel:6,sections:[{title:"Delta: La Sensibilit al Prezzo",content:"Delta misura quanto cambia il prezzo dell'opzione quando BTC si muove di $1. Delta va da 0 a 1 per call (0 a -1 per put). Esempio: call con delta 0.30 guadagna $0.30 per ogni $1 che BTC sale. Quando VENDI opzioni vuoi delta basso (lontano dal denaro), cos il prezzo dell'opzione non ti va contro se BTC si muove."},{title:"Theta: Il Tempo  Denaro",content:"Theta rappresenta quanto valore perde l'opzione ogni giorno che passa (time decay). Per i VENDITORI di opzioni, theta  il tuo alleato! Ogni giorno che passa senza movimento, l'opzione che hai venduto perde valore, e tu guadagni. Le opzioni con scadenza entro 30-45 giorni hanno il theta decay pi accelerato."},{title:"Vega: La Volatilit Implicita",content:"Vega misura quanto cambia il prezzo dell'opzione per ogni 1% di cambiamento nella volatilit implicita (IV). Quando vendi opzioni con IV alta, ricevi pi premium. Se poi IV scende, l'opzione perde valore anche senza movimento di prezzo. Strategia: vendi quando IV  alta (paura/incertezza), compra quando IV  bassa."},{title:"Usare i Greeks nella Wheel",content:"Per la Wheel: 1) Cerca put/call con delta 0.20-0.40 (probability ~20-40% di finire ITM), 2) Preferisci scadenze 30-45 giorni per massimizzare theta, 3) Monitora IV: vendi quando  sopra media storica, 4) Se IV crolla dopo che hai venduto, considera di chiudere early per lock in profit. I Greeks ti dicono QUANDO entrare e uscire."}],questions:[{id:1,type:"multiple-choice",question:"Se vendi una put con delta -0.25, cosa significa?",options:["Hai 25% di probabilit di profitto","L'opzione perde $0.25 al giorno","L'opzione guadagna ~$0.25 per ogni $1 che BTC scende","La volatilit  al 25%"],correctAnswer:2,explanation:"Delta -0.25 significa che l'opzione guadagna circa $0.25 di valore per ogni $1 che BTC scende (negativo per le put).",xp:150},{id:2,type:"multiple-choice",question:"Theta decay  pi rapido per opzioni che scadono tra:",options:["1-7 giorni","30-45 giorni","90-120 giorni","180+ giorni"],correctAnswer:1,explanation:"Il theta decay  pi accelerato nelle ultime settimane prima della scadenza, con picco negli ultimi 7 giorni. Ma 30-45 giorni offre miglior bilanciamento rischio/rendimento.",xp:150},{id:3,type:"multiple-choice",question:"Quando  il momento MIGLIORE per vendere opzioni in termini di Vega?",options:["Quando IV (volatilit implicita)  molto bassa","Quando IV  nella media","Quando IV  molto alta (sopra percentile 70-80)","IV non  rilevante per venditori"],correctAnswer:2,explanation:"Vendere quando IV  alta significa ricevere premium pi alti. Quando IV scende, puoi chiudere early in profitto anche senza movimento di prezzo.",xp:200}]},8:{id:8,title:"Gestione del Rischio e Position Sizing",description:"Proteggi il capitale: regole di risk management essenziali per la Wheel Strategy",difficulty:"advanced",estimatedTime:"35 min",requiredLevel:7,sections:[{title:"La Regola del 2% e Dimensione Posizione",content:"Mai rischiare pi del 2% del capitale totale in una singola posizione. Se hai $100k, non rischiare pi di $2k per trade. Per la Wheel, questo significa: se vendi put strike $40k, assicurati che una perdita del 5% su quella posizione ($2k) sia accettabile. Position size = Capitale * 0.02 / Stop Loss percentuale. Rispetta SEMPRE questa regola."},{title:"Diversificazione Temporale e Strike",content:'Non concentrare tutto su una scadenza o strike. Esempio: se hai $100k, invece di vendere 2 put strike $45k scadenza 30 giorni, vendi: 1 put $45k a 30 giorni, 1 put $40k a 45 giorni. Questo riduce il rischio di assignment simultaneo e ti permette di mediare costi se BTC scende. "Non mettere tutte le uova nello stesso paniere".'},{title:"Stop Loss Mentali e Rolling Defensivo",content:"Definisci PRIMA un punto di uscita. Esempio: se la put venduta va in perdita del 200% del premium ricevuto, chiudi o fai roll. Se hai venduto put per $1k e ora costa $3k ricomprarla, decidi: accetti assignment o fai roll out in tempo? Non lasciare che l'ego ti blocchi in posizioni perdenti. Cut losses early se il trade thesis  invalidato."},{title:"Margin of Safety e Stress Testing",content:'Sempre mantieni buffer di cash. Se tutto il capitale  impegnato in put vendute, un drawdown ti forza a scelte difficili. Regola: massimo 60-70% del capitale in posizioni attive, 30-40% in cash. Fai stress test: "E se BTC scende del 30% domani? Posso sostenere tutte le assignment?". Se la risposta  no, riduci position size.'}],questions:[{id:1,type:"multiple-choice",question:"Con $50,000 di capitale e regola del 2%, qual  il massimo rischio accettabile per trade?",options:["$500","$1,000","$2,000","$5,000"],correctAnswer:1,explanation:"$50,000 * 2% = $1,000. Questo  il massimo che dovresti rischiare in un singolo trade per proteggere il capitale.",xp:100},{id:2,type:"multiple-choice",question:"Hai venduto put per $800 premium. A che punto dovresti considerare stop loss?",options:["Mai, accetta sempre l'assignment","Quando la perdita supera il 100-200% del premium ($800-$1,600)","Solo quando BTC va a zero","Quando hai perso il 50% del capitale totale"],correctAnswer:1,explanation:"Una regola comune  chiudere o roll quando la perdita supera 100-200% del premium ricevuto, per limitare i danni.",xp:150},{id:3,type:"multiple-choice",question:"Quale percentuale del capitale totale dovrebbe restare in cash come buffer?",options:["0% - usa tutto per massimizzare rendimenti","10% - minimo vitale","30-40% - margin of safety","80% - ultra conservativo"],correctAnswer:2,explanation:"Mantenere 30-40% in cash ti permette di gestire assignment inaspettati, mediare costi, o cogliere opportunit durante crash.",xp:150}]},9:{id:9,title:"Roll & Adjust: Gestione Avanzata",description:"Impara come e quando modificare le tue posizioni per ottimizzare profitti e gestire rischio",difficulty:"advanced",estimatedTime:"30 min",requiredLevel:8,sections:[{title:"Cos' il Rolling?",content:"Il rolling  una tecnica che ti permette di chiudere una posizione esistente e aprirne una nuova con una scadenza pi lontana o uno strike diverso. Questo ti permette di evitare l'assegnazione e continuare a raccogliere premium. Esistono 3 tipi: Roll OUT (stessa strike, scadenza pi lontana), Roll UP/DOWN (strike diverso, stessa scadenza), Roll OUT AND UP/DOWN (entrambi)."},{title:"Quando Fare Roll",content:`Considera di fare roll quando: 1) La tua posizione  in perdita ma credi ancora nella strategia, 2) Vuoi evitare l'assegnazione, 3) Puoi raccogliere premium addizionale che giustifica il rischio e il tempo extra. NON fare roll se: il trade thesis  invalidato, stai solo "kicking the can down the road" senza piano, o il premium netto  troppo basso.`},{title:"Come Calcolare se il Roll Conviene",content:"Per un roll vantaggioso valuta: 1) Credito netto ricevuto - devi ricevere pi di quanto paghi per chiudere, 2) Tempo addizionale - ogni settimana extra che impegni vale? 3) Nuovo strike - sei ancora ok con quel prezzo? Formula: se ricevi >0.5% del capitale per settimana extra di impegno, il roll pu valere la pena. Altrimenti meglio accettare assignment."},{title:"Roll Difensivo vs Aggressivo",content:"Roll DIFENSIVO: roll out mantenendo stesso strike, massimizza tempo per recovery. Roll AGGRESSIVO: roll down/up per raccogliere pi premium, ma aumenta rischio. Esempio: put $45k in perdita, BTC a $42k. Difensivo: roll a 45 giorni strike $45k per +$600. Aggressivo: roll a 30 giorni strike $40k per +$1,200. Scegli basandoti su outlook e risk tolerance."}],questions:[{id:1,type:"multiple-choice",question:"Quando  il momento migliore per fare un roll di una put venduta?",options:["Quando la posizione  in profitto del 50%","Quando il prezzo di BTC scende vicino allo strike e vuoi evitare l'assegnazione","Solo alla scadenza","Mai,  meglio accettare l'assegnazione"],correctAnswer:1,explanation:"Il momento ottimale per fare roll  quando il prezzo si avvicina allo strike e vuoi evitare l'assegnazione, raccogliendo premium addizionale.",xp:100},{id:2,type:"multiple-choice",question:'Cosa significa "roll out"?',options:["Chiudere completamente la posizione","Spostare la scadenza a una data futura mantenendo lo stesso strike","Cambiare solo lo strike","Vendere pi contratti"],correctAnswer:1,explanation:`"Roll out" significa spostare la scadenza dell'opzione a una data futura, mantenendo lo stesso strike price.`,xp:100},{id:3,type:"multiple-choice",question:"Se hai venduto una put a strike $40,000 e BTC  ora a $38,000, quale strategia di roll  pi difensiva?",options:["Roll down a $38,000 con stessa scadenza","Roll out alla prossima scadenza mensile allo stesso strike","Roll down and out a $36,000 scadenza pi lontana","Non fare nulla"],correctAnswer:1,explanation:"Roll out allo stesso strike  pi difensivo perch ti d pi tempo per il recovery senza abbassare ulteriormente lo strike.",xp:150}]},10:{id:10,title:"Volatilit Implicita e IV Rank",description:"Padroneggia l'arte di vendere caro e comprare economico usando la volatilit",difficulty:"advanced",estimatedTime:"35 min",requiredLevel:9,sections:[{title:"Cos' la Volatilit Implicita",content:"La Volatilit Implicita (IV)  l'aspettativa del mercato su quanto BTC si muover in futuro. Alta IV = mercato si aspetta grandi movimenti = opzioni pi costose. Bassa IV = mercato calmo = opzioni economiche. IV  espressa in % annualizzata. Esempio: IV al 80% significa che il mercato si aspetta che BTC possa muoversi 80% nel prossimo anno."},{title:"IV Rank e IV Percentile",content:"IV Rank confronta l'IV attuale con il range degli ultimi 12 mesi. Formula: (IV attuale - IV min) / (IV max - IV min). Un IV Rank del 80% significa che l'IV  nell'80 percentile dell'ultimo anno. REGOLA: Vendi opzioni quando IV Rank > 50-60%, compra quando < 30%. Questo ti assicura di vendere quando i premi sono alti."},{title:"Cicli di Volatilit su Bitcoin",content:'Bitcoin ha pattern di volatilit prevedibili: 1) IV schizza durante crash (panic selling), 2) IV si comprime durante range-bound, 3) IV aumenta prima di eventi macro (halving, decisioni Fed). La migliore opportunit per vendere put  DOPO un crash quando IV  ai massimi ma BTC sta stabilizzando. "Be greedy when others are fearful".'},{title:"IV Crush e Timing di Entrata",content:"IV Crush  il crollo improvviso della volatilit dopo un evento. Esempio: BTC crasha, IV vola al 120%, vendi put, poi BTC stabilizza e IV crolla a 60% = le tue put perdono valore anche senza movimento di prezzo. Profitto facile! Evita invece di vendere durante low IV pre-evento, perch IV expansion ti andrebbe contro."}],questions:[{id:1,type:"multiple-choice",question:"Un IV Rank del 75% significa:",options:["Le opzioni sono al 75% del loro valore massimo","L'IV attuale  pi alta del 75% dei valori degli ultimi 12 mesi","Hai il 75% di probabilit di profitto","Il prezzo di BTC salir del 75%"],correctAnswer:1,explanation:"IV Rank 75% significa che la volatilit corrente  pi alta del 75% dei valori registrati nell'ultimo anno = momento ottimo per vendere.",xp:150},{id:2,type:"multiple-choice",question:"Quando  il momento MIGLIORE per vendere put in termini di IV?",options:["Durante mercati calmi con IV al 20%","Subito dopo un crash quando IV  schizzata al 100%+","Quando IV  nella media storica","IV non influenza la strategia"],correctAnswer:1,explanation:"Dopo un crash l'IV  altissima (paura), i premium sono gonfiati. Quando il panico si calma, IV crolla e tu profitti.",xp:150},{id:3,type:"multiple-choice",question:'Cosa pu causare un "IV Crush"?',options:["BTC che sale del 50% in un mese","Stabilizzazione del mercato dopo forte volatilit","Announcement di halving","Aumento del volume di trading"],correctAnswer:1,explanation:"IV Crush avviene quando il mercato si stabilizza dopo periodo di alta volatilit. L'incertezza diminuisce, quindi anche l'IV.",xp:200}]},11:{id:11,title:"Analisi Tecnica per la Wheel",description:"Usa supporti, resistenze e indicatori per selezionare strike ottimali",difficulty:"advanced",estimatedTime:"40 min",requiredLevel:10,sections:[{title:"Supporti e Resistenze per Strike Selection",content:"I livelli di supporto e resistenza sono fondamentali per scegliere strike intelligenti. SUPPORTO: livello di prezzo dove storicamente BTC ha trovato acquirenti. RESISTENZA: livello dove ha trovato venditori. Regola: vendi put con strike AI supporti maggiori, vendi call con strike ALLE resistenze maggiori. Questo aumenta le probabilit che le opzioni scadano OTM."},{title:"Indicatori di Momentum: RSI e MACD",content:"RSI (Relative Strength Index) misura se BTC  ipercomprato (>70) o ipervenduto (<30). MACD mostra il trend e i cambiamenti di momentum. Per la Wheel: vendi put quando RSI<30 (oversold, probabile rimbalzo), vendi call quando RSI>70 (overbought, probabile correzione). Non vendere put con RSI>70 = rischi di vendere il top."},{title:"Volume Profile e Strike Liquidi",content:`Il Volume Profile mostra a quali prezzi si  scambiato pi volume. I "Point of Control" (POC) sono magneti di prezzo. Scegli strike vicini ai POC perch l c' pi liquidit e il prezzo tende a gravitare. Evita strike in "low volume nodes" dove il prezzo tende a passare velocemente senza consolidare.`},{title:"Fibonacci Retracements",content:"I livelli di Fibonacci (0.236, 0.382, 0.5, 0.618, 0.786) sono livelli chiave dove BTC spesso rimbalza o inverte. Dopo un rally, BTC tipicamente ritracia al 0.5-0.618 prima di continuare. Vendi put con strike al Fib 0.618 di un rally = alta probabilit che reggano. Questo combina analisi tecnica con vendita di opzioni."}],questions:[{id:1,type:"multiple-choice",question:"Se BTC  a $55k e ha forte supporto a $50k, dove  meglio vendere una put?",options:["Strike $52k (poco sotto il prezzo)","Strike $50k (sul supporto)","Strike $45k (ben sotto il supporto)","Strike $60k (sopra il prezzo)"],correctAnswer:1,explanation:"Vendere put sul supporto maggiore ($50k) massimizza premium mantenendo buona probabilit che il livello tenga.",xp:150},{id:2,type:"multiple-choice",question:"Con RSI a 25 (oversold), quale strategia  pi intelligente?",options:["Vendere call (BTC probabilmente scender ancora)","Vendere put (BTC probabilmente rimbalzer)","Non fare nulla","Comprare put (protezione dal crash)"],correctAnswer:1,explanation:"RSI < 30 indica oversold, probabile rimbalzo. Vendere put in questo contesto ha alta probabilit di successo.",xp:150},{id:3,type:"multiple-choice",question:"Dopo un rally da $40k a $60k, BTC tipicamente ritracia a quale livello Fibonacci prima di continuare?",options:["Non ritracia mai","Fib 0.236 ($55.3k) - retracement superficiale","Fib 0.5-0.618 ($50k-$47.6k) - retracement sano","Fib 1.0 ($40k) - ritorna al punto di partenza"],correctAnswer:2,explanation:"I retracement al 50-61.8% sono pi comuni e sani. Vendi put a quei livelli per strike ottimali.",xp:200}]},12:{id:12,title:"Tax Implications e Record Keeping",description:"Gestisci correttamente le tasse e la documentazione delle tue operazioni",difficulty:"intermediate",estimatedTime:"25 min",requiredLevel:10,sections:[{title:"Tassazione delle Opzioni",content:"Le opzioni crypto sono tassate come capital gains. Se vendi opzioni che scadono OTM, il premium  reddito tassabile nell'anno fiscale. Se vieni assegnato, il premium modifica il costo base. Esempio: vendi put strike $40k per $1k, assegnato  costo base = $39k. Se poi vendi BTC a $50k con call, gain = $50k - $39k = $11k (tassato)."},{title:"Short-Term vs Long-Term Capital Gains",content:"In molti paesi (es. USA): holding <1 anno = short-term gains (tassati come reddito ordinario, aliquota pi alta), >1 anno = long-term gains (aliquota ridotta). La Wheel Strategy tipicamente genera short-term gains perch i cicli sono <1 anno. Considera questo nel calcolo del rendimento netto post-tasse."},{title:"Record Keeping Essenziale",content:"Devi tracciare per OGNI trade: 1) Data apertura/chiusura, 2) Strike, scadenza, tipo (put/call), 3) Premium ricevuto/pagato, 4) Assignment date e prezzo, 5) Roll details. Usa spreadsheet o software dedicato. In caso di audit, devi dimostrare ogni transazione. Non improvvisare, la corretta documentazione  legge."},{title:"Wash Sale Rule e Ottimizzazione Fiscale",content:"Wash Sale Rule: se vendi BTC in perdita e ricompri entro 30 giorni, la perdita fiscale pu essere negata. Per la Wheel questo  rilevante se vendi BTC in perdita e poi vieni subito riassegnato con put. Strategia: tempo le operazioni per massimizzare le deduzioni fiscali e evitare wash sales. Consulta sempre un commercialista crypto."}],questions:[{id:1,type:"multiple-choice",question:"Se vendi una put per $1,000 che scade senza valore, come  tassato?",options:["Non  tassato","Come capital gain di $1,000","Come reddito ordinario","Solo se supera $10,000"],correctAnswer:1,explanation:"Il premium di opzioni vendute che scadono OTM  tassato come short-term capital gain nell'anno fiscale.",xp:100},{id:2,type:"multiple-choice",question:"Vendi put strike $40k per $1k, vieni assegnato. Qual  il tuo costo base in BTC?",options:["$40,000","$41,000","$39,000","$38,000"],correctAnswer:2,explanation:"Il costo base = strike - premium ricevuto = $40,000 - $1,000 = $39,000. Questo riduce la tua base imponibile futura.",xp:150},{id:3,type:"multiple-choice",question:"Quale documento  ESSENZIALE tenere per ogni trade di opzioni?",options:["Solo il profitto/perdita finale","Niente, le piattaforme tracciano tutto","Data, strike, premium, assignment details completi","Solo le transazioni >$10,000"],correctAnswer:2,explanation:"Devi documentare OGNI dettaglio per conformit fiscale. Non fare affidamento solo sulle piattaforme.",xp:150}]},13:{id:13,title:"Piattaforme e Tools per Options Trading",description:"Scopri dove e come fare trading di opzioni Bitcoin in modo sicuro ed efficiente",difficulty:"intermediate",estimatedTime:"30 min",requiredLevel:11,sections:[{title:"Exchange Principali per BTC Options",content:"I principali exchange per opzioni Bitcoin: 1) DERIBIT - leader, alta liquidit, opzioni cash-settled, 2) CME - exchange regolamentato US, opzioni futures-based, 3) BINANCE - opzioni semplificate, buone per beginners, 4) OKX - buona liquidit, interfaccia user-friendly. Scegli basandoti su: liquidit, regolamentazione, fee, e se vuoi opzioni cash-settled o physical delivery."},{title:"Liquidit e Spreads",content:"Liquidit  critica! Controlla sempre: 1) Bid-Ask spread - se troppo largo, perdi in entrata/uscita, 2) Open Interest - quante opzioni sono aperte a quello strike, 3) Volume - quanto si scambia. Su Deribit gli strike ATM e vicini hanno buona liquidit. Strike molto OTM possono avere spread del 10-20%, evitali. Target: spread <2-3% del premium."},{title:"Tools di Analisi Essenziali",content:"Per analizzare opzioni usa: 1) OPTION PRICING CALCULATOR - per calcolare fair value e greeks, 2) IV RANK CHARTS - per vedere se IV  alta o bassa storicamente (Deribit metrics), 3) PROFIT/LOSS DIAGRAMS - visualizza payoff a scadenza, 4) PORTFOLIO GREEKS - monitora delta, theta, vega totali. Molti exchange offrono questi tools integrati."},{title:"Sicurezza e Custody",content:"Per la Wheel devi tenere collaterale sull'exchange. Rischio: hack o fallimento exchange. Mitigazione: 1) Usa exchange tier-1 con buona storia di sicurezza, 2) Abilita 2FA e whitelist withdrawal, 3) Non tenere pi del necessario on-exchange, 4) Considera di diversificare su 2 exchange. Il capitale non impegnato va in cold storage."}],questions:[{id:1,type:"multiple-choice",question:"Quale exchange  considerato leader per opzioni Bitcoin?",options:["Coinbase","Kraken","Deribit","Binance Spot"],correctAnswer:2,explanation:"Deribit  l'exchange con maggiore liquidit e volume per opzioni Bitcoin, preferito dai trader professionisti.",xp:100},{id:2,type:"multiple-choice",question:"Quale bid-ask spread  accettabile per un trade di opzioni?",options:["20-30% del premium","10-15% del premium","2-5% del premium","Lo spread non importa"],correctAnswer:2,explanation:"Uno spread del 2-5%  accettabile. Spreads pi larghi erodono significativamente i profitti, specialmente su trade frequenti.",xp:150},{id:3,type:"multiple-choice",question:"Dove dovresti tenere il capitale NON impegnato in posizioni attive?",options:["Tutto sull'exchange per facilit","In un hot wallet per accesso veloce","In cold storage (hardware wallet)","In stablecoin su exchange"],correctAnswer:2,explanation:"Il capitale non in uso dovrebbe essere in cold storage per massima sicurezza. Solo il collaterale necessario resta on-exchange.",xp:150}]},14:{id:14,title:"Psicologia del Trading e Discipline",description:"Padroneggia la mente: gestisci emozioni, bias cognitivi e mantieni la disciplina",difficulty:"intermediate",estimatedTime:"35 min",requiredLevel:12,sections:[{title:"I Bias Cognitivi Pi Pericolosi",content:"BIAS PRINCIPALI: 1) FOMO (Fear Of Missing Out) - vendere put/call quando dovresti stare fermo, 2) Loss Aversion - tenere posizioni perdenti troppo a lungo sperando in recovery, 3) Recency Bias - dare troppo peso agli eventi recenti, 4) Overconfidence - aumentare size dopo winning streak. Riconoscere questi bias  il primo passo per controllarli."},{title:"Il Trading Journal",content:"Un journal non  solo per tracciare P&L, ma per capire i tuoi pattern emotivi. Registra: 1) Setup del trade (perch sei entrato), 2) Stato emotivo PRE trade (calmo? ansioso? FOMO?), 3) Esecuzione (hai seguito il piano?), 4) Risultato + lezione. Rivedi il journal settimanalmente. Spesso scoprirai che i trade peggiori sono quelli emotivi."},{title:"Gestione dello Stress e Burnout",content:'La Wheel  una strategia a lungo termine, non un sprint. Per sostenibilit: 1) NON checkare i prezzi ogni ora, 2) Imposta alert ai livelli chiave, poi dimenticati, 3) Prendi break regolari - un giorno/settimana zero trading, 4) Non over-leverage mai, lo stress non vale il gain extra. "Il mercato sar qui domani, ma tu devi essere mentalmente sano per tradarlo".'},{title:"Disciplina e Checklist Pre-Trade",content:`Prima di OGNI trade, passa questa checklist:  IV Rank > 50%?  Strike ai livelli tecnici chiave?  Position size < 2% risk?  Ho cash buffer?  Sono emotivamente neutrale?  Questo trade fa parte del mio piano? Se anche una sola risposta  "no", NON tradare. La disciplina ti salva dai peggiori errori, l'impulso ti distrugge.`}],questions:[{id:1,type:"multiple-choice",question:"Quale bias ti porta a tenere posizioni perdenti troppo a lungo sperando che si riprendano?",options:["FOMO (Fear of Missing Out)","Loss Aversion","Recency Bias","Overconfidence"],correctAnswer:1,explanation:"Loss Aversion  la tendenza a evitare di realizzare perdite, tenendo posizioni perdenti troppo a lungo invece di tagliare le perdite.",xp:100},{id:2,type:"multiple-choice",question:"Cosa dovrebbe contenere un trading journal oltre a P&L?",options:["Solo i trade vincenti","Solo i numeri finanziari","Setup del trade, stato emotivo, esecuzione, e lezioni apprese","Niente, basta guardare il conto"],correctAnswer:2,explanation:"Un journal completo traccia emozioni e decision-making, non solo risultati. Questo ti aiuta a identificare e correggere pattern emotivi.",xp:150},{id:3,type:"multiple-choice",question:"Quale elemento NON dovrebbe essere in una pre-trade checklist?",options:["IV Rank sopra 50%","Position size entro limiti","Previsione che BTC salir sicuramente","Strike ai livelli tecnici"],correctAnswer:2,explanation:'Non si pu mai essere "sicuri" della direzione. La checklist deve basarsi su probabilit, risk management, e regole obiettive.',xp:150}]},15:{id:15,title:"Master Strategies e Ottimizzazioni",description:"Tecniche avanzate per massimizzare rendimenti: ratio spreads, calendars, e hybrid strategies",difficulty:"advanced",estimatedTime:"45 min",requiredLevel:13,sections:[{title:"Double Wheel Strategy",content:"La Double Wheel  un'evoluzione: invece di vendere 1 put, ne vendi 2 a strike diversi. Esempio: $100k capitale, BTC a $50k. Vendi put $48k per $800 E put $45k per $400. Se BTC scende, vieni assegnato a $48k (ok,  il primo), la put $45k scade = incassi entrambi i premium. Se crasha, vieni assegnato a entrambi = medii il costo. Pi complesso ma pi premium."},{title:"Calendar Spreads per Extra Juice",content:"Calendar Spread: vendi put short-dated (30 giorni) e compri put long-dated (90 giorni) STESSO strike. Esempio: vendi put $45k a 30gg per $900, compri put $45k a 90gg per $1,200. Net: -$300. Dopo 30 giorni la short scade, hai solo la long put come protezione. Beneficio: riduci costo della protezione verso il basso grazie al premium raccolto."},{title:"Hybrid Wheel + DCA Strategy",content:"Combina Wheel con Dollar Cost Averaging: alloca 70% del capitale alla Wheel, 30% a DCA mensile in spot BTC. Esempio: $100k  $70k Wheel, $30k = $2.5k/mese DCA. La Wheel genera income, il DCA accumula spot per ridurre il costo medio. In bull market il DCA offre upside illimitato che la Wheel limita. Best of both worlds."},{title:"Wheel in Different Market Regimes",content:"BEAR MARKET: agggressivo su put (strike pi bassi, pi premium), conservativo su call (evita di vendere spot). BULL MARKET: conservativo su put (strike molto bassi, safety first), aggressivo su call (raccogli premium al rialzo). SIDEWAYS: ideale per Wheel standard, massimizza theta decay. Adatta la strategia al regime corrente, non usare sempre lo stesso approccio."}],questions:[{id:1,type:"multiple-choice",question:"Nella Double Wheel Strategy, quale  il vantaggio principale?",options:["Elimina completamente il rischio","Raccogli pi premium totale e medii costi se assegnato multiplo","Non richiede capitale","Garantisce profitti in ogni scenario"],correctAnswer:1,explanation:"Vendere put a strike multipli aumenta il premium totale e, se assegnato multiplo, medii il costo di acquisto BTC.",xp:150},{id:2,type:"multiple-choice",question:"Un Calendar Spread con opzioni put serve principalmente a:",options:["Massimizzare il premium senza protezione","Ridurre il costo della protezione verso il basso","Eliminare theta decay","Aumentare delta exposure"],correctAnswer:1,explanation:"Vendendo la put short-term raccogli premium che riduce il costo della put long-term di protezione.",xp:200},{id:3,type:"multiple-choice",question:"In quale regime di mercato la Wheel Strategy performa MEGLIO?",options:["Strong bull market con +300% in pochi mesi","Crash violento -80%","Mercato sideways o moderatamente volatile","Performa uguale sempre"],correctAnswer:2,explanation:"La Wheel  ottimale in mercati range-bound dove il theta decay lavora a tuo favore senza movimenti estremi che invalidano la strategia.",xp:200}]}};function _X({onNavigate:t,lessonId:e=9}){const r=Bo[e];if(!r)return a.jsx("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50 flex items-center justify-center",children:a.jsxs(oe,{className:"p-8 text-center",children:[a.jsx("h2",{className:"text-gray-900 mb-4",children:"Lezione non trovata"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["La lezione #",e," non  ancora disponibile."]}),a.jsx(ye,{onClick:()=>t("home"),className:"bg-blue-600 hover:bg-blue-700",children:"Torna alla Home"})]})});const n={title:r.title,description:r.description,sections:r.sections},i=r.questions,[s,o]=P.useState(null),{addXP:c,completeLesson:d}=Ja(),{triggers:f,triggerXPGain:p,triggerQuizFeedback:h,dismissQuizFeedback:g}=SX(),{generateAIQuestion:v,recordAnswer:b,shouldReviewLesson:w,getAIFeedback:x,resetPerformance:S,performance:k,isGenerating:_}=yX(),{setActivity:C}=Y$(),[N,T]=P.useState(0),[E,O]=P.useState(!1),[R,H]=P.useState(0),[L,M]=P.useState(""),[$,V]=P.useState(!1),[Q,K]=P.useState(!1),[Z,D]=P.useState([]),[U,ee]=P.useState(!1),[B,q]=P.useState(!0),[Y,se]=P.useState(0),[fe,te]=P.useState(0),[he,le]=P.useState(!1),[ie,pe]=P.useState([]),[_e,ue]=P.useState([]),[Ve,J]=P.useState([]),[we,xe]=P.useState(!1),[Me,Le]=P.useState(""),[We,rt]=P.useState(!1),at=n.sections.length,Je=ie.length;P.useEffect(()=>{C("lesson_start",4e3)},[e,C]),P.useEffect(()=>{E&&ie.length===0&&(async()=>{de.loading(" Generando quiz personalizzato...",{id:"ai-quiz-init"});const Xe=n.sections.map(ht=>`${ht.title}: ${ht.content}`).join(`

`),ft=[];for(let ht=0;ht<3;ht++){const Ai=ht===0||ht===1?"easy":"medium",ci=await v(e,n.title,Xe,Ai);ci?ft.push(ci):console.warn(`Failed to generate AI question ${ht+1}/3`)}if(ft.length>0)pe(ft),ue(ft),S(),de.success(` Quiz AI pronto con ${ft.length} domande uniche!`,{id:"ai-quiz-init"});else{console.error("All AI question generation failed, falling back to base questions");const ht=[...i].sort(()=>Math.random()-.5);pe(ht),ue(ht),S(),de.warning(" Usando domande di backup (AI temporaneamente non disponibile)",{id:"ai-quiz-init",duration:5e3})}})()},[E,i,ie.length,S,e,n,v]);const kt=()=>{N<at-1?T(N+1):(O(!0),C("quiz_start",4e3))},yr=()=>{N>0&&T(N-1)},Ie=async()=>{de.loading("Generando nuova domanda AI...",{id:"ai-gen"});const Tt=n.sections.map(ft=>`${ft.title}: ${ft.content}`).join(`

`),Xe=await v(e,n.title,Tt,k.difficultyLevel);Xe?(pe(ft=>[...ft,Xe]),de.success(`Nuova domanda ${k.difficultyLevel.toUpperCase()} generata! `,{id:"ai-gen"})):de.error("Errore generazione domanda AI",{id:"ai-gen"})},wt=async()=>{const Tt=ie[R],Xe=L===String(Tt.correctAnswer);if(b(Xe,n.title),K(Xe),V(!0),h(Xe),C(Xe?"quiz_correct":"quiz_wrong",3e3),Xe){const ft=B?50:0,ht=Tt.xp+ft;se(ht),c(ht),setTimeout(()=>{p(ht)},1100),B&&Ie()}else{if(q(!1),te(fe+1),J(ft=>[...ft,Tt.question]),w()){xe(!0),rt(!0);const ft=await x(n.title,Ve);Le(ft),rt(!1)}fe>=2&&le(!0)}},li=async()=>{if(D([...Z,R]),V(!1),M(""),q(!0),se(0),te(0),le(!1),R<Je-1)H(R+1);else{ee(!0);const Tt=await d(e);if(c(250),p(250),C("lesson_complete",5e3),Tt){const Xe=xX(Tt);Xe.length>0&&(o(Xe[0]),setTimeout(()=>{C("badge_unlock",5e3)},1e3))}}};if(U)return a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 flex items-center justify-center bg-gray-50 p-4",children:[a.jsx(tn,{currentView:"lesson",onNavigate:t}),a.jsxs(oe,{className:"max-w-2xl w-full p-8 md:p-12 text-center",children:[a.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Ht,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),a.jsx("h1",{className:"text-gray-900 mb-4",children:"Complimenti! "}),a.jsxs("p",{className:"text-gray-700 mb-8",children:['Hai completato la lezione "',n.title,'"']}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-orange-50 rounded-lg p-6 mb-8",children:[a.jsx("p",{className:"text-gray-900 mb-2 font-semibold",children:"XP Totale Guadagnato"}),a.jsxs("p",{className:"text-blue-600 font-bold",children:["+",ie.reduce((Tt,Xe)=>Tt+Xe.xp,0)+250]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(ye,{onClick:()=>t("home"),className:"bg-blue-600 hover:bg-blue-700 h-12",children:"Torna alla Home"}),a.jsx(ye,{onClick:()=>t("simulation"),variant:"outline",className:"h-12",children:"Prova la Simulazione"})]})]})]});if(!E)return a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50",children:[a.jsx(tn,{currentView:"lesson",onNavigate:t}),a.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-4 md:px-6 sticky top-0 z-30 safe-area-top",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-4",children:[a.jsxs(ye,{variant:"ghost",onClick:()=>t("home"),size:"sm",className:"h-10",children:[a.jsx(wu,{className:"w-5 h-5 md:w-4 md:h-4 mr-2"}),a.jsx("span",{className:"hidden md:inline",children:"Indietro"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-gray-900 truncate",children:n.title}),a.jsx("p",{className:"text-gray-600 hidden md:block truncate",children:n.description})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[a.jsxs("span",{children:["Sezione ",N+1," di ",at]}),a.jsxs("span",{className:"font-semibold",children:[Math.round((N+1)/at*100),"%"]})]}),a.jsx(ai,{value:(N+1)/at*100,className:"h-3"})]})]})}),a.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-5 md:px-6 md:py-8",children:[a.jsxs(oe,{className:"p-5 md:p-8 mb-5 md:mb-6",children:[a.jsx("h2",{className:"text-gray-900 mb-4",children:n.sections[N].title}),a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:n.sections[N].content})]}),a.jsxs("div",{className:"flex justify-between gap-3",children:[a.jsxs(ye,{variant:"outline",onClick:yr,disabled:N===0,className:"h-12 px-5",children:[a.jsx(wu,{className:"w-5 h-5 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Precedente"})]}),a.jsxs(ye,{onClick:kt,className:"bg-blue-600 hover:bg-blue-700 h-12 px-5 flex-1 max-w-xs",children:[N===at-1?"Inizia Quiz":"Successivo",a.jsx(Gi,{className:"w-5 h-5 ml-2"})]})]})]}),a.jsx(YT,{amount:Y,trigger:f.xpGain}),a.jsx(JT,{isCorrect:f.quizFeedback.isCorrect,show:f.quizFeedback.show,onDismiss:g}),a.jsx(ZT,{badgeId:s,onClose:()=>o(null)})]});const Pr=ie[R];return Pr?a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50",children:[a.jsx(tn,{currentView:"lesson",onNavigate:t}),a.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-5 md:px-6 md:py-6 sticky top-0 z-30 safe-area-top",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("h2",{className:"text-white mb-4 truncate",children:["Quiz: ",n.title]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-blue-100",children:[a.jsxs("span",{children:["Domanda ",R+1," di ",Je]}),a.jsxs("span",{className:"font-semibold",children:[Math.round((R+1)/Je*100),"%"]})]}),a.jsx(ai,{value:(R+1)/Je*100,className:"h-3 bg-white/20"}),a.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[a.jsx("span",{className:"text-xs text-blue-100",children:"Difficolt:"}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold ${k.difficultyLevel==="easy"?"bg-green-500 text-white":k.difficultyLevel==="medium"?"bg-yellow-500 text-gray-900":"bg-red-500 text-white"}`,children:k.difficultyLevel.toUpperCase()}),a.jsxs("span",{className:"text-xs text-blue-100 ml-2",children:[" ",k.correctAnswers," |  ",k.wrongAnswers]}),_&&a.jsx("span",{className:"text-xs text-yellow-300 ml-auto animate-pulse",children:" Generando AI..."})]})]})]})}),a.jsx("main",{className:"max-w-4xl mx-auto px-4 py-5 md:px-6 md:py-8",children:a.jsxs(oe,{className:"p-5 md:p-8",children:[a.jsx("div",{className:"mb-6 md:mb-8",children:a.jsx("p",{className:"text-gray-900 mb-6 leading-relaxed",children:Pr.question})}),a.jsx(Lo,{value:L,onValueChange:M,children:a.jsx("div",{className:"space-y-3",children:Pr.options?.map((Tt,Xe)=>a.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg border-2 transition-all min-h-[60px] ${$&&String(Xe)===String(Pr.correctAnswer)?"border-green-500 bg-green-50":$&&L===String(Xe)&&!Q?"border-red-500 bg-red-50":L===String(Xe)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[a.jsx(Sr,{value:String(Xe),id:`option-${Xe}`,disabled:$,className:"mt-1"}),a.jsx(pt,{htmlFor:`option-${Xe}`,className:"flex-1 cursor-pointer leading-relaxed",children:Tt}),$&&String(Xe)===String(Pr.correctAnswer)&&a.jsx(Dt,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),$&&L===String(Xe)&&!Q&&a.jsx(Mr,{className:"w-6 h-6 text-red-600 flex-shrink-0"})]},Xe))})}),$&&a.jsxs("div",{className:`mt-6 p-4 rounded-lg ${Q?"bg-green-50 border-2 border-green-200":"bg-orange-50 border-2 border-orange-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-gray-900 font-semibold",children:Q?" Corretto!":" Risposta errata"}),Q&&B&&a.jsxs("span",{className:"text-blue-600 font-semibold",children:["+",Y," XP"]})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:Pr.explanation}),Q&&B&&a.jsx("p",{className:"text-sm text-blue-600 mt-2",children:" Bonus primo tentativo: +50 XP"})]}),a.jsx("div",{className:"mt-8",children:$?a.jsxs(ye,{onClick:li,className:"w-full bg-blue-600 hover:bg-blue-700 h-12",children:[R<Je-1?"Prossima Domanda":"Completa Lezione",a.jsx(Gi,{className:"w-5 h-5 ml-2"})]}):a.jsx(ye,{onClick:wt,disabled:!L,className:"w-full bg-blue-600 hover:bg-blue-700 h-12",children:"Verifica Risposta"})})]})}),we&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(oe,{className:"max-w-md w-full p-6 bg-orange-50 border-2 border-orange-300 shadow-2xl",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(ni,{className:"w-6 h-6 text-orange-600 flex-shrink-0 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-gray-900 mb-2",children:"Forse dovresti rivedere la lezione "}),We?a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{children:"Prof Satoshi sta analizzando le tue risposte..."})]}):a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:Me})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[a.jsxs(ye,{onClick:()=>{O(!1),T(0),H(0),xe(!1),J([]),S(),de.success("Rivediamo insieme la lezione! ")},className:"flex-1 bg-orange-600 hover:bg-orange-700",disabled:We,children:[a.jsx(_i,{className:"w-4 h-4 mr-2"}),"Rivedi Lezione"]}),a.jsx(ye,{onClick:()=>{xe(!1),de.info("Continua il quiz, ma fai attenzione! ")},variant:"outline",className:"flex-1 border-orange-300 hover:bg-orange-100",disabled:We,children:"Continua Quiz"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:" Rivedere la lezione ti aiuter a comprendere meglio i concetti"})]})}),a.jsx(YT,{amount:Y,trigger:f.xpGain}),a.jsx(JT,{isCorrect:f.quizFeedback.isCorrect,show:f.quizFeedback.show,onDismiss:g}),a.jsx(ZT,{badgeId:s,onClose:()=>o(null)}),a.jsx(jX,{performance:k,isGenerating:_,onGenerateTest:Ie})]}):a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50 flex items-center justify-center",children:[a.jsx(tn,{currentView:"lesson",onNavigate:t}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Caricamento quiz..."})]})]})}const NX={beginner:"bg-emerald-500/20 text-emerald-300 border-emerald-500/30",intermediate:"bg-amber-500/20 text-amber-300 border-amber-500/30",advanced:"bg-red-500/20 text-red-300 border-red-500/30"},kX={beginner:"Principiante",intermediate:"Intermedio",advanced:"Avanzato"};function TX({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const{progress:n}=Ja(),i=Object.keys(Bo).length,s=n.completedLessons.length,o=s/i*100,c=d=>{const f=Bo[d];n.level<f.requiredLevel||t("lesson",d)};return a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white relative",children:[a.jsx("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),a.jsx("div",{className:"fixed top-0 right-0 w-[500px] h-[500px] bg-emerald-500/10 rounded-full blur-[150px] pointer-events-none"}),a.jsx("div",{className:"fixed bottom-0 left-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[150px] pointer-events-none"}),a.jsx(tn,{currentView:"lessons",onNavigate:d=>t(d),mascotVisible:e,onMascotToggle:r}),a.jsxs(W.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative px-4 py-8 md:px-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(W.div,{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/50",whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:a.jsx(DT,{className:"w-8 h-8 text-white drop-shadow-sm"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Percorso Formativo"}),a.jsx(W.div,{animate:{rotate:[0,14,-14,14,0],scale:[1,1.1,1.1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:5},children:a.jsx(yt,{className:"w-6 h-6 text-emerald-400"})})]}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Impara la Bitcoin Wheel Strategy passo dopo passo"})]})]}),a.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-white font-semibold",children:"Progresso Totale"}),a.jsxs("span",{className:"text-emerald-400 font-bold",children:[s,"/",i," Lezioni"]})]}),a.jsx(ai,{value:o,className:"h-3 bg-white/10"}),a.jsx("p",{className:"text-gray-400 text-sm mt-3",children:o===100?" Hai completato tutte le lezioni!":`Ancora ${i-s} lezioni da completare`})]})]}),a.jsxs("main",{className:"relative max-w-7xl mx-auto px-4 py-6 md:px-6 md:py-8",children:[a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Object.values(Bo).map((d,f)=>{const p=n.completedLessons.includes(d.id),h=n.level<d.requiredLevel,g=!h;return a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.05},whileHover:g?{y:-4}:{},children:a.jsxs(oe,{className:`p-5 transition-all h-full ${h?"bg-gray-800/20 border-white/5 opacity-50 cursor-not-allowed":p?"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/30 cursor-pointer hover:border-emerald-500/50":"bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border-white/10 cursor-pointer hover:border-purple-500/40"}`,onClick:()=>c(d.id),children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${p?"bg-gradient-to-br from-emerald-500 to-teal-600 shadow-lg shadow-emerald-500/30":h?"bg-gray-700/50":"bg-gradient-to-br from-purple-500 to-pink-600 shadow-lg shadow-purple-500/30"}`,children:p?a.jsx(Nw,{className:"w-6 h-6 text-white"}):h?a.jsx(Bs,{className:"w-6 h-6 text-gray-400"}):a.jsx("span",{className:"font-bold text-white text-lg",children:d.id})})}),a.jsx(Ze,{className:NX[d.difficulty],children:kX[d.difficulty]})]}),a.jsx("h3",{className:"text-white font-semibold mb-2 line-clamp-2 min-h-[3.5rem]",children:d.title}),a.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-3 min-h-[4rem]",children:d.description}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(zp,{className:"w-4 h-4"}),a.jsx("span",{children:d.estimatedTime})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(DT,{className:"w-4 h-4"}),a.jsxs("span",{children:[d.questions.length," Quiz"]})]})]}),h?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(Bs,{className:"w-4 h-4"}),a.jsxs("span",{children:["Livello ",d.requiredLevel," richiesto"]})]}):p?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-400",children:[a.jsx(Nw,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:"Completata"})]}):a.jsx(ye,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 border-0 shadow-lg",onClick:v=>{v.stopPropagation(),c(d.id)},children:"Inizia Lezione"})]})},d.id)})}),a.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:a.jsx(oe,{className:"mt-8 p-6 bg-gradient-to-br from-blue-500/10 to-purple-500/10 backdrop-blur-xl border border-blue-500/20",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-blue-500/30",children:a.jsx(gt,{className:"w-7 h-7 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold mb-2 text-lg",children:" Percorso di Apprendimento Progressivo"}),a.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:"Ogni lezione sblocca nuovi contenuti. Completa le lezioni in ordine per massimizzare la comprensione e guadagnare XP per salire di livello!"}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 space-y-2",children:[a.jsxs("p",{className:"text-white",children:[" ",a.jsxs("strong",{className:"text-emerald-400",children:["Livello ",n.level]})," attuale  ",n.xp," XP"]}),a.jsxs("p",{className:"text-gray-300",children:[" Hai accesso a ",Object.values(Bo).filter(d=>d.requiredLevel<=n.level).length," lezioni"]}),a.jsxs("p",{className:"text-gray-300",children:[" ",Object.values(Bo).filter(d=>d.requiredLevel>n.level).length," lezioni ancora da sbloccare"]})]})]})]})})})]})]})}var Vp="Tabs",[AX]=Ml(Vp,[Bp]),tM=Bp(),[PX,Gj]=AX(Vp),rM=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:c,activationMode:d="automatic",...f}=t,p=Wj(c),[h,g]=Lp({prop:n,onChange:i,defaultProp:s??"",caller:Vp});return a.jsx(PX,{scope:r,baseId:T$(),value:h,onValueChange:g,orientation:o,dir:p,activationMode:d,children:a.jsx(bn.div,{dir:p,"data-orientation":o,...f,ref:e})})});rM.displayName=Vp;var nM="TabsList",iM=P.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=Gj(nM,r),o=tM(r);return a.jsx(I$,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(bn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});iM.displayName=nM;var aM="TabsTrigger",sM=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=Gj(aM,r),c=tM(r),d=cM(o.baseId,n),f=uM(o.baseId,n),p=n===o.value;return a.jsx(R$,{asChild:!0,...c,focusable:!i,active:p,children:a.jsx(bn.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...s,ref:e,onMouseDown:nn(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:nn(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:nn(t.onFocus,()=>{const h=o.activationMode!=="manual";!p&&!i&&h&&o.onValueChange(n)})})})});sM.displayName=aM;var oM="TabsContent",lM=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,c=Gj(oM,r),d=cM(c.baseId,n),f=uM(c.baseId,n),p=n===c.value,h=P.useRef(p);return P.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(Fp,{present:i||p,children:({present:g})=>a.jsx(bn.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:g&&s})})});lM.displayName=oM;function cM(t,e){return`${t}-trigger-${e}`}function uM(t,e){return`${t}-content-${e}`}var CX=rM,EX=iM,OX=sM,IX=lM;function dM({className:t,...e}){return a.jsx(CX,{"data-slot":"tabs",className:gr("flex flex-col gap-2",t),...e})}function fM({className:t,...e}){return a.jsx(EX,{"data-slot":"tabs-list",className:gr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Pw({className:t,...e}){return a.jsx(OX,{"data-slot":"tabs-trigger",className:gr("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Cw({className:t,...e}){return a.jsx(IX,{"data-slot":"tabs-content",className:gr("flex-1 outline-none",t),...e})}function RX({onNavigate:t}){const{progress:e}=Ja(),[r,n]=P.useState("all"),i={completedLessons:e.completedLessons,xp:e.xp,streak:e.streak,level:e.level,perfectQuizzes:e.perfectQuizzes||0,profitableSimulations:e.profitableSimulations||0,unlockedBadges:e.badges||[]},s=Object.values(Up),o=r==="all"?s:s.filter(b=>b.category===r),c=o.filter(b=>i.unlockedBadges.includes(b.id)).length,d=o.length,f=c/d*100,p=bX(i),h=[{id:"all",label:"Tutti",icon:Ht},{id:"learning",label:"Apprendimento",icon:yt},{id:"achievement",label:"Achievement",icon:gt},{id:"streak",label:"Streak",icon:Ht},{id:"trading",label:"Trading",icon:gt},{id:"mastery",label:"Mastery",icon:Ht}],g=b=>{const w=b.requirement;switch(w.type){case"lessons_completed":return Math.min(e.completedLessons.length/w.value*100,100);case"xp_earned":return Math.min(e.xp/w.value*100,100);case"streak_days":return Math.min(e.streak/w.value*100,100);case"level_reached":return Math.min(e.level/w.value*100,100);case"quiz_perfect":return Math.min((e.perfectQuizzes||0)/w.value*100,100);case"simulation_profit":return Math.min((e.profitableSimulations||0)/w.value*100,100);default:return 0}},v=b=>{switch(b.requirement.type){case"lessons_completed":return e.completedLessons.length;case"xp_earned":return e.xp;case"streak_days":return e.streak;case"level_reached":return e.level;case"quiz_perfect":return e.perfectQuizzes||0;case"simulation_profit":return e.profitableSimulations||0;default:return 0}};return a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50",children:[a.jsx(tn,{currentView:"home",onNavigate:t}),a.jsx("header",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-8 md:px-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Ht,{className:"w-8 h-8"}),a.jsx("h1",{className:"text-white",children:" I Tuoi Badge"})]}),a.jsx("p",{className:"text-purple-100 mb-6",children:"Colleziona badge completando lezioni, mantenendo streak e padroneggiando la Wheel Strategy!"}),a.jsxs(oe,{className:"bg-white/10 backdrop-blur-sm border-white/20 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-white",children:"Collezione Badge"}),a.jsxs("span",{className:"text-white",children:[c,"/",d]})]}),a.jsx(ai,{value:f,className:"h-3 bg-white/20"}),a.jsx("p",{className:"text-purple-100 text-sm mt-2",children:f===100?" Collezione completa! Sei una leggenda!":`Ancora ${d-c} badge da sbloccare`})]}),p&&a.jsx(oe,{className:"mt-4 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-sm border-yellow-400/30 p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-3xl",children:p.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white mb-1",children:" Prossimo Badge"}),a.jsx("p",{className:"text-white/90 mb-2",children:p.name}),a.jsx("p",{className:"text-sm text-white/70 mb-2",children:p.requirement.description}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ai,{value:g(p),className:"h-2 flex-1 bg-white/20"}),a.jsxs("span",{className:"text-xs text-white/90",children:[v(p),"/",p.requirement.value]})]})]})]})})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 md:px-6",children:[a.jsxs(dM,{defaultValue:"all",className:"w-full",children:[a.jsx(fM,{className:"w-full justify-start overflow-x-auto flex-nowrap mb-6",children:h.map(b=>a.jsxs(Pw,{value:b.id,onClick:()=>n(b.id),className:"whitespace-nowrap",children:[a.jsx(b.icon,{className:"w-4 h-4 mr-2"}),b.label]},b.id))}),a.jsx(Cw,{value:r,className:"mt-0",children:a.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:o.map(b=>{const w=i.unlockedBadges.includes(b.id),x=g(b),S=v(b);return a.jsxs(oe,{className:`p-5 transition-all relative overflow-hidden ${w?`border-2 ${wX[b.rarity]} shadow-lg`:"opacity-60 bg-gray-100"}`,children:[w&&a.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 bg-gradient-to-r ${Aw[b.rarity]}`}),a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{className:`text-5xl ${w?"filter-none":"grayscale opacity-40"}`,children:b.icon}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsx(Ze,{className:`${b.rarity==="common"?"bg-gray-200 text-gray-800":b.rarity==="rare"?"bg-blue-100 text-blue-800":b.rarity==="epic"?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"}`,children:Q$[b.rarity]}),!w&&a.jsx(Bs,{className:"w-5 h-5 text-gray-400 mt-1"})]})]}),a.jsx("h3",{className:`text-gray-900 mb-2 ${!w&&"text-gray-500"}`,children:b.name}),a.jsx("p",{className:`text-sm mb-3 ${w?"text-gray-600":"text-gray-400"}`,children:b.description}),a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:b.requirement.description}),!w&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[a.jsx("span",{children:"Progresso"}),a.jsxs("span",{children:[S,"/",b.requirement.value]})]}),a.jsx(ai,{value:x,className:"h-2"})]}),w&&b.reward&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[a.jsx(yt,{className:"w-4 h-4"}),a.jsxs("span",{children:[b.reward.xp&&`+${b.reward.xp} XP`,b.reward.multiplier&&`  ${((b.reward.multiplier-1)*100).toFixed(0)}% XP boost`]})]})}),w&&a.jsx("div",{className:"absolute top-3 right-3 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:a.jsx(Ht,{className:"w-4 h-4"})})]},b.id)})})})]}),o.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ht,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Nessun badge in questa categoria"})]})]})]})}function yn({className:t,type:e,...r}){return a.jsx("input",{type:e,"data-slot":"input",className:gr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var q0,eA;function an(){if(eA)return q0;eA=1;var t=Array.isArray;return q0=t,q0}var U0,tA;function hM(){if(tA)return U0;tA=1;var t=typeof Pf=="object"&&Pf&&Pf.Object===Object&&Pf;return U0=t,U0}var V0,rA;function Ti(){if(rA)return V0;rA=1;var t=hM(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return V0=r,V0}var W0,nA;function hd(){if(nA)return W0;nA=1;var t=Ti(),e=t.Symbol;return W0=e,W0}var H0,iA;function $X(){if(iA)return H0;iA=1;var t=hd(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var c=r.call(o,i),d=o[i];try{o[i]=void 0;var f=!0}catch{}var p=n.call(o);return f&&(c?o[i]=d:delete o[i]),p}return H0=s,H0}var G0,aA;function MX(){if(aA)return G0;aA=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return G0=r,G0}var K0,sA;function la(){if(sA)return K0;sA=1;var t=hd(),e=$X(),r=MX(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(c){return c==null?c===void 0?i:n:s&&s in Object(c)?e(c):r(c)}return K0=o,K0}var X0,oA;function ca(){if(oA)return X0;oA=1;function t(e){return e!=null&&typeof e=="object"}return X0=t,X0}var Y0,lA;function Dl(){if(lA)return Y0;lA=1;var t=la(),e=ca(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Y0=n,Y0}var J0,cA;function Kj(){if(cA)return J0;cA=1;var t=an(),e=Dl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return J0=i,J0}var Q0,uA;function Qa(){if(uA)return Q0;uA=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Q0=t,Q0}var Z0,dA;function Xj(){if(dA)return Z0;dA=1;var t=la(),e=Qa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(c){if(!e(c))return!1;var d=t(c);return d==n||d==i||d==r||d==s}return Z0=o,Z0}var ev,fA;function DX(){if(fA)return ev;fA=1;var t=Ti(),e=t["__core-js_shared__"];return ev=e,ev}var tv,hA;function zX(){if(hA)return tv;hA=1;var t=DX(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return tv=r,tv}var rv,pA;function pM(){if(pA)return rv;pA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return rv=r,rv}var nv,mA;function LX(){if(mA)return nv;mA=1;var t=Xj(),e=zX(),r=Qa(),n=pM(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,d=o.toString,f=c.hasOwnProperty,p=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!r(g)||e(g))return!1;var v=t(g)?p:s;return v.test(n(g))}return nv=h,nv}var iv,gA;function BX(){if(gA)return iv;gA=1;function t(e,r){return e?.[r]}return iv=t,iv}var av,vA;function Gs(){if(vA)return av;vA=1;var t=LX(),e=BX();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return av=r,av}var sv,yA;function Wp(){if(yA)return sv;yA=1;var t=Gs(),e=t(Object,"create");return sv=e,sv}var ov,xA;function FX(){if(xA)return ov;xA=1;var t=Wp();function e(){this.__data__=t?t(null):{},this.size=0}return ov=e,ov}var lv,bA;function qX(){if(bA)return lv;bA=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return lv=t,lv}var cv,wA;function UX(){if(wA)return cv;wA=1;var t=Wp(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var c=o[s];return c===e?void 0:c}return n.call(o,s)?o[s]:void 0}return cv=i,cv}var uv,jA;function VX(){if(jA)return uv;jA=1;var t=Wp(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return uv=n,uv}var dv,SA;function WX(){if(SA)return dv;SA=1;var t=Wp(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return dv=r,dv}var fv,_A;function HX(){if(_A)return fv;_A=1;var t=FX(),e=qX(),r=UX(),n=VX(),i=WX();function s(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var f=o[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,fv=s,fv}var hv,NA;function GX(){if(NA)return hv;NA=1;function t(){this.__data__=[],this.size=0}return hv=t,hv}var pv,kA;function Yj(){if(kA)return pv;kA=1;function t(e,r){return e===r||e!==e&&r!==r}return pv=t,pv}var mv,TA;function Hp(){if(TA)return mv;TA=1;var t=Yj();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return mv=e,mv}var gv,AA;function KX(){if(AA)return gv;AA=1;var t=Hp(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var c=s.length-1;return o==c?s.pop():r.call(s,o,1),--this.size,!0}return gv=n,gv}var vv,PA;function XX(){if(PA)return vv;PA=1;var t=Hp();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return vv=e,vv}var yv,CA;function YX(){if(CA)return yv;CA=1;var t=Hp();function e(r){return t(this.__data__,r)>-1}return yv=e,yv}var xv,EA;function JX(){if(EA)return xv;EA=1;var t=Hp();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return xv=e,xv}var bv,OA;function Gp(){if(OA)return bv;OA=1;var t=GX(),e=KX(),r=XX(),n=YX(),i=JX();function s(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var f=o[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,bv=s,bv}var wv,IA;function Jj(){if(IA)return wv;IA=1;var t=Gs(),e=Ti(),r=t(e,"Map");return wv=r,wv}var jv,RA;function QX(){if(RA)return jv;RA=1;var t=HX(),e=Gp(),r=Jj();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return jv=n,jv}var Sv,$A;function ZX(){if($A)return Sv;$A=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Sv=t,Sv}var _v,MA;function Kp(){if(MA)return _v;MA=1;var t=ZX();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return _v=e,_v}var Nv,DA;function eY(){if(DA)return Nv;DA=1;var t=Kp();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Nv=e,Nv}var kv,zA;function tY(){if(zA)return kv;zA=1;var t=Kp();function e(r){return t(this,r).get(r)}return kv=e,kv}var Tv,LA;function rY(){if(LA)return Tv;LA=1;var t=Kp();function e(r){return t(this,r).has(r)}return Tv=e,Tv}var Av,BA;function nY(){if(BA)return Av;BA=1;var t=Kp();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return Av=e,Av}var Pv,FA;function Qj(){if(FA)return Pv;FA=1;var t=QX(),e=eY(),r=tY(),n=rY(),i=nY();function s(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var f=o[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Pv=s,Pv}var Cv,qA;function mM(){if(qA)return Cv;qA=1;var t=Qj(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,c=i?i.apply(this,o):o[0],d=s.cache;if(d.has(c))return d.get(c);var f=n.apply(this,o);return s.cache=d.set(c,f)||d,f};return s.cache=new(r.Cache||t),s}return r.Cache=t,Cv=r,Cv}var Ev,UA;function iY(){if(UA)return Ev;UA=1;var t=mM(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return Ev=r,Ev}var Ov,VA;function aY(){if(VA)return Ov;VA=1;var t=iY(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,c,d,f){s.push(d?f.replace(r,"$1"):c||o)}),s});return Ov=n,Ov}var Iv,WA;function Zj(){if(WA)return Iv;WA=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return Iv=t,Iv}var Rv,HA;function sY(){if(HA)return Rv;HA=1;var t=hd(),e=Zj(),r=an(),n=Dl(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(c){if(typeof c=="string")return c;if(r(c))return e(c,o)+"";if(n(c))return s?s.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return Rv=o,Rv}var $v,GA;function gM(){if(GA)return $v;GA=1;var t=sY();function e(r){return r==null?"":t(r)}return $v=e,$v}var Mv,KA;function vM(){if(KA)return Mv;KA=1;var t=an(),e=Kj(),r=aY(),n=gM();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return Mv=i,Mv}var Dv,XA;function Xp(){if(XA)return Dv;XA=1;var t=Dl();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Dv=e,Dv}var zv,YA;function eS(){if(YA)return zv;YA=1;var t=vM(),e=Xp();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return zv=r,zv}var Lv,JA;function yM(){if(JA)return Lv;JA=1;var t=eS();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return Lv=e,Lv}var oY=yM();const Mn=vt(oY);var Bv,QA;function lY(){if(QA)return Bv;QA=1;function t(e){return e==null}return Bv=t,Bv}var cY=lY();const et=vt(cY);var Fv,ZA;function uY(){if(ZA)return Fv;ZA=1;var t=la(),e=an(),r=ca(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return Fv=i,Fv}var dY=uY();const Fs=vt(dY);var fY=Xj();const Ke=vt(fY);var hY=Qa();const zl=vt(hY);var qv={exports:{}},ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function pY(){if(eP)return ct;eP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function w(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case t:switch(x=x.type,x){case r:case i:case n:case f:case p:return x;default:switch(x=x&&x.$$typeof,x){case c:case o:case d:case g:case h:case s:return x;default:return S}}case e:return S}}}return ct.ContextConsumer=o,ct.ContextProvider=s,ct.Element=t,ct.ForwardRef=d,ct.Fragment=r,ct.Lazy=g,ct.Memo=h,ct.Portal=e,ct.Profiler=i,ct.StrictMode=n,ct.Suspense=f,ct.SuspenseList=p,ct.isAsyncMode=function(){return!1},ct.isConcurrentMode=function(){return!1},ct.isContextConsumer=function(x){return w(x)===o},ct.isContextProvider=function(x){return w(x)===s},ct.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},ct.isForwardRef=function(x){return w(x)===d},ct.isFragment=function(x){return w(x)===r},ct.isLazy=function(x){return w(x)===g},ct.isMemo=function(x){return w(x)===h},ct.isPortal=function(x){return w(x)===e},ct.isProfiler=function(x){return w(x)===i},ct.isStrictMode=function(x){return w(x)===n},ct.isSuspense=function(x){return w(x)===f},ct.isSuspenseList=function(x){return w(x)===p},ct.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===f||x===p||x===v||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===h||x.$$typeof===s||x.$$typeof===o||x.$$typeof===d||x.$$typeof===b||x.getModuleId!==void 0)},ct.typeOf=w,ct}var tP;function mY(){return tP||(tP=1,qv.exports=pY()),qv.exports}var gY=mY(),Uv,rP;function xM(){if(rP)return Uv;rP=1;var t=la(),e=ca(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Uv=n,Uv}var Vv,nP;function vY(){if(nP)return Vv;nP=1;var t=xM();function e(r){return t(r)&&r!=+r}return Vv=e,Vv}var yY=vY();const Ll=vt(yY);var xY=xM();const bY=vt(xY);var ii=function(e){return e===0?0:e>0?1:-1},Es=function(e){return Fs(e)&&e.indexOf("%")===e.length-1},je=function(e){return bY(e)&&!Ll(e)},wY=function(e){return et(e)},cr=function(e){return je(e)||Fs(e)},jY=0,Bl=function(e){var r=++jY;return"".concat(e||"").concat(r)},qs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!Fs(e))return n;var s;if(Es(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Ll(s)&&(s=n),i&&s>r&&(s=r),s},Fa=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},SY=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Tr=function(e,r){return je(e)&&je(r)?function(n){return e+n*(r-e)}:function(){return r}};function kh(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Mn(n,e))===r})}var _Y=function(e,r){return je(e)&&je(r)?e-r:Fs(e)&&Fs(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Zo(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Ew(t){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(t)}var NY=["viewBox","children"],kY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],iP=["points","pathLength"],Wv={svg:NY,polygon:iP,polyline:iP},tS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Th=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),!zl(n))return null;var i={};return Object.keys(n).forEach(function(s){tS.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},TY=function(e,r,n){return function(i){return e(r,n,i),null}},Ah=function(e,r,n){if(!zl(e)||Ew(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];tS.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=TY(o,r,n))}),i},AY=["children"],PY=["children"];function aP(t,e){if(t==null)return{};var r=CY(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ow(t){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ow(t)}var sP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ki=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},oP=null,Hv=null,rS=function t(e){if(e===oP&&Array.isArray(Hv))return Hv;var r=[];return P.Children.forEach(e,function(n){et(n)||(gY.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Hv=r,oP=e,r};function Dn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ki(i)}):n=[Ki(e)],rS(t).forEach(function(i){var s=Mn(i,"type.displayName")||Mn(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function pn(t,e){var r=Dn(t,e);return r&&r[0]}var lP=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!je(n)||n<=0||!je(i)||i<=0)},EY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],OY=function(e){return e&&e.type&&Fs(e.type)&&EY.indexOf(e.type)>=0},bM=function(e){return e&&Ow(e)==="object"&&"clipDot"in e},IY=function(e,r,n,i){var s,o=(s=Wv?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ke(e)&&(i&&o.includes(r)||kY.includes(r))||n&&tS.includes(r)},Ye=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!zl(i))return null;var s={};return Object.keys(i).forEach(function(o){var c;IY((c=i)===null||c===void 0?void 0:c[o],o,r,n)&&(s[o]=i[o])}),s},Iw=function t(e,r){if(e===r)return!0;var n=P.Children.count(e);if(n!==P.Children.count(r))return!1;if(n===0)return!0;if(n===1)return cP(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!cP(s,o))return!1}return!0},cP=function(e,r){if(et(e)&&et(r))return!0;if(!et(e)&&!et(r)){var n=e.props||{},i=n.children,s=aP(n,AY),o=r.props||{},c=o.children,d=aP(o,PY);return i&&c?Zo(s,d)&&Iw(i,c):!i&&!c?Zo(s,d):!1}return!1},uP=function(e,r){var n=[],i={};return rS(e).forEach(function(s,o){if(OY(s))n.push(s);else if(s){var c=Ki(s.type),d=r[c]||{},f=d.handler,p=d.once;if(f&&(!p||!i[c])){var h=f(s,c,o);n.push(h),i[c]=!0}}}),n},RY=function(e){var r=e&&e.type;return r&&sP[r]?sP[r]:null},$Y=function(e,r){return rS(r).indexOf(e)},MY=["children","width","height","viewBox","className","style","title","desc"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rw.apply(this,arguments)}function DY(t,e){if(t==null)return{};var r=zY(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $w(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,c=t.title,d=t.desc,f=DY(t,MY),p=i||{width:r,height:n,x:0,y:0},h=nt("recharts-surface",s);return z.createElement("svg",Rw({},Ye(f,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),z.createElement("title",null,c),z.createElement("desc",null,d),e)}var LY=["children","className"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mw.apply(this,arguments)}function BY(t,e){if(t==null)return{};var r=FY(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Nt=z.forwardRef(function(t,e){var r=t.children,n=t.className,i=BY(t,LY),s=nt("recharts-layer",n);return z.createElement("g",Mw({className:s},Ye(i,!0),{ref:e}),r)}),Xi=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},Gv,dP;function qY(){if(dP)return Gv;dP=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return Gv=t,Gv}var Kv,fP;function UY(){if(fP)return Kv;fP=1;var t=qY();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return Kv=e,Kv}var Xv,hP;function wM(){if(hP)return Xv;hP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+t+i+s+"]");function d(f){return c.test(f)}return Xv=d,Xv}var Yv,pP;function VY(){if(pP)return Yv;pP=1;function t(e){return e.split("")}return Yv=t,Yv}var Jv,mP;function WY(){if(mP)return Jv;mP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",c="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",p="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",b=f+"?",w="["+s+"]?",x="(?:"+v+"(?:"+[p,h,g].join("|")+")"+w+b+")*",S=w+b+x,k="(?:"+[p+c+"?",c,h,g,o].join("|")+")",_=RegExp(d+"(?="+d+")|"+k+S,"g");function C(N){return N.match(_)||[]}return Jv=C,Jv}var Qv,gP;function HY(){if(gP)return Qv;gP=1;var t=VY(),e=wM(),r=WY();function n(i){return e(i)?r(i):t(i)}return Qv=n,Qv}var Zv,vP;function GY(){if(vP)return Zv;vP=1;var t=UY(),e=wM(),r=HY(),n=gM();function i(s){return function(o){o=n(o);var c=e(o)?r(o):void 0,d=c?c[0]:o.charAt(0),f=c?t(c,1).join(""):o.slice(1);return d[s]()+f}}return Zv=i,Zv}var ey,yP;function KY(){if(yP)return ey;yP=1;var t=GY(),e=t("toUpperCase");return ey=e,ey}var XY=KY();const Yp=vt(XY);function _t(t){return function(){return t}}const jM=Math.cos,Ph=Math.sin,oi=Math.sqrt,Ch=Math.PI,Jp=2*Ch,Dw=Math.PI,zw=2*Dw,_s=1e-6,YY=zw-_s;function SM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function JY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return SM;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class QY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?SM:JY(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,d=n-e,f=i-r,p=o-e,h=c-r,g=p*p+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>_s)if(!(Math.abs(h*d-f*p)>_s)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,b=i-c,w=d*d+f*f,x=v*v+b*b,S=Math.sqrt(w),k=Math.sqrt(g),_=s*Math.tan((Dw-Math.acos((w+g-x)/(2*S*k)))/2),C=_/k,N=_/S;Math.abs(C-1)>_s&&this._append`L${e+C*p},${r+C*h}`,this._append`A${s},${s},0,0,${+(h*v>p*b)},${this._x1=e+N*d},${this._y1=r+N*f}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),d=n*Math.sin(i),f=e+c,p=r+d,h=1^o,g=o?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>_s||Math.abs(this._y1-p)>_s)&&this._append`L${f},${p}`,n&&(g<0&&(g=g%zw+zw),g>YY?this._append`A${n},${n},0,1,${h},${e-c},${r-d}A${n},${n},0,1,${h},${this._x1=f},${this._y1=p}`:g>_s&&this._append`A${n},${n},0,${+(g>=Dw)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function nS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new QY(e)}function iS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _M(t){this._context=t}_M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qp(t){return new _M(t)}function NM(t){return t[0]}function kM(t){return t[1]}function TM(t,e){var r=_t(!0),n=null,i=Qp,s=null,o=nS(c);t=typeof t=="function"?t:t===void 0?NM:_t(t),e=typeof e=="function"?e:e===void 0?kM:_t(e);function c(d){var f,p=(d=iS(d)).length,h,g=!1,v;for(n==null&&(s=i(v=o())),f=0;f<=p;++f)!(f<p&&r(h=d[f],f,d))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(h,f,d),+e(h,f,d));if(v)return s=null,v+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:_t(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:_t(+d),c):e},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:_t(!!d),c):r},c.curve=function(d){return arguments.length?(i=d,n!=null&&(s=i(n)),c):i},c.context=function(d){return arguments.length?(d==null?n=s=null:s=i(n=d),c):n},c}function Wf(t,e,r){var n=null,i=_t(!0),s=null,o=Qp,c=null,d=nS(f);t=typeof t=="function"?t:t===void 0?NM:_t(+t),e=typeof e=="function"?e:_t(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?kM:_t(+r);function f(h){var g,v,b,w=(h=iS(h)).length,x,S=!1,k,_=new Array(w),C=new Array(w);for(s==null&&(c=o(k=d())),g=0;g<=w;++g){if(!(g<w&&i(x=h[g],g,h))===S)if(S=!S)v=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=g-1;b>=v;--b)c.point(_[b],C[b]);c.lineEnd(),c.areaEnd()}S&&(_[g]=+t(x,g,h),C[g]=+e(x,g,h),c.point(n?+n(x,g,h):_[g],r?+r(x,g,h):C[g]))}if(k)return c=null,k+""||null}function p(){return TM().defined(i).curve(o).context(s)}return f.x=function(h){return arguments.length?(t=typeof h=="function"?h:_t(+h),n=null,f):t},f.x0=function(h){return arguments.length?(t=typeof h=="function"?h:_t(+h),f):t},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:_t(+h),f):n},f.y=function(h){return arguments.length?(e=typeof h=="function"?h:_t(+h),r=null,f):e},f.y0=function(h){return arguments.length?(e=typeof h=="function"?h:_t(+h),f):e},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:_t(+h),f):r},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(r)},f.lineX1=function(){return p().x(n).y(e)},f.defined=function(h){return arguments.length?(i=typeof h=="function"?h:_t(!!h),f):i},f.curve=function(h){return arguments.length?(o=h,s!=null&&(c=o(s)),f):o},f.context=function(h){return arguments.length?(h==null?s=c=null:c=o(s=h),f):s},f}class AM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function ZY(t){return new AM(t,!0)}function eJ(t){return new AM(t,!1)}const aS={draw(t,e){const r=oi(e/Ch);t.moveTo(r,0),t.arc(0,0,r,0,Jp)}},tJ={draw(t,e){const r=oi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},PM=oi(1/3),rJ=PM*2,nJ={draw(t,e){const r=oi(e/rJ),n=r*PM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},iJ={draw(t,e){const r=oi(e),n=-r/2;t.rect(n,n,r,r)}},aJ=.8908130915292852,CM=Ph(Ch/10)/Ph(7*Ch/10),sJ=Ph(Jp/10)*CM,oJ=-jM(Jp/10)*CM,lJ={draw(t,e){const r=oi(e*aJ),n=sJ*r,i=oJ*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=Jp*s/5,c=jM(o),d=Ph(o);t.lineTo(d*r,-c*r),t.lineTo(c*n-d*i,d*n+c*i)}t.closePath()}},ty=oi(3),cJ={draw(t,e){const r=-oi(e/(ty*3));t.moveTo(0,r*2),t.lineTo(-ty*r,-r),t.lineTo(ty*r,-r),t.closePath()}},Pn=-.5,Cn=oi(3)/2,Lw=1/oi(12),uJ=(Lw/2+1)*3,dJ={draw(t,e){const r=oi(e/uJ),n=r/2,i=r*Lw,s=n,o=r*Lw+r,c=-s,d=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(c,d),t.lineTo(Pn*n-Cn*i,Cn*n+Pn*i),t.lineTo(Pn*s-Cn*o,Cn*s+Pn*o),t.lineTo(Pn*c-Cn*d,Cn*c+Pn*d),t.lineTo(Pn*n+Cn*i,Pn*i-Cn*n),t.lineTo(Pn*s+Cn*o,Pn*o-Cn*s),t.lineTo(Pn*c+Cn*d,Pn*d-Cn*c),t.closePath()}};function fJ(t,e){let r=null,n=nS(i);t=typeof t=="function"?t:_t(t||aS),e=typeof e=="function"?e:_t(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:_t(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:_t(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Eh(){}function Oh(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function EM(t){this._context=t}EM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Oh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Oh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hJ(t){return new EM(t)}function OM(t){this._context=t}OM.prototype={areaStart:Eh,areaEnd:Eh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Oh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pJ(t){return new OM(t)}function IM(t){this._context=t}IM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Oh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mJ(t){return new IM(t)}function RM(t){this._context=t}RM.prototype={areaStart:Eh,areaEnd:Eh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gJ(t){return new RM(t)}function xP(t){return t<0?-1:1}function bP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),c=(s*i+o*n)/(n+i);return(xP(s)+xP(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function wP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ry(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,c=(s-n)/3;t._context.bezierCurveTo(n+c,i+c*e,s-c,o-c*r,s,o)}function Ih(t){this._context=t}Ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ry(this,this._t0,wP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ry(this,wP(this,r=bP(this,t,e)),r);break;default:ry(this,this._t0,r=bP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function $M(t){this._context=new MM(t)}($M.prototype=Object.create(Ih.prototype)).point=function(t,e){Ih.prototype.point.call(this,e,t)};function MM(t){this._context=t}MM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function vJ(t){return new Ih(t)}function yJ(t){return new $M(t)}function DM(t){this._context=t}DM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=jP(t),i=jP(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jP(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function xJ(t){return new DM(t)}function Zp(t,e){this._context=t,this._t=e}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function bJ(t){return new Zp(t,.5)}function wJ(t){return new Zp(t,0)}function jJ(t){return new Zp(t,1)}function ol(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,c=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Bw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function SJ(t,e){return t[e]}function _J(t){const e=[];return e.key=t,e}function NJ(){var t=_t([]),e=Bw,r=ol,n=SJ;function i(s){var o=Array.from(t.apply(this,arguments),_J),c,d=o.length,f=-1,p;for(const h of s)for(c=0,++f;c<d;++c)(o[c][f]=[0,+n(h,o[c].key,f,s)]).data=h;for(c=0,p=iS(e(o));c<d;++c)o[p[c]].index=c;return r(o,p),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:_t(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:_t(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Bw:typeof s=="function"?s:_t(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??ol,i):r},i}function kJ(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}ol(t,e)}}function TJ(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,c=0;o<i;++o)c+=t[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}ol(t,e)}}function AJ(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var c=0,d=0,f=0;c<o;++c){for(var p=t[e[c]],h=p[n][1]||0,g=p[n-1][1]||0,v=(h-g)/2,b=0;b<c;++b){var w=t[e[b]],x=w[n][1]||0,S=w[n-1][1]||0;v+=x-S}d+=h,f+=v*h}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,ol(t,e)}}function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}var PJ=["type","size","sizeType"];function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fw.apply(this,arguments)}function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _P(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){CJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CJ(t,e,r){return e=EJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EJ(t){var e=OJ(t,"string");return Nu(e)=="symbol"?e:e+""}function OJ(t,e){if(Nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IJ(t,e){if(t==null)return{};var r=RJ(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zM={symbolCircle:aS,symbolCross:tJ,symbolDiamond:nJ,symbolSquare:iJ,symbolStar:lJ,symbolTriangle:cJ,symbolWye:dJ},$J=Math.PI/180,MJ=function(e){var r="symbol".concat(Yp(e));return zM[r]||aS},DJ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*$J;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zJ=function(e,r){zM["symbol".concat(Yp(e))]=r},sS=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,c=o===void 0?"area":o,d=IJ(e,PJ),f=_P(_P({},d),{},{type:n,size:s,sizeType:c}),p=function(){var x=MJ(n),S=fJ().type(x).size(DJ(s,c,n));return S()},h=f.className,g=f.cx,v=f.cy,b=Ye(f,!0);return g===+g&&v===+v&&s===+s?z.createElement("path",Fw({},b,{className:nt("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(v,")"),d:p()})):null};sS.registerSymbol=zJ;function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qw.apply(this,arguments)}function NP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(r),!0).forEach(function(n){ku(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BM(n.key),n)}}function qJ(t,e,r){return e&&FJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UJ(t,e,r){return e=Rh(e),VJ(t,LM()?Reflect.construct(e,r||[],Rh(t).constructor):e.apply(t,r))}function VJ(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WJ(t)}function WJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LM=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rh(t)}function HJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uw(t,e)}function ku(t,e,r){return e=BM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BM(t){var e=GJ(t,"string");return ll(e)=="symbol"?e:e+""}function GJ(t,e){if(ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var En=32,oS=(function(t){function e(){return BJ(this,e),UJ(this,e,arguments)}return HJ(e,t),qJ(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=En/2,o=En/6,c=En/3,d=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:En,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(En,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(En/8,"h").concat(En,"v").concat(En*3/4,"h").concat(-En,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var f=LJ({},n);return delete f.legendIcon,z.cloneElement(n.legendIcon,f)}return z.createElement(sS,{fill:d,cx:s,cy:s,size:En,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,c=i.layout,d=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:En,height:En},h={display:c==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,b){var w=v.formatter||d,x=nt(ku(ku({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=Ke(v.value)?null:v.value;Xi(!Ke(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=v.inactive?f:v.color;return z.createElement("li",qw({className:x,style:h,key:"legend-item-".concat(b)},Ah(n.props,v,b)),z.createElement($w,{width:o,height:o,viewBox:p,style:g},n.renderIcon(v)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w?w(S,v,b):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(P.PureComponent);ku(oS,"displayName","Legend");ku(oS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ny,kP;function KJ(){if(kP)return ny;kP=1;var t=Gp();function e(){this.__data__=new t,this.size=0}return ny=e,ny}var iy,TP;function XJ(){if(TP)return iy;TP=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return iy=t,iy}var ay,AP;function YJ(){if(AP)return ay;AP=1;function t(e){return this.__data__.get(e)}return ay=t,ay}var sy,PP;function JJ(){if(PP)return sy;PP=1;function t(e){return this.__data__.has(e)}return sy=t,sy}var oy,CP;function QJ(){if(CP)return oy;CP=1;var t=Gp(),e=Jj(),r=Qj(),n=200;function i(s,o){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<n-1)return d.push([s,o]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(s,o),this.size=c.size,this}return oy=i,oy}var ly,EP;function FM(){if(EP)return ly;EP=1;var t=Gp(),e=KJ(),r=XJ(),n=YJ(),i=JJ(),s=QJ();function o(c){var d=this.__data__=new t(c);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,ly=o,ly}var cy,OP;function ZJ(){if(OP)return cy;OP=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return cy=e,cy}var uy,IP;function eQ(){if(IP)return uy;IP=1;function t(e){return this.__data__.has(e)}return uy=t,uy}var dy,RP;function qM(){if(RP)return dy;RP=1;var t=Qj(),e=ZJ(),r=eQ();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,dy=n,dy}var fy,$P;function UM(){if($P)return fy;$P=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return fy=t,fy}var hy,MP;function VM(){if(MP)return hy;MP=1;function t(e,r){return e.has(r)}return hy=t,hy}var py,DP;function WM(){if(DP)return py;DP=1;var t=qM(),e=UM(),r=VM(),n=1,i=2;function s(o,c,d,f,p,h){var g=d&n,v=o.length,b=c.length;if(v!=b&&!(g&&b>v))return!1;var w=h.get(o),x=h.get(c);if(w&&x)return w==c&&x==o;var S=-1,k=!0,_=d&i?new t:void 0;for(h.set(o,c),h.set(c,o);++S<v;){var C=o[S],N=c[S];if(f)var T=g?f(N,C,S,c,o,h):f(C,N,S,o,c,h);if(T!==void 0){if(T)continue;k=!1;break}if(_){if(!e(c,function(E,O){if(!r(_,O)&&(C===E||p(C,E,d,f,h)))return _.push(O)})){k=!1;break}}else if(!(C===N||p(C,N,d,f,h))){k=!1;break}}return h.delete(o),h.delete(c),k}return py=s,py}var my,zP;function tQ(){if(zP)return my;zP=1;var t=Ti(),e=t.Uint8Array;return my=e,my}var gy,LP;function rQ(){if(LP)return gy;LP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return gy=t,gy}var vy,BP;function lS(){if(BP)return vy;BP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return vy=t,vy}var yy,FP;function nQ(){if(FP)return yy;FP=1;var t=hd(),e=tQ(),r=Yj(),n=WM(),i=rQ(),s=lS(),o=1,c=2,d="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Map]",g="[object Number]",v="[object RegExp]",b="[object Set]",w="[object String]",x="[object Symbol]",S="[object ArrayBuffer]",k="[object DataView]",_=t?t.prototype:void 0,C=_?_.valueOf:void 0;function N(T,E,O,R,H,L,M){switch(O){case k:if(T.byteLength!=E.byteLength||T.byteOffset!=E.byteOffset)return!1;T=T.buffer,E=E.buffer;case S:return!(T.byteLength!=E.byteLength||!L(new e(T),new e(E)));case d:case f:case g:return r(+T,+E);case p:return T.name==E.name&&T.message==E.message;case v:case w:return T==E+"";case h:var $=i;case b:var V=R&o;if($||($=s),T.size!=E.size&&!V)return!1;var Q=M.get(T);if(Q)return Q==E;R|=c,M.set(T,E);var K=n($(T),$(E),R,H,L,M);return M.delete(T),K;case x:if(C)return C.call(T)==C.call(E)}return!1}return yy=N,yy}var xy,qP;function HM(){if(qP)return xy;qP=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return xy=t,xy}var by,UP;function iQ(){if(UP)return by;UP=1;var t=HM(),e=an();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return by=r,by}var wy,VP;function aQ(){if(VP)return wy;VP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var c=e[n];r(c,n,e)&&(o[s++]=c)}return o}return wy=t,wy}var jy,WP;function sQ(){if(WP)return jy;WP=1;function t(){return[]}return jy=t,jy}var Sy,HP;function oQ(){if(HP)return Sy;HP=1;var t=aQ(),e=sQ(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(c){return n.call(o,c)}))}:e;return Sy=s,Sy}var _y,GP;function lQ(){if(GP)return _y;GP=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return _y=t,_y}var Ny,KP;function cQ(){if(KP)return Ny;KP=1;var t=la(),e=ca(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Ny=n,Ny}var ky,XP;function cS(){if(XP)return ky;XP=1;var t=cQ(),e=ca(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return ky=s,ky}var Xc={exports:{}},Ty,YP;function uQ(){if(YP)return Ty;YP=1;function t(){return!1}return Ty=t,Ty}Xc.exports;var JP;function GM(){return JP||(JP=1,(function(t,e){var r=Ti(),n=uQ(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,c=o?r.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||n;t.exports=f})(Xc,Xc.exports)),Xc.exports}var Ay,QP;function uS(){if(QP)return Ay;QP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Ay=r,Ay}var Py,ZP;function dS(){if(ZP)return Py;ZP=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Py=e,Py}var Cy,eC;function dQ(){if(eC)return Cy;eC=1;var t=la(),e=dS(),r=ca(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",g="[object RegExp]",v="[object Set]",b="[object String]",w="[object WeakMap]",x="[object ArrayBuffer]",S="[object DataView]",k="[object Float32Array]",_="[object Float64Array]",C="[object Int8Array]",N="[object Int16Array]",T="[object Int32Array]",E="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",H="[object Uint32Array]",L={};L[k]=L[_]=L[C]=L[N]=L[T]=L[E]=L[O]=L[R]=L[H]=!0,L[n]=L[i]=L[x]=L[s]=L[S]=L[o]=L[c]=L[d]=L[f]=L[p]=L[h]=L[g]=L[v]=L[b]=L[w]=!1;function M($){return r($)&&e($.length)&&!!L[t($)]}return Cy=M,Cy}var Ey,tC;function KM(){if(tC)return Ey;tC=1;function t(e){return function(r){return e(r)}}return Ey=t,Ey}var Yc={exports:{}};Yc.exports;var rC;function fQ(){return rC||(rC=1,(function(t,e){var r=hM(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,c=(function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=c})(Yc,Yc.exports)),Yc.exports}var Oy,nC;function XM(){if(nC)return Oy;nC=1;var t=dQ(),e=KM(),r=fQ(),n=r&&r.isTypedArray,i=n?e(n):t;return Oy=i,Oy}var Iy,iC;function hQ(){if(iC)return Iy;iC=1;var t=lQ(),e=cS(),r=an(),n=GM(),i=uS(),s=XM(),o=Object.prototype,c=o.hasOwnProperty;function d(f,p){var h=r(f),g=!h&&e(f),v=!h&&!g&&n(f),b=!h&&!g&&!v&&s(f),w=h||g||v||b,x=w?t(f.length,String):[],S=x.length;for(var k in f)(p||c.call(f,k))&&!(w&&(k=="length"||v&&(k=="offset"||k=="parent")||b&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,S)))&&x.push(k);return x}return Iy=d,Iy}var Ry,aC;function pQ(){if(aC)return Ry;aC=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Ry=e,Ry}var $y,sC;function YM(){if(sC)return $y;sC=1;function t(e,r){return function(n){return e(r(n))}}return $y=t,$y}var My,oC;function mQ(){if(oC)return My;oC=1;var t=YM(),e=t(Object.keys,Object);return My=e,My}var Dy,lC;function gQ(){if(lC)return Dy;lC=1;var t=pQ(),e=mQ(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var c in Object(s))n.call(s,c)&&c!="constructor"&&o.push(c);return o}return Dy=i,Dy}var zy,cC;function pd(){if(cC)return zy;cC=1;var t=Xj(),e=dS();function r(n){return n!=null&&e(n.length)&&!t(n)}return zy=r,zy}var Ly,uC;function em(){if(uC)return Ly;uC=1;var t=hQ(),e=gQ(),r=pd();function n(i){return r(i)?t(i):e(i)}return Ly=n,Ly}var By,dC;function vQ(){if(dC)return By;dC=1;var t=iQ(),e=oQ(),r=em();function n(i){return t(i,r,e)}return By=n,By}var Fy,fC;function yQ(){if(fC)return Fy;fC=1;var t=vQ(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,c,d,f,p){var h=c&e,g=t(s),v=g.length,b=t(o),w=b.length;if(v!=w&&!h)return!1;for(var x=v;x--;){var S=g[x];if(!(h?S in o:n.call(o,S)))return!1}var k=p.get(s),_=p.get(o);if(k&&_)return k==o&&_==s;var C=!0;p.set(s,o),p.set(o,s);for(var N=h;++x<v;){S=g[x];var T=s[S],E=o[S];if(d)var O=h?d(E,T,S,o,s,p):d(T,E,S,s,o,p);if(!(O===void 0?T===E||f(T,E,c,d,p):O)){C=!1;break}N||(N=S=="constructor")}if(C&&!N){var R=s.constructor,H=o.constructor;R!=H&&"constructor"in s&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof H=="function"&&H instanceof H)&&(C=!1)}return p.delete(s),p.delete(o),C}return Fy=i,Fy}var qy,hC;function xQ(){if(hC)return qy;hC=1;var t=Gs(),e=Ti(),r=t(e,"DataView");return qy=r,qy}var Uy,pC;function bQ(){if(pC)return Uy;pC=1;var t=Gs(),e=Ti(),r=t(e,"Promise");return Uy=r,Uy}var Vy,mC;function JM(){if(mC)return Vy;mC=1;var t=Gs(),e=Ti(),r=t(e,"Set");return Vy=r,Vy}var Wy,gC;function wQ(){if(gC)return Wy;gC=1;var t=Gs(),e=Ti(),r=t(e,"WeakMap");return Wy=r,Wy}var Hy,vC;function jQ(){if(vC)return Hy;vC=1;var t=xQ(),e=Jj(),r=bQ(),n=JM(),i=wQ(),s=la(),o=pM(),c="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",g="[object DataView]",v=o(t),b=o(e),w=o(r),x=o(n),S=o(i),k=s;return(t&&k(new t(new ArrayBuffer(1)))!=g||e&&k(new e)!=c||r&&k(r.resolve())!=f||n&&k(new n)!=p||i&&k(new i)!=h)&&(k=function(_){var C=s(_),N=C==d?_.constructor:void 0,T=N?o(N):"";if(T)switch(T){case v:return g;case b:return c;case w:return f;case x:return p;case S:return h}return C}),Hy=k,Hy}var Gy,yC;function SQ(){if(yC)return Gy;yC=1;var t=FM(),e=WM(),r=nQ(),n=yQ(),i=jQ(),s=an(),o=GM(),c=XM(),d=1,f="[object Arguments]",p="[object Array]",h="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function b(w,x,S,k,_,C){var N=s(w),T=s(x),E=N?p:i(w),O=T?p:i(x);E=E==f?h:E,O=O==f?h:O;var R=E==h,H=O==h,L=E==O;if(L&&o(w)){if(!o(x))return!1;N=!0,R=!1}if(L&&!R)return C||(C=new t),N||c(w)?e(w,x,S,k,_,C):r(w,x,E,S,k,_,C);if(!(S&d)){var M=R&&v.call(w,"__wrapped__"),$=H&&v.call(x,"__wrapped__");if(M||$){var V=M?w.value():w,Q=$?x.value():x;return C||(C=new t),_(V,Q,S,k,C)}}return L?(C||(C=new t),n(w,x,S,k,_,C)):!1}return Gy=b,Gy}var Ky,xC;function fS(){if(xC)return Ky;xC=1;var t=SQ(),e=ca();function r(n,i,s,o,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,c)}return Ky=r,Ky}var Xy,bC;function _Q(){if(bC)return Xy;bC=1;var t=FM(),e=fS(),r=1,n=2;function i(s,o,c,d){var f=c.length,p=f,h=!d;if(s==null)return!p;for(s=Object(s);f--;){var g=c[f];if(h&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++f<p;){g=c[f];var v=g[0],b=s[v],w=g[1];if(h&&g[2]){if(b===void 0&&!(v in s))return!1}else{var x=new t;if(d)var S=d(b,w,v,s,o,x);if(!(S===void 0?e(w,b,r|n,d,x):S))return!1}}return!0}return Xy=i,Xy}var Yy,wC;function QM(){if(wC)return Yy;wC=1;var t=Qa();function e(r){return r===r&&!t(r)}return Yy=e,Yy}var Jy,jC;function NQ(){if(jC)return Jy;jC=1;var t=QM(),e=em();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],c=n[o];i[s]=[o,c,t(c)]}return i}return Jy=r,Jy}var Qy,SC;function ZM(){if(SC)return Qy;SC=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Qy=t,Qy}var Zy,_C;function kQ(){if(_C)return Zy;_C=1;var t=_Q(),e=NQ(),r=ZM();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return Zy=n,Zy}var ex,NC;function TQ(){if(NC)return ex;NC=1;function t(e,r){return e!=null&&r in Object(e)}return ex=t,ex}var tx,kC;function AQ(){if(kC)return tx;kC=1;var t=vM(),e=cS(),r=an(),n=uS(),i=dS(),s=Xp();function o(c,d,f){d=t(d,c);for(var p=-1,h=d.length,g=!1;++p<h;){var v=s(d[p]);if(!(g=c!=null&&f(c,v)))break;c=c[v]}return g||++p!=h?g:(h=c==null?0:c.length,!!h&&i(h)&&n(v,h)&&(r(c)||e(c)))}return tx=o,tx}var rx,TC;function PQ(){if(TC)return rx;TC=1;var t=TQ(),e=AQ();function r(n,i){return n!=null&&e(n,i,t)}return rx=r,rx}var nx,AC;function CQ(){if(AC)return nx;AC=1;var t=fS(),e=yM(),r=PQ(),n=Kj(),i=QM(),s=ZM(),o=Xp(),c=1,d=2;function f(p,h){return n(p)&&i(h)?s(o(p),h):function(g){var v=e(g,p);return v===void 0&&v===h?r(g,p):t(h,v,c|d)}}return nx=f,nx}var ix,PC;function Fl(){if(PC)return ix;PC=1;function t(e){return e}return ix=t,ix}var ax,CC;function EQ(){if(CC)return ax;CC=1;function t(e){return function(r){return r?.[e]}}return ax=t,ax}var sx,EC;function OQ(){if(EC)return sx;EC=1;var t=eS();function e(r){return function(n){return t(n,r)}}return sx=e,sx}var ox,OC;function IQ(){if(OC)return ox;OC=1;var t=EQ(),e=OQ(),r=Kj(),n=Xp();function i(s){return r(s)?t(n(s)):e(s)}return ox=i,ox}var lx,IC;function Za(){if(IC)return lx;IC=1;var t=kQ(),e=CQ(),r=Fl(),n=an(),i=IQ();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return lx=s,lx}var cx,RC;function e3(){if(RC)return cx;RC=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return cx=t,cx}var ux,$C;function RQ(){if($C)return ux;$C=1;function t(e){return e!==e}return ux=t,ux}var dx,MC;function $Q(){if(MC)return dx;MC=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return dx=t,dx}var fx,DC;function MQ(){if(DC)return fx;DC=1;var t=e3(),e=RQ(),r=$Q();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return fx=n,fx}var hx,zC;function DQ(){if(zC)return hx;zC=1;var t=MQ();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return hx=e,hx}var px,LC;function zQ(){if(LC)return px;LC=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return px=t,px}var mx,BC;function LQ(){if(BC)return mx;BC=1;function t(){}return mx=t,mx}var gx,FC;function BQ(){if(FC)return gx;FC=1;var t=JM(),e=LQ(),r=lS(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return gx=i,gx}var vx,qC;function FQ(){if(qC)return vx;qC=1;var t=qM(),e=DQ(),r=zQ(),n=VM(),i=BQ(),s=lS(),o=200;function c(d,f,p){var h=-1,g=e,v=d.length,b=!0,w=[],x=w;if(p)b=!1,g=r;else if(v>=o){var S=f?null:i(d);if(S)return s(S);b=!1,g=n,x=new t}else x=f?[]:w;e:for(;++h<v;){var k=d[h],_=f?f(k):k;if(k=p||k!==0?k:0,b&&_===_){for(var C=x.length;C--;)if(x[C]===_)continue e;f&&x.push(_),w.push(k)}else g(x,_,p)||(x!==w&&x.push(_),w.push(k))}return w}return vx=c,vx}var yx,UC;function qQ(){if(UC)return yx;UC=1;var t=Za(),e=FQ();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return yx=r,yx}var UQ=qQ();const VC=vt(UQ);function t3(t,e,r){return e===!0?VC(t,r):Ke(e)?VC(t,e):t}function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}var VQ=["ref"];function WC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(r),!0).forEach(function(n){tm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n3(n.key),n)}}function HQ(t,e,r){return e&&HC(t.prototype,e),r&&HC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GQ(t,e,r){return e=$h(e),KQ(t,r3()?Reflect.construct(e,r||[],$h(t).constructor):e.apply(t,r))}function KQ(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XQ(t)}function XQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r3=function(){return!!t})()}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$h(t)}function YQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vw(t,e)}function tm(t,e,r){return e=n3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n3(t){var e=JQ(t,"string");return cl(e)=="symbol"?e:e+""}function JQ(t,e){if(cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QQ(t,e){if(t==null)return{};var r=ZQ(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eZ(t){return t.value}function tZ(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=QQ(e,VQ);return z.createElement(oS,r)}var GC=1,Ds=(function(t){function e(){var r;WQ(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=GQ(this,e,[].concat(i)),tm(r,"lastBoundingBox",{width:-1,height:-1}),r}return YQ(e,t),HQ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>GC||Math.abs(i.height-this.lastBoundingBox.height)>GC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,c=i.verticalAlign,d=i.margin,f=i.chartWidth,p=i.chartHeight,h,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();h={left:((f||0)-v.width)/2}}else h=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var b=this.getBBoxSnapshot();g={top:((p||0)-b.height)/2}}else g=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Bi(Bi({},h),g)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,c=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,h=Bi(Bi({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return z.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){n.wrapperNode=v}},tZ(s,Bi(Bi({},this.props),{},{payload:t3(p,f,eZ)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Bi(Bi({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&je(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(P.PureComponent);tm(Ds,"displayName","Legend");tm(Ds,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xx,KC;function rZ(){if(KC)return xx;KC=1;var t=hd(),e=cS(),r=an(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return xx=i,xx}var bx,XC;function i3(){if(XC)return bx;XC=1;var t=HM(),e=rZ();function r(n,i,s,o,c){var d=-1,f=n.length;for(s||(s=e),c||(c=[]);++d<f;){var p=n[d];i>0&&s(p)?i>1?r(p,i-1,s,o,c):t(c,p):o||(c[c.length]=p)}return c}return bx=r,bx}var wx,YC;function nZ(){if(YC)return wx;YC=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),c=i(r),d=c.length;d--;){var f=c[e?d:++s];if(n(o[f],f,o)===!1)break}return r}}return wx=t,wx}var jx,JC;function iZ(){if(JC)return jx;JC=1;var t=nZ(),e=t();return jx=e,jx}var Sx,QC;function a3(){if(QC)return Sx;QC=1;var t=iZ(),e=em();function r(n,i){return n&&t(n,i,e)}return Sx=r,Sx}var _x,ZC;function aZ(){if(ZC)return _x;ZC=1;var t=pd();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,c=n?o:-1,d=Object(i);(n?c--:++c<o)&&s(d[c],c,d)!==!1;);return i}}return _x=e,_x}var Nx,eE;function hS(){if(eE)return Nx;eE=1;var t=a3(),e=aZ(),r=e(t);return Nx=r,Nx}var kx,tE;function s3(){if(tE)return kx;tE=1;var t=hS(),e=pd();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(c,d,f){o[++s]=i(c,d,f)}),o}return kx=r,kx}var Tx,rE;function sZ(){if(rE)return Tx;rE=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Tx=t,Tx}var Ax,nE;function oZ(){if(nE)return Ax;nE=1;var t=Dl();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,c=t(r),d=n!==void 0,f=n===null,p=n===n,h=t(n);if(!f&&!h&&!c&&r>n||c&&d&&p&&!f&&!h||s&&d&&p||!i&&p||!o)return 1;if(!s&&!c&&!h&&r<n||h&&i&&o&&!s&&!c||f&&i&&o||!d&&o||!p)return-1}return 0}return Ax=e,Ax}var Px,iE;function lZ(){if(iE)return Px;iE=1;var t=oZ();function e(r,n,i){for(var s=-1,o=r.criteria,c=n.criteria,d=o.length,f=i.length;++s<d;){var p=t(o[s],c[s]);if(p){if(s>=f)return p;var h=i[s];return p*(h=="desc"?-1:1)}}return r.index-n.index}return Px=e,Px}var Cx,aE;function cZ(){if(aE)return Cx;aE=1;var t=Zj(),e=eS(),r=Za(),n=s3(),i=sZ(),s=KM(),o=lZ(),c=Fl(),d=an();function f(p,h,g){h.length?h=t(h,function(w){return d(w)?function(x){return e(x,w.length===1?w[0]:w)}:w}):h=[c];var v=-1;h=t(h,s(r));var b=n(p,function(w,x,S){var k=t(h,function(_){return _(w)});return{criteria:k,index:++v,value:w}});return i(b,function(w,x){return o(w,x,g)})}return Cx=f,Cx}var Ex,sE;function uZ(){if(sE)return Ex;sE=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Ex=t,Ex}var Ox,oE;function dZ(){if(oE)return Ox;oE=1;var t=uZ(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,c=-1,d=e(o.length-i,0),f=Array(d);++c<d;)f[c]=o[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=o[c];return p[i]=s(f),t(n,this,p)}}return Ox=r,Ox}var Ix,lE;function fZ(){if(lE)return Ix;lE=1;function t(e){return function(){return e}}return Ix=t,Ix}var Rx,cE;function o3(){if(cE)return Rx;cE=1;var t=Gs(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Rx=e,Rx}var $x,uE;function hZ(){if(uE)return $x;uE=1;var t=fZ(),e=o3(),r=Fl(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return $x=n,$x}var Mx,dE;function pZ(){if(dE)return Mx;dE=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var c=r(),d=e-(c-o);if(o=c,d>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Mx=n,Mx}var Dx,fE;function mZ(){if(fE)return Dx;fE=1;var t=hZ(),e=pZ(),r=e(t);return Dx=r,Dx}var zx,hE;function gZ(){if(hE)return zx;hE=1;var t=Fl(),e=dZ(),r=mZ();function n(i,s){return r(e(i,s,t),i+"")}return zx=n,zx}var Lx,pE;function rm(){if(pE)return Lx;pE=1;var t=Yj(),e=pd(),r=uS(),n=Qa();function i(s,o,c){if(!n(c))return!1;var d=typeof o;return(d=="number"?e(c)&&r(o,c.length):d=="string"&&o in c)?t(c[o],s):!1}return Lx=i,Lx}var Bx,mE;function vZ(){if(mE)return Bx;mE=1;var t=i3(),e=cZ(),r=gZ(),n=rm(),i=r(function(s,o){if(s==null)return[];var c=o.length;return c>1&&n(s,o[0],o[1])?o=[]:c>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return Bx=i,Bx}var yZ=vZ();const pS=vt(yZ);function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ww.apply(this,arguments)}function xZ(t,e){return SZ(t)||jZ(t,e)||wZ(t,e)||bZ()}function bZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wZ(t,e){if(t){if(typeof t=="string")return gE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gE(t,e)}}function gE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function SZ(t){if(Array.isArray(t))return t}function vE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(r),!0).forEach(function(n){_Z(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Z(t,e,r){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NZ(t){var e=kZ(t,"string");return Tu(e)=="symbol"?e:e+""}function kZ(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TZ(t){return Array.isArray(t)&&cr(t[0])&&cr(t[1])?t.join(" ~ "):t}var AZ=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,c=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,p=e.payload,h=e.formatter,g=e.itemSorter,v=e.wrapperClassName,b=e.labelClassName,w=e.label,x=e.labelFormatter,S=e.accessibilityLayer,k=S===void 0?!1:S,_=function(){if(p&&p.length){var M={padding:0,margin:0},$=(g?pS(p,g):p).map(function(V,Q){if(V.type==="none")return null;var K=Fx({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},c),Z=V.formatter||h||TZ,D=V.value,U=V.name,ee=D,B=U;if(Z&&ee!=null&&B!=null){var q=Z(D,U,V,Q,p);if(Array.isArray(q)){var Y=xZ(q,2);ee=Y[0],B=Y[1]}else ee=q}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:K},cr(B)?z.createElement("span",{className:"recharts-tooltip-item-name"},B):null,cr(B)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},ee),z.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:M},$)}return null},C=Fx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=Fx({margin:0},f),T=!et(w),E=T?w:"",O=nt("recharts-default-tooltip",v),R=nt("recharts-tooltip-label",b);T&&x&&p!==void 0&&p!==null&&(E=x(w,p));var H=k?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",Ww({className:O,style:C},H),z.createElement("p",{className:R,style:N},z.isValidElement(E)?E:"".concat(E)),_())};function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function Hf(t,e,r){return e=PZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PZ(t){var e=CZ(t,"string");return Au(e)=="symbol"?e:e+""}function CZ(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mc="recharts-tooltip-wrapper",EZ={visibility:"hidden"};function OZ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return nt(Mc,Hf(Hf(Hf(Hf({},"".concat(Mc,"-right"),je(r)&&e&&je(e.x)&&r>=e.x),"".concat(Mc,"-left"),je(r)&&e&&je(e.x)&&r<e.x),"".concat(Mc,"-bottom"),je(n)&&e&&je(e.y)&&n>=e.y),"".concat(Mc,"-top"),je(n)&&e&&je(e.y)&&n<e.y))}function yE(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(s&&je(s[n]))return s[n];var p=r[n]-c-i,h=r[n]+i;if(e[n])return o[n]?p:h;if(o[n]){var g=p,v=d[n];return g<v?Math.max(h,d[n]):Math.max(p,d[n])}var b=h+c,w=d[n]+f;return b>w?Math.max(p,d[n]):Math.max(h,d[n])}function IZ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function RZ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,f,p,h;return o.height>0&&o.width>0&&r?(p=yE({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),h=yE({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=IZ({translateX:p,translateY:h,useTranslate3d:c})):f=EZ,{cssProperties:f,cssClasses:OZ({translateX:p,translateY:h,coordinate:r})}}function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function xE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(r),!0).forEach(function(n){Gw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c3(n.key),n)}}function DZ(t,e,r){return e&&MZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zZ(t,e,r){return e=Mh(e),LZ(t,l3()?Reflect.construct(e,r||[],Mh(t).constructor):e.apply(t,r))}function LZ(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BZ(t)}function BZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l3=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mh(t)}function FZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hw(t,e)}function Gw(t,e,r){return e=c3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c3(t){var e=qZ(t,"string");return ul(e)=="symbol"?e:e+""}function qZ(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wE=1,UZ=(function(t){function e(){var r;$Z(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=zZ(this,e,[].concat(i)),Gw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Gw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return FZ(e,t),DZ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>wE||Math.abs(n.height-this.state.lastBoundingBox.height)>wE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.children,p=i.coordinate,h=i.hasPayload,g=i.isAnimationActive,v=i.offset,b=i.position,w=i.reverseDirection,x=i.useTranslate3d,S=i.viewBox,k=i.wrapperStyle,_=RZ({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:v,position:b,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:S}),C=_.cssClasses,N=_.cssProperties,T=bE(bE({transition:g&&s?"transform ".concat(c,"ms ").concat(d):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},k);return z.createElement("div",{tabIndex:-1,className:C,style:T,ref:function(O){n.wrapperNode=O}},f)}}])})(P.PureComponent),VZ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ks={isSsr:VZ()};function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function jE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(r),!0).forEach(function(n){mS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d3(n.key),n)}}function GZ(t,e,r){return e&&HZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KZ(t,e,r){return e=Dh(e),XZ(t,u3()?Reflect.construct(e,r||[],Dh(t).constructor):e.apply(t,r))}function XZ(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YZ(t)}function YZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u3=function(){return!!t})()}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dh(t)}function JZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kw(t,e)}function mS(t,e,r){return e=d3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d3(t){var e=QZ(t,"string");return dl(e)=="symbol"?e:e+""}function QZ(t,e){if(dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZZ(t){return t.dataKey}function eee(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(AZ,e)}var Zn=(function(t){function e(){return WZ(this,e),KZ(this,e,arguments)}return JZ(e,t),GZ(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.content,p=i.coordinate,h=i.filterNull,g=i.isAnimationActive,v=i.offset,b=i.payload,w=i.payloadUniqBy,x=i.position,S=i.reverseDirection,k=i.useTranslate3d,_=i.viewBox,C=i.wrapperStyle,N=b??[];h&&N.length&&(N=t3(b.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),w,ZZ));var T=N.length>0;return z.createElement(UZ,{allowEscapeViewBox:o,animationDuration:c,animationEasing:d,isAnimationActive:g,active:s,coordinate:p,hasPayload:T,offset:v,position:x,reverseDirection:S,useTranslate3d:k,viewBox:_,wrapperStyle:C},eee(f,SE(SE({},this.props),{},{payload:N})))}}])})(P.PureComponent);mS(Zn,"displayName","Tooltip");mS(Zn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ks.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qx,_E;function tee(){if(_E)return qx;_E=1;var t=Ti(),e=function(){return t.Date.now()};return qx=e,qx}var Ux,NE;function ree(){if(NE)return Ux;NE=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Ux=e,Ux}var Vx,kE;function nee(){if(kE)return Vx;kE=1;var t=ree(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Vx=r,Vx}var Wx,TE;function f3(){if(TE)return Wx;TE=1;var t=nee(),e=Qa(),r=Dl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var h=s.test(f);return h||o.test(f)?c(f.slice(2),h?2:8):i.test(f)?n:+f}return Wx=d,Wx}var Hx,AE;function iee(){if(AE)return Hx;AE=1;var t=Qa(),e=tee(),r=f3(),n="Expected a function",i=Math.max,s=Math.min;function o(c,d,f){var p,h,g,v,b,w,x=0,S=!1,k=!1,_=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(S=!!f.leading,k="maxWait"in f,g=k?i(r(f.maxWait)||0,d):g,_="trailing"in f?!!f.trailing:_);function C($){var V=p,Q=h;return p=h=void 0,x=$,v=c.apply(Q,V),v}function N($){return x=$,b=setTimeout(O,d),S?C($):v}function T($){var V=$-w,Q=$-x,K=d-V;return k?s(K,g-Q):K}function E($){var V=$-w,Q=$-x;return w===void 0||V>=d||V<0||k&&Q>=g}function O(){var $=e();if(E($))return R($);b=setTimeout(O,T($))}function R($){return b=void 0,_&&p?C($):(p=h=void 0,v)}function H(){b!==void 0&&clearTimeout(b),x=0,p=w=h=b=void 0}function L(){return b===void 0?v:R(e())}function M(){var $=e(),V=E($);if(p=arguments,h=this,w=$,V){if(b===void 0)return N(w);if(k)return clearTimeout(b),b=setTimeout(O,d),C(w)}return b===void 0&&(b=setTimeout(O,d)),v}return M.cancel=H,M.flush=L,M}return Hx=o,Hx}var Gx,PE;function aee(){if(PE)return Gx;PE=1;var t=iee(),e=Qa(),r="Expected a function";function n(i,s,o){var c=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(c="leading"in o?!!o.leading:c,d="trailing"in o?!!o.trailing:d),t(i,s,{leading:c,maxWait:s,trailing:d})}return Gx=n,Gx}var see=aee();const h3=vt(see);function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function CE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(r),!0).forEach(function(n){oee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oee(t,e,r){return e=lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lee(t){var e=cee(t,"string");return Pu(e)=="symbol"?e:e+""}function cee(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uee(t,e){return pee(t)||hee(t,e)||fee(t,e)||dee()}function dee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fee(t,e){if(t){if(typeof t=="string")return EE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EE(t,e)}}function EE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function pee(t){if(Array.isArray(t))return t}var p3=P.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,c=t.height,d=c===void 0?"100%":c,f=t.minWidth,p=f===void 0?0:f,h=t.minHeight,g=t.maxHeight,v=t.children,b=t.debounce,w=b===void 0?0:b,x=t.id,S=t.className,k=t.onResize,_=t.style,C=_===void 0?{}:_,N=P.useRef(null),T=P.useRef();T.current=k,P.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var E=P.useState({containerWidth:i.width,containerHeight:i.height}),O=uee(E,2),R=O[0],H=O[1],L=P.useCallback(function($,V){H(function(Q){var K=Math.round($),Z=Math.round(V);return Q.containerWidth===K&&Q.containerHeight===Z?Q:{containerWidth:K,containerHeight:Z}})},[]);P.useEffect(function(){var $=function(U){var ee,B=U[0].contentRect,q=B.width,Y=B.height;L(q,Y),(ee=T.current)===null||ee===void 0||ee.call(T,q,Y)};w>0&&($=h3($,w,{trailing:!0,leading:!1}));var V=new ResizeObserver($),Q=N.current.getBoundingClientRect(),K=Q.width,Z=Q.height;return L(K,Z),V.observe(N.current),function(){V.disconnect()}},[L,w]);var M=P.useMemo(function(){var $=R.containerWidth,V=R.containerHeight;if($<0||V<0)return null;Xi(Es(o)||Es(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),Xi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Q=Es(o)?$:o,K=Es(d)?V:d;r&&r>0&&(Q?K=Q/r:K&&(Q=K*r),g&&K>g&&(K=g)),Xi(Q>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,K,o,d,p,h,r);var Z=!Array.isArray(v)&&Ki(v.type).endsWith("Chart");return z.Children.map(v,function(D){return z.isValidElement(D)?P.cloneElement(D,Gf({width:Q,height:K},Z?{style:Gf({height:"100%",width:"100%",maxHeight:K,maxWidth:Q},D.props.style)}:{})):D})},[r,v,d,g,h,p,R,o]);return z.createElement("div",{id:x?"".concat(x):void 0,className:nt("recharts-responsive-container",S),style:Gf(Gf({},C),{},{width:o,height:d,minWidth:p,minHeight:h,maxHeight:g}),ref:N},M)}),m3=function(e){return null};m3.displayName="Cell";function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function OE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(r),!0).forEach(function(n){mee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mee(t,e,r){return e=gee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gee(t){var e=vee(t,"string");return Cu(e)=="symbol"?e:e+""}function vee(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Co={widthCache:{},cacheCount:0},yee=2e3,xee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IE="recharts_measurement_span";function bee(t){var e=Xw({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var au=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ks.isSsr)return{width:0,height:0};var n=bee(r),i=JSON.stringify({text:e,copyStyle:n});if(Co.widthCache[i])return Co.widthCache[i];try{var s=document.getElementById(IE);s||(s=document.createElement("span"),s.setAttribute("id",IE),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Xw(Xw({},xee),n);Object.assign(s.style,o),s.textContent="".concat(e);var c=s.getBoundingClientRect(),d={width:c.width,height:c.height};return Co.widthCache[i]=d,++Co.cacheCount>yee&&(Co.cacheCount=0,Co.widthCache={}),d}catch{return{width:0,height:0}}},wee=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function zh(t,e){return Nee(t)||_ee(t,e)||See(t,e)||jee()}function jee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function See(t,e){if(t){if(typeof t=="string")return RE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RE(t,e)}}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _ee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function Nee(t){if(Array.isArray(t))return t}function kee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Aee(n.key),n)}}function Tee(t,e,r){return e&&$E(t.prototype,e),r&&$E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aee(t){var e=Pee(t,"string");return Eu(e)=="symbol"?e:e+""}function Pee(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ME=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Eee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,g3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Oee=Object.keys(g3),Ho="NaN";function Iee(t,e){return t*g3[e]}var Kf=(function(){function t(e,r){kee(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Cee.test(r)&&(this.num=NaN,this.unit=""),Oee.includes(r)&&(this.num=Iee(e,r),this.unit="px")}return Tee(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Eee.exec(r))!==null&&n!==void 0?n:[],s=zh(i,3),o=s[1],c=s[2];return new t(parseFloat(o),c??"")}}])})();function v3(t){if(t.includes(Ho))return Ho;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=ME.exec(e))!==null&&r!==void 0?r:[],i=zh(n,4),s=i[1],o=i[2],c=i[3],d=Kf.parse(s??""),f=Kf.parse(c??""),p=o==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return Ho;e=e.replace(ME,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,g=(h=DE.exec(e))!==null&&h!==void 0?h:[],v=zh(g,4),b=v[1],w=v[2],x=v[3],S=Kf.parse(b??""),k=Kf.parse(x??""),_=w==="+"?S.add(k):S.subtract(k);if(_.isNaN())return Ho;e=e.replace(DE,_.toString())}return e}var zE=/\(([^()]*)\)/;function Ree(t){for(var e=t;e.includes("(");){var r=zE.exec(e),n=zh(r,2),i=n[1];e=e.replace(zE,v3(i))}return e}function $ee(t){var e=t.replace(/\s+/g,"");return e=Ree(e),e=v3(e),e}function Mee(t){try{return $ee(t)}catch{return Ho}}function Kx(t){var e=Mee(t.slice(5,-1));return e===Ho?"":e}var Dee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zee=["dx","dy","angle","className","breakAll"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yw.apply(this,arguments)}function LE(t,e){if(t==null)return{};var r=Lee(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BE(t,e){return Uee(t)||qee(t,e)||Fee(t,e)||Bee()}function Bee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fee(t,e){if(t){if(typeof t=="string")return FE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FE(t,e)}}function FE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function Uee(t){if(Array.isArray(t))return t}var y3=/[ \f\n\r\t\v\u2028\u2029]+/,x3=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];et(r)||(n?s=r.toString().split(""):s=r.toString().split(y3));var o=s.map(function(d){return{word:d,width:au(d,i).width}}),c=n?0:au("",i).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},Vee=function(e,r,n,i,s){var o=e.maxLines,c=e.children,d=e.style,f=e.breakAll,p=je(o),h=c,g=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(K,Z){var D=Z.word,U=Z.width,ee=K[K.length-1];if(ee&&(i==null||s||ee.width+U+n<Number(i)))ee.words.push(D),ee.width+=U+n;else{var B={words:[D],width:U};K.push(B)}return K},[])},v=g(r),b=function(Q){return Q.reduce(function(K,Z){return K.width>Z.width?K:Z})};if(!p)return v;for(var w="",x=function(Q){var K=h.slice(0,Q),Z=x3({breakAll:f,style:d,children:K+w}).wordsWithComputedWidth,D=g(Z),U=D.length>o||b(D).width>Number(i);return[U,D]},S=0,k=h.length-1,_=0,C;S<=k&&_<=h.length-1;){var N=Math.floor((S+k)/2),T=N-1,E=x(T),O=BE(E,2),R=O[0],H=O[1],L=x(N),M=BE(L,1),$=M[0];if(!R&&!$&&(S=N+1),R&&$&&(k=N-1),!R&&$){C=H;break}_++}return C||v},qE=function(e){var r=et(e)?[]:e.toString().split(y3);return[{words:r}]},Wee=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,c=e.maxLines;if((r||n)&&!Ks.isSsr){var d,f,p=x3({breakAll:o,children:i,style:s});if(p){var h=p.wordsWithComputedWidth,g=p.spaceWidth;d=h,f=g}else return qE(i);return Vee({breakAll:o,children:i,maxLines:c,style:s},d,f,r,n)}return qE(i)},UE="#808080",Lh=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,c=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,p=e.scaleToFit,h=p===void 0?!1:p,g=e.textAnchor,v=g===void 0?"start":g,b=e.verticalAnchor,w=b===void 0?"end":b,x=e.fill,S=x===void 0?UE:x,k=LE(e,Dee),_=P.useMemo(function(){return Wee({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:h,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,h,k.style,k.width]),C=k.dx,N=k.dy,T=k.angle,E=k.className,O=k.breakAll,R=LE(k,zee);if(!cr(n)||!cr(s))return null;var H=n+(je(C)?C:0),L=s+(je(N)?N:0),M;switch(w){case"start":M=Kx("calc(".concat(f,")"));break;case"middle":M=Kx("calc(".concat((_.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:M=Kx("calc(".concat(_.length-1," * -").concat(c,")"));break}var $=[];if(h){var V=_[0].width,Q=k.width;$.push("scale(".concat((je(Q)?Q/V:1)/V,")"))}return T&&$.push("rotate(".concat(T,", ").concat(H,", ").concat(L,")")),$.length&&(R.transform=$.join(" ")),z.createElement("text",Yw({},Ye(R,!0),{x:H,y:L,className:nt("recharts-text",E),textAnchor:v,fill:S.includes("url")?UE:S}),_.map(function(K,Z){var D=K.words.join(O?"":" ");return z.createElement("tspan",{x:H,dy:Z===0?M:c,key:"".concat(D,"-").concat(Z)},D)}))};function Wa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gS(t){let e,r,n;t.length!==2?(e=Wa,r=(c,d)=>Wa(t(c),d),n=(c,d)=>t(c)-d):(e=t===Wa||t===Hee?t:Gee,r=t,n=t);function i(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const h=f+p>>>1;r(c[h],d)<0?f=h+1:p=h}while(f<p)}return f}function s(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const h=f+p>>>1;r(c[h],d)<=0?f=h+1:p=h}while(f<p)}return f}function o(c,d,f=0,p=c.length){const h=i(c,d,f,p-1);return h>f&&n(c[h-1],d)>-n(c[h],d)?h-1:h}return{left:i,center:o,right:s}}function Gee(){return 0}function b3(t){return t===null?NaN:+t}function*Kee(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Xee=gS(Wa),md=Xee.right;gS(b3).center;class VE extends Map{constructor(e,r=Qee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(WE(this,e))}has(e){return super.has(WE(this,e))}set(e,r){return super.set(Yee(this,e),r)}delete(e){return super.delete(Jee(this,e))}}function WE({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Yee({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Jee({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Qee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Zee(t=Wa){if(t===Wa)return w3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function w3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ete=Math.sqrt(50),tte=Math.sqrt(10),rte=Math.sqrt(2);function Bh(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=ete?10:s>=tte?5:s>=rte?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*o,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=r&&r<2?Bh(t,e,r*2):[c,d,f]}function Jw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?Bh(e,t,r):Bh(t,e,r);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(n)if(o<0)for(let f=0;f<c;++f)d[f]=(s-f)/-o;else for(let f=0;f<c;++f)d[f]=(s-f)*o;else if(o<0)for(let f=0;f<c;++f)d[f]=(i+f)/-o;else for(let f=0;f<c;++f)d[f]=(i+f)*o;return d}function Qw(t,e,r){return e=+e,t=+t,r=+r,Bh(t,e,r)[2]}function Zw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Qw(e,t,r):Qw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function HE(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function GE(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function j3(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?w3:Zee(i);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,p=Math.log(d),h=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*h*(d-h)/d)*(f-d/2<0?-1:1),v=Math.max(r,Math.floor(e-f*h/d+g)),b=Math.min(n,Math.floor(e+(d-f)*h/d+g));j3(t,e,v,b,i)}const s=t[e];let o=r,c=n;for(Dc(t,r,e),i(t[n],s)>0&&Dc(t,r,n);o<c;){for(Dc(t,o,c),++o,--c;i(t[o],s)<0;)++o;for(;i(t[c],s)>0;)--c}i(t[r],s)===0?Dc(t,r,c):(++c,Dc(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function Dc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function nte(t,e,r){if(t=Float64Array.from(Kee(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return GE(t);if(e>=1)return HE(t);var n,i=(n-1)*e,s=Math.floor(i),o=HE(j3(t,s).subarray(0,s+1)),c=GE(t.subarray(s+1));return o+(c-o)*(i-s)}}function ite(t,e,r=b3){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),c=+r(t[s+1],s+1,t);return o+(c-o)*(i-s)}}function ate(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Ln(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ua(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const e1=Symbol("implicit");function vS(){var t=new VE,e=[],r=[],n=e1;function i(s){let o=t.get(s);if(o===void 0){if(n!==e1)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new VE;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return vS(e,r).unknown(n)},Ln.apply(i,arguments),i}function Ou(){var t=vS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,c=!1,d=0,f=0,p=.5;delete t.unknown;function h(){var g=e().length,v=i<n,b=v?i:n,w=v?n:i;s=(w-b)/Math.max(1,g-d+f*2),c&&(s=Math.floor(s)),b+=(w-b-s*(g-d))*p,o=s*(1-d),c&&(b=Math.round(b),o=Math.round(o));var x=ate(g).map(function(S){return b+s*S});return r(v?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),h()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,c=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(g){return arguments.length?(c=!!g,h()):c},t.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),h()):d},t.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),h()):d},t.paddingOuter=function(g){return arguments.length?(f=+g,h()):f},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),h()):p},t.copy=function(){return Ou(e(),[n,i]).round(c).paddingInner(d).paddingOuter(f).align(p)},Ln.apply(h(),arguments)}function S3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return S3(e())},t}function su(){return S3(Ou.apply(null,arguments).paddingInner(1))}function yS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function _3(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function gd(){}var Iu=.7,Fh=1/Iu,el="\\s*([+-]?\\d+)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ste=/^#([0-9a-f]{3,8})$/,ote=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),lte=new RegExp(`^rgb\\(${wi},${wi},${wi}\\)$`),cte=new RegExp(`^rgba\\(${el},${el},${el},${Ru}\\)$`),ute=new RegExp(`^rgba\\(${wi},${wi},${wi},${Ru}\\)$`),dte=new RegExp(`^hsl\\(${Ru},${wi},${wi}\\)$`),fte=new RegExp(`^hsla\\(${Ru},${wi},${wi},${Ru}\\)$`),KE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yS(gd,$u,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XE,formatHex:XE,formatHex8:hte,formatHsl:pte,formatRgb:YE,toString:YE});function XE(){return this.rgb().formatHex()}function hte(){return this.rgb().formatHex8()}function pte(){return N3(this).formatHsl()}function YE(){return this.rgb().formatRgb()}function $u(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=ste.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?JE(e):r===3?new rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Xf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Xf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ote.exec(t))?new rn(e[1],e[2],e[3],1):(e=lte.exec(t))?new rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cte.exec(t))?Xf(e[1],e[2],e[3],e[4]):(e=ute.exec(t))?Xf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dte.exec(t))?eO(e[1],e[2]/100,e[3]/100,1):(e=fte.exec(t))?eO(e[1],e[2]/100,e[3]/100,e[4]):KE.hasOwnProperty(t)?JE(KE[t]):t==="transparent"?new rn(NaN,NaN,NaN,0):null}function JE(t){return new rn(t>>16&255,t>>8&255,t&255,1)}function Xf(t,e,r,n){return n<=0&&(t=e=r=NaN),new rn(t,e,r,n)}function mte(t){return t instanceof gd||(t=$u(t)),t?(t=t.rgb(),new rn(t.r,t.g,t.b,t.opacity)):new rn}function t1(t,e,r,n){return arguments.length===1?mte(t):new rn(t,e,r,n??1)}function rn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}yS(rn,t1,_3(gd,{brighter(t){return t=t==null?Fh:Math.pow(Fh,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Iu:Math.pow(Iu,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rn(zs(this.r),zs(this.g),zs(this.b),qh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QE,formatHex:QE,formatHex8:gte,formatRgb:ZE,toString:ZE}));function QE(){return`#${Os(this.r)}${Os(this.g)}${Os(this.b)}`}function gte(){return`#${Os(this.r)}${Os(this.g)}${Os(this.b)}${Os((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZE(){const t=qh(this.opacity);return`${t===1?"rgb(":"rgba("}${zs(this.r)}, ${zs(this.g)}, ${zs(this.b)}${t===1?")":`, ${t})`}`}function qh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Os(t){return t=zs(t),(t<16?"0":"")+t.toString(16)}function eO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ri(t,e,r,n)}function N3(t){if(t instanceof ri)return new ri(t.h,t.s,t.l,t.opacity);if(t instanceof gd||(t=$u(t)),!t)return new ri;if(t instanceof ri)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,c=s-i,d=(s+i)/2;return c?(e===s?o=(r-n)/c+(r<n)*6:r===s?o=(n-e)/c+2:o=(e-r)/c+4,c/=d<.5?s+i:2-s-i,o*=60):c=d>0&&d<1?0:o,new ri(o,c,d,t.opacity)}function vte(t,e,r,n){return arguments.length===1?N3(t):new ri(t,e,r,n??1)}function ri(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}yS(ri,vte,_3(gd,{brighter(t){return t=t==null?Fh:Math.pow(Fh,t),new ri(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Iu:Math.pow(Iu,t),new ri(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new rn(Xx(t>=240?t-240:t+120,i,n),Xx(t,i,n),Xx(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ri(tO(this.h),Yf(this.s),Yf(this.l),qh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qh(this.opacity);return`${t===1?"hsl(":"hsla("}${tO(this.h)}, ${Yf(this.s)*100}%, ${Yf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tO(t){return t=(t||0)%360,t<0?t+360:t}function Yf(t){return Math.max(0,Math.min(1,t||0))}function Xx(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const xS=t=>()=>t;function yte(t,e){return function(r){return t+r*e}}function xte(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function bte(t){return(t=+t)==1?k3:function(e,r){return r-e?xte(e,r,t):xS(isNaN(e)?r:e)}}function k3(t,e){var r=e-t;return r?yte(t,r):xS(isNaN(t)?e:t)}const rO=(function t(e){var r=bte(e);function n(i,s){var o=r((i=t1(i)).r,(s=t1(s)).r),c=r(i.g,s.g),d=r(i.b,s.b),f=k3(i.opacity,s.opacity);return function(p){return i.r=o(p),i.g=c(p),i.b=d(p),i.opacity=f(p),i+""}}return n.gamma=t,n})(1);function wte(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function jte(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ste(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=ql(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(c){for(o=0;o<n;++o)s[o]=i[o](c);return s}}function _te(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Uh(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Nte(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ql(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var r1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yx=new RegExp(r1.source,"g");function kte(t){return function(){return t}}function Tte(t){return function(e){return t(e)+""}}function Ate(t,e){var r=r1.lastIndex=Yx.lastIndex=0,n,i,s,o=-1,c=[],d=[];for(t=t+"",e=e+"";(n=r1.exec(t))&&(i=Yx.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),c[o]?c[o]+=s:c[++o]=s),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:Uh(n,i)})),r=Yx.lastIndex;return r<e.length&&(s=e.slice(r),c[o]?c[o]+=s:c[++o]=s),c.length<2?d[0]?Tte(d[0].x):kte(e):(e=d.length,function(f){for(var p=0,h;p<e;++p)c[(h=d[p]).i]=h.x(f);return c.join("")})}function ql(t,e){var r=typeof e,n;return e==null||r==="boolean"?xS(e):(r==="number"?Uh:r==="string"?(n=$u(e))?(e=n,rO):Ate:e instanceof $u?rO:e instanceof Date?_te:jte(e)?wte:Array.isArray(e)?Ste:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nte:Uh)(t,e)}function bS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Pte(t,e){e===void 0&&(e=t,t=ql);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[c](o-c)}}function Cte(t){return function(){return t}}function Vh(t){return+t}var nO=[0,1];function Hr(t){return t}function n1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Cte(isNaN(e)?NaN:.5)}function Ete(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Ote(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=n1(i,n),s=r(o,s)):(n=n1(n,i),s=r(s,o)),function(c){return s(n(c))}}function Ite(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=n1(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(c){var d=md(t,c,1,n)-1;return s[d](i[d](c))}}function vd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nm(){var t=nO,e=nO,r=ql,n,i,s,o=Hr,c,d,f;function p(){var g=Math.min(t.length,e.length);return o!==Hr&&(o=Ete(t[0],t[g-1])),c=g>2?Ite:Ote,d=f=null,h}function h(g){return g==null||isNaN(g=+g)?s:(d||(d=c(t.map(n),e,r)))(n(o(g)))}return h.invert=function(g){return o(i((f||(f=c(e,t.map(n),Uh)))(g)))},h.domain=function(g){return arguments.length?(t=Array.from(g,Vh),p()):t.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),r=bS,p()},h.clamp=function(g){return arguments.length?(o=g?!0:Hr,p()):o!==Hr},h.interpolate=function(g){return arguments.length?(r=g,p()):r},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return n=g,i=v,p()}}function wS(){return nm()(Hr,Hr)}function Rte(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wh(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function fl(t){return t=Wh(Math.abs(t)),t?t[1]:NaN}function $te(t,e){return function(r,n){for(var i=r.length,s=[],o=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),s.push(r.substring(i-=c,i+c)),!((d+=c+1)>n));)c=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Mte(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Dte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mu(t){if(!(e=Dte.exec(t)))throw new Error("invalid format: "+t);var e;return new jS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mu.prototype=jS.prototype;function jS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zte(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var T3;function Lte(t,e){var r=Wh(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(T3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Wh(t,Math.max(0,e+s-1))[0]}function iO(t,e){var r=Wh(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const aO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Rte,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iO(t*100,e),r:iO,s:Lte,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sO(t){return t}var oO=Array.prototype.map,lO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bte(t){var e=t.grouping===void 0||t.thousands===void 0?sO:$te(oO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?sO:Mte(oO.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(h){h=Mu(h);var g=h.fill,v=h.align,b=h.sign,w=h.symbol,x=h.zero,S=h.width,k=h.comma,_=h.precision,C=h.trim,N=h.type;N==="n"?(k=!0,N="g"):aO[N]||(_===void 0&&(_=12),C=!0,N="g"),(x||g==="0"&&v==="=")&&(x=!0,g="0",v="=");var T=w==="$"?r:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",E=w==="$"?n:/[%p]/.test(N)?o:"",O=aO[N],R=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function H(L){var M=T,$=E,V,Q,K;if(N==="c")$=O(L)+$,L="";else{L=+L;var Z=L<0||1/L<0;if(L=isNaN(L)?d:O(Math.abs(L),_),C&&(L=zte(L)),Z&&+L==0&&b!=="+"&&(Z=!1),M=(Z?b==="("?b:c:b==="-"||b==="("?"":b)+M,$=(N==="s"?lO[8+T3/3]:"")+$+(Z&&b==="("?")":""),R){for(V=-1,Q=L.length;++V<Q;)if(K=L.charCodeAt(V),48>K||K>57){$=(K===46?i+L.slice(V+1):L.slice(V))+$,L=L.slice(0,V);break}}}k&&!x&&(L=e(L,1/0));var D=M.length+L.length+$.length,U=D<S?new Array(S-D+1).join(g):"";switch(k&&x&&(L=e(U+L,U.length?S-$.length:1/0),U=""),v){case"<":L=M+L+$+U;break;case"=":L=M+U+L+$;break;case"^":L=U.slice(0,D=U.length>>1)+M+L+$+U.slice(D);break;default:L=U+M+L+$;break}return s(L)}return H.toString=function(){return h+""},H}function p(h,g){var v=f((h=Mu(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(fl(g)/3)))*3,w=Math.pow(10,-b),x=lO[8+b/3];return function(S){return v(w*S)+x}}return{format:f,formatPrefix:p}}var Jf,SS,A3;Fte({thousands:",",grouping:[3],currency:["$",""]});function Fte(t){return Jf=Bte(t),SS=Jf.format,A3=Jf.formatPrefix,Jf}function qte(t){return Math.max(0,-fl(Math.abs(t)))}function Ute(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fl(e)/3)))*3-fl(Math.abs(t)))}function Vte(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fl(e)-fl(t))+1}function P3(t,e,r,n){var i=Zw(t,e,r),s;switch(n=Mu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Ute(i,o))&&(n.precision=s),A3(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Vte(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=qte(i))&&(n.precision=s-(n.type==="%")*2);break}}return SS(n)}function es(t){var e=t.domain;return t.ticks=function(r){var n=e();return Jw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return P3(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],c=n[s],d,f,p=10;for(c<o&&(f=o,o=c,c=f,f=i,i=s,s=f);p-- >0;){if(f=Qw(o,c,r),f===d)return n[i]=o,n[s]=c,e(n);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function Hh(){var t=wS();return t.copy=function(){return vd(t,Hh())},Ln.apply(t,arguments),es(t)}function C3(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Vh),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return C3(t).unknown(e)},t=arguments.length?Array.from(t,Vh):[0,1],es(r)}function E3(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function cO(t){return Math.log(t)}function uO(t){return Math.exp(t)}function Wte(t){return-Math.log(-t)}function Hte(t){return-Math.exp(-t)}function Gte(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kte(t){return t===10?Gte:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Xte(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function dO(t){return(e,r)=>-t(-e,r)}function _S(t){const e=t(cO,uO),r=e.domain;let n=10,i,s;function o(){return i=Xte(n),s=Kte(n),r()[0]<0?(i=dO(i),s=dO(s),t(Wte,Hte)):t(cO,uO),e}return e.base=function(c){return arguments.length?(n=+c,o()):n},e.domain=function(c){return arguments.length?(r(c),o()):r()},e.ticks=c=>{const d=r();let f=d[0],p=d[d.length-1];const h=p<f;h&&([f,p]=[p,f]);let g=i(f),v=i(p),b,w;const x=c==null?10:+c;let S=[];if(!(n%1)&&v-g<x){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(b=1;b<n;++b)if(w=g<0?b/s(-g):b*s(g),!(w<f)){if(w>p)break;S.push(w)}}else for(;g<=v;++g)for(b=n-1;b>=1;--b)if(w=g>0?b/s(-g):b*s(g),!(w<f)){if(w>p)break;S.push(w)}S.length*2<x&&(S=Jw(f,p,x))}else S=Jw(g,v,Math.min(v-g,x)).map(s);return h?S.reverse():S},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Mu(d)).precision==null&&(d.trim=!0),d=SS(d)),c===1/0)return d;const f=Math.max(1,n*c/e.ticks().length);return p=>{let h=p/s(Math.round(i(p)));return h*n<n-.5&&(h*=n),h<=f?d(p):""}},e.nice=()=>r(E3(r(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function O3(){const t=_S(nm()).domain([1,10]);return t.copy=()=>vd(t,O3()).base(t.base()),Ln.apply(t,arguments),t}function fO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function hO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NS(t){var e=1,r=t(fO(e),hO(e));return r.constant=function(n){return arguments.length?t(fO(e=+n),hO(e)):e},es(r)}function I3(){var t=NS(nm());return t.copy=function(){return vd(t,I3()).constant(t.constant())},Ln.apply(t,arguments)}function pO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Yte(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Jte(t){return t<0?-t*t:t*t}function kS(t){var e=t(Hr,Hr),r=1;function n(){return r===1?t(Hr,Hr):r===.5?t(Yte,Jte):t(pO(r),pO(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},es(e)}function TS(){var t=kS(nm());return t.copy=function(){return vd(t,TS()).exponent(t.exponent())},Ln.apply(t,arguments),t}function Qte(){return TS.apply(null,arguments).exponent(.5)}function mO(t){return Math.sign(t)*t*t}function Zte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function R3(){var t=wS(),e=[0,1],r=!1,n;function i(s){var o=Zte(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(mO(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Vh)).map(mO)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return R3(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ln.apply(i,arguments),es(i)}function $3(){var t=[],e=[],r=[],n;function i(){var o=0,c=Math.max(1,e.length);for(r=new Array(c-1);++o<c;)r[o-1]=ite(t,o/c);return s}function s(o){return o==null||isNaN(o=+o)?n:e[md(r,o)]}return s.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Wa),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return $3().domain(t).range(e).unknown(n)},Ln.apply(s,arguments)}function M3(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(d){return d!=null&&d<=d?i[md(n,d,0,r)]:s}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,c()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(s=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return M3().domain([t,e]).range(i).unknown(s)},Ln.apply(es(o),arguments)}function D3(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[md(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return D3().domain(t).range(e).unknown(r)},Ln.apply(i,arguments)}const Jx=new Date,Qx=new Date;function ur(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),c=i.ceil(s);return s-o<c-s?o:c},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return d;let f;do d.push(f=new Date(+s)),e(s,c),t(s);while(f<s&&s<o);return d},i.filter=s=>ur(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!s(o););else for(;--c>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(Jx.setTime(+s),Qx.setTime(+o),t(Jx),t(Qx),Math.floor(r(Jx,Qx))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Gh=ur(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ur(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Gh);Gh.range;const Ui=1e3,Rn=Ui*60,Vi=Rn*60,na=Vi*24,AS=na*7,gO=na*30,Zx=na*365,Is=ur(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getUTCSeconds());Is.range;const PS=ur(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ui)},(t,e)=>{t.setTime(+t+e*Rn)},(t,e)=>(e-t)/Rn,t=>t.getMinutes());PS.range;const CS=ur(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Rn)},(t,e)=>(e-t)/Rn,t=>t.getUTCMinutes());CS.range;const ES=ur(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ui-t.getMinutes()*Rn)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getHours());ES.range;const OS=ur(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getUTCHours());OS.range;const yd=ur(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Rn)/na,t=>t.getDate()-1);yd.range;const im=ur(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/na,t=>t.getUTCDate()-1);im.range;const z3=ur(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/na,t=>Math.floor(t/na));z3.range;function Xs(t){return ur(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Rn)/AS)}const am=Xs(0),Kh=Xs(1),ere=Xs(2),tre=Xs(3),hl=Xs(4),rre=Xs(5),nre=Xs(6);am.range;Kh.range;ere.range;tre.range;hl.range;rre.range;nre.range;function Ys(t){return ur(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/AS)}const sm=Ys(0),Xh=Ys(1),ire=Ys(2),are=Ys(3),pl=Ys(4),sre=Ys(5),ore=Ys(6);sm.range;Xh.range;ire.range;are.range;pl.range;sre.range;ore.range;const IS=ur(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IS.range;const RS=ur(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RS.range;const ia=ur(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ur(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ia.range;const aa=ur(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());aa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ur(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});aa.range;function L3(t,e,r,n,i,s){const o=[[Is,1,Ui],[Is,5,5*Ui],[Is,15,15*Ui],[Is,30,30*Ui],[s,1,Rn],[s,5,5*Rn],[s,15,15*Rn],[s,30,30*Rn],[i,1,Vi],[i,3,3*Vi],[i,6,6*Vi],[i,12,12*Vi],[n,1,na],[n,2,2*na],[r,1,AS],[e,1,gO],[e,3,3*gO],[t,1,Zx]];function c(f,p,h){const g=p<f;g&&([f,p]=[p,f]);const v=h&&typeof h.range=="function"?h:d(f,p,h),b=v?v.range(f,+p+1):[];return g?b.reverse():b}function d(f,p,h){const g=Math.abs(p-f)/h,v=gS(([,,x])=>x).right(o,g);if(v===o.length)return t.every(Zw(f/Zx,p/Zx,h));if(v===0)return Gh.every(Math.max(Zw(f,p,h),1));const[b,w]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return b.every(w)}return[c,d]}const[lre,cre]=L3(aa,RS,sm,z3,OS,CS),[ure,dre]=L3(ia,IS,am,yd,ES,PS);function eb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function fre(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,c=t.months,d=t.shortMonths,f=Lc(i),p=Bc(i),h=Lc(s),g=Bc(s),v=Lc(o),b=Bc(o),w=Lc(c),x=Bc(c),S=Lc(d),k=Bc(d),_={a:Z,A:D,b:U,B:ee,c:null,d:jO,e:jO,f:$re,g:Wre,G:Gre,H:Ore,I:Ire,j:Rre,L:B3,m:Mre,M:Dre,p:B,q,Q:NO,s:kO,S:zre,u:Lre,U:Bre,V:Fre,w:qre,W:Ure,x:null,X:null,y:Vre,Y:Hre,Z:Kre,"%":_O},C={a:Y,A:se,b:fe,B:te,c:null,d:SO,e:SO,f:Qre,g:lne,G:une,H:Xre,I:Yre,j:Jre,L:q3,m:Zre,M:ene,p:he,q:le,Q:NO,s:kO,S:tne,u:rne,U:nne,V:ine,w:ane,W:sne,x:null,X:null,y:one,Y:cne,Z:dne,"%":_O},N={a:H,A:L,b:M,B:$,c:V,d:bO,e:bO,f:Are,g:xO,G:yO,H:wO,I:wO,j:_re,L:Tre,m:Sre,M:Nre,p:R,q:jre,Q:Cre,s:Ere,S:kre,u:vre,U:yre,V:xre,w:gre,W:bre,x:Q,X:K,y:xO,Y:yO,Z:wre,"%":Pre};_.x=T(r,_),_.X=T(n,_),_.c=T(e,_),C.x=T(r,C),C.X=T(n,C),C.c=T(e,C);function T(ie,pe){return function(_e){var ue=[],Ve=-1,J=0,we=ie.length,xe,Me,Le;for(_e instanceof Date||(_e=new Date(+_e));++Ve<we;)ie.charCodeAt(Ve)===37&&(ue.push(ie.slice(J,Ve)),(Me=vO[xe=ie.charAt(++Ve)])!=null?xe=ie.charAt(++Ve):Me=xe==="e"?" ":"0",(Le=pe[xe])&&(xe=Le(_e,Me)),ue.push(xe),J=Ve+1);return ue.push(ie.slice(J,Ve)),ue.join("")}}function E(ie,pe){return function(_e){var ue=zc(1900,void 0,1),Ve=O(ue,ie,_e+="",0),J,we;if(Ve!=_e.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(pe&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(J=tb(zc(ue.y,0,1)),we=J.getUTCDay(),J=we>4||we===0?Xh.ceil(J):Xh(J),J=im.offset(J,(ue.V-1)*7),ue.y=J.getUTCFullYear(),ue.m=J.getUTCMonth(),ue.d=J.getUTCDate()+(ue.w+6)%7):(J=eb(zc(ue.y,0,1)),we=J.getDay(),J=we>4||we===0?Kh.ceil(J):Kh(J),J=yd.offset(J,(ue.V-1)*7),ue.y=J.getFullYear(),ue.m=J.getMonth(),ue.d=J.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),we="Z"in ue?tb(zc(ue.y,0,1)).getUTCDay():eb(zc(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(we+5)%7:ue.w+ue.U*7-(we+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,tb(ue)):eb(ue)}}function O(ie,pe,_e,ue){for(var Ve=0,J=pe.length,we=_e.length,xe,Me;Ve<J;){if(ue>=we)return-1;if(xe=pe.charCodeAt(Ve++),xe===37){if(xe=pe.charAt(Ve++),Me=N[xe in vO?pe.charAt(Ve++):xe],!Me||(ue=Me(ie,_e,ue))<0)return-1}else if(xe!=_e.charCodeAt(ue++))return-1}return ue}function R(ie,pe,_e){var ue=f.exec(pe.slice(_e));return ue?(ie.p=p.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function H(ie,pe,_e){var ue=v.exec(pe.slice(_e));return ue?(ie.w=b.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function L(ie,pe,_e){var ue=h.exec(pe.slice(_e));return ue?(ie.w=g.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function M(ie,pe,_e){var ue=S.exec(pe.slice(_e));return ue?(ie.m=k.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function $(ie,pe,_e){var ue=w.exec(pe.slice(_e));return ue?(ie.m=x.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function V(ie,pe,_e){return O(ie,e,pe,_e)}function Q(ie,pe,_e){return O(ie,r,pe,_e)}function K(ie,pe,_e){return O(ie,n,pe,_e)}function Z(ie){return o[ie.getDay()]}function D(ie){return s[ie.getDay()]}function U(ie){return d[ie.getMonth()]}function ee(ie){return c[ie.getMonth()]}function B(ie){return i[+(ie.getHours()>=12)]}function q(ie){return 1+~~(ie.getMonth()/3)}function Y(ie){return o[ie.getUTCDay()]}function se(ie){return s[ie.getUTCDay()]}function fe(ie){return d[ie.getUTCMonth()]}function te(ie){return c[ie.getUTCMonth()]}function he(ie){return i[+(ie.getUTCHours()>=12)]}function le(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var pe=T(ie+="",_);return pe.toString=function(){return ie},pe},parse:function(ie){var pe=E(ie+="",!1);return pe.toString=function(){return ie},pe},utcFormat:function(ie){var pe=T(ie+="",C);return pe.toString=function(){return ie},pe},utcParse:function(ie){var pe=E(ie+="",!0);return pe.toString=function(){return ie},pe}}}var vO={"-":"",_:" ",0:"0"},vr=/^\s*\d+/,hre=/^%/,pre=/[\\^$*+?|[\]().{}]/g;function lt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function mre(t){return t.replace(pre,"\\$&")}function Lc(t){return new RegExp("^(?:"+t.map(mre).join("|")+")","i")}function Bc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function gre(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function vre(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function yre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function xre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function bre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function yO(t,e,r){var n=vr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function xO(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function wre(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jre(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Sre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function bO(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function _re(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function wO(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Nre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function kre(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Tre(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Are(t,e,r){var n=vr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Pre(t,e,r){var n=hre.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Cre(t,e,r){var n=vr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Ere(t,e,r){var n=vr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function jO(t,e){return lt(t.getDate(),e,2)}function Ore(t,e){return lt(t.getHours(),e,2)}function Ire(t,e){return lt(t.getHours()%12||12,e,2)}function Rre(t,e){return lt(1+yd.count(ia(t),t),e,3)}function B3(t,e){return lt(t.getMilliseconds(),e,3)}function $re(t,e){return B3(t,e)+"000"}function Mre(t,e){return lt(t.getMonth()+1,e,2)}function Dre(t,e){return lt(t.getMinutes(),e,2)}function zre(t,e){return lt(t.getSeconds(),e,2)}function Lre(t){var e=t.getDay();return e===0?7:e}function Bre(t,e){return lt(am.count(ia(t)-1,t),e,2)}function F3(t){var e=t.getDay();return e>=4||e===0?hl(t):hl.ceil(t)}function Fre(t,e){return t=F3(t),lt(hl.count(ia(t),t)+(ia(t).getDay()===4),e,2)}function qre(t){return t.getDay()}function Ure(t,e){return lt(Kh.count(ia(t)-1,t),e,2)}function Vre(t,e){return lt(t.getFullYear()%100,e,2)}function Wre(t,e){return t=F3(t),lt(t.getFullYear()%100,e,2)}function Hre(t,e){return lt(t.getFullYear()%1e4,e,4)}function Gre(t,e){var r=t.getDay();return t=r>=4||r===0?hl(t):hl.ceil(t),lt(t.getFullYear()%1e4,e,4)}function Kre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function SO(t,e){return lt(t.getUTCDate(),e,2)}function Xre(t,e){return lt(t.getUTCHours(),e,2)}function Yre(t,e){return lt(t.getUTCHours()%12||12,e,2)}function Jre(t,e){return lt(1+im.count(aa(t),t),e,3)}function q3(t,e){return lt(t.getUTCMilliseconds(),e,3)}function Qre(t,e){return q3(t,e)+"000"}function Zre(t,e){return lt(t.getUTCMonth()+1,e,2)}function ene(t,e){return lt(t.getUTCMinutes(),e,2)}function tne(t,e){return lt(t.getUTCSeconds(),e,2)}function rne(t){var e=t.getUTCDay();return e===0?7:e}function nne(t,e){return lt(sm.count(aa(t)-1,t),e,2)}function U3(t){var e=t.getUTCDay();return e>=4||e===0?pl(t):pl.ceil(t)}function ine(t,e){return t=U3(t),lt(pl.count(aa(t),t)+(aa(t).getUTCDay()===4),e,2)}function ane(t){return t.getUTCDay()}function sne(t,e){return lt(Xh.count(aa(t)-1,t),e,2)}function one(t,e){return lt(t.getUTCFullYear()%100,e,2)}function lne(t,e){return t=U3(t),lt(t.getUTCFullYear()%100,e,2)}function cne(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function une(t,e){var r=t.getUTCDay();return t=r>=4||r===0?pl(t):pl.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function dne(){return"+0000"}function _O(){return"%"}function NO(t){return+t}function kO(t){return Math.floor(+t/1e3)}var Eo,V3,W3;fne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fne(t){return Eo=fre(t),V3=Eo.format,Eo.parse,W3=Eo.utcFormat,Eo.utcParse,Eo}function hne(t){return new Date(t)}function pne(t){return t instanceof Date?+t:+new Date(+t)}function $S(t,e,r,n,i,s,o,c,d,f){var p=wS(),h=p.invert,g=p.domain,v=f(".%L"),b=f(":%S"),w=f("%I:%M"),x=f("%I %p"),S=f("%a %d"),k=f("%b %d"),_=f("%B"),C=f("%Y");function N(T){return(d(T)<T?v:c(T)<T?b:o(T)<T?w:s(T)<T?x:n(T)<T?i(T)<T?S:k:r(T)<T?_:C)(T)}return p.invert=function(T){return new Date(h(T))},p.domain=function(T){return arguments.length?g(Array.from(T,pne)):g().map(hne)},p.ticks=function(T){var E=g();return t(E[0],E[E.length-1],T??10)},p.tickFormat=function(T,E){return E==null?N:f(E)},p.nice=function(T){var E=g();return(!T||typeof T.range!="function")&&(T=e(E[0],E[E.length-1],T??10)),T?g(E3(E,T)):p},p.copy=function(){return vd(p,$S(t,e,r,n,i,s,o,c,d,f))},p}function mne(){return Ln.apply($S(ure,dre,ia,IS,am,yd,ES,PS,Is,V3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gne(){return Ln.apply($S(lre,cre,aa,RS,sm,im,OS,CS,Is,W3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function om(){var t=0,e=1,r,n,i,s,o=Hr,c=!1,d;function f(h){return h==null||isNaN(h=+h)?d:o(i===0?.5:(h=(s(h)-r)*i,c?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(h){return arguments.length?(c=!!h,f):c},f.interpolator=function(h){return arguments.length?(o=h,f):o};function p(h){return function(g){var v,b;return arguments.length?([v,b]=g,o=h(v,b),f):[o(0),o(1)]}}return f.range=p(ql),f.rangeRound=p(bS),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),f}}function ts(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function H3(){var t=es(om()(Hr));return t.copy=function(){return ts(t,H3())},ua.apply(t,arguments)}function G3(){var t=_S(om()).domain([1,10]);return t.copy=function(){return ts(t,G3()).base(t.base())},ua.apply(t,arguments)}function K3(){var t=NS(om());return t.copy=function(){return ts(t,K3()).constant(t.constant())},ua.apply(t,arguments)}function MS(){var t=kS(om());return t.copy=function(){return ts(t,MS()).exponent(t.exponent())},ua.apply(t,arguments)}function vne(){return MS.apply(null,arguments).exponent(.5)}function X3(){var t=[],e=Hr;function r(n){if(n!=null&&!isNaN(n=+n))return e((md(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>nte(t,s/n))},r.copy=function(){return X3(e).domain(t)},ua.apply(r,arguments)}function lm(){var t=0,e=.5,r=1,n=1,i,s,o,c,d,f=Hr,p,h=!1,g;function v(w){return isNaN(w=+w)?g:(w=.5+((w=+p(w))-s)*(n*w<n*s?c:d),f(h?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,r]=w,i=p(t=+t),s=p(e=+e),o=p(r=+r),c=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,v):[t,e,r]},v.clamp=function(w){return arguments.length?(h=!!w,v):h},v.interpolator=function(w){return arguments.length?(f=w,v):f};function b(w){return function(x){var S,k,_;return arguments.length?([S,k,_]=x,f=Pte(w,[S,k,_]),v):[f(0),f(.5),f(1)]}}return v.range=b(ql),v.rangeRound=b(bS),v.unknown=function(w){return arguments.length?(g=w,v):g},function(w){return p=w,i=w(t),s=w(e),o=w(r),c=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,v}}function Y3(){var t=es(lm()(Hr));return t.copy=function(){return ts(t,Y3())},ua.apply(t,arguments)}function J3(){var t=_S(lm()).domain([.1,1,10]);return t.copy=function(){return ts(t,J3()).base(t.base())},ua.apply(t,arguments)}function Q3(){var t=NS(lm());return t.copy=function(){return ts(t,Q3()).constant(t.constant())},ua.apply(t,arguments)}function DS(){var t=kS(lm());return t.copy=function(){return ts(t,DS()).exponent(t.exponent())},ua.apply(t,arguments)}function yne(){return DS.apply(null,arguments).exponent(.5)}const TO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ou,scaleDiverging:Y3,scaleDivergingLog:J3,scaleDivergingPow:DS,scaleDivergingSqrt:yne,scaleDivergingSymlog:Q3,scaleIdentity:C3,scaleImplicit:e1,scaleLinear:Hh,scaleLog:O3,scaleOrdinal:vS,scalePoint:su,scalePow:TS,scaleQuantile:$3,scaleQuantize:M3,scaleRadial:R3,scaleSequential:H3,scaleSequentialLog:G3,scaleSequentialPow:MS,scaleSequentialQuantile:X3,scaleSequentialSqrt:vne,scaleSequentialSymlog:K3,scaleSqrt:Qte,scaleSymlog:I3,scaleThreshold:D3,scaleTime:mne,scaleUtc:gne,tickFormat:P3},Symbol.toStringTag,{value:"Module"}));var rb,AO;function Z3(){if(AO)return rb;AO=1;var t=Dl();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var c=r[s],d=n(c);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,p=c}return p}return rb=e,rb}var nb,PO;function xne(){if(PO)return nb;PO=1;function t(e,r){return e>r}return nb=t,nb}var ib,CO;function bne(){if(CO)return ib;CO=1;var t=Z3(),e=xne(),r=Fl();function n(i){return i&&i.length?t(i,r,e):void 0}return ib=n,ib}var wne=bne();const Ua=vt(wne);var ab,EO;function jne(){if(EO)return ab;EO=1;function t(e,r){return e<r}return ab=t,ab}var sb,OO;function Sne(){if(OO)return sb;OO=1;var t=Z3(),e=jne(),r=Fl();function n(i){return i&&i.length?t(i,r,e):void 0}return sb=n,sb}var _ne=Sne();const cm=vt(_ne);var ob,IO;function Nne(){if(IO)return ob;IO=1;var t=Zj(),e=Za(),r=s3(),n=an();function i(s,o){var c=n(s)?t:r;return c(s,e(o,3))}return ob=i,ob}var lb,RO;function kne(){if(RO)return lb;RO=1;var t=i3(),e=Nne();function r(n,i){return t(e(n,i),1)}return lb=r,lb}var Tne=kne();const Ane=vt(Tne);var cb,$O;function Pne(){if($O)return cb;$O=1;var t=fS();function e(r,n){return t(r,n)}return cb=e,cb}var Cne=Pne();const ml=vt(Cne);var Ul=1e9,Ene={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LS,It=!0,zn="[DecimalError] ",Ls=zn+"Invalid argument: ",zS=zn+"Exponent out of range: ",Vl=Math.floor,Ns=Math.pow,One=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,mr=1e7,Ct=7,eD=9007199254740991,Yh=Vl(eD/Ct),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ct;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(t){return Yi(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,r=e.constructor;return bt(Yi(e,new r(t),0,1),r.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return Zt(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(vn))throw Error(zn+"NaN");if(r.s<1)throw Error(zn+(r.s?"NaN":"-Infinity"));return r.eq(vn)?new n(0):(It=!1,e=Yi(Du(r,s),Du(t,s),s),It=!0,bt(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nD(e,t):tD(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(zn+"NaN");return r.s?(It=!1,e=Yi(r,t,0,1).times(t),It=!0,r.minus(e)):bt(new n(r),i)};Ae.naturalExponential=Ae.exp=function(){return rD(this)};Ae.naturalLogarithm=Ae.ln=function(){return Du(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tD(e,t):nD(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ls+t);if(e=Zt(i)+1,n=i.d.length-1,r=n*Ct+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ae.squareRoot=Ae.sqrt=function(){var t,e,r,n,i,s,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(zn+"NaN")}for(t=Zt(c),It=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=vi(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Vl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(s=n,n=s.plus(Yi(c,s,o+2)).times(.5),vi(s.d).slice(0,o)===(e=vi(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(bt(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(e!="9999")break;o+=4}return It=!0,bt(n,r)};Ae.times=Ae.mul=function(t){var e,r,n,i,s,o,c,d,f,p=this,h=p.constructor,g=p.d,v=(t=new h(t)).d;if(!p.s||!t.s)return new h(0);for(t.s*=p.s,r=p.e+t.e,d=g.length,f=v.length,d<f&&(s=g,g=v,v=s,o=d,d=f,f=o),s=[],o=d+f,n=o;n--;)s.push(0);for(n=f;--n>=0;){for(e=0,i=d+n;i>n;)c=s[i]+v[n]*g[i-n-1]+e,s[i--]=c%mr|0,e=c/mr|0;s[i]=(s[i]+e)%mr|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,It?bt(t,h.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ni(t,0,Ul),e===void 0?e=n.rounding:Ni(e,0,8),bt(r,t+Zt(r)+1,e))};Ae.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Us(n,!0):(Ni(t,0,Ul),e===void 0?e=i.rounding:Ni(e,0,8),n=bt(new i(n),t+1,e),r=Us(n,!0,t+1)),r};Ae.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Us(i):(Ni(t,0,Ul),e===void 0?e=s.rounding:Ni(e,0,8),n=bt(new s(i),t+Zt(i)+1,e),r=Us(n.abs(),!1,t+Zt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return bt(new e(t),Zt(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,r,n,i,s,o,c=this,d=c.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(vn);if(c=new d(c),!c.s){if(t.s<1)throw Error(zn+"Infinity");return c}if(c.eq(vn))return c;if(n=d.precision,t.eq(vn))return bt(c,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=c.s,o){if((r=p<0?-p:p)<=eD){for(i=new d(vn),e=Math.ceil(n/Ct+4),It=!1;r%2&&(i=i.times(c),DO(i.d,e)),r=Vl(r/2),r!==0;)c=c.times(c),DO(c.d,e);return It=!0,t.s<0?new d(vn).div(i):bt(i,n)}}else if(s<0)throw Error(zn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,It=!1,i=t.times(Du(c,n+f)),It=!0,i=rD(i),i.s=s,i};Ae.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Zt(i),n=Us(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ni(t,1,Ul),e===void 0?e=s.rounding:Ni(e,0,8),i=bt(new s(i),t,e),r=Zt(i),n=Us(i,t<=r||r<=s.toExpNeg,t)),n};Ae.toSignificantDigits=Ae.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ni(t,1,Ul),e===void 0?e=n.rounding:Ni(e,0,8)),bt(new n(r),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Zt(t),r=t.constructor;return Us(t,e<=r.toExpNeg||e>=r.toExpPos)};function tD(t,e){var r,n,i,s,o,c,d,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),It?bt(e,h):e;if(d=t.d,f=e.d,o=t.e,i=e.e,d=d.slice(),s=o-i,s){for(s<0?(n=d,s=-s,c=f.length):(n=f,i=o,c=d.length),o=Math.ceil(h/Ct),c=o>c?o+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/mr|0,d[s]%=mr;for(r&&(d.unshift(r),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,It?bt(e,h):e}function Ni(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ls+t)}function vi(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Ct-n.length,r&&(s+=za(r)),s+=n;o=t[e],n=o+"",r=Ct-n.length,r&&(s+=za(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Yi=(function(){function t(n,i){var s,o=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+o,n[c]=s%mr|0,o=s/mr|0;return o&&n.unshift(o),n}function e(n,i,s,o){var c,d;if(s!=o)d=s>o?1:-1;else for(c=d=0;c<s;c++)if(n[c]!=i[c]){d=n[c]>i[c]?1:-1;break}return d}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*mr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var c,d,f,p,h,g,v,b,w,x,S,k,_,C,N,T,E,O,R=n.constructor,H=n.s==i.s?1:-1,L=n.d,M=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(zn+"Division by zero");for(d=n.e-i.e,E=M.length,N=L.length,v=new R(H),b=v.d=[],f=0;M[f]==(L[f]||0);)++f;if(M[f]>(L[f]||0)&&--d,s==null?k=s=R.precision:o?k=s+(Zt(n)-Zt(i))+1:k=s,k<0)return new R(0);if(k=k/Ct+2|0,f=0,E==1)for(p=0,M=M[0],k++;(f<N||p)&&k--;f++)_=p*mr+(L[f]||0),b[f]=_/M|0,p=_%M|0;else{for(p=mr/(M[0]+1)|0,p>1&&(M=t(M,p),L=t(L,p),E=M.length,N=L.length),C=E,w=L.slice(0,E),x=w.length;x<E;)w[x++]=0;O=M.slice(),O.unshift(0),T=M[0],M[1]>=mr/2&&++T;do p=0,c=e(M,w,E,x),c<0?(S=w[0],E!=x&&(S=S*mr+(w[1]||0)),p=S/T|0,p>1?(p>=mr&&(p=mr-1),h=t(M,p),g=h.length,x=w.length,c=e(h,w,g,x),c==1&&(p--,r(h,E<g?O:M,g))):(p==0&&(c=p=1),h=M.slice()),g=h.length,g<x&&h.unshift(0),r(w,h,x),c==-1&&(x=w.length,c=e(M,w,E,x),c<1&&(p++,r(w,E<x?O:M,x))),x=w.length):c===0&&(p++,w=[0]),b[f++]=p,c&&w[0]?w[x++]=L[C]||0:(w=[L[C]],x=1);while((C++<N||w[0]!==void 0)&&k--)}return b[0]||b.shift(),v.e=d,bt(v,o?s+Zt(v)+1:s)}})();function rD(t,e){var r,n,i,s,o,c,d=0,f=0,p=t.constructor,h=p.precision;if(Zt(t)>16)throw Error(zS+Zt(t));if(!t.s)return new p(vn);for(It=!1,c=h,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(Ns(2,f))/Math.LN10*2+5|0,c+=n,r=i=s=new p(vn),p.precision=c;;){if(i=bt(i.times(t),c),r=r.times(++d),o=s.plus(Yi(i,r,c)),vi(o.d).slice(0,c)===vi(s.d).slice(0,c)){for(;f--;)s=bt(s.times(s),c);return p.precision=h,e==null?(It=!0,bt(s,h)):s}s=o}}function Zt(t){for(var e=t.e*Ct,r=t.d[0];r>=10;r/=10)e++;return e}function ub(t,e,r){if(e>t.LN10.sd())throw It=!0,r&&(t.precision=r),Error(zn+"LN10 precision limit exceeded");return bt(new t(t.LN10),e)}function za(t){for(var e="";t--;)e+="0";return e}function Du(t,e){var r,n,i,s,o,c,d,f,p,h=1,g=10,v=t,b=v.d,w=v.constructor,x=w.precision;if(v.s<1)throw Error(zn+(v.s?"NaN":"-Infinity"));if(v.eq(vn))return new w(0);if(e==null?(It=!1,f=x):f=e,v.eq(10))return e==null&&(It=!0),ub(w,f);if(f+=g,w.precision=f,r=vi(b),n=r.charAt(0),s=Zt(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=vi(v.d),n=r.charAt(0),h++;s=Zt(v),n>1?(v=new w("0."+r),s++):v=new w(n+"."+r.slice(1))}else return d=ub(w,f+2,x).times(s+""),v=Du(new w(n+"."+r.slice(1)),f-g).plus(d),w.precision=x,e==null?(It=!0,bt(v,x)):v;for(c=o=v=Yi(v.minus(vn),v.plus(vn),f),p=bt(v.times(v),f),i=3;;){if(o=bt(o.times(p),f),d=c.plus(Yi(o,new w(i),f)),vi(d.d).slice(0,f)===vi(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(ub(w,f+2,x).times(s+""))),c=Yi(c,new w(h),f),w.precision=x,e==null?(It=!0,bt(c,x)):c;c=d,i+=2}}function MO(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Vl(r/Ct),t.d=[],n=(r+1)%Ct,r<0&&(n+=Ct),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Ct;n<i;)t.d.push(+e.slice(n,n+=Ct));e=e.slice(n),n=Ct-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),It&&(t.e>Yh||t.e<-Yh))throw Error(zS+r)}else t.s=0,t.e=0,t.d=[0];return t}function bt(t,e,r){var n,i,s,o,c,d,f,p,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Ct,i=e,f=h[p=0];else{if(p=Math.ceil((n+1)/Ct),s=h.length,p>=s)return t;for(f=s=h[p],o=1;s>=10;s/=10)o++;n%=Ct,i=n-Ct+o}if(r!==void 0&&(s=Ns(10,o-i-1),c=f/s%10|0,d=e<0||h[p+1]!==void 0||f%s,d=r<4?(c||d)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?i>0?f/Ns(10,o-i):0:h[p-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return d?(s=Zt(t),h.length=1,e=e-s-1,h[0]=Ns(10,(Ct-e%Ct)%Ct),t.e=Vl(-e/Ct)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=p,s=1,p--):(h.length=p+1,s=Ns(10,Ct-n),h[p]=i>0?(f/Ns(10,o-i)%Ns(10,i)|0)*s:0),d)for(;;)if(p==0){(h[0]+=s)==mr&&(h[0]=1,++t.e);break}else{if(h[p]+=s,h[p]!=mr)break;h[p--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(It&&(t.e>Yh||t.e<-Yh))throw Error(zS+Zt(t));return t}function nD(t,e){var r,n,i,s,o,c,d,f,p,h,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),It?bt(e,v):e;if(d=t.d,h=e.d,n=e.e,f=t.e,d=d.slice(),o=f-n,o){for(p=o<0,p?(r=d,o=-o,c=h.length):(r=h,n=f,c=d.length),i=Math.max(Math.ceil(v/Ct),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,c=h.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=h[i]){p=d[i]<h[i];break}o=0}for(p&&(r=d,d=h,h=r,e.s=-e.s),c=d.length,i=h.length-c;i>0;--i)d[c++]=0;for(i=h.length;i>o;){if(d[--i]<h[i]){for(s=i;s&&d[--s]===0;)d[s]=mr-1;--d[s],d[i]+=mr}d[i]-=h[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,It?bt(e,v):e):new g(0)}function Us(t,e,r){var n,i=Zt(t),s=vi(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+za(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+za(-i-1)+s,r&&(n=r-o)>0&&(s+=za(n))):i>=o?(s+=za(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+za(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=za(n))),t.s<0?"-"+s:s}function DO(t,e){if(t.length>e)return t.length=e,!0}function iD(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ls+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return MO(o,s.toString())}else if(typeof s!="string")throw Error(Ls+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,One.test(s))MO(o,s);else throw Error(Ls+s)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iD,i.config=i.set=Ine,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Ine(t){if(!t||typeof t!="object")throw Error(zn+"Object expected");var e,r,n,i=["precision",1,Ul,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Vl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ls+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ls+r+": "+n);return this}var LS=iD(Ene);vn=new LS(1);const mt=LS;function Rne(t){return zne(t)||Dne(t)||Mne(t)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,e){if(t){if(typeof t=="string")return i1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i1(t,e)}}function Dne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zne(t){if(Array.isArray(t))return i1(t)}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Lne=function(e){return e},aD={},sD=function(e){return e===aD},zO=function(e){return function r(){return arguments.length===0||arguments.length===1&&sD(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Bne=function t(e,r){return e===1?r:zO(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(c){return c!==aD}).length;return o>=e?r.apply(void 0,i):t(e-o,zO(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var p=i.map(function(h){return sD(h)?d.shift():h});return r.apply(void 0,Rne(p).concat(d))}))})},um=function(e){return Bne(e.length,e)},a1=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Fne=um(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),qne=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Lne;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(c,d){return d(c)},s.apply(void 0,arguments))}},s1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},oD=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(c,d){return c===r[d]})||(r=s,n=e.apply(void 0,s)),n}};function Une(t){var e;return t===0?e=1:e=Math.floor(new mt(t).abs().log(10).toNumber())+1,e}function Vne(t,e,r){for(var n=new mt(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Wne=um(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Hne=um(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Gne=um(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const dm={rangeStep:Vne,getDigitCount:Une,interpolateNumber:Wne,uninterpolateNumber:Hne,uninterpolateTruncation:Gne};function o1(t){return Yne(t)||Xne(t)||lD(t)||Kne()}function Kne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Yne(t){if(Array.isArray(t))return l1(t)}function zu(t,e){return Zne(t)||Qne(t,e)||lD(t,e)||Jne()}function Jne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lD(t,e){if(t){if(typeof t=="string")return l1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(t,e)}}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,s=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function Zne(t){if(Array.isArray(t))return t}function cD(t){var e=zu(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function uD(t,e,r){if(t.lte(0))return new mt(0);var n=dm.getDigitCount(t.toNumber()),i=new mt(10).pow(n),s=t.div(i),o=n!==1?.05:.1,c=new mt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),d=c.mul(i);return e?d:new mt(Math.ceil(d))}function eie(t,e,r){var n=1,i=new mt(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new mt(10).pow(dm.getDigitCount(t)-1),i=new mt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new mt(Math.floor(t)))}else t===0?i=new mt(Math.floor((e-1)/2)):r||(i=new mt(Math.floor(t)));var o=Math.floor((e-1)/2),c=qne(Fne(function(d){return i.add(new mt(d-o).mul(n)).toNumber()}),a1);return c(0,e)}function dD(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var s=uD(new mt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new mt(0):(o=new mt(t).add(e).div(2),o=o.sub(new mt(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),d=Math.ceil(new mt(e).sub(o).div(s).toNumber()),f=c+d+1;return f>r?dD(t,e,r,n,i+1):(f<r&&(d=e>0?d+(r-f):d,c=e>0?c:c+(r-f)),{step:s,tickMin:o.sub(new mt(c).mul(s)),tickMax:o.add(new mt(d).mul(s))})}function tie(t){var e=zu(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),c=cD([r,n]),d=zu(c,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var h=p===1/0?[f].concat(o1(a1(0,i-1).map(function(){return 1/0}))):[].concat(o1(a1(0,i-1).map(function(){return-1/0})),[p]);return r>n?s1(h):h}if(f===p)return eie(f,i,s);var g=dD(f,p,o,s),v=g.step,b=g.tickMin,w=g.tickMax,x=dm.rangeStep(b,w.add(new mt(.1).mul(v)),v);return r>n?s1(x):x}function rie(t,e){var r=zu(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=cD([n,i]),c=zu(o,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var p=Math.max(e,2),h=uD(new mt(f).sub(d).div(p-1),s,0),g=[].concat(o1(dm.rangeStep(new mt(d),new mt(f).sub(new mt(.99).mul(h)),h)),[f]);return n>i?s1(g):g}var nie=oD(tie),iie=oD(rie),aie="Invariant failed";function Vs(t,e){throw new Error(aie)}var sie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jh.apply(this,arguments)}function oie(t,e){return die(t)||uie(t,e)||cie(t,e)||lie()}function lie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cie(t,e){if(t){if(typeof t=="string")return LO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LO(t,e)}}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function die(t){if(Array.isArray(t))return t}function fie(t,e){if(t==null)return{};var r=hie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pD(n.key),n)}}function gie(t,e,r){return e&&mie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vie(t,e,r){return e=Qh(e),yie(t,fD()?Reflect.construct(e,r||[],Qh(t).constructor):e.apply(t,r))}function yie(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xie(t)}function xie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!t})()}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qh(t)}function bie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c1(t,e)}function c1(t,e){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c1(t,e)}function hD(t,e,r){return e=pD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pD(t){var e=wie(t,"string");return gl(e)=="symbol"?e:e+""}function wie(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xd=(function(t){function e(){return pie(this,e),vie(this,e,arguments)}return bie(e,t),gie(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,c=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,h=n.yAxis,g=fie(n,sie),v=Ye(g,!1);this.props.direction==="x"&&p.type!=="number"&&Vs();var b=d.map(function(w){var x=f(w,c),S=x.x,k=x.y,_=x.value,C=x.errorVal;if(!C)return null;var N=[],T,E;if(Array.isArray(C)){var O=oie(C,2);T=O[0],E=O[1]}else T=E=C;if(s==="vertical"){var R=p.scale,H=k+i,L=H+o,M=H-o,$=R(_-T),V=R(_+E);N.push({x1:V,y1:L,x2:V,y2:M}),N.push({x1:$,y1:H,x2:V,y2:H}),N.push({x1:$,y1:L,x2:$,y2:M})}else if(s==="horizontal"){var Q=h.scale,K=S+i,Z=K-o,D=K+o,U=Q(_-T),ee=Q(_+E);N.push({x1:Z,y1:ee,x2:D,y2:ee}),N.push({x1:K,y1:U,x2:K,y2:ee}),N.push({x1:Z,y1:U,x2:D,y2:U})}return z.createElement(Nt,Jh({className:"recharts-errorBar",key:"bar-".concat(N.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},v),N.map(function(B){return z.createElement("line",Jh({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return z.createElement(Nt,{className:"recharts-errorBars"},b)}}])})(z.Component);hD(xd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hD(xd,"displayName","ErrorBar");function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ws(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){jie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jie(t,e,r){return e=Sie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sie(t){var e=_ie(t,"string");return Lu(e)=="symbol"?e:e+""}function _ie(t,e){if(Lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mD=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=pn(r,Ds);if(!o)return null;var c=Ds.defaultProps,d=c!==void 0?ws(ws({},c),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:s==="children"?f=(n||[]).reduce(function(p,h){var g=h.item,v=h.props,b=v.sectors||v.data||[];return p.concat(b.map(function(w){return{type:o.props.iconType||g.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):f=(n||[]).map(function(p){var h=p.item,g=h.type.defaultProps,v=g!==void 0?ws(ws({},g),h.props):{},b=v.dataKey,w=v.name,x=v.legendType,S=v.hide;return{inactive:S,dataKey:b,type:d.iconType||x||"square",color:BS(h),value:w||b,payload:v}}),ws(ws(ws({},d),Ds.getWithHeight(o,i)),{},{payload:f,item:o})};function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function FO(t){return Aie(t)||Tie(t)||kie(t)||Nie()}function Nie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kie(t,e){if(t){if(typeof t=="string")return u1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(t,e)}}function Tie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aie(t){if(Array.isArray(t))return u1(t)}function u1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(r),!0).forEach(function(n){tl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tl(t,e,r){return e=Pie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pie(t){var e=Cie(t,"string");return Bu(e)=="symbol"?e:e+""}function Cie(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gr(t,e,r){return et(t)||et(e)?r:cr(e)?Mn(t,e,r):Ke(e)?e(t):r}function ou(t,e,r,n){var i=Ane(t,function(c){return Gr(c,e)});if(r==="number"){var s=i.filter(function(c){return je(c)||parseFloat(c)});return s.length?[cm(s),Ua(s)]:[1/0,-1/0]}var o=n?i.filter(function(c){return!et(c)}):i;return o.map(function(c){return cr(c)||c instanceof Date?c:""})}var Eie=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,f=0;f<c;f++){var p=f>0?i[f-1].coordinate:i[c-1].coordinate,h=i[f].coordinate,g=f>=c-1?i[0].coordinate:i[f+1].coordinate,v=void 0;if(ii(h-p)!==ii(g-h)){var b=[];if(ii(g-h)===ii(d[1]-d[0])){v=g;var w=h+d[1]-d[0];b[0]=Math.min(w,(w+p)/2),b[1]=Math.max(w,(w+p)/2)}else{v=p;var x=g+d[1]-d[0];b[0]=Math.min(h,(x+h)/2),b[1]=Math.max(h,(x+h)/2)}var S=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){o=i[f].index;break}}else{var k=Math.min(p,g),_=Math.max(p,g);if(e>(k+h)/2&&e<=(_+h)/2){o=i[f].index;break}}}else for(var C=0;C<c;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<c-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===c-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},BS=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,o=s.stroke,c=s.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:c;break;default:d=c;break}return d},Oie=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},c=Object.keys(s),d=0,f=c.length;d<f;d++)for(var p=s[c[d]].stackGroups,h=Object.keys(p),g=0,v=h.length;g<v;g++){var b=p[h[g]],w=b.items,x=b.cateAxisId,S=w.filter(function(E){return Ki(E.type).indexOf("Bar")>=0});if(S&&S.length){var k=S[0].type.defaultProps,_=k!==void 0?qt(qt({},k),S[0].props):S[0].props,C=_.barSize,N=_[x];o[N]||(o[N]=[]);var T=et(C)?r:C;o[N].push({item:S[0],stackList:S.slice(1),barSize:et(T)?void 0:qs(T,n,0)})}}return o},Iie=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,c=e.maxBarSize,d=o.length;if(d<1)return null;var f=qs(r,i,0,!0),p,h=[];if(o[0].barSize===+o[0].barSize){var g=!1,v=i/d,b=o.reduce(function(C,N){return C+N.barSize||0},0);b+=(d-1)*f,b>=i&&(b-=(d-1)*f,f=0),b>=i&&v>0&&(g=!0,v*=.9,b=d*v);var w=(i-b)/2>>0,x={offset:w-f,size:0};p=o.reduce(function(C,N){var T={item:N.item,position:{offset:x.offset+x.size+f,size:g?v:N.barSize}},E=[].concat(FO(C),[T]);return x=E[E.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){E.push({item:O,position:x})}),E},h)}else{var S=qs(n,i,0,!0);i-2*S-(d-1)*f<=0&&(f=0);var k=(i-2*S-(d-1)*f)/d;k>1&&(k>>=0);var _=c===+c?Math.min(k,c):k;p=o.reduce(function(C,N,T){var E=[].concat(FO(C),[{item:N.item,position:{offset:S+(k+f)*T+(k-_)/2,size:_}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){E.push({item:O,position:E[E.length-1].position})}),E},h)}return p},Rie=function(e,r,n,i){var s=n.children,o=n.width,c=n.margin,d=o-(c.left||0)-(c.right||0),f=mD({children:s,legendWidth:d});if(f){var p=i||{},h=p.width,g=p.height,v=f.align,b=f.verticalAlign,w=f.layout;if((w==="vertical"||w==="horizontal"&&b==="middle")&&v!=="center"&&je(e[v]))return qt(qt({},e),{},tl({},v,e[v]+(h||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&b!=="middle"&&je(e[b]))return qt(qt({},e),{},tl({},b,e[b]+(g||0)))}return e},$ie=function(e,r,n){return et(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},gD=function(e,r,n,i,s){var o=r.props.children,c=Dn(o,xd).filter(function(f){return $ie(i,s,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var h=Gr(p,n);if(et(h))return f;var g=Array.isArray(h)?[cm(h),Ua(h)]:[h,h],v=d.reduce(function(b,w){var x=Gr(p,w,0),S=g[0]-Math.abs(Array.isArray(x)?x[0]:x),k=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(S,b[0]),Math.max(k,b[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},Mie=function(e,r,n,i,s){var o=r.map(function(c){return gD(e,c,n,s,i)}).filter(function(c){return!et(c)});return o&&o.length?o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},vD=function(e,r,n,i,s){var o=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&gD(e,d,f,i)||ou(e,f,n,s)});if(n==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return o.reduce(function(d,f){for(var p=0,h=f.length;p<h;p++)c[f[p]]||(c[f[p]]=!0,d.push(f[p]));return d},[])},yD=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},xD=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var s,o,c=e.map(function(d){return d.coordinate===r&&(s=!0),d.coordinate===n&&(o=!0),d.coordinate});return s||c.push(r),o||c.push(n),c},Wi=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,c=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&c?.length>=2?ii(c[0]-c[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(h){var g=s?s.indexOf(h):h;return{coordinate:i(g)+f,value:h,offset:f}});return p.filter(function(h){return!Ll(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,g){return{coordinate:i(h)+f,value:h,index:g,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+f,value:h,offset:f}}):i.domain().map(function(h,g){return{coordinate:i(h)+f,value:s?s[h]:h,index:g,offset:f}})},db=new WeakMap,Qf=function(e,r){if(typeof r!="function")return e;db.has(e)||db.set(e,new WeakMap);var n=db.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Die=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,c=e.axisType;if(i==="auto")return o==="radial"&&c==="radiusAxis"?{scale:Ou(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:Hh(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:su(),realScaleType:"point"}:s==="category"?{scale:Ou(),realScaleType:"band"}:{scale:Hh(),realScaleType:"linear"};if(Fs(i)){var d="scale".concat(Yp(i));return{scale:(TO[d]||su)(),realScaleType:TO[d]?d:"point"}}return Ke(i)?{scale:i}:{scale:su(),realScaleType:"point"}},UO=1e-4,zie=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-UO,o=Math.max(i[0],i[1])+UO,c=e(r[0]),d=e(r[n-1]);(c<s||c>o||d<s||d>o)&&e.domain([r[0],r[n-1]])}},Lie=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Bie=function(e,r){if(!r||r.length!==2||!je(r[0])||!je(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!je(e[0])||e[0]<n)&&(s[0]=n),(!je(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Fie=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,c=0;c<r;++c){var d=Ll(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1]):(e[c][n][0]=o,e[c][n][1]=o+d,o=e[c][n][1])}},qie=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var c=Ll(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Uie={sign:Fie,expand:kJ,none:ol,silhouette:TJ,wiggle:AJ,positive:qie},Vie=function(e,r,n){var i=r.map(function(c){return c.props.dataKey}),s=Uie[n],o=NJ().keys(i).value(function(c,d){return+Gr(c,d,0)}).order(Bw).offset(s);return o(e)},Wie=function(e,r,n,i,s,o){if(!e)return null;var c=o?r.reverse():r,d={},f=c.reduce(function(h,g){var v,b=(v=g.type)!==null&&v!==void 0&&v.defaultProps?qt(qt({},g.type.defaultProps),g.props):g.props,w=b.stackId,x=b.hide;if(x)return h;var S=b[n],k=h[S]||{hasStack:!1,stackGroups:{}};if(cr(w)){var _=k.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(g),k.hasStack=!0,k.stackGroups[w]=_}else k.stackGroups[Bl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return qt(qt({},h),{},tl({},S,k))},d),p={};return Object.keys(f).reduce(function(h,g){var v=f[g];if(v.hasStack){var b={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,x){var S=v.stackGroups[x];return qt(qt({},w),{},tl({},x,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:Vie(e,S.items,s)}))},b)}return qt(qt({},h),{},tl({},g,v))},p)},Hie=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=nie(f,s,c);return e.domain([cm(p),Ua(p)]),{niceTicks:p}}if(s&&i==="number"){var h=e.domain(),g=iie(h,s,c);return{niceTicks:g}}return null};function Zh(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!et(i[e.dataKey])){var c=kh(r,"value",i[e.dataKey]);if(c)return c.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=Gr(i,et(o)?e.dataKey:o);return et(d)?null:e.scale(d)}var VO=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var d=Gr(o,r.dataKey,r.domain[c]);return et(d)?null:r.scale(d)-s/2+i},Gie=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Kie=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(cr(s)){var o=r[s];if(o){var c=o.items.indexOf(e);return c>=0?o.stackedData[c]:null}}return null},Xie=function(e){return e.reduce(function(r,n){return[cm(n.concat([r[0]]).filter(je)),Ua(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},bD=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],c=o.stackedData,d=c.reduce(function(f,p){var h=Xie(p.slice(r,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},WO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d1=function(e,r,n){if(Ke(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(je(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(WO.test(e[0])){var s=+WO.exec(e[0])[1];i[0]=r[0]-s}else Ke(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(je(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(HO.test(e[1])){var o=+HO.exec(e[1])[1];i[1]=r[1]+o}else Ke(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ep=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=pS(r,function(h){return h.coordinate}),o=1/0,c=1,d=s.length;c<d;c++){var f=s[c],p=s[c-1];o=Math.min((f.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},GO=function(e,r,n){return!e||!e.length||ml(e,Mn(n,"type.defaultProps.domain"))?r:e},wD=function(e,r){var n=e.type.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,c=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return qt(qt({},Ye(e,!1)),{},{dataKey:i,unit:o,formatter:c,name:s||i,color:BS(e),value:Gr(r,i),type:d,payload:r,chartType:f,hide:p})};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){Yie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yie(t,e,r){return e=Jie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jie(t){var e=Qie(t,"string");return Fu(e)=="symbol"?e:e+""}function Qie(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tp=Math.PI/180,Zie=function(e){return e*180/Math.PI},Ar=function(e,r,n,i){return{x:e+Math.cos(-tp*i)*n,y:r+Math.sin(-tp*i)*n}},eae=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},tae=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,c=eae({x:n,y:i},{x:s,y:o});if(c<=0)return{radius:c};var d=(n-s)/c,f=Math.acos(d);return i>o&&(f=2*Math.PI-f),{radius:c,angle:Zie(f),angleInRadian:f}},rae=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},nae=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),c=Math.min(s,o);return e+c*360},YO=function(e,r){var n=e.x,i=e.y,s=tae({x:n,y:i},r),o=s.radius,c=s.angle,d=r.innerRadius,f=r.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var p=rae(r),h=p.startAngle,g=p.endAngle,v=c,b;if(h<=g){for(;v>g;)v-=360;for(;v<h;)v+=360;b=v>=h&&v<=g}else{for(;v>h;)v-=360;for(;v<g;)v+=360;b=v>=g&&v<=h}return b?XO(XO({},r),{},{radius:o,angle:nae(v,r)}):null};function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}var iae=["offset"];function aae(t){return cae(t)||lae(t)||oae(t)||sae()}function sae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(t,e){if(t){if(typeof t=="string")return f1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(t,e)}}function lae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cae(t){if(Array.isArray(t))return f1(t)}function f1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uae(t,e){if(t==null)return{};var r=dae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(r),!0).forEach(function(n){fae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fae(t,e,r){return e=hae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hae(t){var e=pae(t,"string");return qu(e)=="symbol"?e:e+""}function pae(t,e){if(qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uu.apply(this,arguments)}var mae=function(e){var r=e.value,n=e.formatter,i=et(e.children)?r:e.children;return Ke(n)?n(i):i},gae=function(e,r){var n=ii(r-e),i=Math.min(Math.abs(r-e),360);return n*i},vae=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,c=e.className,d=s,f=d.cx,p=d.cy,h=d.innerRadius,g=d.outerRadius,v=d.startAngle,b=d.endAngle,w=d.clockWise,x=(h+g)/2,S=gae(v,b),k=S>=0?1:-1,_,C;i==="insideStart"?(_=v+k*o,C=w):i==="insideEnd"?(_=b-k*o,C=!w):i==="end"&&(_=b+k*o,C=w),C=S<=0?C:!C;var N=Ar(f,p,x,_),T=Ar(f,p,x,_+(C?1:-1)*359),E="M".concat(N.x,",").concat(N.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(T.x,",").concat(T.y),O=et(e.id)?Bl("recharts-radial-line-"):e.id;return z.createElement("text",Uu({},n,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",c)}),z.createElement("defs",null,z.createElement("path",{id:O,d:E})),z.createElement("textPath",{xlinkHref:"#".concat(O)},r))},yae=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,c=s.cy,d=s.innerRadius,f=s.outerRadius,p=s.startAngle,h=s.endAngle,g=(p+h)/2;if(i==="outside"){var v=Ar(o,c,f+n,g),b=v.x,w=v.y;return{x:b,y:w,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var x=(d+f)/2,S=Ar(o,c,x,g),k=S.x,_=S.y;return{x:k,y:_,textAnchor:"middle",verticalAnchor:"middle"}},xae=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,c=o.x,d=o.y,f=o.width,p=o.height,h=p>=0?1:-1,g=h*i,v=h>0?"end":"start",b=h>0?"start":"end",w=f>=0?1:-1,x=w*i,S=w>0?"end":"start",k=w>0?"start":"end";if(s==="top"){var _={x:c+f/2,y:d-h*i,textAnchor:"middle",verticalAnchor:v};return ar(ar({},_),n?{height:Math.max(d-n.y,0),width:f}:{})}if(s==="bottom"){var C={x:c+f/2,y:d+p+g,textAnchor:"middle",verticalAnchor:b};return ar(ar({},C),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(s==="left"){var N={x:c-x,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return ar(ar({},N),n?{width:Math.max(N.x-n.x,0),height:p}:{})}if(s==="right"){var T={x:c+f+x,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return ar(ar({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:p}:{})}var E=n?{width:f,height:p}:{};return s==="insideLeft"?ar({x:c+x,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},E):s==="insideRight"?ar({x:c+f-x,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},E):s==="insideTop"?ar({x:c+f/2,y:d+g,textAnchor:"middle",verticalAnchor:b},E):s==="insideBottom"?ar({x:c+f/2,y:d+p-g,textAnchor:"middle",verticalAnchor:v},E):s==="insideTopLeft"?ar({x:c+x,y:d+g,textAnchor:k,verticalAnchor:b},E):s==="insideTopRight"?ar({x:c+f-x,y:d+g,textAnchor:S,verticalAnchor:b},E):s==="insideBottomLeft"?ar({x:c+x,y:d+p-g,textAnchor:k,verticalAnchor:v},E):s==="insideBottomRight"?ar({x:c+f-x,y:d+p-g,textAnchor:S,verticalAnchor:v},E):zl(s)&&(je(s.x)||Es(s.x))&&(je(s.y)||Es(s.y))?ar({x:c+qs(s.x,f),y:d+qs(s.y,p),textAnchor:"end",verticalAnchor:"end"},E):ar({x:c+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},E)},bae=function(e){return"cx"in e&&je(e.cx)};function Dr(t){var e=t.offset,r=e===void 0?5:e,n=uae(t,iae),i=ar({offset:r},n),s=i.viewBox,o=i.position,c=i.value,d=i.children,f=i.content,p=i.className,h=p===void 0?"":p,g=i.textBreakAll;if(!s||et(c)&&et(d)&&!P.isValidElement(f)&&!Ke(f))return null;if(P.isValidElement(f))return P.cloneElement(f,i);var v;if(Ke(f)){if(v=P.createElement(f,i),P.isValidElement(v))return v}else v=mae(i);var b=bae(s),w=Ye(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return vae(i,v,w);var x=b?yae(i):xae(i);return z.createElement(Lh,Uu({className:nt("recharts-label",h)},w,x,{breakAll:g}),v)}Dr.displayName="Label";var jD=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,c=e.r,d=e.radius,f=e.innerRadius,p=e.outerRadius,h=e.x,g=e.y,v=e.top,b=e.left,w=e.width,x=e.height,S=e.clockWise,k=e.labelViewBox;if(k)return k;if(je(w)&&je(x)){if(je(h)&&je(g))return{x:h,y:g,width:w,height:x};if(je(v)&&je(b))return{x:v,y:b,width:w,height:x}}return je(h)&&je(g)?{x:h,y:g,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:p||d||c||0,clockWise:S}:e.viewBox?e.viewBox:{}},wae=function(e,r){return e?e===!0?z.createElement(Dr,{key:"label-implicit",viewBox:r}):cr(e)?z.createElement(Dr,{key:"label-implicit",viewBox:r,value:e}):P.isValidElement(e)?e.type===Dr?P.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(Dr,{key:"label-implicit",content:e,viewBox:r}):Ke(e)?z.createElement(Dr,{key:"label-implicit",content:e,viewBox:r}):zl(e)?z.createElement(Dr,Uu({viewBox:r},e,{key:"label-implicit"})):null:null},jae=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=jD(e),o=Dn(i,Dr).map(function(d,f){return P.cloneElement(d,{viewBox:r||s,key:"label-".concat(f)})});if(!n)return o;var c=wae(e.label,r||s);return[c].concat(aae(o))};Dr.parseViewBox=jD;Dr.renderCallByParent=jae;var fb,QO;function Sae(){if(QO)return fb;QO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return fb=t,fb}var _ae=Sae();const Nae=vt(_ae);function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}var kae=["valueAccessor"],Tae=["data","dataKey","clockWise","id","textBreakAll"];function Aae(t){return Oae(t)||Eae(t)||Cae(t)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cae(t,e){if(t){if(typeof t=="string")return h1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h1(t,e)}}function Eae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oae(t){if(Array.isArray(t))return h1(t)}function h1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rp.apply(this,arguments)}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){Iae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iae(t,e,r){return e=Rae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rae(t){var e=$ae(t,"string");return Vu(e)=="symbol"?e:e+""}function $ae(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t5(t,e){if(t==null)return{};var r=Mae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Dae=function(e){return Array.isArray(e.value)?Nae(e.value):e.value};function Ji(t){var e=t.valueAccessor,r=e===void 0?Dae:e,n=t5(t,kae),i=n.data,s=n.dataKey,o=n.clockWise,c=n.id,d=n.textBreakAll,f=t5(n,Tae);return!i||!i.length?null:z.createElement(Nt,{className:"recharts-label-list"},i.map(function(p,h){var g=et(s)?r(p,h):Gr(p&&p.payload,s),v=et(c)?{}:{id:"".concat(c,"-").concat(h)};return z.createElement(Dr,rp({},Ye(p,!0),f,v,{parentViewBox:p.parentViewBox,value:g,textBreakAll:d,viewBox:Dr.parseViewBox(et(o)?p:e5(e5({},p),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ji.displayName="LabelList";function zae(t,e){return t?t===!0?z.createElement(Ji,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Ke(t)?z.createElement(Ji,{key:"labelList-implicit",data:e,content:t}):zl(t)?z.createElement(Ji,rp({data:e},t,{key:"labelList-implicit"})):null:null}function Lae(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Dn(n,Ji).map(function(o,c){return P.cloneElement(o,{data:e,key:"labelList-".concat(c)})});if(!r)return i;var s=zae(t.label,e);return[s].concat(Aae(i))}Ji.renderCallByParent=Lae;function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p1.apply(this,arguments)}function r5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(r),!0).forEach(function(n){Bae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bae(t,e,r){return e=Fae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fae(t){var e=qae(t,"string");return Wu(e)=="symbol"?e:e+""}function qae(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uae=function(e,r){var n=ii(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Zf=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,c=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,p=d*(c?1:-1)+i,h=Math.asin(d/p)/tp,g=f?s:s+o*h,v=Ar(r,n,p,g),b=Ar(r,n,i,g),w=f?s-o*h:s,x=Ar(r,n,p*Math.cos(h*tp),w);return{center:v,circleTangency:b,lineTangency:x,theta:h}},SD=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,c=e.endAngle,d=Uae(o,c),f=o+d,p=Ar(r,n,s,o),h=Ar(r,n,s,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var v=Ar(r,n,i,o),b=Ar(r,n,i,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},Vae=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,h=ii(p-f),g=Zf({cx:r,cy:n,radius:s,angle:f,sign:h,cornerRadius:o,cornerIsExternal:d}),v=g.circleTangency,b=g.lineTangency,w=g.theta,x=Zf({cx:r,cy:n,radius:s,angle:p,sign:-h,cornerRadius:o,cornerIsExternal:d}),S=x.circleTangency,k=x.lineTangency,_=x.theta,C=d?Math.abs(f-p):Math.abs(f-p)-w-_;if(C<0)return c?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):SD({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p});var N="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var T=Zf({cx:r,cy:n,radius:i,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),E=T.circleTangency,O=T.lineTangency,R=T.theta,H=Zf({cx:r,cy:n,radius:i,angle:p,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),L=H.circleTangency,M=H.lineTangency,$=H.theta,V=d?Math.abs(f-p):Math.abs(f-p)-R-$;if(V<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},Wae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_D=function(e){var r=n5(n5({},Wae),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,h=r.endAngle,g=r.className;if(o<s||p===h)return null;var v=nt("recharts-sector",g),b=o-s,w=qs(c,b,0,!0),x;return w>0&&Math.abs(p-h)<360?x=Vae({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:h}):x=SD({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:p,endAngle:h}),z.createElement("path",p1({},Ye(r,!0),{className:v,d:x,role:"img"}))};function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m1.apply(this,arguments)}function i5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(r),!0).forEach(function(n){Hae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hae(t,e,r){return e=Gae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gae(t){var e=Kae(t,"string");return Hu(e)=="symbol"?e:e+""}function Kae(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s5={curveBasisClosed:pJ,curveBasisOpen:mJ,curveBasis:hJ,curveBumpX:ZY,curveBumpY:eJ,curveLinearClosed:gJ,curveLinear:Qp,curveMonotoneX:vJ,curveMonotoneY:yJ,curveNatural:xJ,curveStep:bJ,curveStepAfter:jJ,curveStepBefore:wJ},eh=function(e){return e.x===+e.x&&e.y===+e.y},Fc=function(e){return e.x},qc=function(e){return e.y},Xae=function(e,r){if(Ke(e))return e;var n="curve".concat(Yp(e));return(n==="curveMonotone"||n==="curveBump")&&r?s5["".concat(n).concat(r==="vertical"?"Y":"X")]:s5[n]||Qp},Yae=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,c=e.layout,d=e.connectNulls,f=d===void 0?!1:d,p=Xae(n,c),h=f?s.filter(function(w){return eh(w)}):s,g;if(Array.isArray(o)){var v=f?o.filter(function(w){return eh(w)}):o,b=h.map(function(w,x){return a5(a5({},w),{},{base:v[x]})});return c==="vertical"?g=Wf().y(qc).x1(Fc).x0(function(w){return w.base.x}):g=Wf().x(Fc).y1(qc).y0(function(w){return w.base.y}),g.defined(eh).curve(p),g(b)}return c==="vertical"&&je(o)?g=Wf().y(qc).x1(Fc).x0(o):je(o)?g=Wf().x(Fc).y1(qc).y0(o):g=TM().x(Fc).y(qc),g.defined(eh).curve(p),g(h)},rl=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Yae(e):i;return P.createElement("path",m1({},Ye(e,!1),Th(e),{className:nt("recharts-curve",r),d:o,ref:s}))},hb={exports:{}},pb,o5;function Jae(){if(o5)return pb;o5=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pb=t,pb}var mb,l5;function Qae(){if(l5)return mb;l5=1;var t=Jae();function e(){}function r(){}return r.resetWarningCache=e,mb=function(){function n(o,c,d,f,p,h){if(h!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},mb}var c5;function Zae(){return c5||(c5=1,hb.exports=Qae()()),hb.exports}var ese=Zae();const ut=vt(ese),{getOwnPropertyNames:tse,getOwnPropertySymbols:rse}=Object,{hasOwnProperty:nse}=Object.prototype;function gb(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function th(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:s}=i,o=s.get(r),c=s.get(n);if(o&&c)return o===n&&c===r;s.set(r,n),s.set(n,r);const d=t(r,n,i);return s.delete(r),s.delete(n),d}}function ise(t){return t?.[Symbol.toStringTag]}function u5(t){return tse(t).concat(rse(t))}const ase=Object.hasOwn||((t,e)=>nse.call(t,e));function Js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const sse="__v",ose="__o",lse="_owner",{getOwnPropertyDescriptor:d5,keys:f5}=Object;function cse(t,e){return t.byteLength===e.byteLength&&np(new Uint8Array(t),new Uint8Array(e))}function use(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function dse(t,e){return t.byteLength===e.byteLength&&np(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function fse(t,e){return Js(t.getTime(),e.getTime())}function hse(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function pse(t,e){return t===e}function h5(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),s=t.entries();let o,c,d=0;for(;(o=s.next())&&!o.done;){const f=e.entries();let p=!1,h=0;for(;(c=f.next())&&!c.done;){if(i[h]){h++;continue}const g=o.value,v=c.value;if(r.equals(g[0],v[0],d,h,t,e,r)&&r.equals(g[1],v[1],g[0],v[0],t,e,r)){p=i[h]=!0;break}h++}if(!p)return!1;d++}return!0}const mse=Js;function gse(t,e,r){const n=f5(t);let i=n.length;if(f5(e).length!==i)return!1;for(;i-- >0;)if(!ND(t,e,r,n[i]))return!1;return!0}function Uc(t,e,r){const n=u5(t);let i=n.length;if(u5(e).length!==i)return!1;let s,o,c;for(;i-- >0;)if(s=n[i],!ND(t,e,r,s)||(o=d5(t,s),c=d5(e,s),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function vse(t,e){return Js(t.valueOf(),e.valueOf())}function yse(t,e){return t.source===e.source&&t.flags===e.flags}function p5(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),s=t.values();let o,c;for(;(o=s.next())&&!o.done;){const d=e.values();let f=!1,p=0;for(;(c=d.next())&&!c.done;){if(!i[p]&&r.equals(o.value,c.value,o.value,c.value,t,e,r)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function np(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function xse(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ND(t,e,r,n){return(n===lse||n===ose||n===sse)&&(t.$$typeof||e.$$typeof)?!0:ase(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const bse="[object ArrayBuffer]",wse="[object Arguments]",jse="[object Boolean]",Sse="[object DataView]",_se="[object Date]",Nse="[object Error]",kse="[object Map]",Tse="[object Number]",Ase="[object Object]",Pse="[object RegExp]",Cse="[object Set]",Ese="[object String]",Ose={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Ise="[object URL]",Rse=Object.prototype.toString;function $se({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:c,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:h,areTypedArraysEqual:g,areUrlsEqual:v,unknownTagComparators:b}){return function(x,S,k){if(x===S)return!0;if(x==null||S==null)return!1;const _=typeof x;if(_!==typeof S)return!1;if(_!=="object")return _==="number"?c(x,S,k):_==="function"?s(x,S,k):!1;const C=x.constructor;if(C!==S.constructor)return!1;if(C===Object)return d(x,S,k);if(Array.isArray(x))return e(x,S,k);if(C===Date)return n(x,S,k);if(C===RegExp)return p(x,S,k);if(C===Map)return o(x,S,k);if(C===Set)return h(x,S,k);const N=Rse.call(x);if(N===_se)return n(x,S,k);if(N===Pse)return p(x,S,k);if(N===kse)return o(x,S,k);if(N===Cse)return h(x,S,k);if(N===Ase)return typeof x.then!="function"&&typeof S.then!="function"&&d(x,S,k);if(N===Ise)return v(x,S,k);if(N===Nse)return i(x,S,k);if(N===wse)return d(x,S,k);if(Ose[N])return g(x,S,k);if(N===bse)return t(x,S,k);if(N===Sse)return r(x,S,k);if(N===jse||N===Tse||N===Ese)return f(x,S,k);if(b){let T=b[N];if(!T){const E=ise(x);E&&(T=b[E])}if(T)return T(x,S,k)}return!1}}function Mse({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:cse,areArraysEqual:r?Uc:use,areDataViewsEqual:dse,areDatesEqual:fse,areErrorsEqual:hse,areFunctionsEqual:pse,areMapsEqual:r?gb(h5,Uc):h5,areNumbersEqual:mse,areObjectsEqual:r?Uc:gse,arePrimitiveWrappersEqual:vse,areRegExpsEqual:yse,areSetsEqual:r?gb(p5,Uc):p5,areTypedArraysEqual:r?gb(np,Uc):np,areUrlsEqual:xse,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=th(n.areArraysEqual),s=th(n.areMapsEqual),o=th(n.areObjectsEqual),c=th(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return n}function Dse(t){return function(e,r,n,i,s,o,c){return t(e,r,c)}}function zse({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(c,d){const{cache:f=t?new WeakMap:void 0,meta:p}=r();return e(c,d,{cache:f,equals:n,meta:p,strict:i})};if(t)return function(c,d){return e(c,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(c,d){return e(c,d,s)}}const Lse=rs();rs({strict:!0});rs({circular:!0});rs({circular:!0,strict:!0});rs({createInternalComparator:()=>Js});rs({strict:!0,createInternalComparator:()=>Js});rs({circular:!0,createInternalComparator:()=>Js});rs({circular:!0,createInternalComparator:()=>Js,strict:!0});function rs(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,s=Mse(t),o=$se(s),c=r?r(o):Dse(o);return zse({circular:e,comparator:o,createState:n,equals:c,strict:i})}function Bse(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function m5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):Bse(i)};requestAnimationFrame(n)}function g1(t){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g1(t)}function Fse(t){return Wse(t)||Vse(t)||Use(t)||qse()}function qse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Use(t,e){if(t){if(typeof t=="string")return g5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g5(t,e)}}function g5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wse(t){if(Array.isArray(t))return t}function Hse(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,c=Fse(o),d=c[0],f=c.slice(1);if(typeof d=="number"){m5(i.bind(null,f),d);return}i(d),m5(i.bind(null,f));return}g1(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function v5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v5(Object(r),!0).forEach(function(n){kD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kD(t,e,r){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gse(t){var e=Kse(t,"string");return Gu(e)==="symbol"?e:String(e)}function Kse(t,e){if(Gu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xse=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Yse=function(e){return e},Jse=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},lu=function(e,r){return Object.keys(r).reduce(function(n,i){return y5(y5({},n),{},kD({},i,e(i,r[i])))},{})},x5=function(e,r,n){return e.map(function(i){return"".concat(Jse(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Qse(t,e){return toe(t)||eoe(t,e)||TD(t,e)||Zse()}function Zse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function toe(t){if(Array.isArray(t))return t}function roe(t){return aoe(t)||ioe(t)||TD(t)||noe()}function noe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TD(t,e){if(t){if(typeof t=="string")return v1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v1(t,e)}}function ioe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aoe(t){if(Array.isArray(t))return v1(t)}function v1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ip=1e-4,AD=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},PD=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},b5=function(e,r){return function(n){var i=AD(e,r);return PD(i,n)}},soe=function(e,r){return function(n){var i=AD(e,r),s=[].concat(roe(i.map(function(o,c){return o*c}).slice(1)),[0]);return PD(s,n)}},w5=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,c=1;break;case"ease":i=.25,s=.1,o=.25,c=1;break;case"ease-in":i=.42,s=0,o=1,c=1;break;case"ease-out":i=.42,s=0,o=.58,c=1;break;case"ease-in-out":i=0,s=0,o=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=Qse(f,4);i=p[0],s=p[1],o=p[2],c=p[3]}}}var h=b5(i,o),g=b5(s,c),v=soe(i,o),b=function(S){return S>1?1:S<0?0:S},w=function(S){for(var k=S>1?1:S,_=k,C=0;C<8;++C){var N=h(_)-k,T=v(_);if(Math.abs(N-k)<ip||T<ip)return g(_);_=b(_-N/T)}return g(_)};return w.isStepper=!1,w},ooe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,c=o===void 0?17:o,d=function(p,h,g){var v=-(p-h)*n,b=g*s,w=g+(v-b)*c/1e3,x=g*c/1e3+p;return Math.abs(x-h)<ip&&Math.abs(w)<ip?[h,0]:[x,w]};return d.isStepper=!0,d.dt=c,d},loe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w5(i);case"spring":return ooe();default:if(i.split("(")[0]==="cubic-bezier")return w5(i)}return typeof i=="function"?i:null};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function j5(t){return doe(t)||uoe(t)||CD(t)||coe()}function coe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function doe(t){if(Array.isArray(t))return x1(t)}function S5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(r),!0).forEach(function(n){y1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y1(t,e,r){return e=foe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function foe(t){var e=hoe(t,"string");return Ku(e)==="symbol"?e:String(e)}function hoe(t,e){if(Ku(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ku(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function poe(t,e){return voe(t)||goe(t,e)||CD(t,e)||moe()}function moe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CD(t,e){if(t){if(typeof t=="string")return x1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x1(t,e)}}function x1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function goe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function voe(t){if(Array.isArray(t))return t}var ap=function(e,r,n){return e+(r-e)*n},b1=function(e){var r=e.from,n=e.to;return r!==n},yoe=function t(e,r,n){var i=lu(function(s,o){if(b1(o)){var c=e(o.from,o.to,o.velocity),d=poe(c,2),f=d[0],p=d[1];return Nr(Nr({},o),{},{from:f,velocity:p})}return o},r);return n<1?lu(function(s,o){return b1(o)?Nr(Nr({},o),{},{velocity:ap(o.velocity,i[s].velocity,n),from:ap(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const xoe=(function(t,e,r,n,i){var s=Xse(t,e),o=s.reduce(function(x,S){return Nr(Nr({},x),{},y1({},S,[t[S],e[S]]))},{}),c=s.reduce(function(x,S){return Nr(Nr({},x),{},y1({},S,{from:t[S],velocity:0,to:e[S]}))},{}),d=-1,f,p,h=function(){return null},g=function(){return lu(function(S,k){return k.from},c)},v=function(){return!Object.values(c).filter(b1).length},b=function(S){f||(f=S);var k=S-f,_=k/r.dt;c=yoe(r,c,_),i(Nr(Nr(Nr({},t),e),g())),f=S,v()||(d=requestAnimationFrame(h))},w=function(S){p||(p=S);var k=(S-p)/n,_=lu(function(N,T){return ap.apply(void 0,j5(T).concat([r(k)]))},o);if(i(Nr(Nr(Nr({},t),e),_)),k<1)d=requestAnimationFrame(h);else{var C=lu(function(N,T){return ap.apply(void 0,j5(T).concat([r(1)]))},o);i(Nr(Nr(Nr({},t),e),C))}};return h=r.isStepper?b:w,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}var boe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function woe(t,e){if(t==null)return{};var r=joe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function joe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function vb(t){return koe(t)||Noe(t)||_oe(t)||Soe()}function Soe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _oe(t,e){if(t){if(typeof t=="string")return w1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(t,e)}}function Noe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function koe(t){if(Array.isArray(t))return w1(t)}function w1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_5(Object(r),!0).forEach(function(n){Jc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jc(t,e,r){return e=ED(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Toe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ED(n.key),n)}}function Poe(t,e,r){return e&&Aoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ED(t){var e=Coe(t,"string");return vl(e)==="symbol"?e:String(e)}function Coe(t,e){if(vl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j1(t,e)}function j1(t,e){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j1(t,e)}function Ooe(t){var e=Ioe();return function(){var n=sp(t),i;if(e){var s=sp(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return S1(this,i)}}function S1(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _1(t)}function _1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ioe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sp(t)}var ki=(function(t){Eoe(r,t);var e=Ooe(r);function r(n,i){var s;Toe(this,r),s=e.call(this,n,i);var o=s.props,c=o.isActive,d=o.attributeName,f=o.from,p=o.to,h=o.steps,g=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(_1(s)),s.changeStyle=s.changeStyle.bind(_1(s)),!c||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:p}),S1(s);if(h&&h.length)s.state={style:h[0].style};else if(f){if(typeof g=="function")return s.state={style:f},S1(s);s.state={style:d?Jc({},d,f):f}}else s.state={style:{}};return s}return Poe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,c=s.canBegin,d=s.attributeName,f=s.shouldReAnimate,p=s.to,h=s.from,g=this.state.style;if(c){if(!o){var v={style:d?Jc({},d,p):p};this.state&&g&&(d&&g[d]!==p||!d&&g!==p)&&this.setState(v);return}if(!(Lse(i.to,p)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=b||f?h:i.to;if(this.state&&g){var x={style:d?Jc({},d,w):w};(d&&g[d]!==w||!d&&g!==w)&&this.setState(x)}this.runAnimation(Kn(Kn({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,c=i.to,d=i.duration,f=i.easing,p=i.begin,h=i.onAnimationEnd,g=i.onAnimationStart,v=xoe(o,c,loe(f),d,this.changeStyle),b=function(){s.stopJSAnimation=v()};this.manager.start([g,p,b,d,h])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,c=i.begin,d=i.onAnimationStart,f=o[0],p=f.style,h=f.duration,g=h===void 0?0:h,v=function(w,x,S){if(S===0)return w;var k=x.duration,_=x.easing,C=_===void 0?"ease":_,N=x.style,T=x.properties,E=x.onAnimationEnd,O=S>0?o[S-1]:x,R=T||Object.keys(N);if(typeof C=="function"||C==="spring")return[].concat(vb(w),[s.runJSAnimation.bind(s,{from:O.style,to:N,duration:k,easing:C}),k]);var H=x5(R,k,C),L=Kn(Kn(Kn({},O.style),N),{},{transition:H});return[].concat(vb(w),[L,k,E]).filter(Yse)};return this.manager.start([d].concat(vb(o.reduce(v,[p,Math.max(g,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Hse());var s=i.begin,o=i.duration,c=i.attributeName,d=i.to,f=i.easing,p=i.onAnimationStart,h=i.onAnimationEnd,g=i.steps,v=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var w=c?Jc({},c,d):d,x=x5(Object.keys(w),o,f);b.start([p,s,Kn(Kn({},w),{},{transition:x}),o,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=woe(i,boe),f=P.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!c||f===0||o<=0)return s;var h=function(v){var b=v.props,w=b.style,x=w===void 0?{}:w,S=b.className,k=P.cloneElement(v,Kn(Kn({},d),{},{style:Kn(Kn({},x),p),className:S}));return k};return f===1?h(P.Children.only(s)):z.createElement("div",null,P.Children.map(s,function(g){return h(g)}))}}]),r})(P.PureComponent);ki.displayName="Animate";ki.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ki.propTypes={from:ut.oneOfType([ut.object,ut.string]),to:ut.oneOfType([ut.object,ut.string]),attributeName:ut.string,duration:ut.number,begin:ut.number,easing:ut.oneOfType([ut.string,ut.func]),steps:ut.arrayOf(ut.shape({duration:ut.number.isRequired,style:ut.object.isRequired,easing:ut.oneOfType([ut.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ut.func]),properties:ut.arrayOf("string"),onAnimationEnd:ut.func})),children:ut.oneOfType([ut.node,ut.func]),isActive:ut.bool,canBegin:ut.bool,onAnimationEnd:ut.func,shouldReAnimate:ut.bool,onAnimationStart:ut.func,onAnimationReStart:ut.func};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},op.apply(this,arguments)}function Roe(t,e){return zoe(t)||Doe(t,e)||Moe(t,e)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Moe(t,e){if(t){if(typeof t=="string")return N5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N5(t,e)}}function N5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Doe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function zoe(t){if(Array.isArray(t))return t}function k5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(r),!0).forEach(function(n){Loe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Loe(t,e,r){return e=Boe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Boe(t){var e=Foe(t,"string");return Xu(e)=="symbol"?e:e+""}function Foe(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A5=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,p;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,v=4;g<v;g++)h[g]=s[g]>o?o:s[g];p="M".concat(e,",").concat(r+c*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(r)),p+="L ".concat(e+n-d*h[1],",").concat(r),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+c*h[1])),p+="L ".concat(e+n,",").concat(r+i-c*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-d*h[2],",").concat(r+i)),p+="L ".concat(e+d*h[3],",").concat(r+i),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-c*h[3])),p+="Z"}else if(o>0&&s===+s&&s>0){var b=Math.min(o,s);p="M ".concat(e,",").concat(r+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+d*b,",").concat(r,`
            L `).concat(e+n-d*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(r+c*b,`
            L `).concat(e+n,",").concat(r+i-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-d*b,",").concat(r+i,`
            L `).concat(e+d*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(r+i-c*b," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},qoe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(s,s+c),p=Math.max(s,s+c),h=Math.min(o,o+d),g=Math.max(o,o+d);return n>=f&&n<=p&&i>=h&&i<=g}return!1},Uoe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FS=function(e){var r=T5(T5({},Uoe),e),n=P.useRef(),i=P.useState(-1),s=Roe(i,2),o=s[0],c=s[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&c(C)}catch{}},[]);var d=r.x,f=r.y,p=r.width,h=r.height,g=r.radius,v=r.className,b=r.animationEasing,w=r.animationDuration,x=r.animationBegin,S=r.isAnimationActive,k=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||p===0||h===0)return null;var _=nt("recharts-rectangle",v);return k?z.createElement(ki,{canBegin:o>0,from:{width:p,height:h,x:d,y:f},to:{width:p,height:h,x:d,y:f},duration:w,animationEasing:b,isActive:k},function(C){var N=C.width,T=C.height,E=C.x,O=C.y;return z.createElement(ki,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:S,easing:b},z.createElement("path",op({},Ye(r,!0),{className:_,d:A5(E,O,N,T,g),ref:n})))}):z.createElement("path",op({},Ye(r,!0),{className:_,d:A5(d,f,p,h,g)}))};function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N1.apply(this,arguments)}var fm=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=nt("recharts-dot",s);return r===+r&&n===+n&&i===+i?P.createElement("circle",N1({},Ye(e,!1),Th(e),{className:o,cx:r,cy:n,r:i})):null};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}var Voe=["x","y","top","left","width","height","className"];function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k1.apply(this,arguments)}function P5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Woe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(r),!0).forEach(function(n){Hoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hoe(t,e,r){return e=Goe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Goe(t){var e=Koe(t,"string");return Yu(e)=="symbol"?e:e+""}function Koe(t,e){if(Yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xoe(t,e){if(t==null)return{};var r=Yoe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Joe=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Qoe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,c=o===void 0?0:o,d=e.left,f=d===void 0?0:d,p=e.width,h=p===void 0?0:p,g=e.height,v=g===void 0?0:g,b=e.className,w=Xoe(e,Voe),x=Woe({x:n,y:s,top:c,left:f,width:h,height:v},w);return!je(n)||!je(s)||!je(h)||!je(v)||!je(c)||!je(f)?null:z.createElement("path",k1({},Ye(x,!0),{className:nt("recharts-cross",b),d:Joe(n,s,h,v,c,f)}))},yb,C5;function Zoe(){if(C5)return yb;C5=1;var t=YM(),e=t(Object.getPrototypeOf,Object);return yb=e,yb}var xb,E5;function ele(){if(E5)return xb;E5=1;var t=la(),e=Zoe(),r=ca(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,c=s.hasOwnProperty,d=o.call(Object);function f(p){if(!r(p)||t(p)!=n)return!1;var h=e(p);if(h===null)return!0;var g=c.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==d}return xb=f,xb}var tle=ele();const rle=vt(tle);var bb,O5;function nle(){if(O5)return bb;O5=1;var t=la(),e=ca(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return bb=n,bb}var ile=nle();const ale=vt(ile);function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lp.apply(this,arguments)}function sle(t,e){return ule(t)||cle(t,e)||lle(t,e)||ole()}function ole(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lle(t,e){if(t){if(typeof t=="string")return I5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I5(t,e)}}function I5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function ule(t){if(Array.isArray(t))return t}function R5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R5(Object(r),!0).forEach(function(n){dle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dle(t,e,r){return e=fle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fle(t){var e=hle(t,"string");return Ju(e)=="symbol"?e:e+""}function hle(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M5=function(e,r,n,i,s){var o=n-i,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-o/2,",").concat(r+s),c+="L ".concat(e+n-o/2-i,",").concat(r+s),c+="L ".concat(e,",").concat(r," Z"),c},ple={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mle=function(e){var r=$5($5({},ple),e),n=P.useRef(),i=P.useState(-1),s=sle(i,2),o=s[0],c=s[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&c(_)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,h=r.lowerWidth,g=r.height,v=r.className,b=r.animationEasing,w=r.animationDuration,x=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||g!==+g||p===0&&h===0||g===0)return null;var k=nt("recharts-trapezoid",v);return S?z.createElement(ki,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:p,lowerWidth:h,height:g,x:d,y:f},duration:w,animationEasing:b,isActive:S},function(_){var C=_.upperWidth,N=_.lowerWidth,T=_.height,E=_.x,O=_.y;return z.createElement(ki,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:b},z.createElement("path",lp({},Ye(r,!0),{className:k,d:M5(E,O,C,N,T),ref:n})))}):z.createElement("g",null,z.createElement("path",lp({},Ye(r,!0),{className:k,d:M5(d,f,p,h,g)})))},gle=["option","shapeType","propTransformer","activeClassName","isActive"];function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function vle(t,e){if(t==null)return{};var r=yle(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(r),!0).forEach(function(n){xle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xle(t,e,r){return e=ble(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ble(t){var e=wle(t,"string");return Qu(e)=="symbol"?e:e+""}function wle(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jle(t,e){return cp(cp({},e),t)}function Sle(t,e){return t==="symbols"}function z5(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(FS,r);case"trapezoid":return z.createElement(mle,r);case"sector":return z.createElement(_D,r);case"symbols":if(Sle(e))return z.createElement(sS,r);break;default:return null}}function _le(t){return P.isValidElement(t)?t.props:t}function Nle(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?jle:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,c=t.isActive,d=vle(t,gle),f;if(P.isValidElement(e))f=P.cloneElement(e,cp(cp({},d),_le(e)));else if(Ke(e))f=e(d);else if(rle(e)&&!ale(e)){var p=i(e,d);f=z.createElement(z5,{shapeType:r,elementProps:p})}else{var h=d;f=z.createElement(z5,{shapeType:r,elementProps:h})}return c?z.createElement(Nt,{className:o},f):f}function hm(t,e){return e!=null&&"trapezoids"in t.props}function pm(t,e){return e!=null&&"sectors"in t.props}function Zu(t,e){return e!=null&&"points"in t.props}function kle(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function Tle(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Ale(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Ple(t,e){var r;return hm(t,e)?r=kle:pm(t,e)?r=Tle:Zu(t,e)&&(r=Ale),r}function Cle(t,e){var r;return hm(t,e)?r="trapezoids":pm(t,e)?r="sectors":Zu(t,e)&&(r="points"),r}function Ele(t,e){if(hm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(pm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Zu(t,e)?e.payload:{}}function Ole(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Cle(r,e),s=Ele(r,e),o=n.filter(function(d,f){var p=ml(s,d),h=r.props[i].filter(function(b){var w=Ple(r,e);return w(b,e)}),g=r.props[i].indexOf(h[h.length-1]),v=f===g;return p&&v}),c=n.indexOf(o[o.length-1]);return c}var wb,L5;function Ile(){if(L5)return wb;L5=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var c=-1,d=e(t((i-n)/(s||1)),0),f=Array(d);d--;)f[o?d:++c]=n,n+=s;return f}return wb=r,wb}var jb,B5;function OD(){if(B5)return jb;B5=1;var t=f3(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return jb=n,jb}var Sb,F5;function Rle(){if(F5)return Sb;F5=1;var t=Ile(),e=rm(),r=OD();function n(i){return function(s,o,c){return c&&typeof c!="number"&&e(s,o,c)&&(o=c=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),c=c===void 0?s<o?1:-1:r(c),t(s,o,c,i)}}return Sb=n,Sb}var _b,q5;function $le(){if(q5)return _b;q5=1;var t=Rle(),e=t();return _b=e,_b}var Mle=$le();const up=vt(Mle);function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function U5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U5(Object(r),!0).forEach(function(n){ID(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ID(t,e,r){return e=Dle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dle(t){var e=zle(t,"string");return ed(e)=="symbol"?e:e+""}function zle(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lle=["Webkit","Moz","O","ms"],Ble=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Lle.reduce(function(s,o){return V5(V5({},s),{},ID({},o+n,r))},{});return i[e]=r,i};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dp.apply(this,arguments)}function W5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(r),!0).forEach(function(n){hn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$D(n.key),n)}}function qle(t,e,r){return e&&H5(t.prototype,e),r&&H5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ule(t,e,r){return e=fp(e),Vle(t,RD()?Reflect.construct(e,r||[],fp(t).constructor):e.apply(t,r))}function Vle(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wle(t)}function Wle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(t)}function Hle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T1(t,e)}function T1(t,e){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T1(t,e)}function hn(t,e,r){return e=$D(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $D(t){var e=Gle(t,"string");return yl(e)=="symbol"?e:e+""}function Gle(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kle=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=su().domain(up(0,d)).range([s,s+o-c]),p=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:p}},G5=function(e){return e.changedTouches&&!!e.changedTouches.length},xl=(function(t){function e(r){var n;return Fle(this,e),n=Ule(this,e,[r]),hn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),hn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),hn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,c=i.startIndex;o?.({endIndex:s,startIndex:c})}),n.detachDragEndListener()}),hn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hn(n,"handleSlideDragStart",function(i){var s=G5(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Hle(e,t),qle(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,p=f.length-1,h=Math.min(i,s),g=Math.max(i,s),v=e.getIndexInRange(o,h),b=e.getIndexInRange(o,g);return{startIndex:v-v%d,endIndex:b===p?p:b-b%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,c=i.dataKey,d=Gr(s[n],c,n);return Ke(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,c=i.endX,d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.startIndex,v=d.endIndex,b=d.onChange,w=n.pageX-s;w>0?w=Math.min(w,f+p-h-c,f+p-h-o):w<0&&(w=Math.max(w,f-o,f-c));var x=this.getIndex({startX:o+w,endX:c+w});(x.startIndex!==g||x.endIndex!==v)&&b&&b(x),this.setState({startX:o+w,endX:c+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=G5(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,c=i.endX,d=i.startX,f=this.state[o],p=this.props,h=p.x,g=p.width,v=p.travellerWidth,b=p.onChange,w=p.gap,x=p.data,S={startX:this.state.startX,endX:this.state.endX},k=n.pageX-s;k>0?k=Math.min(k,h+g-v-f):k<0&&(k=Math.max(k,h-f)),S[o]=f+k;var _=this.getIndex(S),C=_.startIndex,N=_.endIndex,T=function(){var O=x.length-1;return o==="startX"&&(c>d?C%w===0:N%w===0)||c<d&&N===O||o==="endX"&&(c>d?N%w===0:C%w===0)||c>d&&N===O};this.setState(hn(hn({},o,f+k),"brushMoveStartX",n.pageX),function(){b&&T()&&b(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,c=o.scaleValues,d=o.startX,f=o.endX,p=this.state[i],h=c.indexOf(p);if(h!==-1){var g=h+n;if(!(g===-1||g>=c.length)){var v=c[g];i==="startX"&&v>=f||i==="endX"&&v<=d||this.setState(hn({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,d=n.fill,f=n.stroke;return z.createElement("rect",{stroke:f,fill:d,x:i,y:s,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,d=n.data,f=n.children,p=n.padding,h=P.Children.only(f);return h?z.cloneElement(h,{x:i,y:s,width:o,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,c=this,d=this.props,f=d.y,p=d.travellerWidth,h=d.height,g=d.traveller,v=d.ariaLabel,b=d.data,w=d.startIndex,x=d.endIndex,S=Math.max(n,this.props.x),k=Nb(Nb({},Ye(this.props,!1)),{},{x:S,y:f,width:p,height:h}),_=v||"Min value: ".concat((s=b[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=b[x])===null||o===void 0?void 0:o.name);return z.createElement(Nt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,k))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,c=s.height,d=s.stroke,f=s.travellerWidth,p=Math.min(n,i)+f,h=Math.max(Math.abs(i-n)-f,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:o,width:h,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,c=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,h=p.startX,g=p.endX,v=5,b={pointerEvents:"none",fill:f};return z.createElement(Nt,{className:"recharts-brush-texts"},z.createElement(Lh,dp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-v,y:o+c/2},b),this.getTextOfTick(i)),z.createElement(Lh,dp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+d+v,y:o+c/2},b),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,c=n.x,d=n.y,f=n.width,p=n.height,h=n.alwaysShowText,g=this.state,v=g.startX,b=g.endX,w=g.isTextActive,x=g.isSlideMoving,S=g.isTravellerMoving,k=g.isTravellerFocused;if(!i||!i.length||!je(c)||!je(d)||!je(f)||!je(p)||f<=0||p<=0)return null;var _=nt("recharts-brush",s),C=z.Children.count(o)===1,N=Ble("userSelect","none");return z.createElement(Nt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(v,b),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(b,"endX"),(w||x||S||k||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,c=n.height,d=n.stroke,f=Math.floor(s+c/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:s,width:o,height:c,fill:d,stroke:"none"}),z.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Ke(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,c=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,h=n.endIndex;if(s!==i.prevData||f!==i.prevUpdateId)return Nb({prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:o},s&&s.length?Kle({data:s,width:o,x:c,travellerWidth:d,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||c!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([c,c+o-d]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,c=s-1;c-o>1;){var d=Math.floor((o+c)/2);n[d]>i?c=d:o=d}return i>=n[c]?c:o}}])})(P.PureComponent);hn(xl,"displayName","Brush");hn(xl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var kb,K5;function Xle(){if(K5)return kb;K5=1;var t=hS();function e(r,n){var i;return t(r,function(s,o,c){return i=n(s,o,c),!i}),!!i}return kb=e,kb}var Tb,X5;function Yle(){if(X5)return Tb;X5=1;var t=UM(),e=Za(),r=Xle(),n=an(),i=rm();function s(o,c,d){var f=n(o)?t:r;return d&&i(o,c,d)&&(c=void 0),f(o,e(c,3))}return Tb=s,Tb}var Jle=Yle();const Qle=vt(Jle);var ji=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Ab,Y5;function Zle(){if(Y5)return Ab;Y5=1;var t=o3();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Ab=e,Ab}var Pb,J5;function ece(){if(J5)return Pb;J5=1;var t=Zle(),e=a3(),r=Za();function n(i,s){var o={};return s=r(s,3),e(i,function(c,d,f){t(o,d,s(c,d,f))}),o}return Pb=n,Pb}var tce=ece();const rce=vt(tce);var Cb,Q5;function nce(){if(Q5)return Cb;Q5=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Cb=t,Cb}var Eb,Z5;function ice(){if(Z5)return Eb;Z5=1;var t=hS();function e(r,n){var i=!0;return t(r,function(s,o,c){return i=!!n(s,o,c),i}),i}return Eb=e,Eb}var Ob,eI;function ace(){if(eI)return Ob;eI=1;var t=nce(),e=ice(),r=Za(),n=an(),i=rm();function s(o,c,d){var f=n(o)?t:e;return d&&i(o,c,d)&&(c=void 0),f(o,r(c,3))}return Ob=s,Ob}var sce=ace();const MD=vt(sce);var oce=["x","y"];function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A1.apply(this,arguments)}function tI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(r),!0).forEach(function(n){lce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lce(t,e,r){return e=cce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cce(t){var e=uce(t,"string");return td(e)=="symbol"?e:e+""}function uce(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dce(t,e){if(t==null)return{};var r=fce(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hce(t,e){var r=t.x,n=t.y,i=dce(t,oce),s="".concat(r),o=parseInt(s,10),c="".concat(n),d=parseInt(c,10),f="".concat(e.height||i.height),p=parseInt(f,10),h="".concat(e.width||i.width),g=parseInt(h,10);return Vc(Vc(Vc(Vc(Vc({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:p,width:g,name:e.name,radius:e.radius})}function rI(t){return z.createElement(Nle,A1({shapeType:"rectangle",propTransformer:hce,activeClassName:"recharts-active-bar"},t))}var pce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=je(n)||wY(n);return s?e(n,i):(s||Vs(),r)}},mce=["value","background"],DD;function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function gce(t,e){if(t==null)return{};var r=vce(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hp.apply(this,arguments)}function nI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LD(n.key),n)}}function xce(t,e,r){return e&&iI(t.prototype,e),r&&iI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bce(t,e,r){return e=pp(e),wce(t,zD()?Reflect.construct(e,r||[],pp(t).constructor):e.apply(t,r))}function wce(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jce(t)}function jce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zD=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pp(t)}function Sce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P1(t,e)}function P1(t,e){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P1(t,e)}function Va(t,e,r){return e=LD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LD(t){var e=_ce(t,"string");return bl(e)=="symbol"?e:e+""}function _ce(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bd=(function(t){function e(){var r;yce(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=bce(this,e,[].concat(i)),Va(r,"state",{isAnimationFinished:!1}),Va(r,"id",Bl("recharts-bar-")),Va(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Va(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Sce(e,t),xce(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,c=s.dataKey,d=s.activeIndex,f=s.activeBar,p=Ye(this.props,!1);return n&&n.map(function(h,g){var v=g===d,b=v?f:o,w=Xt(Xt(Xt({},p),h),{},{isActive:v,option:b,index:g,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(Nt,hp({className:"recharts-bar-rectangle"},Ah(i.props,h,g),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(g)}),z.createElement(rI,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,p=i.animationEasing,h=i.animationId,g=this.state.prevData;return z.createElement(ki,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t,w=s.map(function(x,S){var k=g&&g[S];if(k){var _=Tr(k.x,x.x),C=Tr(k.y,x.y),N=Tr(k.width,x.width),T=Tr(k.height,x.height);return Xt(Xt({},x),{},{x:_(b),y:C(b),width:N(b),height:T(b)})}if(o==="horizontal"){var E=Tr(0,x.height),O=E(b);return Xt(Xt({},x),{},{y:x.y+x.height-O,height:O})}var R=Tr(0,x.width),H=R(b);return Xt(Xt({},x),{},{width:H})});return z.createElement(Nt,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!ml(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,c=i.activeIndex,d=Ye(this.props.background,!1);return s.map(function(f,p){f.value;var h=f.background,g=gce(f,mce);if(!h)return null;var v=Xt(Xt(Xt(Xt(Xt({},g),{},{fill:"#eee"},h),d),Ah(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return z.createElement(rI,hp({key:"background-bar-".concat(p),option:n.props.background,isActive:p===c},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,c=s.xAxis,d=s.yAxis,f=s.layout,p=s.children,h=Dn(p,xd);if(!h)return null;var g=f==="vertical"?o[0].height/2:o[0].width/2,v=function(x,S){var k=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:k,errorVal:Gr(x,S)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(Nt,b,h.map(function(w){return z.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:o,xAxis:c,yAxis:d,layout:f,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,c=n.xAxis,d=n.yAxis,f=n.left,p=n.top,h=n.width,g=n.height,v=n.isAnimationActive,b=n.background,w=n.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,S=nt("recharts-bar",o),k=c&&c.allowDataOverflow,_=d&&d.allowDataOverflow,C=k||_,N=et(w)?this.id:w;return z.createElement(Nt,{className:S},k||_?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(N)},z.createElement("rect",{x:k?f:f-h/2,y:_?p:p-g/2,width:k?h:h*2,height:_?g:g*2}))):null,z.createElement(Nt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(N,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,N),(!v||x)&&Ji.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(P.PureComponent);DD=bd;Va(bd,"displayName","Bar");Va(bd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ks.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Va(bd,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,p=t.dataStartIndex,h=t.displayedData,g=t.offset,v=Lie(n,r);if(!v)return null;var b=e.layout,w=r.type.defaultProps,x=w!==void 0?Xt(Xt({},w),r.props):r.props,S=x.dataKey,k=x.children,_=x.minPointSize,C=b==="horizontal"?o:s,N=f?C.scale.domain():null,T=Gie({numericAxis:C}),E=Dn(k,m3),O=h.map(function(R,H){var L,M,$,V,Q,K;f?L=Bie(f[p+H],N):(L=Gr(R,S),Array.isArray(L)||(L=[T,L]));var Z=pce(_,DD.defaultProps.minPointSize)(L[1],H);if(b==="horizontal"){var D,U=[o.scale(L[0]),o.scale(L[1])],ee=U[0],B=U[1];M=VO({axis:s,ticks:c,bandSize:i,offset:v.offset,entry:R,index:H}),$=(D=B??ee)!==null&&D!==void 0?D:void 0,V=v.size;var q=ee-B;if(Q=Number.isNaN(q)?0:q,K={x:M,y:o.y,width:V,height:o.height},Math.abs(Z)>0&&Math.abs(Q)<Math.abs(Z)){var Y=ii(Q||Z)*(Math.abs(Z)-Math.abs(Q));$-=Y,Q+=Y}}else{var se=[s.scale(L[0]),s.scale(L[1])],fe=se[0],te=se[1];if(M=fe,$=VO({axis:o,ticks:d,bandSize:i,offset:v.offset,entry:R,index:H}),V=te-fe,Q=v.size,K={x:s.x,y:$,width:s.width,height:Q},Math.abs(Z)>0&&Math.abs(V)<Math.abs(Z)){var he=ii(V||Z)*(Math.abs(Z)-Math.abs(V));V+=he}}return Xt(Xt(Xt({},R),{},{x:M,y:$,width:V,height:Q,value:f?L:L[1],payload:R,background:K},E&&E[H]&&E[H].props),{},{tooltipPayload:[wD(r,R)],tooltipPosition:{x:M+V/2,y:$+Q/2}})});return Xt({data:O,layout:b},g)});function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function Nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BD(n.key),n)}}function kce(t,e,r){return e&&aI(t.prototype,e),r&&aI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ei(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(r),!0).forEach(function(n){mm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mm(t,e,r){return e=BD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BD(t){var e=Tce(t,"string");return rd(e)=="symbol"?e:e+""}function Tce(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FD=function(e,r,n,i,s){var o=e.width,c=e.height,d=e.layout,f=e.children,p=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},g=!!pn(f,bd);return p.reduce(function(v,b){var w=r[b],x=w.orientation,S=w.domain,k=w.padding,_=k===void 0?{}:k,C=w.mirror,N=w.reversed,T="".concat(x).concat(C?"Mirror":""),E,O,R,H,L;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var M=S[1]-S[0],$=1/0,V=w.categoricalDomain.sort(_Y);if(V.forEach(function(se,fe){fe>0&&($=Math.min((se||0)-(V[fe-1]||0),$))}),Number.isFinite($)){var Q=$/M,K=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(E=Q*K/2),w.padding==="no-gap"){var Z=qs(e.barCategoryGap,Q*K),D=Q*K/2;E=D-Z-(D-Z)/K*Z}}}i==="xAxis"?O=[n.left+(_.left||0)+(E||0),n.left+n.width-(_.right||0)-(E||0)]:i==="yAxis"?O=d==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(E||0),n.top+n.height-(_.bottom||0)-(E||0)]:O=w.range,N&&(O=[O[1],O[0]]);var U=Die(w,s,g),ee=U.scale,B=U.realScaleType;ee.domain(S).range(O),zie(ee);var q=Hie(ee,ei(ei({},w),{},{realScaleType:B}));i==="xAxis"?(L=x==="top"&&!C||x==="bottom"&&C,R=n.left,H=h[T]-L*w.height):i==="yAxis"&&(L=x==="left"&&!C||x==="right"&&C,R=h[T]-L*w.width,H=n.top);var Y=ei(ei(ei({},w),q),{},{realScaleType:B,x:R,y:H,scale:ee,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return Y.bandSize=ep(Y,q),!w.hide&&i==="xAxis"?h[T]+=(L?-1:1)*Y.height:w.hide||(h[T]+=(L?-1:1)*Y.width),ei(ei({},v),{},mm({},b,Y))},{})},qD=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},Ace=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return qD({x:r,y:n},{x:i,y:s})},UD=(function(){function t(e){Nce(this,t),this.scale=e}return kce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();mm(UD,"EPS",1e-4);var qS=function(e){var r=Object.keys(e).reduce(function(n,i){return ei(ei({},n),{},mm({},i,UD.create(e[i])))},{});return ei(ei({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,c=s.position;return rce(i,function(d,f){return r[f].apply(d,{bandAware:o,position:c})})},isInRange:function(i){return MD(i,function(s,o){return r[o].isInRange(s)})}})};function Pce(t){return(t%180+180)%180}var Cce=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Pce(i),o=s*Math.PI/180,c=Math.atan(n/r),d=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},Ib,oI;function Ece(){if(oI)return Ib;oI=1;var t=Za(),e=pd(),r=em();function n(i){return function(s,o,c){var d=Object(s);if(!e(s)){var f=t(o,3);s=r(s),o=function(h){return f(d[h],h,d)}}var p=i(s,o,c);return p>-1?d[f?s[p]:p]:void 0}}return Ib=n,Ib}var Rb,lI;function Oce(){if(lI)return Rb;lI=1;var t=OD();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Rb=e,Rb}var $b,cI;function Ice(){if(cI)return $b;cI=1;var t=e3(),e=Za(),r=Oce(),n=Math.max;function i(s,o,c){var d=s==null?0:s.length;if(!d)return-1;var f=c==null?0:r(c);return f<0&&(f=n(d+f,0)),t(s,e(o,3),f)}return $b=i,$b}var Mb,uI;function Rce(){if(uI)return Mb;uI=1;var t=Ece(),e=Ice(),r=t(e);return Mb=r,Mb}var $ce=Rce();const Mce=vt($ce);var Dce=mM();const zce=vt(Dce);var Lce=zce(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),US=P.createContext(void 0),VS=P.createContext(void 0),VD=P.createContext(void 0),WD=P.createContext({}),HD=P.createContext(void 0),GD=P.createContext(0),KD=P.createContext(0),dI=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,c=e.children,d=e.width,f=e.height,p=Lce(s);return z.createElement(US.Provider,{value:n},z.createElement(VS.Provider,{value:i},z.createElement(WD.Provider,{value:s},z.createElement(VD.Provider,{value:p},z.createElement(HD.Provider,{value:o},z.createElement(GD.Provider,{value:f},z.createElement(KD.Provider,{value:d},c)))))))},Bce=function(){return P.useContext(HD)},XD=function(e){var r=P.useContext(US);r==null&&Vs();var n=r[e];return n==null&&Vs(),n},Fce=function(){var e=P.useContext(US);return Fa(e)},qce=function(){var e=P.useContext(VS),r=Mce(e,function(n){return MD(n.domain,Number.isFinite)});return r||Fa(e)},YD=function(e){var r=P.useContext(VS);r==null&&Vs();var n=r[e];return n==null&&Vs(),n},Uce=function(){var e=P.useContext(VD);return e},Vce=function(){return P.useContext(WD)},WS=function(){return P.useContext(KD)},HS=function(){return P.useContext(GD)};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function Wce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QD(n.key),n)}}function Gce(t,e,r){return e&&Hce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kce(t,e,r){return e=mp(e),Xce(t,JD()?Reflect.construct(e,r||[],mp(t).constructor):e.apply(t,r))}function Xce(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yce(t)}function Yce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JD=function(){return!!t})()}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mp(t)}function Jce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C1(t,e)}function C1(t,e){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C1(t,e)}function fI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(r),!0).forEach(function(n){GS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GS(t,e,r){return e=QD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QD(t){var e=Qce(t,"string");return wl(e)=="symbol"?e:e+""}function Qce(t,e){if(wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zce(t,e){return nue(t)||rue(t,e)||tue(t,e)||eue()}function eue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tue(t,e){if(t){if(typeof t=="string")return pI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pI(t,e)}}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function nue(t){if(Array.isArray(t))return t}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E1.apply(this,arguments)}var iue=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):Ke(e)?n=e(r):n=z.createElement("line",E1({},r,{className:"recharts-reference-line-line"})),n},aue=function(e,r,n,i,s,o,c,d,f){var p=s.x,h=s.y,g=s.width,v=s.height;if(n){var b=f.y,w=e.y.apply(b,{position:o});if(ji(f,"discard")&&!e.y.isInRange(w))return null;var x=[{x:p+g,y:w},{x:p,y:w}];return d==="left"?x.reverse():x}if(r){var S=f.x,k=e.x.apply(S,{position:o});if(ji(f,"discard")&&!e.x.isInRange(k))return null;var _=[{x:k,y:h+v},{x:k,y:h}];return c==="top"?_.reverse():_}if(i){var C=f.segment,N=C.map(function(T){return e.apply(T,{position:o})});return ji(f,"discard")&&Qle(N,function(T){return!e.isInRange(T)})?null:N}return null};function sue(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,c=t.className,d=t.alwaysShow,f=Bce(),p=XD(i),h=YD(s),g=Uce();if(!f||!g)return null;Xi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=qS({x:p.scale,y:h.scale}),b=cr(e),w=cr(r),x=n&&n.length===2,S=aue(v,b,w,x,g,t.position,p.orientation,h.orientation,t);if(!S)return null;var k=Zce(S,2),_=k[0],C=_.x,N=_.y,T=k[1],E=T.x,O=T.y,R=ji(t,"hidden")?"url(#".concat(f,")"):void 0,H=hI(hI({clipPath:R},Ye(t,!0)),{},{x1:C,y1:N,x2:E,y2:O});return z.createElement(Nt,{className:nt("recharts-reference-line",c)},iue(o,H),Dr.renderCallByParent(t,Ace({x1:C,y1:N,x2:E,y2:O})))}var KS=(function(t){function e(){return Wce(this,e),Kce(this,e,arguments)}return Jce(e,t),Gce(e,[{key:"render",value:function(){return z.createElement(sue,this.props)}}])})(z.Component);GS(KS,"displayName","ReferenceLine");GS(KS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O1.apply(this,arguments)}function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function mI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(r),!0).forEach(function(n){gm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ez(n.key),n)}}function cue(t,e,r){return e&&lue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uue(t,e,r){return e=gp(e),due(t,ZD()?Reflect.construct(e,r||[],gp(t).constructor):e.apply(t,r))}function due(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fue(t)}function fue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZD=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gp(t)}function hue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I1(t,e)}function I1(t,e){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I1(t,e)}function gm(t,e,r){return e=ez(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ez(t){var e=pue(t,"string");return jl(e)=="symbol"?e:e+""}function pue(t,e){if(jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mue=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=qS({x:i.scale,y:s.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return ji(e,"discard")&&!o.isInRange(c)?null:c},vm=(function(t){function e(){return oue(this,e),uue(this,e,arguments)}return hue(e,t),cue(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,c=n.alwaysShow,d=n.clipPathId,f=cr(i),p=cr(s);if(Xi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var h=mue(this.props);if(!h)return null;var g=h.x,v=h.y,b=this.props,w=b.shape,x=b.className,S=ji(this.props,"hidden")?"url(#".concat(d,")"):void 0,k=gI(gI({clipPath:S},Ye(this.props,!0)),{},{cx:g,cy:v});return z.createElement(Nt,{className:nt("recharts-reference-dot",x)},e.renderDot(w,k),Dr.renderCallByParent(this.props,{x:g-o,y:v-o,width:2*o,height:2*o}))}}])})(z.Component);gm(vm,"displayName","ReferenceDot");gm(vm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gm(vm,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ke(t)?r=t(e):r=z.createElement(fm,O1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R1.apply(this,arguments)}function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function vI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(r),!0).forEach(function(n){ym(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rz(n.key),n)}}function yue(t,e,r){return e&&vue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xue(t,e,r){return e=vp(e),bue(t,tz()?Reflect.construct(e,r||[],vp(t).constructor):e.apply(t,r))}function bue(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wue(t)}function wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tz=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vp(t)}function jue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$1(t,e)}function $1(t,e){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$1(t,e)}function ym(t,e,r){return e=rz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rz(t){var e=Sue(t,"string");return Sl(e)=="symbol"?e:e+""}function Sue(t,e){if(Sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _ue=function(e,r,n,i,s){var o=s.x1,c=s.x2,d=s.y1,f=s.y2,p=s.xAxis,h=s.yAxis;if(!p||!h)return null;var g=qS({x:p.scale,y:h.scale}),v={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(d,{position:"start"}):g.y.rangeMin},b={x:r?g.x.apply(c,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return ji(s,"discard")&&(!g.isInRange(v)||!g.isInRange(b))?null:qD(v,b)},xm=(function(t){function e(){return gue(this,e),xue(this,e,arguments)}return jue(e,t),yue(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,c=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;Xi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=cr(i),g=cr(s),v=cr(o),b=cr(c),w=this.props.shape;if(!h&&!g&&!v&&!b&&!w)return null;var x=_ue(h,g,v,b,this.props);if(!x&&!w)return null;var S=ji(this.props,"hidden")?"url(#".concat(p,")"):void 0;return z.createElement(Nt,{className:nt("recharts-reference-area",d)},e.renderRect(w,yI(yI({clipPath:S},Ye(this.props,!0)),x)),Dr.renderCallByParent(this.props,x))}}])})(z.Component);ym(xm,"displayName","ReferenceArea");ym(xm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ym(xm,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ke(t)?r=t(e):r=z.createElement(FS,R1({},e,{className:"recharts-reference-area-rect"})),r});function nz(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Nue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Cce(n,r)}function kue(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,c=t.height;return e===1?{start:n?i:s,end:n?i+o:s+c}:{start:n?i+o:s+c,end:n?i:s}}function yp(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function Tue(t,e){return nz(t,e+1)}function Aue(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,c=e.end,d=0,f=1,p=o,h=function(){var b=n?.[d];if(b===void 0)return{v:nz(n,f)};var w=d,x,S=function(){return x===void 0&&(x=r(b,w)),x},k=b.coordinate,_=d===0||yp(t,k,S,p,c);_||(d=0,p=o,f+=1),_&&(p=k+t*(S()/2+i),d+=f)},g;f<=s.length;)if(g=h(),g)return g.v;return[]}function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function xI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(r),!0).forEach(function(n){Pue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pue(t,e,r){return e=Cue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cue(t){var e=Eue(t,"string");return nd(e)=="symbol"?e:e+""}function Eue(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oue(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,c=e.start,d=e.end,f=function(g){var v=s[g],b,w=function(){return b===void 0&&(b=r(v,g)),b};if(g===o-1){var x=t*(v.coordinate+t*w()/2-d);s[g]=v=$r($r({},v),{},{tickCoord:x>0?v.coordinate-x*t:v.coordinate})}else s[g]=v=$r($r({},v),{},{tickCoord:v.coordinate});var S=yp(t,v.tickCoord,w,c,d);S&&(d=v.tickCoord-t*(w()/2+i),s[g]=$r($r({},v),{},{isShow:!0}))},p=o-1;p>=0;p--)f(p);return s}function Iue(t,e,r,n,i,s){var o=(n||[]).slice(),c=o.length,d=e.start,f=e.end;if(s){var p=n[c-1],h=r(p,c-1),g=t*(p.coordinate+t*h/2-f);o[c-1]=p=$r($r({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate});var v=yp(t,p.tickCoord,function(){return h},d,f);v&&(f=p.tickCoord-t*(h/2+i),o[c-1]=$r($r({},p),{},{isShow:!0}))}for(var b=s?c-1:c,w=function(k){var _=o[k],C,N=function(){return C===void 0&&(C=r(_,k)),C};if(k===0){var T=t*(_.coordinate-t*N()/2-d);o[k]=_=$r($r({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else o[k]=_=$r($r({},_),{},{tickCoord:_.coordinate});var E=yp(t,_.tickCoord,N,d,f);E&&(d=_.tickCoord+t*(N()/2+i),o[k]=$r($r({},_),{},{isShow:!0}))},x=0;x<b;x++)w(x);return o}function XS(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,c=t.orientation,d=t.interval,f=t.tickFormatter,p=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(je(d)||Ks.isSsr)return Tue(i,typeof d=="number"&&je(d)?d:0);var g=[],v=c==="top"||c==="bottom"?"width":"height",b=p&&v==="width"?au(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(_,C){var N=Ke(f)?f(_.value,C):_.value;return v==="width"?Nue(au(N,{fontSize:e,letterSpacing:r}),b,h):au(N,{fontSize:e,letterSpacing:r})[v]},x=i.length>=2?ii(i[1].coordinate-i[0].coordinate):1,S=kue(s,x,v);return d==="equidistantPreserveStart"?Aue(x,S,w,i,o):(d==="preserveStart"||d==="preserveStartEnd"?g=Iue(x,S,w,i,o,d==="preserveStartEnd"):g=Oue(x,S,w,i,o),g.filter(function(k){return k.isShow}))}var Rue=["viewBox"],$ue=["viewBox"],Mue=["ticks"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Go.apply(this,arguments)}function bI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(r),!0).forEach(function(n){YS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Db(t,e){if(t==null)return{};var r=Due(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Due(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,az(n.key),n)}}function Lue(t,e,r){return e&&wI(t.prototype,e),r&&wI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bue(t,e,r){return e=xp(e),Fue(t,iz()?Reflect.construct(e,r||[],xp(t).constructor):e.apply(t,r))}function Fue(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return que(t)}function que(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iz=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xp(t)}function Uue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M1(t,e)}function M1(t,e){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M1(t,e)}function YS(t,e,r){return e=az(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function az(t){var e=Vue(t,"string");return _l(e)=="symbol"?e:e+""}function Vue(t,e){if(_l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wl=(function(t){function e(r){var n;return zue(this,e),n=Bue(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Uue(e,t),Lue(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=Db(n,Rue),c=this.props,d=c.viewBox,f=Db(c,$ue);return!Zo(s,d)||!Zo(o,f)||!Zo(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,c=i.width,d=i.height,f=i.orientation,p=i.tickSize,h=i.mirror,g=i.tickMargin,v,b,w,x,S,k,_=h?-1:1,C=n.tickSize||p,N=je(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":v=b=n.coordinate,x=o+ +!h*d,w=x-_*C,k=w-_*g,S=N;break;case"left":w=x=n.coordinate,b=s+ +!h*c,v=b-_*C,S=v-_*g,k=N;break;case"right":w=x=n.coordinate,b=s+ +h*c,v=b+_*C,S=v+_*g,k=N;break;default:v=b=n.coordinate,x=o+ +h*d,w=x+_*C,k=w+_*g,S=N;break}return{line:{x1:v,y1:w,x2:b,y2:x},tick:{x:S,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,h=ir(ir(ir({},Ye(this.props,!1)),Ye(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);h=ir(ir({},h),{},{x1:i,y1:s+g*c,x2:i+o,y2:s+g*c})}else{var v=+(d==="left"&&!f||d==="right"&&f);h=ir(ir({},h),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+c})}return z.createElement("line",Go({},h,{className:nt("recharts-cartesian-axis-line",Mn(p,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,c=this.props,d=c.tickLine,f=c.stroke,p=c.tick,h=c.tickFormatter,g=c.unit,v=XS(ir(ir({},this.props),{},{ticks:n}),i,s),b=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=Ye(this.props,!1),S=Ye(p,!1),k=ir(ir({},x),{},{fill:"none"},Ye(d,!1)),_=v.map(function(C,N){var T=o.getTickLineCoord(C),E=T.line,O=T.tick,R=ir(ir(ir(ir({textAnchor:b,verticalAnchor:w},x),{},{stroke:"none",fill:f},S),O),{},{index:N,payload:C,visibleTicksCount:v.length,tickFormatter:h});return z.createElement(Nt,Go({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Ah(o.props,C,N)),d&&z.createElement("line",Go({},k,E,{className:nt("recharts-cartesian-axis-tick-line",Mn(d,"className"))})),p&&e.renderTickItem(p,R,"".concat(Ke(h)?h(C.value,N):C.value).concat(g||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,c=i.height,d=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var h=this.props,g=h.ticks,v=Db(h,Mue),b=g;return Ke(d)&&(b=g&&g.length>0?d(this.props):d(v)),o<=0||c<=0||!b||!b.length?null:z.createElement(Nt,{className:nt("recharts-cartesian-axis",f),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Dr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,c=nt(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?o=z.cloneElement(n,ir(ir({},i),{},{className:c})):Ke(n)?o=n(ir(ir({},i),{},{className:c})):o=z.createElement(Lh,Go({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(P.Component);YS(Wl,"displayName","CartesianAxis");YS(Wl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wue=["x1","y1","x2","y2","key"],Hue=["offset"];function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function jI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(r),!0).forEach(function(n){Gue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gue(t,e,r){return e=Kue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kue(t){var e=Xue(t,"string");return Ws(e)=="symbol"?e:e+""}function Xue(t,e){if(Ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rs.apply(this,arguments)}function SI(t,e){if(t==null)return{};var r=Yue(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Jue=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,c=e.height,d=e.ry;return z.createElement("rect",{x:i,y:s,ry:d,width:o,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function sz(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Ke(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,c=e.key,d=SI(e,Wue),f=Ye(d,!1);f.offset;var p=SI(f,Hue);r=z.createElement("line",Rs({},p,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:c}))}return r}function Que(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,d){var f=zr(zr({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return sz(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Zue(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,d){var f=zr(zr({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return sz(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ede(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,c=t.horizontalPoints,d=t.horizontal,f=d===void 0?!0:d;if(!f||!e||!e.length)return null;var p=c.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==p[0]&&p.unshift(0);var h=p.map(function(g,v){var b=!p[v+1],w=b?i+o-g:p[v+1]-g;if(w<=0)return null;var x=v%e.length;return z.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:w,width:s,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function tde(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,c=t.width,d=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==p[0]&&p.unshift(0);var h=p.map(function(g,v){var b=!p[v+1],w=b?s+c-g:p[v+1]-g;if(w<=0)return null;var x=v%n.length;return z.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:w,height:d,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var rde=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return xD(XS(zr(zr(zr({},Wl.defaultProps),n),{},{ticks:Wi(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},nde=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return xD(XS(zr(zr(zr({},Wl.defaultProps),n),{},{ticks:Wi(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},Oo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function JS(t){var e,r,n,i,s,o,c=WS(),d=HS(),f=Vce(),p=zr(zr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Oo.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Oo.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Oo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Oo.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Oo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Oo.verticalFill,x:je(t.x)?t.x:f.left,y:je(t.y)?t.y:f.top,width:je(t.width)?t.width:f.width,height:je(t.height)?t.height:f.height}),h=p.x,g=p.y,v=p.width,b=p.height,w=p.syncWithTicks,x=p.horizontalValues,S=p.verticalValues,k=Fce(),_=qce();if(!je(v)||v<=0||!je(b)||b<=0||!je(h)||h!==+h||!je(g)||g!==+g)return null;var C=p.verticalCoordinatesGenerator||rde,N=p.horizontalCoordinatesGenerator||nde,T=p.horizontalPoints,E=p.verticalPoints;if((!T||!T.length)&&Ke(N)){var O=x&&x.length,R=N({yAxis:_?zr(zr({},_),{},{ticks:O?x:_.ticks}):void 0,width:c,height:d,offset:f},O?!0:w);Xi(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ws(R),"]")),Array.isArray(R)&&(T=R)}if((!E||!E.length)&&Ke(C)){var H=S&&S.length,L=C({xAxis:k?zr(zr({},k),{},{ticks:H?S:k.ticks}):void 0,width:c,height:d,offset:f},H?!0:w);Xi(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ws(L),"]")),Array.isArray(L)&&(E=L)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(Jue,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),z.createElement(Que,Rs({},p,{offset:f,horizontalPoints:T,xAxis:k,yAxis:_})),z.createElement(Zue,Rs({},p,{offset:f,verticalPoints:E,xAxis:k,yAxis:_})),z.createElement(ede,Rs({},p,{horizontalPoints:T})),z.createElement(tde,Rs({},p,{verticalPoints:E})))}JS.displayName="CartesianGrid";var ide=["type","layout","connectNulls","ref"],ade=["key"];function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function _I(t,e){if(t==null)return{};var r=sde(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cu.apply(this,arguments)}function NI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(r),!0).forEach(function(n){ti(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Io(t){return ude(t)||cde(t)||lde(t)||ode()}function ode(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lde(t,e){if(t){if(typeof t=="string")return D1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(t,e)}}function cde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ude(t){if(Array.isArray(t))return D1(t)}function D1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lz(n.key),n)}}function fde(t,e,r){return e&&kI(t.prototype,e),r&&kI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hde(t,e,r){return e=bp(e),pde(t,oz()?Reflect.construct(e,r||[],bp(t).constructor):e.apply(t,r))}function pde(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mde(t)}function mde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oz=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bp(t)}function gde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z1(t,e)}function z1(t,e){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z1(t,e)}function ti(t,e,r){return e=lz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lz(t){var e=vde(t,"string");return Nl(e)=="symbol"?e:e+""}function vde(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wd=(function(t){function e(){var r;dde(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=hde(this,e,[].concat(i)),ti(r,"state",{isAnimationFinished:!0,totalLength:0}),ti(r,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),ti(r,"getStrokeDasharray",function(o,c,d){var f=d.reduce(function(S,k){return S+k});if(!f)return r.generateSimpleStrokeDasharray(c,o);for(var p=Math.floor(o/f),h=o%f,g=c-o,v=[],b=0,w=0;b<d.length;w+=d[b],++b)if(w+d[b]>h){v=[].concat(Io(d.slice(0,b)),[h-w]);break}var x=v.length%2===0?[0,g]:[g];return[].concat(Io(e.repeat(d,p)),Io(v),x).map(function(S){return"".concat(S,"px")}).join(", ")}),ti(r,"id",Bl("recharts-line-")),ti(r,"pathRef",function(o){r.mainCurve=o}),ti(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ti(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return gde(e,t),fde(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,c=s.xAxis,d=s.yAxis,f=s.layout,p=s.children,h=Dn(p,xd);if(!h)return null;var g=function(w,x){return{x:w.x,y:w.y,value:w.value,errorVal:Gr(w.payload,x)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(Nt,v,h.map(function(b){return z.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:c,yAxis:d,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,f=c.points,p=c.dataKey,h=Ye(this.props,!1),g=Ye(d,!0),v=f.map(function(w,x){var S=fn(fn(fn({key:"dot-".concat(x),r:3},h),g),{},{index:x,cx:w.x,cy:w.y,value:w.value,dataKey:p,payload:w.payload,points:f});return e.renderDotItem(d,S)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(Nt,cu({className:"recharts-line-dots",key:"dots"},b),v)}},{key:"renderCurveStatically",value:function(n,i,s,o){var c=this.props,d=c.type,f=c.layout,p=c.connectNulls;c.ref;var h=_I(c,ide),g=fn(fn(fn({},Ye(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:d,layout:f,connectNulls:p});return z.createElement(rl,cu({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,c=o.points,d=o.strokeDasharray,f=o.isAnimationActive,p=o.animationBegin,h=o.animationDuration,g=o.animationEasing,v=o.animationId,b=o.animateNewValues,w=o.width,x=o.height,S=this.state,k=S.prevPoints,_=S.totalLength;return z.createElement(ki,{begin:p,duration:h,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var N=C.t;if(k){var T=k.length/c.length,E=c.map(function(M,$){var V=Math.floor($*T);if(k[V]){var Q=k[V],K=Tr(Q.x,M.x),Z=Tr(Q.y,M.y);return fn(fn({},M),{},{x:K(N),y:Z(N)})}if(b){var D=Tr(w*2,M.x),U=Tr(x/2,M.y);return fn(fn({},M),{},{x:D(N),y:U(N)})}return fn(fn({},M),{},{x:M.x,y:M.y})});return s.renderCurveStatically(E,n,i)}var O=Tr(0,_),R=O(N),H;if(d){var L="".concat(d).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});H=s.getStrokeDasharray(R,_,L)}else H=s.generateSimpleStrokeDasharray(_,R);return s.renderCurveStatically(c,n,i,{strokeDasharray:H})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,c=s.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return c&&o&&o.length&&(!f&&p>0||!ml(f,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,c=i.points,d=i.className,f=i.xAxis,p=i.yAxis,h=i.top,g=i.left,v=i.width,b=i.height,w=i.isAnimationActive,x=i.id;if(s||!c||!c.length)return null;var S=this.state.isAnimationFinished,k=c.length===1,_=nt("recharts-line",d),C=f&&f.allowDataOverflow,N=p&&p.allowDataOverflow,T=C||N,E=et(x)?this.id:x,O=(n=Ye(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=O.r,H=R===void 0?3:R,L=O.strokeWidth,M=L===void 0?2:L,$=bM(o)?o:{},V=$.clipDot,Q=V===void 0?!0:V,K=H*2+M;return z.createElement(Nt,{className:_},C||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:C?g:g-v/2,y:N?h:h-b/2,width:C?v:v*2,height:N?b:b*2})),!Q&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:g-K/2,y:h-K/2,width:v+K,height:b+K}))):null,!k&&this.renderCurve(T,E),this.renderErrorBar(T,E),(k||o)&&this.renderDots(T,Q,E),(!w||S)&&Ji.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Io(n),[0]):n,o=[],c=0;c<i;++c)o=[].concat(Io(o),Io(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(z.isValidElement(n))s=z.cloneElement(n,i);else if(Ke(n))s=n(i);else{var o=i.key,c=_I(i,ade),d=nt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=z.createElement(fm,cu({key:o},c,{className:d}))}return s}}])})(P.PureComponent);ti(wd,"displayName","Line");ti(wd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ks.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ti(wd,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,c=t.bandSize,d=t.displayedData,f=t.offset,p=e.layout,h=d.map(function(g,v){var b=Gr(g,o);return p==="horizontal"?{x:Zh({axis:r,ticks:i,bandSize:c,entry:g,index:v}),y:et(b)?null:n.scale(b),value:b,payload:g}:{x:et(b)?null:r.scale(b),y:Zh({axis:n,ticks:s,bandSize:c,entry:g,index:v}),value:b,payload:g}});return fn({points:h,layout:p},f)});var yde=["layout","type","stroke","connectNulls","isRange","ref"],xde=["key"],cz;function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function uz(t,e){if(t==null)return{};var r=bde(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$s.apply(this,arguments)}function TI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fz(n.key),n)}}function jde(t,e,r){return e&&AI(t.prototype,e),r&&AI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sde(t,e,r){return e=wp(e),_de(t,dz()?Reflect.construct(e,r||[],wp(t).constructor):e.apply(t,r))}function _de(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nde(t)}function Nde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dz=function(){return!!t})()}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(t)}function kde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L1(t,e)}function L1(t,e){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L1(t,e)}function yi(t,e,r){return e=fz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fz(t){var e=Tde(t,"string");return kl(e)=="symbol"?e:e+""}function Tde(t,e){if(kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sa=(function(t){function e(){var r;wde(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Sde(this,e,[].concat(i)),yi(r,"state",{isAnimationFinished:!0}),yi(r,"id",Bl("recharts-area-")),yi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ke(o)&&o()}),yi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ke(o)&&o()}),r}return kde(e,t),jde(e,[{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var d=this.props,f=d.dot,p=d.points,h=d.dataKey,g=Ye(this.props,!1),v=Ye(f,!0),b=p.map(function(x,S){var k=Ma(Ma(Ma({key:"dot-".concat(S),r:3},g),v),{},{index:S,cx:x.x,cy:x.y,dataKey:h,value:x.value,payload:x.payload,points:p});return e.renderDotItem(f,k)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(Nt,$s({className:"recharts-area-dots"},w),b)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,c=i.strokeWidth,d=o[0].x,f=o[o.length-1].x,p=n*Math.abs(d-f),h=Ua(o.map(function(g){return g.y||0}));return je(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(Ua(s.map(function(g){return g.y||0})),h)),je(h)?z.createElement("rect",{x:d<f?d:d-p,y:0,width:p,height:Math.floor(h+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,c=i.strokeWidth,d=o[0].y,f=o[o.length-1].y,p=n*Math.abs(d-f),h=Ua(o.map(function(g){return g.x||0}));return je(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(Ua(s.map(function(g){return g.x||0})),h)),je(h)?z.createElement("rect",{x:0,y:d<f?d:d-p,width:h+(c?parseInt("".concat(c),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,o){var c=this.props,d=c.layout,f=c.type,p=c.stroke,h=c.connectNulls,g=c.isRange;c.ref;var v=uz(c,yde);return z.createElement(Nt,{clipPath:s?"url(#clipPath-".concat(o,")"):null},z.createElement(rl,$s({},Ye(v,!0),{points:n,connectNulls:h,type:f,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),p!=="none"&&z.createElement(rl,$s({},Ye(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:h,fill:"none",points:n})),p!=="none"&&g&&z.createElement(rl,$s({},Ye(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,o=this.props,c=o.points,d=o.baseLine,f=o.isAnimationActive,p=o.animationBegin,h=o.animationDuration,g=o.animationEasing,v=o.animationId,b=this.state,w=b.prevPoints,x=b.prevBaseLine;return z.createElement(ki,{begin:p,duration:h,isActive:f,easing:g,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var k=S.t;if(w){var _=w.length/c.length,C=c.map(function(O,R){var H=Math.floor(R*_);if(w[H]){var L=w[H],M=Tr(L.x,O.x),$=Tr(L.y,O.y);return Ma(Ma({},O),{},{x:M(k),y:$(k)})}return O}),N;if(je(d)&&typeof d=="number"){var T=Tr(x,d);N=T(k)}else if(et(d)||Ll(d)){var E=Tr(x,0);N=E(k)}else N=d.map(function(O,R){var H=Math.floor(R*_);if(x[H]){var L=x[H],M=Tr(L.x,O.x),$=Tr(L.y,O.y);return Ma(Ma({},O),{},{x:M(k),y:$(k)})}return O});return s.renderAreaStatically(C,N,n,i)}return z.createElement(Nt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(k))),z.createElement(Nt,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(c,d,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,o=s.points,c=s.baseLine,d=s.isAnimationActive,f=this.state,p=f.prevPoints,h=f.prevBaseLine,g=f.totalLength;return d&&o&&o.length&&(!p&&g>0||!ml(p,o)||!ml(h,c))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,c,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,c=i.points,d=i.className,f=i.top,p=i.left,h=i.xAxis,g=i.yAxis,v=i.width,b=i.height,w=i.isAnimationActive,x=i.id;if(s||!c||!c.length)return null;var S=this.state.isAnimationFinished,k=c.length===1,_=nt("recharts-area",d),C=h&&h.allowDataOverflow,N=g&&g.allowDataOverflow,T=C||N,E=et(x)?this.id:x,O=(n=Ye(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=O.r,H=R===void 0?3:R,L=O.strokeWidth,M=L===void 0?2:L,$=bM(o)?o:{},V=$.clipDot,Q=V===void 0?!0:V,K=H*2+M;return z.createElement(Nt,{className:_},C||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:C?p:p-v/2,y:N?f:f-b/2,width:C?v:v*2,height:N?b:b*2})),!Q&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:p-K/2,y:f-K/2,width:v+K,height:b+K}))):null,k?null:this.renderArea(T,E),(o||k)&&this.renderDots(T,Q,E),(!w||S)&&Ji.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(P.PureComponent);cz=sa;yi(sa,"displayName","Area");yi(sa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ks.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});yi(sa,"getBaseValue",function(t,e,r,n){var i=t.layout,s=t.baseValue,o=e.props.baseValue,c=o??s;if(je(c)&&typeof c=="number")return c;var d=i==="horizontal"?n:r,f=d.scale.domain();if(d.type==="number"){var p=Math.max(f[0],f[1]),h=Math.min(f[0],f[1]);return c==="dataMin"?h:c==="dataMax"||p<0?p:Math.max(Math.min(f[0],f[1]),0)}return c==="dataMin"?f[0]:c==="dataMax"?f[1]:f[0]});yi(sa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,c=t.bandSize,d=t.dataKey,f=t.stackedData,p=t.dataStartIndex,h=t.displayedData,g=t.offset,v=e.layout,b=f&&f.length,w=cz.getBaseValue(e,r,n,i),x=v==="horizontal",S=!1,k=h.map(function(C,N){var T;b?T=f[p+N]:(T=Gr(C,d),Array.isArray(T)?S=!0:T=[w,T]);var E=T[1]==null||b&&Gr(C,d)==null;return x?{x:Zh({axis:n,ticks:s,bandSize:c,entry:C,index:N}),y:E?null:i.scale(T[1]),value:T,payload:C}:{x:E?null:n.scale(T[1]),y:Zh({axis:i,ticks:o,bandSize:c,entry:C,index:N}),value:T,payload:C}}),_;return b||S?_=k.map(function(C){var N=Array.isArray(C.value)?C.value[0]:null;return x?{x:C.x,y:N!=null&&C.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:C.y}}):_=x?i.scale(w):n.scale(w),Ma({points:k,baseLine:_,layout:v,isRange:S},g)});yi(sa,"renderDotItem",function(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Ke(t))r=t(e);else{var n=nt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=uz(e,xde);r=z.createElement(fm,$s({},s,{key:i,className:n}))}return r});function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Ade(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mz(n.key),n)}}function Cde(t,e,r){return e&&Pde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ede(t,e,r){return e=jp(e),Ode(t,hz()?Reflect.construct(e,r||[],jp(t).constructor):e.apply(t,r))}function Ode(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ide(t)}function Ide(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hz=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jp(t)}function Rde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B1(t,e)}function B1(t,e){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B1(t,e)}function pz(t,e,r){return e=mz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mz(t){var e=$de(t,"string");return Tl(e)=="symbol"?e:e+""}function $de(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(this,arguments)}function Mde(t){var e=t.xAxisId,r=WS(),n=HS(),i=XD(e);return i==null?null:P.createElement(Wl,F1({},i,{className:nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Wi(o,!0)}}))}var Hl=(function(t){function e(){return Ade(this,e),Ede(this,e,arguments)}return Rde(e,t),Cde(e,[{key:"render",value:function(){return P.createElement(Mde,this.props)}}])})(P.Component);pz(Hl,"displayName","XAxis");pz(Hl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function Dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yz(n.key),n)}}function Lde(t,e,r){return e&&zde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bde(t,e,r){return e=Sp(e),Fde(t,gz()?Reflect.construct(e,r||[],Sp(t).constructor):e.apply(t,r))}function Fde(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qde(t)}function qde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gz=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(t)}function Ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q1(t,e)}function q1(t,e){return q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q1(t,e)}function vz(t,e,r){return e=yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yz(t){var e=Vde(t,"string");return Al(e)=="symbol"?e:e+""}function Vde(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U1.apply(this,arguments)}var Wde=function(e){var r=e.yAxisId,n=WS(),i=HS(),s=YD(r);return s==null?null:P.createElement(Wl,U1({},s,{className:nt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return Wi(c,!0)}}))},Gl=(function(t){function e(){return Dde(this,e),Bde(this,e,arguments)}return Ude(e,t),Lde(e,[{key:"render",value:function(){return P.createElement(Wde,this.props)}}])})(P.Component);vz(Gl,"displayName","YAxis");vz(Gl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function PI(t){return Xde(t)||Kde(t)||Gde(t)||Hde()}function Hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gde(t,e){if(t){if(typeof t=="string")return V1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V1(t,e)}}function Kde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xde(t){if(Array.isArray(t))return V1(t)}function V1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var W1=function(e,r,n,i,s){var o=Dn(e,KS),c=Dn(e,vm),d=[].concat(PI(o),PI(c)),f=Dn(e,xm),p="".concat(i,"Id"),h=i[0],g=r;if(d.length&&(g=d.reduce(function(w,x){if(x.props[p]===n&&ji(x.props,"extendDomain")&&je(x.props[h])){var S=x.props[h];return[Math.min(w[0],S),Math.max(w[1],S)]}return w},g)),f.length){var v="".concat(h,"1"),b="".concat(h,"2");g=f.reduce(function(w,x){if(x.props[p]===n&&ji(x.props,"extendDomain")&&je(x.props[v])&&je(x.props[b])){var S=x.props[v],k=x.props[b];return[Math.min(w[0],S,k),Math.max(w[1],S,k)]}return w},g)}return s&&s.length&&(g=s.reduce(function(w,x){return je(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},g)),g},zb={exports:{}},CI;function Yde(){return CI||(CI=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function s(d,f,p,h,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new i(p,h||d,g),b=r?r+f:f;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],v]:d._events[b].push(v):(d._events[b]=v,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,h;if(this._eventsCount===0)return f;for(h in p=this._events)e.call(p,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=r?r+f:f,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,b=new Array(v);g<v;g++)b[g]=h[g].fn;return b},c.prototype.listenerCount=function(f){var p=r?r+f:f,h=this._events[p];return h?h.fn?1:h.length:0},c.prototype.emit=function(f,p,h,g,v,b){var w=r?r+f:f;if(!this._events[w])return!1;var x=this._events[w],S=arguments.length,k,_;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),S){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,h),!0;case 4:return x.fn.call(x.context,p,h,g),!0;case 5:return x.fn.call(x.context,p,h,g,v),!0;case 6:return x.fn.call(x.context,p,h,g,v,b),!0}for(_=1,k=new Array(S-1);_<S;_++)k[_-1]=arguments[_];x.fn.apply(x.context,k)}else{var C=x.length,N;for(_=0;_<C;_++)switch(x[_].once&&this.removeListener(f,x[_].fn,void 0,!0),S){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,p);break;case 3:x[_].fn.call(x[_].context,p,h);break;case 4:x[_].fn.call(x[_].context,p,h,g);break;default:if(!k)for(N=1,k=new Array(S-1);N<S;N++)k[N-1]=arguments[N];x[_].fn.apply(x[_].context,k)}}return!0},c.prototype.on=function(f,p,h){return s(this,f,p,h,!1)},c.prototype.once=function(f,p,h){return s(this,f,p,h,!0)},c.prototype.removeListener=function(f,p,h,g){var v=r?r+f:f;if(!this._events[v])return this;if(!p)return o(this,v),this;var b=this._events[v];if(b.fn)b.fn===p&&(!g||b.once)&&(!h||b.context===h)&&o(this,v);else{for(var w=0,x=[],S=b.length;w<S;w++)(b[w].fn!==p||g&&!b[w].once||h&&b[w].context!==h)&&x.push(b[w]);x.length?this._events[v]=x.length===1?x[0]:x:o(this,v)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(zb)),zb.exports}var Jde=Yde();const Qde=vt(Jde);var Lb=new Qde,Bb="recharts.syncMouseEvents";function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function Zde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function efe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xz(n.key),n)}}function tfe(t,e,r){return e&&efe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fb(t,e,r){return e=xz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xz(t){var e=rfe(t,"string");return id(e)=="symbol"?e:e+""}function rfe(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nfe=(function(){function t(){Zde(this,t),Fb(this,"activeIndex",0),Fb(this,"coordinateList",[]),Fb(this,"layout","horizontal")}return tfe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,c=o===void 0?null:o,d=r.layout,f=d===void 0?null:d,p=r.offset,h=p===void 0?null:p,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,c=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+d+f,g=o+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])})();function ife(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&je(n)&&je(i))return!0}return!1}function afe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function bz(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=Ar(e,r,n,i),c=Ar(e,r,n,s);return{points:[o,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function sfe(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,f=e.innerRadius,p=e.outerRadius,h=e.angle,g=Ar(c,d,f,h),v=Ar(c,d,p,h);n=g.x,i=g.y,s=v.x,o=v.y}else return bz(e);return[{x:n,y:i},{x:s,y:o}]}function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function EI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(r),!0).forEach(function(n){ofe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ofe(t,e,r){return e=lfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lfe(t){var e=cfe(t,"string");return ad(e)=="symbol"?e:e+""}function cfe(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ufe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,c=t.activePayload,d=t.offset,f=t.activeTooltipIndex,p=t.tooltipAxisBandSize,h=t.layout,g=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!o||g!=="ScatterChart"&&i!=="axis")return null;var b,w=rl;if(g==="ScatterChart")b=o,w=Qoe;else if(g==="BarChart")b=afe(h,o,d,p),w=FS;else if(h==="radial"){var x=bz(o),S=x.cx,k=x.cy,_=x.radius,C=x.startAngle,N=x.endAngle;b={cx:S,cy:k,startAngle:C,endAngle:N,innerRadius:_,outerRadius:_},w=_D}else b={points:sfe(h,o,d)},w=rl;var T=rh(rh(rh(rh({stroke:"#ccc",pointerEvents:"none"},d),b),Ye(v,!1)),{},{payload:c,payloadIndex:f,className:nt("recharts-tooltip-cursor",v.className)});return P.isValidElement(v)?P.cloneElement(v,T):P.createElement(w,T)}var dfe=["item"],ffe=["children","className","width","height","style","compact","title","desc"];function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ko.apply(this,arguments)}function OI(t,e){return mfe(t)||pfe(t,e)||jz(t,e)||hfe()}function hfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function mfe(t){if(Array.isArray(t))return t}function II(t,e){if(t==null)return{};var r=gfe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sz(n.key),n)}}function xfe(t,e,r){return e&&yfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bfe(t,e,r){return e=_p(e),wfe(t,wz()?Reflect.construct(e,r||[],_p(t).constructor):e.apply(t,r))}function wfe(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jfe(t)}function jfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wz=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(t)}function Sfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H1(t,e)}function H1(t,e){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H1(t,e)}function Cl(t){return kfe(t)||Nfe(t)||jz(t)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jz(t,e){if(t){if(typeof t=="string")return G1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G1(t,e)}}function Nfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kfe(t){if(Array.isArray(t))return G1(t)}function G1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(r),!0).forEach(function(n){Be(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Be(t,e,r){return e=Sz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sz(t){var e=Tfe(t,"string");return Pl(e)=="symbol"?e:e+""}function Tfe(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Afe={xAxis:["bottom","top"],yAxis:["left","right"]},Pfe={width:"100%",height:"100%"},_z={x:0,y:0};function nh(t){return t}var Cfe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Efe=function(e,r,n,i){var s=r.find(function(p){return p&&p.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,c=i.radius;return ce(ce(ce({},i),Ar(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}var d=s.coordinate,f=i.angle;return ce(ce(ce({},i),Ar(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return _z},bm=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(Cl(c),Cl(f)):c},[]);return o.length>0?o:e&&e.length&&je(i)&&je(s)?e.slice(i,s+1):[]};function Nz(t){return t==="number"?[0,"auto"]:void 0}var K1=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,c=bm(r,e);return n<0||!s||!s.length||n>=c.length?null:s.reduce(function(d,f){var p,h=(p=f.props.data)!==null&&p!==void 0?p:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var v=h===void 0?c:h;g=kh(v,o.dataKey,i)}else g=h&&h[n]||c[n];return g?[].concat(Cl(d),[wD(f,g)]):d},[])},$I=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=Cfe(s,n),c=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,p=Eie(o,c,f,d);if(p>=0&&f){var h=f[p]&&f[p].value,g=K1(e,r,p,h),v=Efe(n,c,p,s);return{activeTooltipIndex:p,activeLabel:h,activePayload:g,activeCoordinate:v}}return null},Ofe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,h=e.children,g=e.stackOffset,v=yD(p,s);return n.reduce(function(b,w){var x,S=w.type.defaultProps!==void 0?ce(ce({},w.type.defaultProps),w.props):w.props,k=S.type,_=S.dataKey,C=S.allowDataOverflow,N=S.allowDuplicatedCategory,T=S.scale,E=S.ticks,O=S.includeHidden,R=S[o];if(b[R])return b;var H=bm(e.data,{graphicalItems:i.filter(function(q){var Y,se=o in q.props?q.props[o]:(Y=q.type.defaultProps)===null||Y===void 0?void 0:Y[o];return se===R}),dataStartIndex:d,dataEndIndex:f}),L=H.length,M,$,V;ife(S.domain,C,k)&&(M=d1(S.domain,null,C),v&&(k==="number"||T!=="auto")&&(V=ou(H,_,"category")));var Q=Nz(k);if(!M||M.length===0){var K,Z=(K=S.domain)!==null&&K!==void 0?K:Q;if(_){if(M=ou(H,_,k),k==="category"&&v){var D=SY(M);N&&D?($=M,M=up(0,L)):N||(M=GO(Z,M,w).reduce(function(q,Y){return q.indexOf(Y)>=0?q:[].concat(Cl(q),[Y])},[]))}else if(k==="category")N?M=M.filter(function(q){return q!==""&&!et(q)}):M=GO(Z,M,w).reduce(function(q,Y){return q.indexOf(Y)>=0||Y===""||et(Y)?q:[].concat(Cl(q),[Y])},[]);else if(k==="number"){var U=Mie(H,i.filter(function(q){var Y,se,fe=o in q.props?q.props[o]:(Y=q.type.defaultProps)===null||Y===void 0?void 0:Y[o],te="hide"in q.props?q.props.hide:(se=q.type.defaultProps)===null||se===void 0?void 0:se.hide;return fe===R&&(O||!te)}),_,s,p);U&&(M=U)}v&&(k==="number"||T!=="auto")&&(V=ou(H,_,"category"))}else v?M=up(0,L):c&&c[R]&&c[R].hasStack&&k==="number"?M=g==="expand"?[0,1]:bD(c[R].stackGroups,d,f):M=vD(H,i.filter(function(q){var Y=o in q.props?q.props[o]:q.type.defaultProps[o],se="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return Y===R&&(O||!se)}),k,p,!0);if(k==="number")M=W1(h,M,R,s,E),Z&&(M=d1(Z,M,C));else if(k==="category"&&Z){var ee=Z,B=M.every(function(q){return ee.indexOf(q)>=0});B&&(M=ee)}}return ce(ce({},b),{},Be({},R,ce(ce({},S),{},{axisType:s,domain:M,categoricalDomain:V,duplicateDomain:$,originalDomain:(x=S.domain)!==null&&x!==void 0?x:Q,isCategorical:v,layout:p})))},{})},Ife=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,h=e.children,g=bm(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),v=g.length,b=yD(p,s),w=-1;return n.reduce(function(x,S){var k=S.type.defaultProps!==void 0?ce(ce({},S.type.defaultProps),S.props):S.props,_=k[o],C=Nz("number");if(!x[_]){w++;var N;return b?N=up(0,v):c&&c[_]&&c[_].hasStack?(N=bD(c[_].stackGroups,d,f),N=W1(h,N,_,s)):(N=d1(C,vD(g,n.filter(function(T){var E,O,R=o in T.props?T.props[o]:(E=T.type.defaultProps)===null||E===void 0?void 0:E[o],H="hide"in T.props?T.props.hide:(O=T.type.defaultProps)===null||O===void 0?void 0:O.hide;return R===_&&!H}),"number",p),i.defaultProps.allowDataOverflow),N=W1(h,N,_,s)),ce(ce({},x),{},Be({},_,ce(ce({axisType:s},i.defaultProps),{},{hide:!0,orientation:Mn(Afe,"".concat(s,".").concat(w%2),null),domain:N,originalDomain:C,isCategorical:b,layout:p})))}return x},{})},Rfe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.children,h="".concat(i,"Id"),g=Dn(p,s),v={};return g&&g.length?v=Ofe(e,{axes:g,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(v=Ife(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),v},$fe=function(e){var r=Fa(e),n=Wi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:pS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ep(r,n)}},MI=function(e){var r=e.children,n=e.defaultShowTooltip,i=pn(r,xl),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Mfe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ki(r&&r.type);return n&&n.indexOf("Bar")>=0})},DI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Dfe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,c=e.yAxisMap,d=c===void 0?{}:c,f=n.width,p=n.height,h=n.children,g=n.margin||{},v=pn(h,xl),b=pn(h,Ds),w=Object.keys(d).reduce(function(N,T){var E=d[T],O=E.orientation;return!E.mirror&&!E.hide?ce(ce({},N),{},Be({},O,N[O]+E.width)):N},{left:g.left||0,right:g.right||0}),x=Object.keys(o).reduce(function(N,T){var E=o[T],O=E.orientation;return!E.mirror&&!E.hide?ce(ce({},N),{},Be({},O,Mn(N,"".concat(O))+E.height)):N},{top:g.top||0,bottom:g.bottom||0}),S=ce(ce({},x),w),k=S.bottom;v&&(S.bottom+=v.props.height||xl.defaultProps.height),b&&r&&(S=Rie(S,i,n,r));var _=f-S.left-S.right,C=p-S.top-S.bottom;return ce(ce({brushBottom:k},S),{},{width:Math.max(_,0),height:Math.max(C,0)})},zfe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},kz=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,c=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,p=e.formatAxisMap,h=e.defaultProps,g=function(S,k){var _=k.graphicalItems,C=k.stackGroups,N=k.offset,T=k.updateId,E=k.dataStartIndex,O=k.dataEndIndex,R=S.barSize,H=S.layout,L=S.barGap,M=S.barCategoryGap,$=S.maxBarSize,V=DI(H),Q=V.numericAxisName,K=V.cateAxisName,Z=Mfe(_),D=[];return _.forEach(function(U,ee){var B=bm(S.data,{graphicalItems:[U],dataStartIndex:E,dataEndIndex:O}),q=U.type.defaultProps!==void 0?ce(ce({},U.type.defaultProps),U.props):U.props,Y=q.dataKey,se=q.maxBarSize,fe=q["".concat(Q,"Id")],te=q["".concat(K,"Id")],he={},le=d.reduce(function(at,Je){var kt=k["".concat(Je.axisType,"Map")],yr=q["".concat(Je.axisType,"Id")];kt&&kt[yr]||Je.axisType==="zAxis"||Vs();var Ie=kt[yr];return ce(ce({},at),{},Be(Be({},Je.axisType,Ie),"".concat(Je.axisType,"Ticks"),Wi(Ie)))},he),ie=le[K],pe=le["".concat(K,"Ticks")],_e=C&&C[fe]&&C[fe].hasStack&&Kie(U,C[fe].stackGroups),ue=Ki(U.type).indexOf("Bar")>=0,Ve=ep(ie,pe),J=[],we=Z&&Oie({barSize:R,stackGroups:C,totalSize:zfe(le,K)});if(ue){var xe,Me,Le=et(se)?$:se,We=(xe=(Me=ep(ie,pe,!0))!==null&&Me!==void 0?Me:Le)!==null&&xe!==void 0?xe:0;J=Iie({barGap:L,barCategoryGap:M,bandSize:We!==Ve?We:Ve,sizeList:we[te],maxBarSize:Le}),We!==Ve&&(J=J.map(function(at){return ce(ce({},at),{},{position:ce(ce({},at.position),{},{offset:at.position.offset-We/2})})}))}var rt=U&&U.type&&U.type.getComposedData;rt&&D.push({props:ce(ce({},rt(ce(ce({},le),{},{displayedData:B,props:S,dataKey:Y,item:U,bandSize:Ve,barPosition:J,offset:N,stackedData:_e,layout:H,dataStartIndex:E,dataEndIndex:O}))),{},Be(Be(Be({key:U.key||"item-".concat(ee)},Q,le[Q]),K,le[K]),"animationId",T)),childIndex:$Y(U,S.children),item:U})}),D},v=function(S,k){var _=S.props,C=S.dataStartIndex,N=S.dataEndIndex,T=S.updateId;if(!lP({props:_}))return null;var E=_.children,O=_.layout,R=_.stackOffset,H=_.data,L=_.reverseStackOrder,M=DI(O),$=M.numericAxisName,V=M.cateAxisName,Q=Dn(E,n),K=Wie(H,Q,"".concat($,"Id"),"".concat(V,"Id"),R,L),Z=d.reduce(function(q,Y){var se="".concat(Y.axisType,"Map");return ce(ce({},q),{},Be({},se,Rfe(_,ce(ce({},Y),{},{graphicalItems:Q,stackGroups:Y.axisType===$&&K,dataStartIndex:C,dataEndIndex:N}))))},{}),D=Dfe(ce(ce({},Z),{},{props:_,graphicalItems:Q}),k?.legendBBox);Object.keys(Z).forEach(function(q){Z[q]=p(_,Z[q],D,q.replace("Map",""),r)});var U=Z["".concat(V,"Map")],ee=$fe(U),B=g(_,ce(ce({},Z),{},{dataStartIndex:C,dataEndIndex:N,updateId:T,graphicalItems:Q,stackGroups:K,offset:D}));return ce(ce({formattedGraphicalItems:B,graphicalItems:Q,offset:D,stackGroups:K},ee),Z)},b=(function(x){function S(k){var _,C,N;return vfe(this,S),N=bfe(this,S,[k]),Be(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(N,"accessibilityManager",new nfe),Be(N,"handleLegendBBoxUpdate",function(T){if(T){var E=N.state,O=E.dataStartIndex,R=E.dataEndIndex,H=E.updateId;N.setState(ce({legendBBox:T},v({props:N.props,dataStartIndex:O,dataEndIndex:R,updateId:H},ce(ce({},N.state),{},{legendBBox:T}))))}}),Be(N,"handleReceiveSyncEvent",function(T,E,O){if(N.props.syncId===T){if(O===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(E)}}),Be(N,"handleBrushChange",function(T){var E=T.startIndex,O=T.endIndex;if(E!==N.state.dataStartIndex||O!==N.state.dataEndIndex){var R=N.state.updateId;N.setState(function(){return ce({dataStartIndex:E,dataEndIndex:O},v({props:N.props,dataStartIndex:E,dataEndIndex:O,updateId:R},N.state))}),N.triggerSyncEvent({dataStartIndex:E,dataEndIndex:O})}}),Be(N,"handleMouseEnter",function(T){var E=N.getMouseInfo(T);if(E){var O=ce(ce({},E),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var R=N.props.onMouseEnter;Ke(R)&&R(O,T)}}),Be(N,"triggeredAfterMouseMove",function(T){var E=N.getMouseInfo(T),O=E?ce(ce({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var R=N.props.onMouseMove;Ke(R)&&R(O,T)}),Be(N,"handleItemMouseEnter",function(T){N.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Be(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Be(N,"handleMouseMove",function(T){T.persist(),N.throttleTriggeredAfterMouseMove(T)}),Be(N,"handleMouseLeave",function(T){N.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};N.setState(E),N.triggerSyncEvent(E);var O=N.props.onMouseLeave;Ke(O)&&O(E,T)}),Be(N,"handleOuterEvent",function(T){var E=RY(T),O=Mn(N.props,"".concat(E));if(E&&Ke(O)){var R,H;/.*touch.*/i.test(E)?H=N.getMouseInfo(T.changedTouches[0]):H=N.getMouseInfo(T),O((R=H)!==null&&R!==void 0?R:{},T)}}),Be(N,"handleClick",function(T){var E=N.getMouseInfo(T);if(E){var O=ce(ce({},E),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var R=N.props.onClick;Ke(R)&&R(O,T)}}),Be(N,"handleMouseDown",function(T){var E=N.props.onMouseDown;if(Ke(E)){var O=N.getMouseInfo(T);E(O,T)}}),Be(N,"handleMouseUp",function(T){var E=N.props.onMouseUp;if(Ke(E)){var O=N.getMouseInfo(T);E(O,T)}}),Be(N,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Be(N,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&N.handleMouseDown(T.changedTouches[0])}),Be(N,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&N.handleMouseUp(T.changedTouches[0])}),Be(N,"handleDoubleClick",function(T){var E=N.props.onDoubleClick;if(Ke(E)){var O=N.getMouseInfo(T);E(O,T)}}),Be(N,"handleContextMenu",function(T){var E=N.props.onContextMenu;if(Ke(E)){var O=N.getMouseInfo(T);E(O,T)}}),Be(N,"triggerSyncEvent",function(T){N.props.syncId!==void 0&&Lb.emit(Bb,N.props.syncId,T,N.eventEmitterSymbol)}),Be(N,"applySyncEvent",function(T){var E=N.props,O=E.layout,R=E.syncMethod,H=N.state.updateId,L=T.dataStartIndex,M=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)N.setState(ce({dataStartIndex:L,dataEndIndex:M},v({props:N.props,dataStartIndex:L,dataEndIndex:M,updateId:H},N.state)));else if(T.activeTooltipIndex!==void 0){var $=T.chartX,V=T.chartY,Q=T.activeTooltipIndex,K=N.state,Z=K.offset,D=K.tooltipTicks;if(!Z)return;if(typeof R=="function")Q=R(D,T);else if(R==="value"){Q=-1;for(var U=0;U<D.length;U++)if(D[U].value===T.activeLabel){Q=U;break}}var ee=ce(ce({},Z),{},{x:Z.left,y:Z.top}),B=Math.min($,ee.x+ee.width),q=Math.min(V,ee.y+ee.height),Y=D[Q]&&D[Q].value,se=K1(N.state,N.props.data,Q),fe=D[Q]?{x:O==="horizontal"?D[Q].coordinate:B,y:O==="horizontal"?q:D[Q].coordinate}:_z;N.setState(ce(ce({},T),{},{activeLabel:Y,activeCoordinate:fe,activePayload:se,activeTooltipIndex:Q}))}else N.setState(T)}),Be(N,"renderCursor",function(T){var E,O=N.state,R=O.isTooltipActive,H=O.activeCoordinate,L=O.activePayload,M=O.offset,$=O.activeTooltipIndex,V=O.tooltipAxisBandSize,Q=N.getTooltipEventType(),K=(E=T.props.active)!==null&&E!==void 0?E:R,Z=N.props.layout,D=T.key||"_recharts-cursor";return z.createElement(ufe,{key:D,activeCoordinate:H,activePayload:L,activeTooltipIndex:$,chartName:r,element:T,isActive:K,layout:Z,offset:M,tooltipAxisBandSize:V,tooltipEventType:Q})}),Be(N,"renderPolarAxis",function(T,E,O){var R=Mn(T,"type.axisType"),H=Mn(N.state,"".concat(R,"Map")),L=T.type.defaultProps,M=L!==void 0?ce(ce({},L),T.props):T.props,$=H&&H[M["".concat(R,"Id")]];return P.cloneElement(T,ce(ce({},$),{},{className:nt(R,$.className),key:T.key||"".concat(E,"-").concat(O),ticks:Wi($,!0)}))}),Be(N,"renderPolarGrid",function(T){var E=T.props,O=E.radialLines,R=E.polarAngles,H=E.polarRadius,L=N.state,M=L.radiusAxisMap,$=L.angleAxisMap,V=Fa(M),Q=Fa($),K=Q.cx,Z=Q.cy,D=Q.innerRadius,U=Q.outerRadius;return P.cloneElement(T,{polarAngles:Array.isArray(R)?R:Wi(Q,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(H)?H:Wi(V,!0).map(function(ee){return ee.coordinate}),cx:K,cy:Z,innerRadius:D,outerRadius:U,key:T.key||"polar-grid",radialLines:O})}),Be(N,"renderLegend",function(){var T=N.state.formattedGraphicalItems,E=N.props,O=E.children,R=E.width,H=E.height,L=N.props.margin||{},M=R-(L.left||0)-(L.right||0),$=mD({children:O,formattedGraphicalItems:T,legendWidth:M,legendContent:f});if(!$)return null;var V=$.item,Q=II($,dfe);return P.cloneElement(V,ce(ce({},Q),{},{chartWidth:R,chartHeight:H,margin:L,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Be(N,"renderTooltip",function(){var T,E=N.props,O=E.children,R=E.accessibilityLayer,H=pn(O,Zn);if(!H)return null;var L=N.state,M=L.isTooltipActive,$=L.activeCoordinate,V=L.activePayload,Q=L.activeLabel,K=L.offset,Z=(T=H.props.active)!==null&&T!==void 0?T:M;return P.cloneElement(H,{viewBox:ce(ce({},K),{},{x:K.left,y:K.top}),active:Z,label:Q,payload:Z?V:[],coordinate:$,accessibilityLayer:R})}),Be(N,"renderBrush",function(T){var E=N.props,O=E.margin,R=E.data,H=N.state,L=H.offset,M=H.dataStartIndex,$=H.dataEndIndex,V=H.updateId;return P.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Qf(N.handleBrushChange,T.props.onChange),data:R,x:je(T.props.x)?T.props.x:L.left,y:je(T.props.y)?T.props.y:L.top+L.height+L.brushBottom-(O.bottom||0),width:je(T.props.width)?T.props.width:L.width,startIndex:M,endIndex:$,updateId:"brush-".concat(V)})}),Be(N,"renderReferenceElement",function(T,E,O){if(!T)return null;var R=N,H=R.clipPathId,L=N.state,M=L.xAxisMap,$=L.yAxisMap,V=L.offset,Q=T.type.defaultProps||{},K=T.props,Z=K.xAxisId,D=Z===void 0?Q.xAxisId:Z,U=K.yAxisId,ee=U===void 0?Q.yAxisId:U;return P.cloneElement(T,{key:T.key||"".concat(E,"-").concat(O),xAxis:M[D],yAxis:$[ee],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:H})}),Be(N,"renderActivePoints",function(T){var E=T.item,O=T.activePoint,R=T.basePoint,H=T.childIndex,L=T.isRange,M=[],$=E.props.key,V=E.item.type.defaultProps!==void 0?ce(ce({},E.item.type.defaultProps),E.item.props):E.item.props,Q=V.activeDot,K=V.dataKey,Z=ce(ce({index:H,dataKey:K,cx:O.x,cy:O.y,r:4,fill:BS(E.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Ye(Q,!1)),Th(Q));return M.push(S.renderActiveDot(Q,Z,"".concat($,"-activePoint-").concat(H))),R?M.push(S.renderActiveDot(Q,ce(ce({},Z),{},{cx:R.x,cy:R.y}),"".concat($,"-basePoint-").concat(H))):L&&M.push(null),M}),Be(N,"renderGraphicChild",function(T,E,O){var R=N.filterFormatItem(T,E,O);if(!R)return null;var H=N.getTooltipEventType(),L=N.state,M=L.isTooltipActive,$=L.tooltipAxis,V=L.activeTooltipIndex,Q=L.activeLabel,K=N.props.children,Z=pn(K,Zn),D=R.props,U=D.points,ee=D.isRange,B=D.baseLine,q=R.item.type.defaultProps!==void 0?ce(ce({},R.item.type.defaultProps),R.item.props):R.item.props,Y=q.activeDot,se=q.hide,fe=q.activeBar,te=q.activeShape,he=!!(!se&&M&&Z&&(Y||fe||te)),le={};H!=="axis"&&Z&&Z.props.trigger==="click"?le={onClick:Qf(N.handleItemMouseEnter,T.props.onClick)}:H!=="axis"&&(le={onMouseLeave:Qf(N.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Qf(N.handleItemMouseEnter,T.props.onMouseEnter)});var ie=P.cloneElement(T,ce(ce({},R.props),le));function pe(Je){return typeof $.dataKey=="function"?$.dataKey(Je.payload):null}if(he)if(V>=0){var _e,ue;if($.dataKey&&!$.allowDuplicatedCategory){var Ve=typeof $.dataKey=="function"?pe:"payload.".concat($.dataKey.toString());_e=kh(U,Ve,Q),ue=ee&&B&&kh(B,Ve,Q)}else _e=U?.[V],ue=ee&&B&&B[V];if(te||fe){var J=T.props.activeIndex!==void 0?T.props.activeIndex:V;return[P.cloneElement(T,ce(ce(ce({},R.props),le),{},{activeIndex:J})),null,null]}if(!et(_e))return[ie].concat(Cl(N.renderActivePoints({item:R,activePoint:_e,basePoint:ue,childIndex:V,isRange:ee})))}else{var we,xe=(we=N.getItemByXY(N.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:ie},Me=xe.graphicalItem,Le=Me.item,We=Le===void 0?T:Le,rt=Me.childIndex,at=ce(ce(ce({},R.props),le),{},{activeIndex:rt});return[P.cloneElement(We,at),null,null]}return ee?[ie,null,null]:[ie,null]}),Be(N,"renderCustomized",function(T,E,O){return P.cloneElement(T,ce(ce({key:"recharts-customized-".concat(O)},N.props),N.state))}),Be(N,"renderMap",{CartesianGrid:{handler:nh,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:nh},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:nh},YAxis:{handler:nh},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((_=k.id)!==null&&_!==void 0?_:Bl("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=h3(N.triggeredAfterMouseMove,(C=k.throttleDelay)!==null&&C!==void 0?C:1e3/60),N.state={},N}return Sfe(S,x),xfe(S,[{key:"componentDidMount",value:function(){var _,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,C=_.children,N=_.data,T=_.height,E=_.layout,O=pn(C,Zn);if(O){var R=O.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var H=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,L=K1(this.state,N,R,H),M=this.state.tooltipTicks[R].coordinate,$=(this.state.offset.top+T)/2,V=E==="horizontal",Q=V?{x:M,y:$}:{y:M,x:$},K=this.state.formattedGraphicalItems.find(function(D){var U=D.item;return U.type.name==="Scatter"});K&&(Q=ce(ce({},Q),K.props.points[R].tooltipPosition),L=K.props.points[R].tooltipPayload);var Z={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:H,activePayload:L,activeCoordinate:Q};this.setState(Z),this.renderCursor(O),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var N,T;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(_){Iw([pn(_.children,Zn)],[pn(this.props.children,Zn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=pn(this.props.children,Zn);if(_&&typeof _.props.shared=="boolean"){var C=_.props.shared?"axis":"item";return c.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var C=this.container,N=C.getBoundingClientRect(),T=wee(N),E={chartX:Math.round(_.pageX-T.left),chartY:Math.round(_.pageY-T.top)},O=N.width/C.offsetWidth||1,R=this.inRange(E.chartX,E.chartY,O);if(!R)return null;var H=this.state,L=H.xAxisMap,M=H.yAxisMap,$=this.getTooltipEventType(),V=$I(this.state,this.props.data,this.props.layout,R);if($!=="axis"&&L&&M){var Q=Fa(L).scale,K=Fa(M).scale,Z=Q&&Q.invert?Q.invert(E.chartX):null,D=K&&K.invert?K.invert(E.chartY):null;return ce(ce({},E),{},{xValue:Z,yValue:D},V)}return V?ce(ce({},E),V):null}},{key:"inRange",value:function(_,C){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,E=_/N,O=C/N;if(T==="horizontal"||T==="vertical"){var R=this.state.offset,H=E>=R.left&&E<=R.left+R.width&&O>=R.top&&O<=R.top+R.height;return H?{x:E,y:O}:null}var L=this.state,M=L.angleAxisMap,$=L.radiusAxisMap;if(M&&$){var V=Fa(M);return YO({x:E,y:O},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,C=this.getTooltipEventType(),N=pn(_,Zn),T={};N&&C==="axis"&&(N.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Th(this.props,this.handleOuterEvent);return ce(ce({},E),T)}},{key:"addListener",value:function(){Lb.on(Bb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lb.removeListener(Bb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,C,N){for(var T=this.state.formattedGraphicalItems,E=0,O=T.length;E<O;E++){var R=T[E];if(R.item===_||R.props.key===_.key||C===Ki(R.item.type)&&N===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,C=this.state.offset,N=C.left,T=C.top,E=C.height,O=C.width;return z.createElement("defs",null,z.createElement("clipPath",{id:_},z.createElement("rect",{x:N,y:T,height:E,width:O})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(C,N){var T=OI(N,2),E=T[0],O=T[1];return ce(ce({},C),{},Be({},E,O.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(C,N){var T=OI(N,2),E=T[0],O=T[1];return ce(ce({},C),{},Be({},E,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[_])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(_){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[_])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(_){var C=this.state,N=C.formattedGraphicalItems,T=C.activeItem;if(N&&N.length)for(var E=0,O=N.length;E<O;E++){var R=N[E],H=R.props,L=R.item,M=L.type.defaultProps!==void 0?ce(ce({},L.type.defaultProps),L.props):L.props,$=Ki(L.type);if($==="Bar"){var V=(H.data||[]).find(function(D){return qoe(_,D)});if(V)return{graphicalItem:R,payload:V}}else if($==="RadialBar"){var Q=(H.data||[]).find(function(D){return YO(_,D)});if(Q)return{graphicalItem:R,payload:Q}}else if(hm(R,T)||pm(R,T)||Zu(R,T)){var K=Ole({graphicalItem:R,activeTooltipItem:T,itemData:M.data}),Z=M.activeIndex===void 0?K:M.activeIndex;return{graphicalItem:ce(ce({},R),{},{childIndex:Z}),payload:Zu(R,T)?M.data[K]:R.props.data[K]}}}return null}},{key:"render",value:function(){var _=this;if(!lP(this))return null;var C=this.props,N=C.children,T=C.className,E=C.width,O=C.height,R=C.style,H=C.compact,L=C.title,M=C.desc,$=II(C,ffe),V=Ye($,!1);if(H)return z.createElement(dI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement($w,Ko({},V,{width:E,height:O,title:L,desc:M}),this.renderClipPath(),uP(N,this.renderMap)));if(this.props.accessibilityLayer){var Q,K;V.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,V.role=(K=this.props.role)!==null&&K!==void 0?K:"application",V.onKeyDown=function(D){_.accessibilityManager.keyboardEvent(D)},V.onFocus=function(){_.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return z.createElement(dI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Ko({className:nt("recharts-wrapper",T),style:ce({position:"relative",cursor:"default",width:E,height:O},R)},Z,{ref:function(U){_.container=U}}),z.createElement($w,Ko({},V,{width:E,height:O,title:L,desc:M,style:Pfe}),this.renderClipPath(),uP(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(P.Component);Be(b,"displayName",r),Be(b,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Be(b,"getDerivedStateFromProps",function(x,S){var k=x.dataKey,_=x.data,C=x.children,N=x.width,T=x.height,E=x.layout,O=x.stackOffset,R=x.margin,H=S.dataStartIndex,L=S.dataEndIndex;if(S.updateId===void 0){var M=MI(x);return ce(ce(ce({},M),{},{updateId:0},v(ce(ce({props:x},M),{},{updateId:0}),S)),{},{prevDataKey:k,prevData:_,prevWidth:N,prevHeight:T,prevLayout:E,prevStackOffset:O,prevMargin:R,prevChildren:C})}if(k!==S.prevDataKey||_!==S.prevData||N!==S.prevWidth||T!==S.prevHeight||E!==S.prevLayout||O!==S.prevStackOffset||!Zo(R,S.prevMargin)){var $=MI(x),V={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},Q=ce(ce({},$I(S,_,E)),{},{updateId:S.updateId+1}),K=ce(ce(ce({},$),V),Q);return ce(ce(ce({},K),v(ce({props:x},K),S)),{},{prevDataKey:k,prevData:_,prevWidth:N,prevHeight:T,prevLayout:E,prevStackOffset:O,prevMargin:R,prevChildren:C})}if(!Iw(C,S.prevChildren)){var Z,D,U,ee,B=pn(C,xl),q=B&&(Z=(D=B.props)===null||D===void 0?void 0:D.startIndex)!==null&&Z!==void 0?Z:H,Y=B&&(U=(ee=B.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&U!==void 0?U:L,se=q!==H||Y!==L,fe=!et(_),te=fe&&!se?S.updateId:S.updateId+1;return ce(ce({updateId:te},v(ce(ce({props:x},S),{},{updateId:te,dataStartIndex:q,dataEndIndex:Y}),S)),{},{prevChildren:C,dataStartIndex:q,dataEndIndex:Y})}return null}),Be(b,"renderActiveDot",function(x,S,k){var _;return P.isValidElement(x)?_=P.cloneElement(x,S):Ke(x)?_=x(S):_=z.createElement(fm,S),z.createElement(Nt,{className:"recharts-active-dot",key:k},_)});var w=P.forwardRef(function(S,k){return z.createElement(b,Ko({},S,{ref:k}))});return w.displayName=b.displayName,w},Lfe=kz({chartName:"LineChart",GraphicalChild:wd,axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:Gl}],formatAxisMap:FD}),Bfe=kz({chartName:"AreaChart",GraphicalChild:sa,axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:Gl}],formatAxisMap:FD});const Ro=[{id:1,title:" Benvenuto nel Simulatore!",content:"Ciao! Sono Prof Satoshi e ti guider attraverso la **Bitcoin Wheel Strategy** con un simulatore paper trading. Qui puoi imparare senza rischi usando denaro virtuale!",icon:yt,mascotEmotion:"excited",tips:["Capitale iniziale: $10,000 virtuali","Nessun rischio reale","Impara facendo pratica"]},{id:2,title:" Cos' la Wheel Strategy?",content:`La Wheel  una strategia ciclica in 3 fasi:

**1. Vendi PUT**  Raccogli premium
**2. Vieni ASSEGNATO**  Compri BTC
**3. Vendi CALL**  Raccogli altro premium

Poi ricominci!  come una ruota che gira continuamente generando rendimento.`,icon:Br,mascotEmotion:"teaching",tips:["Genera reddito passivo","Funziona in mercati laterali","Riduce il rischio vs. solo holding"]},{id:3,title:" Fase 1: Vendere Put",content:`Quando **vendi una put**, accetti di comprare Bitcoin a un prezzo fisso (strike price) se il prezzo scende.

In cambio ricevi subito un **premium** (pagamento)!

Pensa: "Sono disposto a comprare BTC a $40,000? Allora vendo una put a quello strike e mi pago subito!"`,icon:al,mascotEmotion:"happy",tips:["Scegli strike sotto il prezzo corrente","Premium = guadagno immediato","Pi basso lo strike, pi sicuro"]},{id:4,title:" Fase 2: L'Assegnazione",content:`Se Bitcoin scende sotto il tuo strike price, vieni **assegnato**:

 Compri BTC al prezzo dello strike
 Ma hai gi guadagnato il premium!
 Il tuo prezzo reale : Strike - Premium

Esempio: Strike $40k, Premium $500  Prezzo effettivo $39,500`,icon:gt,mascotEmotion:"explaining",tips:["Non  una perdita!","Hai ridotto il costo grazie al premium","Ora possiedi BTC per la fase 3"]},{id:5,title:" Fase 3: Vendere Call",content:`Ora che possiedi Bitcoin, puoi vendere una **covered call**:

Accetti di vendere il tuo BTC a un prezzo pi alto se il prezzo sale.

Ricevi un altro premium! Se BTC non sale, tieni il BTC E il premium. Se sale, vendi con profitto!

Win-win! `,icon:_i,mascotEmotion:"celebrating",tips:["Strike sopra il prezzo corrente","Guadagno 1: Premium della put","Guadagno 2: Premium della call","Guadagno 3: Profitto se chiamato via"]},{id:6,title:" Come Usare il Simulatore",content:`Ora sei pronto per iniziare! Ecco cosa fare:

**1.** Osserva il prezzo di Bitcoin (si muove ogni 3 sec)
**2.** Completa le missioni nell'ordine
**3.** Segui i tutorial di ogni missione
**4.** Vendi opzioni e gestisci le posizioni
**5.** Accumula XP e badge!

Le prime missioni sono guidate passo-passo. Inizia con "Il Tuo Primo Premium"!`,icon:yt,mascotEmotion:"teaching",tips:["5 missioni progressive","Tutorial integrati","Feedback in tempo reale","Nessun rischio, solo apprendimento!"]}];function Ffe({onComplete:t,onSkip:e}){const[r,n]=P.useState(0),i=Ro[r],s=(r+1)/Ro.length*100,o=()=>{r<Ro.length-1?n(r+1):t()},c=()=>{r>0&&n(r-1)},d=i.icon;return a.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(oe,{className:"max-w-2xl w-full bg-white shadow-2xl border-2 border-emerald-500",children:[a.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 p-6 text-white relative",children:[a.jsx(ye,{onClick:e,variant:"ghost",size:"sm",className:"absolute top-4 right-4 text-white hover:bg-white/20",children:a.jsx(Hs,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-4xl",children:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-emerald-100 text-sm mb-1",children:"Prof Satoshi ti spiega..."}),a.jsx("h2",{className:"text-white",children:i.title})]})]}),a.jsx(ai,{value:s,className:"h-2 bg-white/20"}),a.jsxs("p",{className:"text-emerald-100 text-sm mt-2",children:["Passo ",r+1," di ",Ro.length]})]}),a.jsx("div",{className:"p-6",children:a.jsx(si,{mode:"wait",children:a.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-2xl flex items-center justify-center",children:a.jsx(d,{className:"w-10 h-10 text-emerald-600"})})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line text-center mb-6",children:i.content}),a.jsxs("div",{className:"bg-emerald-50 border-2 border-emerald-200 rounded-lg p-4",children:[a.jsxs("p",{className:"text-emerald-900 font-semibold mb-3 flex items-center gap-2",children:[a.jsx(yt,{className:"w-4 h-4"}),"Punti Chiave:"]}),a.jsx("ul",{className:"space-y-2",children:i.tips.map((f,p)=>a.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[a.jsx("span",{className:"text-emerald-600 mt-1",children:""}),a.jsx("span",{children:f})]},p))})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs(ye,{onClick:c,variant:"outline",disabled:r===0,className:"flex-1",children:[a.jsx(c$,{className:"w-4 h-4 mr-2"}),"Indietro"]}),a.jsxs(ye,{onClick:o,className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white",children:[r===Ro.length-1?"Inizia Simulazione":"Avanti",a.jsx(Dp,{className:"w-4 h-4 ml-2"})]})]}),r<Ro.length-1&&a.jsx("button",{onClick:e,className:"w-full text-center text-gray-500 text-sm mt-4 hover:text-gray-700 transition-colors",children:"Salta tutorial (puoi rivederlo dopo)"})]},r)})})]})})}const Wc=[{id:"mission-1",title:"Il Tuo Primo Premium",description:"Impara a vendere la tua prima opzione put e raccogliere premium",difficulty:"easy",objectives:[{type:"sell_option",target:1,current:0,description:"Vendi 1 opzione put"}],reward:{xp:200,badgeId:"first-premium"},tutorial:[{step:1,title:"Cos' una Put?",content:"Vendere una put significa che accetti di comprare Bitcoin a un prezzo fisso (strike) se il prezzo scende. In cambio, ricevi subito un pagamento (premium)."},{step:2,title:"Scegli lo Strike",content:"Seleziona uno strike price SOTTO il prezzo corrente di Bitcoin. Consiglio: inizia con 5-10% sotto il prezzo attuale per maggiore sicurezza."},{step:3,title:"Raccogli il Premium",content:"Il premium  il tuo guadagno immediato! Pi basso  lo strike, pi basso  il premium ma pi sicura  la posizione."}],status:"active"},{id:"mission-2",title:"Collezionista di Premium",description:"Raccogli $1,000 totali in premium vendendo multiple opzioni",difficulty:"medium",objectives:[{type:"collect_premium",target:1e3,current:0,description:"Raccogli $1,000 in premium totale"}],reward:{xp:350,badgeId:"premium-collector"},tutorial:[{step:1,title:"Diversifica le Posizioni",content:"Invece di vendere tutto in una volta, distribuisci le tue put in diversi strike price per gestire meglio il rischio."},{step:2,title:"Timing del Mercato",content:"Il premium  pi alto quando il mercato  volatile. Osserva il grafico e vendi quando vedi movimenti ampi."}],status:"locked",unlockRequirement:'Completa "Il Tuo Primo Premium"'},{id:"mission-3",title:"Gestisci l'Assegnazione",description:"Impara cosa succede quando la put va in-the-money e vieni assegnato",difficulty:"medium",objectives:[{type:"handle_assignment",target:1,current:0,description:"Ricevi 1 assegnazione e gestiscila"}],reward:{xp:400,badgeId:"assignment-master"},tutorial:[{step:1,title:"Cosa  l'Assegnazione?",content:"Se Bitcoin scende sotto il tuo strike, devi comprare BTC al prezzo dello strike. Non  una perdita - hai gi guadagnato il premium!"},{step:2,title:"Prezzo di Carico",content:"Il tuo prezzo effettivo : Strike - Premium ricevuto. Esempio: Strike $40k, Premium $500 = Prezzo reale $39,500."},{step:3,title:"Prossimo Step",content:"Ora che possiedi BTC, puoi vendere covered calls per generare pi reddito. Questo  il cuore della Wheel Strategy!"}],status:"locked",unlockRequirement:'Completa "Collezionista di Premium"'},{id:"mission-4",title:"Il Primo Covered Call",description:"Vendi una call coperta sul tuo Bitcoin assegnato",difficulty:"hard",objectives:[{type:"sell_option",target:1,current:0,description:"Vendi 1 covered call"}],reward:{xp:500,badgeId:"covered-call-pro"},tutorial:[{step:1,title:"Covered Call",content:"Vendere una call significa che accetti di vendere il tuo BTC a un prezzo pi alto (strike) se il prezzo sale. Ricevi premium anche qui!"},{step:2,title:"Strike Sopra il Prezzo",content:"Scegli uno strike SOPRA il prezzo corrente. Se BTC sale sopra, vendi con profitto. Se no, tieni il premium e il BTC."},{step:3,title:"Doppio Guadagno",content:"Hai gi guadagnato dalla put, ora guadagni anche dalla call.  cos che la Wheel genera rendimento costante!"}],status:"locked",unlockRequirement:`Completa "Gestisci l'Assegnazione"`},{id:"mission-5",title:"Wheel Strategy Master",description:"Completa un ciclo completo: Put  Assegnazione  Call  Profitto",difficulty:"expert",objectives:[{type:"complete_wheel",target:1,current:0,description:"Completa 1 ciclo completo della Wheel"}],reward:{xp:1e3,badgeId:"wheel-master"},tutorial:[{step:1,title:"Il Ciclo Completo",content:"Vendi put  Vieni assegnato  Vendi call  Bitcoin chiamato via  Ricomincia. Questo  come i professionisti generano reddito passivo."},{step:2,title:"Optimization",content:"Ogni ciclo genera profitto. Pi cicli completi, pi guadagni. L'obiettivo  ripetere questo processo indefinitamente."},{step:3,title:"Congratulazioni!",content:"Hai padroneggiato la Wheel Strategy! Ora sei pronto per applicarla nel mondo reale con capitale vero."}],status:"locked",unlockRequirement:'Completa "Il Primo Covered Call"'}];function qfe({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const{addXP:n}=Ja(),[i,s]=P.useState(96e3),[o,c]=P.useState(1e4),[d,f]=P.useState([]),[p,h]=P.useState([]),[g,v]=P.useState(Wc),[b,w]=P.useState(Wc[0]),[x,S]=P.useState(0),[k,_]=P.useState(!0),[C,N]=P.useState(!0),[T,E]=P.useState(0),[O,R]=P.useState("put"),[H,L]=P.useState("90000"),[M,$]=P.useState("800"),[V,Q]=P.useState("1");P.useEffect(()=>{if(O==="put"){const te=Math.round(i*.93);L(te.toString());const le=.008+(i-te)/i*100*.001,ie=Math.round(te*le);$(ie.toString())}else if(O==="call"){const te=Math.round(i*1.07);L(te.toString());const le=.006+(te-i)/i*100*8e-4,ie=Math.round(te*le);$(ie.toString())}},[O,i]),P.useEffect(()=>{const te=setInterval(()=>{s(he=>{const le=(Math.random()-.5)*2e3,ie=Math.max(85e3,Math.min(105e3,he+le));return Math.round(ie)})},3e3);return()=>clearInterval(te)},[]),P.useEffect(()=>{const te=new Date,he=`${te.getHours()}:${String(te.getMinutes()).padStart(2,"0")}`;h(le=>[...le,{time:he,price:i}].slice(-20))},[i]),P.useEffect(()=>{d.forEach(te=>{te.status==="open"&&te.type==="put"&&!te.assignmentPrice&&i<te.strike&&K(te.id)})},[i]);const K=te=>{const he=d.find(pe=>pe.id===te);if(!he)return;const le=he.quantity,ie=he.strike-he.premium;E(pe=>pe+le),f(d.map(pe=>pe.id===te?{...pe,status:"closed",assignmentPrice:i}:pe)),U("handle_assignment",1),de.success(" Assegnazione Ricevuta!",{description:`Hai acquistato ${le} BTC a $${he.strike}. Prezzo effettivo: $${ie.toFixed(0)} (dopo premium)`}),n(300)},Z=()=>{const te=parseFloat(H),he=parseFloat(M),le=parseInt(V);if(isNaN(te)||isNaN(he)||isNaN(le)||le<=0){de.error("Inserisci valori validi");return}if(b?.id==="mission-1"&&O==="call"){de.error("Per questa missione devi vendere una PUT!");return}if(O==="call"&&T<le){de.error(`Non hai abbastanza BTC! (Possiedi: ${T}, Richiesto: ${le})`);return}const ie={id:Date.now().toString(),type:O,strike:te,premium:he,quantity:le,openDate:new Date,status:"open"};f([...d,ie]),c(_e=>_e+he*le),U("sell_option",1),U("collect_premium",he*le);const pe=O==="call"?150:100;n(pe),de.success(` ${O==="put"?"Put":"Call"} venduta!`,{description:`+$${he*le} premium raccolto | +${pe} XP`}),b&&x<b.tutorial.length-1&&S(_e=>_e+1)},D=te=>{const he=d.find(_e=>_e.id===te);if(!he)return;const le=he.type==="put"?Math.max(0,he.strike-i)*he.quantity:Math.max(0,i-he.strike)*he.quantity,ie=he.premium*he.quantity,pe=ie-le;if(c(_e=>_e-le),f(d.map(_e=>_e.id===te?{..._e,status:"closed"}:_e)),U("close_position",1),pe>0){const ue=pe/ie*100>80?100:0,Ve=150+ue;n(Ve),de.success(" Posizione chiusa in profitto!",{description:ue>0?`Profitto eccellente: $${pe.toFixed(2)} | +${Ve} XP (bonus +${ue}!)`:`Profitto: $${pe.toFixed(2)} | +${Ve} XP`})}else de.error("Posizione chiusa in perdita",{description:`Perdita: $${Math.abs(pe).toFixed(2)}`})},U=(te,he)=>{if(!b)return;const le=g.map(pe=>{if(pe.id===b.id){const _e=pe.objectives.map(Ve=>{if(Ve.type===te){const J=Math.min(Ve.current+he,Ve.target);return{...Ve,current:J}}return Ve});return _e.every(Ve=>Ve.current>=Ve.target)&&pe.status==="active"?(ee(pe),{...pe,objectives:_e,status:"completed"}):{...pe,objectives:_e}}return pe});v(le);const ie=le.find(pe=>pe.id===b.id);ie&&w(ie)},ee=te=>{n(te.reward.xp),de.success(" Missione Completata!",{description:`${te.title} - +${te.reward.xp} XP`,duration:5e3});const he=Wc.findIndex(le=>le.id===te.id);if(he<Wc.length-1){const le=Wc[he+1];v(ie=>ie.map(pe=>pe.id===le.id?{...pe,status:"active"}:pe)),setTimeout(()=>{const ie={...le,status:"active"};w(ie),S(0),_(!0),de.success(" Nuova Missione Attivata!",{description:le.title,duration:4e3})},2e3)}else setTimeout(()=>{de.success(" Tutte le Missioni Completate!",{description:"Sei un maestro della Wheel Strategy!",duration:5e3})},2e3)},B=te=>{if(te.status==="locked"){de.error("Missione bloccata",{description:te.unlockRequirement});return}w(te),S(0),_(!0)},q=d.filter(te=>te.status==="open"),Y=d.reduce((te,he)=>te+he.premium*he.quantity,0),se=o-1e4,fe=te=>{switch(te){case"easy":return"bg-green-100 text-green-700";case"medium":return"bg-blue-100 text-blue-700";case"hard":return"bg-orange-100 text-orange-700";case"expert":return"bg-purple-100 text-purple-700"}};return a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50",children:[a.jsx(tn,{currentView:"simulation",onNavigate:t,onMascotToggle:r,mascotVisible:e}),a.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-4 md:px-6 sticky top-0 z-30 safe-area-top",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsxs(ye,{variant:"ghost",onClick:()=>t("home"),size:"sm",className:"h-10",children:[a.jsx(wu,{className:"w-5 h-5 md:w-4 md:h-4 mr-2"}),a.jsx("span",{className:"hidden md:inline",children:"Indietro"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:"text-gray-900 truncate",children:" Trading Missions"}),a.jsx("p",{className:"text-gray-600 hidden md:block",children:"Impara la Wheel Strategy passo dopo passo"})]}),a.jsxs(ye,{onClick:()=>t("wheel-strategy"),size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[a.jsx(gt,{className:"w-4 h-4 md:mr-2"}),a.jsx("span",{className:"hidden md:inline",children:"Wheel Dashboard"})]})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-5 md:px-6 md:py-8",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4 mb-6",children:[a.jsxs(oe,{className:"p-4 md:p-6 bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[a.jsx("p",{className:"text-blue-100 mb-2",children:"BTC Price"}),a.jsxs("p",{className:"font-bold mb-2",children:["$",i.toLocaleString()]}),a.jsxs("div",{className:"flex items-center gap-1 text-blue-100",children:[a.jsx(gt,{className:"w-4 h-4"}),a.jsx("span",{children:"Live"})]})]}),a.jsxs(oe,{className:"p-4 md:p-6",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"Portfolio"}),a.jsxs("p",{className:"text-gray-900 mb-2 font-bold",children:["$",o.toLocaleString()]}),a.jsxs("div",{className:`flex items-center gap-1 ${se>=0?"text-green-600":"text-red-600"}`,children:[se>=0?a.jsx(gt,{className:"w-4 h-4"}):a.jsx(TG,{className:"w-4 h-4"}),a.jsxs("span",{children:[se>=0?"+":"",se.toFixed(0)]})]})]}),a.jsxs(oe,{className:"p-4 md:p-6",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"Premium"}),a.jsxs("p",{className:"text-gray-900 mb-2 font-bold",children:["$",Y.toLocaleString()]}),a.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[a.jsx(al,{className:"w-4 h-4"}),a.jsxs("span",{children:[d.length," trades"]})]})]}),a.jsxs(oe,{className:"p-4 md:p-6",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"BTC Owned"}),a.jsx("p",{className:"text-gray-900 mb-2 font-bold",children:T}),a.jsx("p",{className:"text-gray-600",children:"Bitcoin"})]}),a.jsxs(oe,{className:"p-4 md:p-6 bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:[a.jsx("p",{className:"text-purple-100 mb-2",children:"Missioni"}),a.jsxs("p",{className:"font-bold mb-2",children:[g.filter(te=>te.status==="completed").length,"/",g.length]}),a.jsxs("div",{className:"flex items-center gap-1 text-purple-100",children:[a.jsx(Ht,{className:"w-4 h-4"}),a.jsx("span",{children:"Completate"})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-gray-900 flex items-center gap-2",children:[a.jsx(Br,{className:"w-5 h-5 text-blue-600"}),"Le Tue Missioni"]}),g.map((te,he)=>a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},children:a.jsx(oe,{className:`p-4 cursor-pointer transition-all ${b?.id===te.id?"ring-2 ring-blue-500 shadow-lg":te.status==="locked"?"opacity-60":"hover:shadow-md"}`,onClick:()=>B(te),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:te.status==="completed"?a.jsx(Dt,{className:"w-6 h-6 text-green-600"}):te.status==="locked"?a.jsx(Bs,{className:"w-6 h-6 text-gray-400"}):a.jsx(Sh,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-gray-900 truncate",children:te.title}),a.jsx(Ze,{className:fe(te.difficulty),children:te.difficulty})]}),a.jsx("p",{className:"text-gray-600 mb-3",children:te.description}),te.status==="active"&&te.objectives.map((le,ie)=>a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-gray-600",children:le.description}),a.jsxs("span",{className:"text-gray-900 font-semibold",children:[le.current,"/",le.target]})]}),a.jsx(ai,{value:le.current/le.target*100,className:"h-2"})]},ie)),te.status==="completed"&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Dt,{className:"w-4 h-4"}),a.jsxs("span",{className:"font-semibold",children:["Completata! +",te.reward.xp," XP"]})]}),te.status==="locked"&&a.jsx("p",{className:"text-gray-500 italic",children:te.unlockRequirement})]})]})})},te.id))]}),a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[b&&k&&b.status==="active"&&a.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:a.jsx(oe,{className:"p-6 bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-600 rounded-full",children:a.jsx(u$,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h3",{className:"text-gray-900",children:["Step ",x+1,"/",b.tutorial.length,": ",b.tutorial[x].title]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>_(!1),children:"Chiudi"})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:b.tutorial[x].content}),a.jsx("div",{className:"flex items-center gap-2",children:b.tutorial.map((te,he)=>a.jsx("div",{className:`h-2 flex-1 rounded-full ${he<=x?"bg-blue-600":"bg-gray-300"}`},he))})]})]})})}),a.jsxs(oe,{className:"p-6",children:[a.jsx("h2",{className:"text-gray-900 mb-4",children:"Bitcoin Price Chart"}),a.jsx(p3,{width:"100%",height:200,children:a.jsxs(Lfe,{data:p,children:[a.jsx(JS,{strokeDasharray:"3 3"}),a.jsx(Hl,{dataKey:"time",tick:{fontSize:12}}),a.jsx(Gl,{domain:["dataMin - 500","dataMax + 500"],tick:{fontSize:12}}),a.jsx(Zn,{}),a.jsx(wd,{type:"monotone",dataKey:"price",stroke:"#3b82f6",strokeWidth:2,dot:!1})]})})]}),a.jsxs(oe,{className:"p-6",children:[a.jsx("h2",{className:"text-gray-900 mb-4",children:"Vendi Opzione"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[a.jsx(ye,{variant:O==="put"?"default":"outline",onClick:()=>R("put"),className:O==="put"?"bg-orange-600 hover:bg-orange-700":"",children:"Sell Put"}),a.jsxs(ye,{variant:O==="call"?"default":"outline",onClick:()=>R("call"),disabled:T===0,className:O==="call"?"bg-blue-600 hover:bg-blue-700":"",children:["Sell Call ",T===0&&""]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(pt,{children:"Strike Price ($)"}),a.jsx(yn,{type:"number",value:H,onChange:te=>L(te.target.value),placeholder:O==="put"?"40000":"45000",className:"h-12"}),a.jsxs("p",{className:"text-gray-500 mt-1",children:["BTC attuale: $",i.toLocaleString(),"  ",O==="put"?"7% sotto (sicuro)":"7% sopra (profit target)"]})]}),a.jsxs("div",{children:[a.jsxs(pt,{children:["Premium ($) ",a.jsx("span",{className:"text-xs text-gray-500",children:"(auto-calcolato)"})]}),a.jsx(yn,{type:"number",value:M,onChange:te=>$(te.target.value),placeholder:"500",className:"h-12"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Il premium  calcolato automaticamente in base alla distanza dallo strike. Puoi modificarlo manualmente."})]}),a.jsxs("div",{children:[a.jsx(pt,{children:"Quantit"}),a.jsx(yn,{type:"number",value:V,onChange:te=>Q(te.target.value),placeholder:"1",min:"1",max:O==="call"?T:void 0,className:"h-12"}),O==="call"&&a.jsxs("p",{className:"text-gray-500 mt-1",children:["BTC disponibili: ",T]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-700 mb-2 font-semibold",children:"Riepilogo:"}),a.jsxs("p",{className:"text-gray-900",children:["Premium totale: $",parseFloat(M||"0")*parseInt(V||"1")]}),O==="put"&&a.jsxs("p",{className:"text-gray-600",children:["Capitale richiesto: $",parseFloat(H||"0")*parseInt(V||"1")]})]}),a.jsxs(ye,{onClick:Z,className:`w-full h-12 ${O==="put"?"bg-orange-600 hover:bg-orange-700":"bg-blue-600 hover:bg-blue-700"}`,children:["Vendi ",O==="put"?"Put":"Call"]})]})]}),a.jsxs(oe,{className:"p-6",children:[a.jsxs("h2",{className:"text-gray-900 mb-4",children:["Posizioni Aperte (",q.length,")"]}),q.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"Nessuna posizione aperta"}),a.jsx("p",{className:"text-gray-500",children:"Vendi la tua prima opzione per iniziare!"})]}):a.jsx("div",{className:"space-y-3",children:q.map(te=>{const he=te.type==="put"?Math.max(0,te.strike-i)*te.quantity:Math.max(0,i-te.strike)*te.quantity,le=te.premium*te.quantity,ie=le-he;return a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ze,{className:te.type==="put"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700",children:te.type.toUpperCase()}),a.jsxs("span",{className:"text-gray-900 font-semibold",children:["$",te.strike.toLocaleString()]}),a.jsxs("span",{className:"text-gray-600",children:["x",te.quantity]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-600",children:["Premium: $",le]}),a.jsxs("p",{className:ie>=0?"text-green-600 font-semibold":"text-red-600 font-semibold",children:["P&L: ",ie>=0?"+":"","$",ie.toFixed(2)]})]}),a.jsx(ye,{onClick:()=>D(te.id),variant:"outline",size:"sm",children:"Chiudi"})]})]},te.id)})})]})]})]})]}),C&&a.jsx(Ffe,{onComplete:()=>{N(!1),de.success("Ottimo! Ora inizia con la prima missione ")},onSkip:()=>{N(!1),de.info('Tutorial saltato. Puoi riaprirlo dal pulsante "?"')}}),!C&&a.jsx(ye,{onClick:()=>N(!0),className:"fixed bottom-24 md:bottom-8 right-4 md:right-8 w-14 h-14 rounded-full bg-emerald-600 hover:bg-emerald-700 shadow-2xl z-40 flex items-center justify-center",title:"Rivedi Tutorial",children:a.jsx(yH,{className:"w-6 h-6 text-white"})})]})}function Ufe({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const[n,i]=P.useState(1e3),[s,o]=P.useState(100),[c,d]=P.useState("monthly"),[f,p]=P.useState(.5),[h,g]=P.useState(5),[v,b]=P.useState(!1),[w,x]=P.useState(()=>{const U=localStorage.getItem("btcwheel_longterm_plans");return U?JSON.parse(U):[]}),[S,k]=P.useState(!1),[_,C]=P.useState(!1),[N,T]=P.useState(""),E=P.useMemo(()=>{const U=[],ee=h*365,B=f/100;let q=n,Y=n;const se=30;for(let fe=0;fe<=ee;fe++)if(fe>0&&(c==="weekly"&&fe%7===0||c==="monthly"&&fe%30===0)&&(q+=s,Y+=s),q=q*(1+B),fe%se===0||fe===ee){const te=Math.floor(fe/30),he=q-Y;U.push({month:te,year:Math.floor(fe/365),totalCapital:Math.round(q*100)/100,invested:Math.round(Y*100)/100,profit:Math.round(he*100)/100,label:fe===0?"Inizio":`M${te}`})}return U},[n,s,c,f,h]),O=E[E.length-1],R=O?.invested||0,H=O?.totalCapital||0,L=O?.profit||0,M=R>0?L/R*100:0,$=L/(h*12),V=()=>{k(!0)},Q=async()=>{if(!N.trim()){de.error("Inserisci un nome per il piano");return}if(!_){C(!0);try{const U={id:Date.now().toString(),name:N.trim(),initialCapital:n,pacAmount:s,pacFrequency:c,dailyInterest:f,years:h,finalCapital:H,totalProfit:L,roi:M,createdAt:new Date},ee=[...w,U];x(ee),localStorage.setItem("btcwheel_longterm_plans",JSON.stringify(ee));const B=h*12,q=f/100,Y=(Math.pow(1+q,30)-1)*100,se={id:U.id,name:N.trim(),ticker:"BTC",total_capital:n,plan:{duration_months:B,target_monthly_return:parseFloat(Y.toFixed(2))},plan_duration_months:B,target_monthly_return:parseFloat(Y.toFixed(2)),created_at:new Date().toISOString()},fe=JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]");fe.push(se),localStorage.setItem("btcwheel_strategies",JSON.stringify(fe));try{if(xt){const{data:{session:te}}=await Ge.auth.getSession();if(te?.access_token){console.log(" [LongTermSimulator] User logged in - saving strategy to cloud...");const he=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/wheel/strategies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te.access_token}`},body:JSON.stringify({name:se.name,ticker:se.ticker,totalCapital:se.total_capital,planDurationMonths:se.plan_duration_months,targetMonthlyReturn:se.target_monthly_return})});he.ok?(console.log(" [LongTermSimulator] Strategy saved to cloud successfully!"),de.success("Piano salvato con successo!",{description:`${N.trim()} sincronizzato con il cloud e disponibile nella dashboard`})):(console.error(" [LongTermSimulator] Failed to save to cloud:",await he.text()),de.warning("Piano salvato localmente",{description:"Impossibile sincronizzare con il cloud, ma  salvato sul tuo dispositivo"}))}else console.log(" [LongTermSimulator] No session - saving locally only"),de.success("Piano salvato con successo!",{description:`${N.trim()} aggiunto ai tuoi piani locali`})}else console.log(" [LongTermSimulator] Supabase not configured - local mode only"),de.success("Piano salvato con successo!",{description:`${N.trim()} aggiunto ai tuoi piani`})}catch(te){console.error(" [LongTermSimulator] Error saving to cloud:",te),de.warning("Piano salvato localmente",{description:"Errore nella sincronizzazione cloud, ma il piano  salvato sul dispositivo"})}k(!1),T(""),window.dispatchEvent(new CustomEvent("btcwheel-strategies-updated"))}finally{C(!1)}}},K=()=>{const U={id:Date.now().toString(),name:"Piano di Accumulo BTC",initialCapital:n,pacAmount:s,pacFrequency:c,dailyInterest:f,years:h,startDate:new Date("2024-08-10"),targetCapital:H};localStorage.setItem("btcwheel_active_plan",JSON.stringify(U));const ee=JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]"),B=h*12,q=f/100,Y=(Math.pow(1+q,30)-1)*100,se={id:U.id,name:U.name,ticker:"BTC",total_capital:n,plan:{duration_months:B,target_monthly_return:parseFloat(Y.toFixed(2))},plan_duration_months:B,target_monthly_return:parseFloat(Y.toFixed(2)),created_at:new Date().toISOString()},fe=ee.findIndex(te=>te.name===U.name);fe>=0?ee[fe]=se:ee.push(se),localStorage.setItem("btcwheel_strategies",JSON.stringify(ee)),de.success("Piano impostato come attivo!",{description:"Visibile nella Dashboard con tracking in tempo reale"})},Z=U=>{const ee=w.filter(Y=>Y.id!==U);x(ee),localStorage.setItem("btcwheel_longterm_plans",JSON.stringify(ee));const q=JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]").filter(Y=>Y.id!==U);localStorage.setItem("btcwheel_strategies",JSON.stringify(q)),de.success("Piano eliminato")},D=U=>{i(U.initialCapital),o(U.pacAmount),d(U.pacFrequency),p(U.dailyInterest),g(U.years),de.success("Piano caricato!")};return a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white relative",children:[a.jsx("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),a.jsx("div",{className:"fixed top-0 right-0 w-[500px] h-[500px] bg-emerald-500/10 rounded-full blur-[150px] pointer-events-none"}),a.jsx("div",{className:"fixed bottom-0 left-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[150px] pointer-events-none"}),a.jsx(tn,{currentView:"simulation",onNavigate:t,mascotVisible:e,onMascotToggle:r}),a.jsx(W.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative px-4 py-8 md:px-6 max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[a.jsx(W.div,{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/50",whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:a.jsx(gt,{className:"w-8 h-8 text-white drop-shadow-sm"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Simulatore Lungo Termine"}),a.jsx(W.div,{animate:{rotate:[0,14,-14,14,0],scale:[1,1.1,1.1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:a.jsx(yt,{className:"w-6 h-6 text-emerald-400"})})]}),a.jsxs("p",{className:"text-gray-400 mt-1",children:["Pianifica la tua strategia di investimento con interesse composto ",a.jsx(Ze,{className:"ml-2 bg-emerald-500/20 text-emerald-300 border-emerald-500/30",children:"Giornaliero"})]})]})]})}),a.jsxs("main",{className:"relative max-w-7xl mx-auto px-4 py-6 md:px-6 space-y-6",children:[a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[a.jsxs("h2",{className:"text-xl text-white mb-6 flex items-center gap-2",children:[a.jsx(Br,{className:"w-6 h-6 text-emerald-400"}),"Parametri di Simulazione"]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-3",children:[a.jsx(al,{className:"w-5 h-5 text-emerald-400"}),"Capitale Iniziale: ",a.jsxs("span",{className:"font-bold text-white",children:["$",n]})]}),a.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:n,onChange:U=>i(Number(U.target.value)),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-emerald"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"$0"}),a.jsx("span",{children:"$10,000"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-3",children:[a.jsx(sG,{className:"w-5 h-5 text-purple-400"}),"PAC ",c==="monthly"?"Mensile":"Settimanale",":",a.jsxs("span",{className:"font-bold text-white",children:["$",s]})]}),a.jsx("input",{type:"range",min:"20",max:"1000",step:"10",value:s,onChange:U=>o(Number(U.target.value)),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-purple"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"$20"}),a.jsx("span",{children:"$1,000"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-gray-300 mb-3 block",children:"Frequenza PAC"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ye,{onClick:()=>d("weekly"),className:`flex-1 ${c==="weekly"?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500":"bg-gray-700 hover:bg-gray-600"}`,children:"Settimanale"}),a.jsx(ye,{onClick:()=>d("monthly"),className:`flex-1 ${c==="monthly"?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500":"bg-gray-700 hover:bg-gray-600"}`,children:"Mensile"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-3",children:[a.jsx(iG,{className:"w-5 h-5 text-amber-400"}),"Interesse Giornaliero: ",a.jsxs("span",{className:"font-bold text-white",children:[f.toFixed(2),"%"]})]}),a.jsx("input",{type:"range",min:"0.01",max:"3",step:"0.01",value:f,onChange:U=>p(Number(U.target.value)),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-amber"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"0.01%"}),a.jsx("span",{children:"3%"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-3",children:[a.jsx(bh,{className:"w-5 h-5 text-blue-400"}),"Periodo di Investimento: ",a.jsxs("span",{className:"font-bold text-white",children:[h," ",h===1?"anno":"anni"]}),a.jsxs("span",{className:"text-gray-500",children:["(",h*12," mesi)"]})]}),a.jsx("input",{type:"range",min:"0.5",max:"15",step:"0.5",value:h,onChange:U=>g(Number(U.target.value)),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-blue"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"6 mesi"}),a.jsx("span",{children:"15 anni"})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",children:[a.jsx("p",{className:"text-gray-400 text-sm mb-3",children:" Preset Rapidi:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(ye,{size:"sm",onClick:()=>{i(1e3),o(100),d("monthly"),p(.5),g(5)},className:"bg-emerald-600/20 hover:bg-emerald-600/30 border border-emerald-500/30 text-emerald-300",children:"Conservativo 5Y"}),a.jsx(ye,{size:"sm",onClick:()=>{i(2e3),o(200),d("monthly"),p(1),g(10)},className:"bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 text-blue-300",children:"Moderato 10Y"}),a.jsx(ye,{size:"sm",onClick:()=>{i(5e3),o(500),d("monthly"),p(1.5),g(15)},className:"bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/30 text-purple-300",children:"Aggressivo 15Y"})]})]})]})}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid md:grid-cols-4 gap-4",children:[a.jsxs(oe,{className:"p-5 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 backdrop-blur-xl border border-emerald-500/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-emerald-300 text-sm",children:"Capitale Finale"}),a.jsx(gt,{className:"w-5 h-5 text-emerald-400"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",H.toLocaleString()]}),a.jsxs("p",{className:"text-emerald-400 text-xs mt-1",children:["Dopo ",h," anni"]})]}),a.jsxs(oe,{className:"p-5 bg-gradient-to-br from-purple-500/10 to-pink-500/10 backdrop-blur-xl border border-purple-500/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-purple-300 text-sm",children:"Profitto Totale"}),a.jsx(ra,{className:"w-5 h-5 text-purple-400"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",L.toLocaleString()]}),a.jsxs("p",{className:"text-purple-400 text-xs mt-1",children:["+",M.toFixed(1),"% ROI"]})]}),a.jsxs(oe,{className:"p-5 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 backdrop-blur-xl border border-blue-500/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-blue-300 text-sm",children:"Investito"}),a.jsx(al,{className:"w-5 h-5 text-blue-400"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",R.toLocaleString()]}),a.jsx("p",{className:"text-blue-400 text-xs mt-1",children:"Capitale + PAC"})]}),a.jsxs(oe,{className:"p-5 bg-gradient-to-br from-amber-500/10 to-orange-500/10 backdrop-blur-xl border border-amber-500/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-amber-300 text-sm",children:"Profitto Mensile"}),a.jsx($p,{className:"w-5 h-5 text-amber-400"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",$.toLocaleString(void 0,{maximumFractionDigits:0})]}),a.jsx("p",{className:"text-amber-400 text-xs mt-1",children:"Media stimata"})]})]}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl text-white flex items-center gap-2",children:[a.jsx(gt,{className:"w-6 h-6 text-emerald-400"}),"Crescita del Capitale"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{onClick:K,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500",children:[a.jsx(Br,{className:"w-4 h-4 mr-2"}),"Imposta come Attivo"]}),a.jsxs(ye,{onClick:V,className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500",children:[a.jsx(Uf,{className:"w-4 h-4 mr-2"}),"Salva Piano"]})]})]}),a.jsx(p3,{width:"100%",height:400,children:a.jsxs(Bfe,{data:E,children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),a.jsxs("linearGradient",{id:"colorInvested",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})]}),a.jsx(JS,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(Hl,{dataKey:"label",stroke:"#9ca3af",style:{fontSize:"12px"}}),a.jsx(Gl,{stroke:"#9ca3af",style:{fontSize:"12px"},tickFormatter:U=>`$${(U/1e3).toFixed(0)}k`}),a.jsx(Zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#fff"},formatter:U=>[`$${U.toLocaleString()}`,""]}),a.jsx(Ds,{}),a.jsx(sa,{type:"monotone",dataKey:"invested",stroke:"#6366f1",strokeWidth:2,fillOpacity:1,fill:"url(#colorInvested)",name:"Capitale Investito"}),a.jsx(sa,{type:"monotone",dataKey:"totalCapital",stroke:"#10b981",strokeWidth:3,fillOpacity:1,fill:"url(#colorTotal)",name:"Capitale Totale"})]})})]})}),w.length>0&&a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[a.jsxs("h3",{className:"text-xl text-white mb-4 flex items-center gap-2",children:[a.jsx(Uf,{className:"w-6 h-6 text-blue-400"}),"Piani Salvati (",w.length,")"]}),a.jsx("div",{className:"space-y-3",children:w.map(U=>a.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-white/10 hover:border-blue-500/30 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold",children:U.name}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Creato: ",new Date(U.createdAt).toLocaleDateString("it-IT")]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ye,{size:"sm",onClick:()=>D(U),className:"bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 text-blue-300",children:"Carica"}),a.jsx(ye,{size:"sm",onClick:()=>Z(U.id),className:"bg-red-600/20 hover:bg-red-600/30 border border-red-500/30 text-red-300",children:"Elimina"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Capitale Iniziale"}),a.jsxs("p",{className:"text-white font-medium",children:["$",U.initialCapital]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-500",children:["PAC ",U.pacFrequency==="monthly"?"Mensile":"Settimanale"]}),a.jsxs("p",{className:"text-white font-medium",children:["$",U.pacAmount]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Interesse/Giorno"}),a.jsxs("p",{className:"text-white font-medium",children:[U.dailyInterest,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Durata"}),a.jsxs("p",{className:"text-white font-medium",children:[U.years," anni"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Capitale Finale"}),a.jsxs("p",{className:"text-emerald-400 font-bold",children:["$",U.finalCapital.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Profitto"}),a.jsxs("p",{className:"text-purple-400 font-bold",children:["$",U.totalProfit.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"ROI"}),a.jsxs("p",{className:"text-amber-400 font-bold",children:["+",U.roi.toFixed(1),"%"]})]})]})]},U.id))})]})}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsx(oe,{className:"p-6 bg-gradient-to-br from-blue-500/10 to-purple-500/10 backdrop-blur-xl border border-blue-500/20",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-blue-500/30",children:a.jsx(yt,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold mb-2",children:" Come Funziona il Simulatore"}),a.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-emerald-400 mt-0.5",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:"Interesse Composto:"})," Gli interessi vengono reinvestiti automaticamente ogni giorno"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-emerald-400 mt-0.5",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:"PAC (Piano di Accumulo):"})," Aggiungi capitale regolarmente per massimizzare i rendimenti"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-emerald-400 mt-0.5",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:"Interesse Giornaliero:"})," Basato sui rendimenti della Wheel Strategy (0.5-1% realistico)"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-emerald-400 mt-0.5",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:"Salva i Piani:"})," Crea e confronta diverse strategie di investimento a lungo termine"]})]})]})]})]})})})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(W.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-white/20 rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg shadow-emerald-500/30",children:a.jsx(Uf,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl text-white",children:"Salva Piano"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Dai un nome al tuo piano di investimento"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Nome del Piano"}),a.jsx("input",{type:"text",value:N,onChange:U=>T(U.target.value),placeholder:"es. Piano Accumulo Conservativo",className:"w-full px-4 py-3 bg-gray-700/50 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500/50 focus:ring-2 focus:ring-emerald-500/20 transition-all",autoFocus:!0,onKeyDown:U=>{U.key==="Enter"?Q():U.key==="Escape"&&(k(!1),T(""))}}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:' Suggerimenti: "Piano 5 anni BTC", "Accumulo Mensile 2026", "Strategia Conservativa"'})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ye,{onClick:()=>{k(!1),T("")},className:"flex-1 bg-gray-700 hover:bg-gray-600",children:"Annulla"}),a.jsx(ye,{onClick:Q,disabled:_,className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 disabled:opacity-50 disabled:cursor-not-allowed",children:_?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Salvataggio..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Uf,{className:"w-4 h-4 mr-2"}),"Salva"]})})]})]})}),a.jsx("style",{children:`
        .slider-emerald::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          background: linear-gradient(135deg, #10b981, #14b8a6);
          cursor: pointer;
          border-radius: 50%;
          box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        
        .slider-purple::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          background: linear-gradient(135deg, #a855f7, #ec4899);
          cursor: pointer;
          border-radius: 50%;
          box-shadow: 0 0 10px rgba(168, 85, 247, 0.5);
        }
        
        .slider-amber::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          background: linear-gradient(135deg, #f59e0b, #f97316);
          cursor: pointer;
          border-radius: 50%;
          box-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
        }
        
        .slider-blue::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          background: linear-gradient(135deg, #3b82f6, #06b6d4);
          cursor: pointer;
          border-radius: 50%;
          box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }
      `})]})}function Vfe({trades:t,stats:e,plan:r}){if(t.length===0)return null;const n=t.filter(w=>w.status==="closed"),i=n.length>0?n.reduce((w,x)=>w+x.premium*x.quantity/x.capital*100,0)/n.length:0,s=t.length>0?new Date(t[t.length-1].date):new Date,o=t.length>0?new Date(t[0].date):new Date,c=Math.max(1,Math.ceil((o.getTime()-s.getTime())/(1e3*60*60*24))),d=c/30,f=d>0?t.length/d:0,p=d>0?e.returnOnCapital/d:e.returnOnCapital,h=r||{targetPremiumPercent:2,tradesPerMonth:8,targetMonthlyReturn:5},g=i-h.targetPremiumPercent,v=f-h.tradesPerMonth,b=p-h.targetMonthlyReturn;return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl text-gray-800 flex items-center gap-2",children:" Piano vs Reale"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Confronta le performance reali con gli obiettivi pianificati"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Periodo analizzato"}),a.jsxs("p",{className:"text-sm text-gray-700",children:[c," giorni (",d.toFixed(1)," mesi)"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-sm text-gray-700",children:"Premio Medio per Trade"}),a.jsx(Br,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Piano"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[h.targetPremiumPercent.toFixed(2),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Reale"}),a.jsxs("span",{className:"text-lg text-gray-900",children:[i.toFixed(2),"%"]})]}),a.jsxs("div",{className:"pt-3 border-t border-gray-200 flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-600",children:"Differenza"}),a.jsxs("div",{className:`flex items-center gap-1 text-sm ${g>=0?"text-emerald-600":"text-red-600"}`,children:[g>=0?a.jsx(D0,{className:"w-4 h-4"}):a.jsx(M0,{className:"w-4 h-4"}),a.jsxs("span",{children:[Math.abs(g).toFixed(2),"%"]})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-sm text-gray-700",children:"Trade al Mese"}),a.jsx(il,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Piano"}),a.jsx("span",{className:"text-sm text-gray-600",children:h.tradesPerMonth})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Reale"}),a.jsx("span",{className:"text-lg text-gray-900",children:f.toFixed(1)})]}),a.jsxs("div",{className:"pt-3 border-t border-gray-200 flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-600",children:"Differenza"}),a.jsxs("div",{className:`flex items-center gap-1 text-sm ${v>=0?"text-emerald-600":"text-red-600"}`,children:[v>=0?a.jsx(D0,{className:"w-4 h-4"}):a.jsx(M0,{className:"w-4 h-4"}),a.jsx("span",{children:Math.abs(v).toFixed(1)})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-sm text-gray-700",children:"ROI Mensile"}),a.jsx(gt,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Piano"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[h.targetMonthlyReturn.toFixed(2),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Reale"}),a.jsxs("span",{className:"text-lg text-gray-900",children:[p.toFixed(2),"%"]})]}),a.jsxs("div",{className:"pt-3 border-t border-gray-200 flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-600",children:"Differenza"}),a.jsxs("div",{className:`flex items-center gap-1 text-sm ${b>=0?"text-emerald-600":"text-red-600"}`,children:[b>=0?a.jsx(D0,{className:"w-4 h-4"}):a.jsx(M0,{className:"w-4 h-4"}),a.jsxs("span",{children:[Math.abs(b).toFixed(2),"%"]})]})]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-emerald-50 rounded-xl p-5 border-2 border-emerald-200",children:[a.jsx("h4",{className:"text-sm text-gray-800 mb-3",children:" Analisi Performance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-gray-700",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-0.5",children:g>=0?"":""}),a.jsxs("p",{children:["Premio medio ",a.jsx("strong",{children:g>=0?"superiore":"inferiore"})," al piano di"," ",a.jsxs("strong",{className:g>=0?"text-emerald-600":"text-red-600",children:[Math.abs(g).toFixed(2),"%"]})]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-0.5",children:v>=-2?"":""}),a.jsxs("p",{children:["Frequenza trade: ",a.jsx("strong",{children:f.toFixed(1)})," vs piano ",a.jsx("strong",{children:h.tradesPerMonth}),"/mese"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-0.5",children:b>=0?"":""}),a.jsxs("p",{children:["ROI mensile ",b>=0?"raggiunto":"sotto piano",":",a.jsxs("strong",{className:b>=0?"text-emerald-600":"text-red-600",children:[" ",p.toFixed(2),"%"]})," vs ",a.jsxs("strong",{children:[h.targetMonthlyReturn,"%"]})]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-0.5",children:""}),a.jsxs("p",{children:["Win rate: ",a.jsxs("strong",{children:[e.winRate.toFixed(1),"%"]})," (",e.winningTrades,"W / ",e.losingTrades,"L)"]})]})]})]})]})]})}function Wfe({onNavigate:t}){const e=P.useRef(!1),r=P.useRef(!1);console.log("[WheelStrategyView]  Component rendering..."),console.log("[WheelStrategyView]  Refs state:",{hasAutoSelected:e.current,isLoading:r.current});const[n,i]=P.useState(!0),[s,o]=P.useState(!1),[c,d]=P.useState(null),[f,p]=P.useState(null),[h,g]=P.useState(!1),[v,b]=P.useState([]),[w,x]=P.useState(null),[S,k]=P.useState(!1),[_,C]=P.useState({name:"",ticker:"BTC",totalCapital:"",planDurationMonths:"12",targetMonthlyReturn:"5"}),[N,T]=P.useState(!1),[E,O]=P.useState([]),[R,H]=P.useState(null),[L,M]=P.useState(!1),[$,V]=P.useState({ticker:"BTC",type:"put",action:"sell",strike:"",premium:"",quantity:"1",expiry:"",capital:""}),K=(()=>{const J=parseFloat($.capital),we=parseFloat($.premium);return!J||!we||isNaN(J)||isNaN(we)?null:(we/J*100).toFixed(2)})(),Z=$.type==="call"?"Capitale (BTC)":"Capitale (USDT)",D=$.type==="call"?"Premio (BTC)":"Premio (USDT)",U=$.type==="call"?"":"$",ee=$.type==="call"?"1.0":"50000",B=$.type==="call"?"0.02":"500";(()=>{if(E.length===0)return null;const J=E.find(Me=>Me.status==="closed"&&Me.type===$.type);if(!J)return null;const we=J.premium*J.quantity;return(J.capital+we).toFixed($.type==="call"?4:2)})(),P.useEffect(()=>{console.log(" [WheelStrategy] Initial mount - loading data..."),se()},[]),P.useEffect(()=>{const J=()=>{console.log(" [WheelStrategy] Strategies updated event - reloading data..."),e.current=!1,se()};return window.addEventListener("btcwheel-strategies-updated",J),()=>{window.removeEventListener("btcwheel-strategies-updated",J)}},[]);const Y=async()=>{try{if(de.loading("Controllo connessione...",{id:"test-connection"}),console.log(" [WheelStrategy] Testing connection..."),console.log(" [WheelStrategy] Supabase URL:",`https://${it}.supabase.co`),console.log(" [WheelStrategy] Supabase configured:",xt),!xt){de.error("Supabase non configurato!",{id:"test-connection"});return}const{data:{session:J},error:we}=await Ge.auth.getSession();if(we){console.error(" [WheelStrategy] Connection test failed:",we),de.error(`Errore: ${we.message}`,{id:"test-connection"});return}if(!J){console.log(" [WheelStrategy] No session - need to login"),de.error("Nessuna sessione attiva - Effettua il login",{id:"test-connection"});return}console.log(" [WheelStrategy] Connection test successful!"),de.success(`Connesso come ${J.user.email}`,{id:"test-connection"}),await se()}catch(J){console.error(" [WheelStrategy] Connection test error:",J),de.error("Errore nel test di connessione",{id:"test-connection"})}},se=async()=>{if(r.current){console.log(" [WheelStrategy] Already loading data, skipping...");return}try{if(r.current=!0,i(!0),console.log(" [WheelStrategy] Loading user and data..."),console.log(" [WheelStrategy] Supabase configured:",xt),!xt){console.log(" [WheelStrategy] Modalit locale attiva - usando localStorage"),fe(),i(!1);return}console.log(" [WheelStrategy] Checking session...");const{data:{session:J},error:we}=await Ge.auth.getSession();if(we&&console.error(" [WheelStrategy] Session error:",we),we||!J){console.log(" [WheelStrategy] Nessuna sessione attiva - usando modalit locale con localStorage"),console.log(" [WheelStrategy] I dati NON verranno salvati nel database cloud!"),g(!1),fe(),i(!1);return}console.log(" [WheelStrategy] Session found! User:",J.user.email),console.log(" [WheelStrategy] User ID:",J.user.id),d(J.user.id),p(J.access_token),g(!0),console.log(" [WheelStrategy] Modalit CLOUD attiva - usando database Supabase"),await he(J.access_token)}catch(J){console.error(" [WheelStrategy] Error loading user data:",J),fe()}finally{i(!1),r.current=!1}},fe=()=>{try{const J=localStorage.getItem("btcwheel_strategies");if(J){const we=JSON.parse(J);if(b(we),console.log(` [WheelStrategy] Loaded ${we.length} local strategies`),console.log(" [WheelStrategy] hasAutoSelectedRef.current:",e.current),we.length>0&&!e.current){const xe=localStorage.getItem("btcwheel_selected_strategy_id_local");console.log(" Saved local strategy ID:",xe),console.log(" Available local strategies:",we.map(Le=>({id:Le.id,name:Le.name})));const Me=xe&&we.find(Le=>Le.id===xe)||we[0];console.log(" Auto-selecting local strategy:",Me.name,Me.id),te(Me),e.current=!0}else we.length>0&&e.current&&(console.log(" [loadLocalData] Strategies exist but hasAutoSelectedRef is true - this means we already selected"),console.log(" [loadLocalData] Current selectedStrategy:",w?.name||"NULL"),w||(console.log(" [loadLocalData] FIXING: No selected strategy despite having strategies! Force selecting first..."),te(we[0])))}}catch(J){console.error("Error loading local data:",J)}},te=J=>{console.log(" [selectLocalStrategy] Selecting LOCAL strategy:",{name:J.name,id:J.id,ticker:J.ticker}),x(J),console.log(" [selectLocalStrategy] Strategy set in state"),localStorage.setItem("btcwheel_selected_strategy_id_local",J.id),V(Ie=>({...Ie,ticker:J.ticker}));const we=localStorage.getItem(`btcwheel_trades_${J.id}`),xe=we?JSON.parse(we):[];if(O(xe),xe.length===0){H(null);return}const Me=xe.filter(Ie=>Ie.status==="open").length,Le=xe.filter(Ie=>Ie.status==="closed"),We=xe.reduce((Ie,wt)=>Ie+wt.pnl,0),rt=Le.reduce((Ie,wt)=>Ie+wt.premium*wt.quantity,0),at=Le.filter(Ie=>Ie.pnl>0).length,Je=Le.filter(Ie=>Ie.pnl<0).length,kt=Le.length>0?at/Le.length*100:0,yr=J.total_capital>0?We/J.total_capital*100:0;H({totalPnL:We,activeTrades:Me,closedTrades:Le.length,totalTrades:xe.length,winRate:kt,totalPremiumCollected:rt,returnOnCapital:yr,winningTrades:at,losingTrades:Je,initialCapital:J.total_capital,currentCapital:J.total_capital+We})},he=async J=>{try{const we=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/wheel/strategies`,{headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"}});if(!we.ok)throw new Error("Failed to fetch strategies");const xe=await we.json();if(b(xe.strategies||[]),console.log(` [WheelStrategy] Loaded ${xe.strategies?.length||0} cloud strategies`),console.log(" [WheelStrategy] hasAutoSelectedRef.current:",e.current),xe.strategies&&xe.strategies.length>0&&!e.current){const Me=localStorage.getItem("btcwheel_selected_strategy_id");console.log(" Saved strategy ID:",Me),console.log(" Available strategies:",xe.strategies.map(We=>({id:We.id,name:We.name})));const Le=Me&&xe.strategies.find(We=>We.id===Me)||xe.strategies[0];console.log(" Auto-selecting strategy:",Le.name,Le.id),await le(Le,J),e.current=!0}else xe.strategies&&xe.strategies.length>0&&e.current&&(console.log(" [fetchStrategies] Strategies exist but hasAutoSelectedRef is true"),console.log(" [fetchStrategies] Current selectedStrategy:",w?.name||"NULL"),w||(console.log(" [fetchStrategies] FIXING: No selected strategy! Force selecting first..."),await le(xe.strategies[0],J)))}catch(we){console.error("Error fetching strategies:",we)}},le=async(J,we)=>{console.log(" [selectStrategy] Selecting CLOUD strategy:",{name:J.name,id:J.id,ticker:J.ticker});const xe=we||f;if(!xe){console.error(" [selectStrategy] No auth token available!");return}x(J),console.log(" [selectStrategy] Strategy set in state"),f&&localStorage.setItem("btcwheel_selected_strategy_id",J.id),V(Me=>({...Me,ticker:J.ticker})),await ie(J.id,xe),await pe(J.id,xe)},ie=async(J,we)=>{try{const xe=we||f;if(!xe)return;const Me=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/wheel/trades/${J}`,{headers:{Authorization:`Bearer ${xe}`,"Content-Type":"application/json"}});if(!Me.ok)throw new Error("Failed to fetch trades");const We=((await Me.json()).trades||[]).map(rt=>({id:rt.id,date:rt.created_at.split("T")[0],type:rt.type,action:rt.action,strike:Number(rt.strike),premium:Number(rt.premium),quantity:rt.quantity,ticker:rt.ticker,expiry:rt.expiry,pnl:Number(rt.pnl),status:rt.status,capital:Number(rt.capital)}));O(We)}catch(xe){console.error("Error fetching trades:",xe)}},pe=async(J,we)=>{try{const xe=we||f;if(!xe)return;const Me=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/wheel/strategies/${J}/stats`,{headers:{Authorization:`Bearer ${xe}`,"Content-Type":"application/json"}});if(!Me.ok)throw new Error("Failed to fetch stats");const Le=await Me.json();H(Le.stats)}catch(xe){console.error("Error fetching stats:",xe)}},_e=()=>{if(E.length===0)return;const J=E[0],we=J.premium*J.quantity,xe=J.capital+we;V({...$,capital:xe.toFixed($.type==="call"?4:2),ticker:J.ticker,type:J.type}),M(!0)},ue=async()=>{if(!w){alert("Seleziona una strategia prima di aggiungere un trade");return}o(!0);try{const J={id:`${Date.now()}`,date:new Date().toISOString().split("T")[0],type:$.type,action:$.action,strike:parseFloat($.strike),premium:parseFloat($.premium),quantity:parseInt($.quantity),ticker:$.ticker,expiry:$.expiry,pnl:$.action==="sell"?parseFloat($.premium)*parseInt($.quantity):-parseFloat($.premium)*parseInt($.quantity),status:"open",capital:parseFloat($.capital)};if(!f){const xe=[J,...E];if(O(xe),localStorage.setItem(`btcwheel_trades_${w.id}`,JSON.stringify(xe)),$.action==="assigned"){const Ie=w.total_btc_accumulated||0,wt=w.total_btc_cost_basis||0,li=parseInt($.quantity),Pr=parseFloat($.strike),Tt=Ie+li,Xe=wt+li*Pr,ft=Tt>0?Xe/Tt:0,ht={...w,total_btc_accumulated:Tt,total_btc_cost_basis:Xe,average_btc_price:ft},Ai=v.map(ci=>ci.id===ht.id?ht:ci);b(Ai),localStorage.setItem("btcwheel_strategies",JSON.stringify(Ai)),x(ht),console.log(` [Local] Updated BTC accumulation: ${Tt} BTC @ $${ft.toFixed(2)}`)}const Me=xe.filter(Ie=>Ie.status==="open").length,Le=xe.filter(Ie=>Ie.status==="closed"),We=xe.reduce((Ie,wt)=>Ie+wt.pnl,0),rt=Le.reduce((Ie,wt)=>Ie+wt.premium*wt.quantity,0),at=Le.filter(Ie=>Ie.pnl>0).length,Je=Le.filter(Ie=>Ie.pnl<0).length,kt=Le.length>0?at/Le.length*100:0,yr=w.total_capital>0?We/w.total_capital*100:0;H({totalPnL:We,activeTrades:Me,closedTrades:Le.length,totalTrades:xe.length,winRate:kt,totalPremiumCollected:rt,returnOnCapital:yr,winningTrades:at,losingTrades:Je,initialCapital:w.total_capital,currentCapital:w.total_capital+We}),T(!1),M(!1),V({ticker:w.ticker,type:"put",action:"sell",strike:"",premium:"",quantity:"1",expiry:"",capital:""}),o(!1);return}if(!(await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/wheel/trades`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({strategyId:w.id,type:$.type,action:$.action,strike:parseFloat($.strike),premium:parseFloat($.premium),quantity:parseInt($.quantity),ticker:$.ticker,expiry:$.expiry,capital:parseFloat($.capital),status:"open"})})).ok)throw new Error("Failed to add trade");await ie(w.id),await pe(w.id),T(!1),M(!1),V({ticker:w.ticker,type:"put",action:"sell",strike:"",premium:"",quantity:"1",expiry:"",capital:""})}catch(J){console.error("Error adding trade:",J),alert("Errore nell'aggiunta del trade. Riprova.")}finally{o(!1)}},Ve=async J=>{if(!w){alert("Seleziona una strategia prima di gestire i trade");return}o(!0);try{if(!f){const xe=E.map(Ie=>Ie.id===J?{...Ie,status:"closed"}:Ie);O(xe),localStorage.setItem(`btcwheel_trades_${w.id}`,JSON.stringify(xe));const Me=xe.filter(Ie=>Ie.status==="open").length,Le=xe.filter(Ie=>Ie.status==="closed"),We=xe.reduce((Ie,wt)=>Ie+wt.pnl,0),rt=Le.reduce((Ie,wt)=>Ie+wt.premium*wt.quantity,0),at=Le.filter(Ie=>Ie.pnl>0).length,Je=Le.filter(Ie=>Ie.pnl<0).length,kt=Le.length>0?at/Le.length*100:0,yr=w.total_capital>0?We/w.total_capital*100:0;H({totalPnL:We,activeTrades:Me,closedTrades:Le.length,totalTrades:xe.length,winRate:kt,totalPremiumCollected:rt,returnOnCapital:yr,winningTrades:at,losingTrades:Je,initialCapital:w.total_capital,currentCapital:w.total_capital+We}),de.success("Trade chiuso");return}if(!(await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/wheel/trades/${J}`,{method:"PATCH",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({status:"closed"})})).ok)throw new Error("Failed to update trade status");w.id&&(await ie(w.id),await pe(w.id)),de.success("Trade chiuso")}catch(we){console.error("Error closing trade:",we),de.error("Errore nella chiusura del trade")}finally{o(!1)}};return a.jsxs("div",{className:"min-h-screen bg-[#0a1628]",children:[a.jsx(tn,{currentView:"wheel-strategy",onNavigate:t,mascotVisible:!0,onMascotToggle:()=>{}}),a.jsxs("div",{className:"md:pl-20",children:[a.jsx("header",{className:"bg-slate-900/50 backdrop-blur-md border-b border-slate-700/50 sticky top-0 z-10",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-4 max-w-[1600px]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>t("simulation"),className:"flex items-center gap-2 text-gray-400 hover:text-emerald-400 transition-all hover:gap-3",children:[a.jsx(wu,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Torna al Simulatore"}),a.jsx("span",{className:"sm:hidden",children:"Indietro"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:" Wheel Strategy Dashboard"}),h?a.jsx("span",{className:"hidden sm:flex items-center gap-1 px-3 py-1 bg-emerald-500/20 text-emerald-400 rounded-full text-xs font-semibold border border-emerald-500/30",children:" Cloud"}):a.jsx("span",{className:"hidden sm:flex items-center gap-1 px-3 py-1 bg-orange-500/20 text-orange-400 rounded-full text-xs font-semibold border border-orange-500/30",children:" Locale"}),a.jsx(qj,{onNavigate:t})]})]}),!h&&!n&&a.jsx("div",{className:"mt-3 p-3 bg-orange-500/10 border border-orange-500/30 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ni,{className:"w-5 h-5 text-orange-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm text-orange-400 mb-2",children:[" ",a.jsx("strong",{children:"Modalit locale attiva"})," - I dati sono salvati solo nel browser e verranno persi se cancelli la cache."]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:Y,className:"px-3 py-1.5 bg-orange-500/20 hover:bg-orange-500/30 text-orange-300 rounded-md text-xs font-semibold border border-orange-500/40 transition-colors",children:" Test Connessione Cloud"}),a.jsx("button",{onClick:()=>{window.location.reload()},className:"px-3 py-1.5 bg-orange-500/10 hover:bg-orange-500/20 text-orange-400 rounded-md text-xs transition-colors",children:" Ricarica Pagina"})]})]})]})})]})}),a.jsx("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-[1600px] space-y-6",children:n?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(YH,{className:"w-8 h-8 text-emerald-400 animate-spin"}),a.jsx("span",{className:"ml-3 text-gray-400",children:"Caricamento strategie..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl text-white",children:" Strategia Attiva"}),a.jsxs("div",{className:"text-sm text-gray-400",children:[" Crea strategie nel ",a.jsx("button",{onClick:()=>t("longterm"),className:"text-emerald-400 hover:text-emerald-300 underline font-medium",children:"Simulatore"})]})]}),(console.log(" [RENDER DECISION]",{strategiesLength:v.length,selectedStrategy:w?.name||"NULL",showingEmptyState:v.length===0}),v.length===0)?a.jsxs("div",{className:"text-center py-12 px-4 bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl border-2 border-emerald-500/30",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(gt,{className:"w-8 h-8 text-emerald-400"})}),a.jsx("p",{className:"text-lg font-semibold text-white mb-2",children:"Nessuna strategia trovata"}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Crea la tua prima strategia nel Simulatore Lungo Termine"}),a.jsx("button",{onClick:()=>t("longterm"),className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 font-medium shadow-md hover:shadow-lg transform hover:scale-105",children:" Vai al Simulatore"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4 p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:" Seleziona Strategia Attiva"}),a.jsxs("div",{className:"flex gap-2 items-start",children:[a.jsx("select",{value:w?.id||"",onChange:J=>{const we=v.find(xe=>xe.id===J.target.value);we&&(console.log(" Strategia selezionata manualmente:",we.name,we.id),f?le(we):te(we))},className:"flex-1 px-4 py-3 border border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-base font-medium bg-slate-900 text-white",children:v.map(J=>a.jsxs("option",{value:J.id,children:[J.name," - ",J.ticker," ($",J.total_capital.toLocaleString(),")"]},J.id))}),w&&v.length>1&&a.jsx("button",{onClick:async()=>{if(confirm(`Sei sicuro di voler eliminare la strategia "${w.name}"?`))try{if(f){if((await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/strategies/${w.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${f}`}})).ok){de.success("Strategia eliminata!");const we=v.filter(xe=>xe.id!==w.id);b(we),we.length>0?await le(we[0]):x(null)}}else{const J=v.filter(we=>we.id!==w.id);b(J),localStorage.setItem("btcwheel_strategies",JSON.stringify(J)),de.success("Strategia eliminata!"),J.length>0?te(J[0]):x(null)}}catch(J){console.error("Error deleting strategy:",J),de.error("Errore durante l'eliminazione")}},className:"px-4 py-3 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium whitespace-nowrap",children:" Elimina"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Seleziona quale strategia vuoi monitorare e gestire"})]}),w&&a.jsxs("div",{className:"mb-4 p-5 rounded-xl border-2 border-emerald-500/50 bg-gradient-to-br from-slate-800 to-slate-900 shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("span",{className:"text-emerald-400 text-xs font-semibold px-2 py-1 bg-emerald-500/20 rounded-full",children:" STRATEGIA ATTIVA"})}),a.jsx("h3",{className:"text-xl font-semibold text-white",children:w.name}),a.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-400",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ticker:"})," ",a.jsx("span",{className:"font-semibold text-emerald-400",children:w.ticker})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Trade:"})," ",a.jsx("span",{className:"font-semibold text-emerald-400",children:E.length})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t-2 border-emerald-500/30",children:[a.jsxs("div",{className:"bg-slate-800/50 border border-slate-600/50 rounded-lg p-4",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:" Capitale Versato"}),a.jsxs("div",{className:"text-2xl text-white",children:["$",w.total_capital.toLocaleString()]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Capitale iniziale"})]}),a.jsxs("div",{className:"bg-slate-800/50 border border-slate-600/50 rounded-lg p-4",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:" Interesse Totale"}),a.jsx("div",{className:`text-2xl ${R&&R.totalPnL>=0?"text-emerald-400":"text-red-400"}`,children:R?(R.totalPnL>=0?"+":"")+"$"+R.totalPnL.toFixed(2):"$0.00"}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:R?`${R.returnOnCapital>=0?"+":""}${R.returnOnCapital.toFixed(2)}% ROI`:"0% ROI"})]}),a.jsxs("div",{className:"bg-slate-800/50 border border-slate-600/50 rounded-lg p-4",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:" Capitale Finale"}),a.jsxs("div",{className:"text-2xl text-emerald-400",children:["$",R?R.currentCapital.toLocaleString():w.total_capital.toLocaleString()]}),a.jsx("div",{className:"text-xs text-emerald-500 mt-1",children:R&&R.totalPnL!==0?`${R.totalPnL>=0?"+":""}$${Math.abs(R.totalPnL).toFixed(2)} vs iniziale`:"Nessun trade ancora"})]})]}),(()=>{const J=w.plan_duration_months||w.plan?.duration_months||12,we=w.target_monthly_return||w.plan?.targetMonthlyReturn||5,xe=new Date(w.created_at),Me=new Date(xe);Me.setMonth(Me.getMonth()+J);const Le=new Date,We=Math.ceil((Me.getTime()-xe.getTime())/(1e3*60*60*24)),rt=Math.ceil((Le.getTime()-xe.getTime())/(1e3*60*60*24)),at=Math.max(0,We-rt),Je=we/100,kt=w.total_capital*Math.pow(1+Je,J),yr=kt-w.total_capital,Ie=R?R.currentCapital/kt*100:0;return a.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-emerald-500/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"text-sm text-gray-300",children:[" Piano Target (",J," mesi)"]}),a.jsxs("div",{className:"text-xs text-gray-400",children:["Scadenza: ",Me.toLocaleDateString("it-IT")]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-slate-800/50 border-2 border-emerald-500/40 rounded-lg p-4",children:[a.jsx("div",{className:"text-xs text-emerald-400 mb-1",children:" Giorni Rimanenti"}),a.jsx("div",{className:"text-2xl text-emerald-400",children:at}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[rt," giorni trascorsi su ",We]})]}),a.jsxs("div",{className:"bg-slate-800/50 border-2 border-orange-500/40 rounded-lg p-4",children:[a.jsx("div",{className:"text-xs text-orange-400 mb-1",children:" Interesse Target"}),a.jsxs("div",{className:"text-2xl text-orange-400",children:["+$",yr.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[we,"% mensile composto"]})]}),a.jsxs("div",{className:"bg-slate-800/50 border-2 border-teal-500/40 rounded-lg p-4",children:[a.jsx("div",{className:"text-xs text-teal-400 mb-1",children:" Capitale Target Finale"}),a.jsxs("div",{className:"text-2xl text-teal-400",children:["$",kt.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Progresso: ",Ie.toFixed(1),"%"]})]})]}),R&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-2",children:[a.jsx("span",{children:"Progressione verso obiettivo"}),a.jsxs("span",{children:[Ie.toFixed(1),"%"]})]}),a.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all duration-500 ${Ie>=100?"bg-gradient-to-r from-emerald-500 to-emerald-600":Ie>=50?"bg-gradient-to-r from-emerald-400 to-emerald-500":"bg-gradient-to-r from-orange-400 to-orange-500"}`,style:{width:`${Math.min(100,Ie)}%`}})}),Ie>=100&&a.jsx("div",{className:"mt-2 p-2 bg-emerald-50 border border-emerald-300 rounded text-xs text-emerald-700 text-center",children:" Obiettivo raggiunto! Sei sopra il target pianificato!"})]})]})})()]}),v.length>1&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-3",children:w?"Cambia strategia:":"Seleziona una strategia:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:v.filter(J=>J.id!==w?.id).map(J=>a.jsxs("button",{onClick:()=>{f?le(J):te(J)},className:"p-4 rounded-lg border-2 border-slate-600/50 hover:border-emerald-500 hover:bg-slate-700/50 bg-slate-800/50 transition-all text-left group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-white group-hover:text-emerald-400 transition-colors",children:J.name}),a.jsx("span",{className:"text-gray-400 text-xs group-hover:text-emerald-500",children:"Clicca per attivare "})]}),a.jsxs("div",{className:"text-xs text-gray-400",children:[a.jsxs("div",{children:["Ticker: ",J.ticker]}),a.jsxs("div",{children:["Capitale: $",J.total_capital.toLocaleString()]})]})]},J.id))})]})]})]}),w&&R&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 hover:border-slate-600/50 overflow-hidden",children:[a.jsx("div",{className:"h-2 bg-gradient-to-r from-emerald-400 to-teal-500"}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Profitto Totale"}),a.jsx(al,{className:"w-5 h-5 text-emerald-400"})]}),a.jsxs("div",{className:`text-2xl font-bold ${R.totalPnL>=0?"text-emerald-400":"text-red-400"}`,children:[R.totalPnL>=0?"+":"","$",R.totalPnL.toFixed(2)]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[R.returnOnCapital>=0?"+":"",R.returnOnCapital.toFixed(2),"% ROI"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 hover:border-slate-600/50 overflow-hidden",children:[a.jsx("div",{className:"h-2 bg-gradient-to-r from-lime-400 to-green-500"}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Win Rate"}),a.jsx(Br,{className:"w-5 h-5 text-emerald-400"})]}),a.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:[R.winRate.toFixed(1),"%"]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[R.winningTrades," win / ",R.losingTrades," loss"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 hover:border-slate-600/50 overflow-hidden",children:[a.jsx("div",{className:"h-2 bg-gradient-to-r from-pink-500 to-red-500"}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Trade Attivi"}),a.jsx(il,{className:"w-5 h-5 text-orange-400"})]}),a.jsx("div",{className:"text-2xl font-bold text-orange-400",children:R.activeTrades}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"In corso"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 hover:border-slate-600/50 overflow-hidden",children:[a.jsx("div",{className:"h-2 bg-gradient-to-r from-purple-500 to-violet-600"}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Premi Raccolti"}),a.jsx(gt,{className:"w-5 h-5 text-orange-400"})]}),a.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:["$",R.totalPremiumCollected.toFixed(2)]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[R.closedTrades," trade chiusi"]})]})]}),w&&w.total_btc_accumulated&&w.total_btc_accumulated>0?a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-orange-500/50 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 hover:border-orange-400/50 overflow-hidden relative group",children:[a.jsx("div",{className:"h-2 bg-gradient-to-r from-orange-500 to-amber-500"}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"BTC Accumulati"}),a.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/20 flex items-center justify-center text-orange-400 font-bold text-sm",children:""})]}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:[w.total_btc_accumulated.toFixed(4)," ",a.jsx("span",{className:"text-sm font-normal text-gray-400",children:"BTC"})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsxs("div",{className:"text-xs text-gray-400",children:["Costo Medio: ",a.jsxs("span",{className:"text-orange-400 font-bold",children:["$",w.average_btc_price?.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),a.jsx("div",{className:"hidden group-hover:block absolute top-12 right-4 bg-black/80 text-white text-xs px-2 py-1 rounded border border-gray-700",children:"Prezzo di pareggio"})]})]})]}):null]}),!w&&v.length>0&&a.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 text-center",children:a.jsx("p",{className:"text-yellow-800",children:" Seleziona una strategia per visualizzare i trade"})}),w&&R&&E.length>0&&(()=>{const J=w.plan,we=J?{targetPremiumPercent:J.targetPremiumPercent??2,tradesPerMonth:J.tradesPerMonth??8,targetMonthlyReturn:J.targetMonthlyReturn??w.target_monthly_return??5,riskPerTrade:J.riskPerTrade??10,strategy:J.strategy??"wheel"}:void 0;return a.jsx(Vfe,{trades:E,stats:R,plan:we})})(),w&&a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl text-white",children:" Trade Journal"}),a.jsxs("button",{onClick:()=>T(!N),disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 disabled:bg-gray-600 disabled:from-gray-600 disabled:to-gray-600 shadow-md hover:shadow-lg transform hover:scale-105",children:[N?a.jsx(Hs,{className:"w-5 h-5"}):a.jsx(cG,{className:"w-5 h-5"}),s?"Salvataggio...":N?"Annulla":"Nuovo Trade"]})]}),N&&a.jsxs("div",{className:"mb-6 p-4 bg-slate-800/50 rounded-lg border border-slate-700/50",children:[E.length>0&&a.jsxs("div",{className:"mb-4 flex items-center justify-between p-3 bg-slate-800/50 border-2 border-orange-500/40 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm text-orange-400",children:" Interesse Composto Attivo"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Reinvesti il premio dell'ultimo trade per massimizzare i rendimenti"})]}),a.jsxs("button",{onClick:_e,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md",children:[a.jsx(_i,{className:"w-4 h-4"}),"Reinvesti Premio"]})]}),L&&E.length>0&&a.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg shadow-lg",children:[a.jsxs("h4",{className:"text-sm mb-2 flex items-center gap-2",children:[a.jsx(_i,{className:"w-4 h-4"})," Modalit Interesse Composto Attivata!"]}),a.jsxs("div",{className:"text-xs space-y-1",children:[a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Ultimo Trade:"})," ",E[0].ticker," ",E[0].type.toUpperCase(),"  Capitale: ",$.type==="call"?"":"$",E[0].capital.toFixed(2),"  Premio: ",$.type==="call"?"":"$",(E[0].premium*E[0].quantity).toFixed(2)]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Nuovo Capitale:"})," ",$.type==="call"?"":"$",$.capital,"(Capitale + Premio reinvestito)"]}),a.jsxs("p",{className:"mt-2 text-emerald-100",children:[" Formula: Capitale Nuovo = Capitale Vecchio + Premio = ",E[0].capital.toFixed(2)," + ",(E[0].premium*E[0].quantity).toFixed(2)," = ",$.capital]})]})]}),a.jsx("h3",{className:"text-lg text-white mb-4",children:"Inserisci Trade Manuale"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ticker"}),a.jsx("input",{type:"text",value:$.ticker,onChange:J=>V({...$,ticker:J.target.value}),className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Tipo"}),a.jsxs("select",{value:$.type,onChange:J=>V({...$,type:J.target.value}),className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[a.jsx("option",{value:"put",children:"Put"}),a.jsx("option",{value:"call",children:"Call"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Azione"}),a.jsxs("select",{value:$.action,onChange:J=>V({...$,action:J.target.value}),className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[a.jsx("option",{value:"sell",children:"Vendi"}),a.jsx("option",{value:"buy",children:"Compra"}),a.jsx("option",{value:"assigned",children:"Assegnata"}),a.jsx("option",{value:"expired",children:"Scaduta"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Strike ($)"}),a.jsx("input",{type:"number",value:$.strike,onChange:J=>V({...$,strike:J.target.value}),placeholder:"50000",className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:D}),a.jsx("input",{type:"number",value:$.premium,onChange:J=>V({...$,premium:J.target.value}),placeholder:B,className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Quantit"}),a.jsx("input",{type:"number",value:$.quantity,onChange:J=>V({...$,quantity:J.target.value}),className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Scadenza"}),a.jsx("input",{type:"date",value:$.expiry,onChange:J=>V({...$,expiry:J.target.value}),className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:Z}),a.jsx("input",{type:"number",value:$.capital,onChange:J=>V({...$,capital:J.target.value}),placeholder:ee,className:"w-full px-3 py-2 border border-slate-600 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:ue,disabled:!$.strike||!$.premium||!$.expiry||!$.capital,className:"w-full px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 disabled:bg-gray-600 disabled:from-gray-600 disabled:to-gray-600 disabled:cursor-not-allowed shadow-md hover:shadow-lg font-medium",children:" Aggiungi Trade"})})]}),(!$.strike||!$.premium||!$.expiry||!$.capital)&&a.jsx("div",{className:"mt-3 p-3 bg-orange-50 border-l-4 border-orange-500 rounded-lg",children:a.jsxs("p",{className:"text-sm text-orange-800",children:[" Compila tutti i campi obbligatori:",!$.strike&&" Strike",!$.premium&&" Premio",!$.capital&&" Capitale",!$.expiry&&" Scadenza"]})}),$.type==="call"&&$.action==="sell"&&w?.average_btc_price&&w.average_btc_price>0&&parseFloat($.strike)<w.average_btc_price&&a.jsx("div",{className:"mt-3 p-3 bg-red-500/10 border-l-4 border-red-500 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ni,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-red-400",children:" ATTENZIONE: Strike Price Sotto Costo Medio!"}),a.jsxs("p",{className:"text-xs text-red-300/80 mt-1",children:["Stai vendendo una CALL a ",a.jsxs("span",{className:"text-white font-mono",children:["$",parseFloat($.strike).toLocaleString()]})," ma il tuo costo medio di carico  ",a.jsxs("span",{className:"text-white font-mono",children:["$",w.average_btc_price.toLocaleString(void 0,{maximumFractionDigits:0})]}),"."]}),a.jsxs("p",{className:"text-xs text-red-300/80 mt-1",children:["Se vieni assegnato, realizzerai una ",a.jsx("strong",{children:"perdita"})," sul capitale accumulato."]})]})]})}),$.capital&&$.premium&&a.jsxs("div",{className:"mt-4 p-4 bg-slate-800/50 border-2 border-emerald-500/40 rounded-lg",children:[a.jsx("h4",{className:"text-sm text-emerald-400 mb-2",children:" Calcolo Automatico"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Premio in Valore"}),a.jsxs("div",{className:"text-lg text-emerald-400",children:[U,$.premium||"0"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Premio in Percentuale"}),a.jsxs("div",{className:"text-lg text-emerald-400",children:[K||"0","% sul capitale"]})]})]}),a.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[" ",$.type==="call"?`Covered Call: Ricevi ${$.premium||"0"} BTC (${K||"0"}% del tuo BTC)`:`Cash-Secured Put: Ricevi $${$.premium||"0"} USDT (${K||"0"}% del tuo capitale)`]})]})]}),E.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("p",{className:"text-lg mb-2",children:"Nessun trade registrato"}),a.jsx("p",{className:"text-sm",children:'Clicca "Nuovo Trade" per iniziare'})]}):a.jsx("div",{className:"space-y-3",children:E.map(J=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg border border-slate-700/50 hover:border-emerald-500/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-white ${J.type==="put"?"bg-emerald-500":"bg-orange-500"}`,children:J.type==="put"?"":""}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-white",children:J.ticker}),a.jsxs("span",{className:"text-sm text-gray-400",children:[J.type.toUpperCase()," $",J.strike]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${J.status==="open"?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-gray-400"}`,children:J.status==="open"?"Aperto":"Chiuso"})]}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[J.action==="sell"?"Vendita":J.action==="buy"?"Acquisto":J.action,"  Scad: ",J.expiry,"  Qty: ",J.quantity]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-lg ${J.pnl>=0?"text-emerald-400":"text-red-400"}`,children:[J.pnl>=0?"+":"",J.pnl.toFixed(2)]}),a.jsx("div",{className:"text-sm text-gray-500",children:J.date}),J.status==="open"&&a.jsx("button",{onClick:()=>Ve(J.id),disabled:s,className:"mt-2 px-3 py-1 bg-slate-700 text-gray-100 rounded text-xs hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Chiudi trade"})]})]},J.id))})]})]})})]})," "]})}const X1=[{rank:1,username:"CryptoMaster99",level:12,xp:5420,streak:45,badges:15,initials:"CM",color:"from-yellow-400 to-yellow-600"},{rank:2,username:"BTCTrader",level:11,xp:4890,streak:38,badges:14,initials:"BT",color:"from-gray-300 to-gray-400"},{rank:3,username:"WheelPro",level:10,xp:4320,streak:42,badges:13,initials:"WP",color:"from-orange-400 to-orange-600"},{rank:4,username:"OptionGuru",level:9,xp:3850,streak:28,badges:12,initials:"OG",color:"from-blue-400 to-blue-600"},{rank:5,username:"SatoshiFan",level:8,xp:3210,streak:31,badges:11,initials:"SF",color:"from-purple-400 to-purple-600"},{rank:6,username:"DiamondHands",level:7,xp:2890,streak:22,badges:10,initials:"DH",color:"from-green-400 to-green-600"},{rank:7,username:"CryptoLearner",level:6,xp:2450,streak:19,badges:9,initials:"CL",color:"from-pink-400 to-pink-600"},{rank:8,username:"TradingNinja",level:6,xp:2180,streak:25,badges:8,initials:"TN",color:"from-indigo-400 to-indigo-600"},{rank:9,username:"CryptoUser",level:5,xp:1250,streak:7,badges:4,initials:"CU",color:"from-blue-400 to-blue-600"},{rank:10,username:"HODLKing",level:5,xp:1180,streak:15,badges:7,initials:"HK",color:"from-teal-400 to-teal-600"}],Hfe=X1,Gfe=[{rank:1,username:"QuickLearner",level:6,xp:890,streak:7,badges:3,initials:"QL",color:"from-yellow-400 to-yellow-600"},{rank:2,username:"CryptoUser",level:5,xp:750,streak:7,badges:4,initials:"CU",color:"from-gray-300 to-gray-400"},{rank:3,username:"FastTrader",level:4,xp:680,streak:5,badges:2,initials:"FT",color:"from-orange-400 to-orange-600"},{rank:4,username:"NewbiePro",level:3,xp:520,streak:6,badges:2,initials:"NP",color:"from-blue-400 to-blue-600"},{rank:5,username:"StudyMaster",level:4,xp:490,streak:4,badges:3,initials:"SM",color:"from-purple-400 to-purple-600"}];function Kfe({onNavigate:t}){const{progress:e}=Ja(),{user:r}=xn(),[n,i]=P.useState([]),[s,o]=P.useState(!1),[c,d]=P.useState(null),f=async()=>{o(!0);try{if(xt&&r){const g=await TF(50);i(g);const v=g.find(b=>b.user_id===r.id);v&&d(v.rank)}else i(X1)}catch{i(X1)}finally{o(!1)}};P.useEffect(()=>{f()},[r]);const p=g=>g===1?a.jsx(wh,{className:"w-6 h-6 text-yellow-500"}):g===2?a.jsx(LT,{className:"w-6 h-6 text-gray-400"}):g===3?a.jsx(LT,{className:"w-6 h-6 text-orange-500"}):a.jsxs("span",{className:"text-gray-600",children:["#",g]}),h=(g,v)=>a.jsx("div",{className:"space-y-3",children:g.map(b=>{const w=b.username==="CryptoUser";return a.jsx(oe,{className:`p-4 transition-all ${w?"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300 shadow-lg":"hover:shadow-md"}`,children:a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsx("div",{className:"w-10 md:w-12 text-center flex-shrink-0",children:p(b.rank)}),a.jsx(Su,{className:"w-11 h-11 md:w-12 md:h-12 flex-shrink-0",children:a.jsx(_u,{className:`bg-gradient-to-br ${b.color} text-white`,children:b.initials})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-gray-900 truncate",children:b.username}),w&&a.jsx(Ze,{className:"bg-blue-600 text-white flex-shrink-0",children:"Tu"})]}),a.jsxs("div",{className:"flex items-center gap-3 md:gap-4 text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ht,{className:"w-4 h-4 flex-shrink-0"}),b.level]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ra,{className:"w-4 h-4 flex-shrink-0"}),b.xp]}),a.jsxs("span",{className:"hidden sm:flex items-center gap-1",children:[a.jsx(gt,{className:"w-4 h-4 flex-shrink-0"}),b.streak,"d"]})]})]}),a.jsxs("div",{className:"hidden md:block text-right flex-shrink-0",children:[a.jsx("p",{className:"text-gray-600",children:"Badge"}),a.jsx("p",{className:"text-gray-900",children:b.badges})]})]})},b.rank)})});return a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gray-50",children:[a.jsx(tn,{currentView:"leaderboard",onNavigate:t}),a.jsx("header",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-8 md:px-6 md:py-12 safe-area-top",children:a.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[a.jsx(Ht,{className:"w-12 h-12 md:w-16 md:h-16 mx-auto mb-4 text-yellow-300"}),a.jsx("h1",{className:"text-white mb-2",children:"Classifica"}),a.jsx("p",{className:"text-blue-100",children:"Compete e scala la classifica!"})]})}),a.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-5 md:px-6 md:py-8",children:[a.jsxs(oe,{className:"p-5 md:p-6 mb-6 md:mb-8 bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-5 md:mb-0",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1 min-w-0",children:[a.jsx(Su,{className:"w-14 h-14 md:w-16 md:h-16 flex-shrink-0",children:a.jsx(_u,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:"CU"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-gray-900 truncate",children:"La Tua Posizione"}),a.jsx("p",{className:"text-gray-600 hidden md:block",children:"Continua a imparare per scalare!"})]})]}),a.jsxs("div",{className:"text-right flex-shrink-0 ml-3",children:[a.jsx("p",{className:"text-gray-900 font-bold mb-1",children:s?"...":c?`#${c}`:"N/A"}),a.jsx("p",{className:"text-gray-600",children:"Globale"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mt-5 md:mt-6",children:[a.jsxs("div",{className:"text-center p-3 md:p-3 bg-white rounded-lg",children:[a.jsx("p",{className:"text-gray-600 mb-1",children:"Livello"}),a.jsx("p",{className:"text-gray-900 font-bold",children:e.level})]}),a.jsxs("div",{className:"text-center p-3 md:p-3 bg-white rounded-lg",children:[a.jsx("p",{className:"text-gray-600 mb-1",children:"XP"}),a.jsx("p",{className:"text-gray-900 font-bold",children:e.xp})]}),a.jsxs("div",{className:"text-center p-3 md:p-3 bg-white rounded-lg",children:[a.jsx("p",{className:"text-gray-600 mb-1",children:"Streak"}),a.jsx("p",{className:"text-gray-900 font-bold",children:e.streak})]}),a.jsxs("div",{className:"text-center p-3 md:p-3 bg-white rounded-lg",children:[a.jsx("p",{className:"text-gray-600 mb-1",children:"Badge"}),a.jsx("p",{className:"text-gray-900 font-bold",children:e.badges.length})]})]})]}),a.jsxs(dM,{defaultValue:"global",className:"w-full",children:[a.jsxs(fM,{className:"grid w-full grid-cols-2 mb-6 md:mb-8 h-11",children:[a.jsx(Pw,{value:"global",children:"Globale"}),a.jsx(Pw,{value:"weekly",children:"Settimana"})]}),a.jsx(Cw,{value:"global",children:a.jsxs(oe,{className:"p-5 md:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-5 md:mb-6",children:[a.jsx("h2",{className:"text-gray-900",children:"Top Trader"}),a.jsxs(ye,{variant:"outline",size:"sm",onClick:f,disabled:s,className:"h-9",children:[a.jsx(f$,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Aggiorna"]})]}),h(n.length>0?n:Hfe)]})}),a.jsx(Cw,{value:"weekly",children:a.jsxs(oe,{className:"p-5 md:p-6",children:[a.jsx("h2",{className:"text-gray-900 mb-5 md:mb-6",children:"Questa Settimana"}),h(Gfe),a.jsx("p",{className:"text-sm text-gray-500 text-center mt-4",children:" La classifica settimanale sar disponibile a breve"})]})})]}),a.jsxs(oe,{className:"p-5 md:p-6 mt-6 md:mt-8",children:[a.jsx("h2",{className:"text-gray-900 mb-5 md:mb-6",children:"Sfide Attive"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-gradient-to-br from-orange-50 to-red-50 rounded-lg border-2 border-orange-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-gray-900",children:"Settimana Perfetta"}),a.jsx(Ze,{className:"bg-orange-600 text-white flex-shrink-0",children:"In corso"})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Completa una lezione ogni giorno per 7 giorni"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Progresso"}),a.jsxs("span",{className:"text-gray-900 font-semibold",children:[e.streak,"/7"]})]}),a.jsx("div",{className:"w-full bg-white rounded-full h-3",children:a.jsx("div",{className:"bg-orange-600 h-3 rounded-full transition-all",style:{width:`${Math.min(e.streak/7*100,100)}%`}})})]})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border-2 border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-gray-900",children:"Trading Master"}),a.jsx(Ze,{className:"bg-blue-600 text-white flex-shrink-0",children:"In corso"})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Completa 20 simulazioni con profitto"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Progresso"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:"12/20"})]}),a.jsx("div",{className:"w-full bg-white rounded-full h-3",children:a.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all",style:{width:"60%"}})})]})]})]})]})]})]})}function Xfe(){const{user:t}=xn(),[e,r]=P.useState(!1),[n,i]=P.useState(!1),[s,o]=P.useState(!1),[c,d]=P.useState(!0),[f,p]=P.useState(!1),[h,g]=P.useState(null),v=async()=>{if(!t){de.error("Devi essere autenticato per esportare i dati");return}r(!0);try{const x=JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]"),S={};for(const $ of x){const V=localStorage.getItem(`btcwheel_trades_${$.id}`);if(V)try{S[$.id]=JSON.parse(V)}catch{console.warn(`Failed to parse trades for strategy ${$.id}`)}}const k=JSON.parse(localStorage.getItem("btcwheel_longterm_plans")||"[]"),_=localStorage.getItem("btcwheel_active_plan")?JSON.parse(localStorage.getItem("btcwheel_active_plan")):null,C=localStorage.getItem("btcwheel_user_progress")?JSON.parse(localStorage.getItem("btcwheel_user_progress")):null;console.log(" Exporting from localStorage:",{strategies:x.length,trades:Object.keys(S).length,plans:k.length,hasActivePlan:!!_,hasUserProgress:!!C});const N={metadata:{exportedAt:new Date().toISOString(),sourceApp:"btcwheel",version:"1.0.0",source:"localStorage"},strategies:x,trades:S,plans:k,activePlan:_,userProgress:C};if(x.length===0){console.log(" No local data found, trying cloud database...");const $=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/data/export`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ur}`},body:JSON.stringify({userId:t.id,appPrefix:"btcwheel"})});if($.ok){const V=await $.json();V.data&&V.data.strategies?.length>0&&(console.log(" Using cloud data instead"),N.strategies=V.data.strategies,N.trades=V.data.trades,N.plans=V.data.plans,N.activePlan=V.data.activePlan,N.userProgress=V.data.userProgress,N.metadata.source="cloud")}}const T=JSON.stringify(N,null,2),E=new Blob([T],{type:"application/json"}),O=URL.createObjectURL(E),R=document.createElement("a");R.href=O,R.download=`btcwheel-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(O);const H=N.strategies.length,L=Object.keys(N.trades).length,M=N.plans.length;de.success(` Export completato! ${H} strategie, ${L} trade sets, ${M} piani`,{description:`Fonte: ${N.metadata.source==="localStorage"?"Dati locali":"Database cloud"}`})}catch(x){console.error(" Export error:",x),de.error(` Errore durante l'export: ${x.message}`)}finally{r(!1)}},b=async x=>{if(!t){de.error("Devi essere autenticato per importare i dati");return}const S=x.target.files?.[0];if(S){i(!0);try{const k=await S.text(),_=JSON.parse(k);if(!_.metadata||!_.strategies)throw new Error("File JSON non valido - struttura dati mancante");if(console.log(" Import data structure:",{strategies:_.strategies?.length||0,trades:Object.keys(_.trades||{}).length,plans:_.plans?.length||0,metadata:_.metadata}),_.strategies&&_.strategies.length>0){const E=c?JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]"):[],O=c?[...E,..._.strategies]:_.strategies;localStorage.setItem("btcwheel_strategies",JSON.stringify(O)),console.log(` Imported ${_.strategies.length} strategies to localStorage`)}if(_.trades)for(const[E,O]of Object.entries(_.trades))localStorage.setItem(`btcwheel_trades_${E}`,JSON.stringify(O)),console.log(` Imported ${O.length} trades for strategy ${E}`);if(_.plans&&_.plans.length>0){const E=c?JSON.parse(localStorage.getItem("btcwheel_longterm_plans")||"[]"):[],O=c?[...E,..._.plans]:_.plans;localStorage.setItem("btcwheel_longterm_plans",JSON.stringify(O)),console.log(` Imported ${_.plans.length} plans to localStorage`)}_.activePlan&&(localStorage.setItem("btcwheel_active_plan",JSON.stringify(_.activePlan)),console.log(" Imported active plan to localStorage")),_.userProgress&&(localStorage.setItem("btcwheel_user_progress",JSON.stringify(_.userProgress)),console.log(" Imported user progress to localStorage"));const C=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/data/import`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ur}`},body:JSON.stringify({userId:t.id,data:_,targetPrefix:"btcwheel",mergeMode:c})}),N=await C.json();C.ok&&N.success?console.log(` Also saved to cloud: ${N.importedCount} items`):console.warn(" Cloud save failed but localStorage import succeeded:",N.error);const T=(_.strategies?.length||0)+Object.keys(_.trades||{}).length+(_.plans?.length||0);de.success(` Import completato! ${T} elementi importati`,{description:"Dati salvati in locale e nel cloud"}),setTimeout(()=>{window.location.reload()},1500)}catch(k){console.error(" Import error:",k),de.error(` Errore durante l'import: ${k.message}`)}finally{i(!1),x.target.value=""}}},w=async()=>{if(!t){de.error("Devi essere autenticato per migrare i dati");return}o(!0);try{const x=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/data/migrate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ur}`},body:JSON.stringify({userId:t.id,sourcePrefix:"finanzacreativa",targetPrefix:"btcwheel"})});if(!x.ok){const k=await x.json();throw new Error(k.error||"Migration failed")}const S=await x.json();S.success?(de.success(` Migrazione completata! ${S.migratedCount} elementi migrati da "finanzacreativa" a "btcwheel"`),setTimeout(()=>{window.location.reload()},1500)):de.error(` Migrazione parziale: ${S.errors.join(", ")}`)}catch(x){console.error("Migration error:",x),de.error(` Errore durante la migrazione: ${x.message}`)}finally{o(!1)}};return a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[a.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[a.jsx(ea,{className:"w-6 h-6 text-purple-400"}),"Gestione Dati"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"p-5 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:a.jsx(Mj,{className:"w-5 h-5 text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Esporta Dati"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Scarica tutte le tue strategie e trade in JSON"})]})]})}),a.jsx(W.button,{onClick:v,disabled:e,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg shadow-lg shadow-emerald-500/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:e?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 animate-spin"}),"Esportando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(MH,{className:"w-4 h-4"}),"Esporta"]})})]})}),a.jsx(oe,{className:"p-5 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:a.jsx(BT,{className:"w-5 h-5 text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Importa Dati"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Carica un file JSON esportato in precedenza"})]})]})}),a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:".json",onChange:b,disabled:n,className:"hidden"}),a.jsx(W.div,{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg shadow-lg shadow-blue-500/30 flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:n?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 animate-spin"}),"Importando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(BT,{className:"w-4 h-4"}),"Importa"]})})]})]}),a.jsx("div",{className:"flex items-center gap-3 pt-2 border-t border-white/10",children:a.jsxs("button",{onClick:()=>d(!c),className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-12 h-6 rounded-full transition-colors ${c?"bg-blue-500":"bg-gray-700"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full mt-0.5 transition-transform ${c?"ml-6":"ml-0.5"}`})}),a.jsx("span",{className:"text-sm text-gray-300",children:"Modalit merge (aggiungi ai dati esistenti)"})]})})]})}),a.jsx(oe,{className:"p-5 bg-gradient-to-br from-purple-500/10 to-pink-500/10 backdrop-blur-xl border border-purple-500/20",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:a.jsx(MT,{className:"w-5 h-5 text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Migra da Altra App"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Importa dati da finanzacreativa.live o altra app"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(W.button,{onClick:w,disabled:s,className:"w-full px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg shadow-lg shadow-purple-500/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:s?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 animate-spin"}),"Migrazione in corso..."]}):a.jsxs(a.Fragment,{children:[a.jsx(MT,{className:"w-4 h-4"}),"Avvia Migrazione"]})}),a.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-500/10 border border-purple-500/20 rounded-lg",children:[a.jsx(ni,{className:"w-5 h-5 text-purple-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-xs text-gray-300",children:[a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Nota:"}),' La migrazione copia tutti i dati dal prefisso sorgente al prefisso "btcwheel".']}),a.jsx("p",{children:"Se condividi lo stesso database con finanzacreativa.live, i dati verranno copiati automaticamente."})]})]})]})]})}),a.jsx(oe,{className:"p-4 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 backdrop-blur-xl border border-emerald-500/20",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Dt,{className:"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[a.jsx("p",{className:"text-emerald-400 font-medium",children:"Cosa viene migrato?"}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[a.jsx("li",{children:" Tutte le strategie Wheel create"}),a.jsx("li",{children:" Tutti i trade registrati per ogni strategia"}),a.jsx("li",{children:" Long-term plans salvati"}),a.jsx("li",{children:" Piano attivo (se presente)"}),a.jsx("li",{children:" Progressi utente (XP, badge, streak)"})]})]})]})})]})]})}function Yfe(){const[t,e]=P.useState(null),r=()=>{const n=JSON.parse(localStorage.getItem("btcwheel_strategies")||"[]"),i=JSON.parse(localStorage.getItem("btcwheel_longterm_plans")||"[]"),s=localStorage.getItem("btcwheel_active_plan")?JSON.parse(localStorage.getItem("btcwheel_active_plan")):null,o=localStorage.getItem("btcwheel_user_progress")?JSON.parse(localStorage.getItem("btcwheel_user_progress")):null,d=Object.keys(localStorage).filter(p=>p.startsWith("btcwheel_trades_")),f=d.reduce((p,h)=>{const g=JSON.parse(localStorage.getItem(h)||"[]");return p+g.length},0);e({strategies:n,plans:i,activePlan:s,userProgress:o,totalTrades:f,tradeKeys:d.length})};return P.useEffect(()=>{r()},[]),t?a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[a.jsx(Dj,{className:"w-5 h-5 text-blue-400"}),"Dati Attualmente Salvati"]}),a.jsx(W.button,{onClick:r,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(_i,{className:"w-4 h-4 text-gray-400"})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ea,{className:"w-4 h-4 text-blue-400"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Strategie"})]}),a.jsx("p",{className:"text-2xl font-bold text-white",children:t.strategies.length})]}),a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 border border-emerald-500/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(gt,{className:"w-4 h-4 text-emerald-400"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Trade Totali"})]}),a.jsx("p",{className:"text-2xl font-bold text-white",children:t.totalTrades})]}),a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(bh,{className:"w-4 h-4 text-purple-400"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Piani LT"})]}),a.jsx("p",{className:"text-2xl font-bold text-white",children:t.plans.length})]}),a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-orange-500/10 to-orange-600/10 border border-orange-500/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.activePlan?a.jsx(Dt,{className:"w-4 h-4 text-orange-400"}):a.jsx(Mr,{className:"w-4 h-4 text-gray-500"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Piano Attivo"})]}),a.jsx("p",{className:"text-2xl font-bold text-white",children:t.activePlan?"S":"No"})]})]}),t.strategies.length>0&&a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[a.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[a.jsx(ea,{className:"w-4 h-4 text-blue-400"}),"Strategie (",t.strategies.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:t.strategies.map((n,i)=>a.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white text-sm font-medium",children:n.name||"Strategia Senza Nome"}),a.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["ID: ",n.id]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Budget"}),a.jsxs("p",{className:"text-sm text-emerald-400 font-medium",children:["$",n.budget||0]})]})]}),n.strikePrice&&a.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-400",children:[a.jsxs("span",{children:["Strike: $",n.strikePrice]}),a.jsxs("span",{children:["Premium: $",n.premium]})]})]},n.id||i))})]}),t.plans.length>0&&a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[a.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[a.jsx(bh,{className:"w-4 h-4 text-purple-400"}),"Piani Long-Term (",t.plans.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:t.plans.map((n,i)=>a.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white text-sm font-medium",children:n.name||"Piano Senza Nome"}),a.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["ID: ",n.id]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Capitale Iniziale"}),a.jsxs("p",{className:"text-sm text-emerald-400 font-medium",children:["$",n.initialCapital||0]})]})]}),n.targetMonths&&a.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Durata: ",n.targetMonths," mesi"]})]},n.id||i))})]}),t.strategies.length===0&&t.plans.length===0&&a.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10 text-center",children:[a.jsx(Mr,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Nessun dato trovato in localStorage"}),a.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Importa un file JSON o migra i dati da un'altra app per iniziare"})]}),(t.strategies.length>0||t.plans.length>0)&&a.jsx(oe,{className:"p-4 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 backdrop-blur-xl border border-emerald-500/20",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Dt,{className:"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[a.jsx("p",{className:"text-emerald-400 font-medium",children:" Dove trovare i tuoi dati:"}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[t.strategies.length>0&&a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Strategie Wheel:"}),' Vai nella Dashboard  sezione "Wheel Strategy"']}),t.plans.length>0&&a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Piani Long-Term:"}),' Vai nella Dashboard  sezione "Long Term Simulator"']}),t.activePlan&&a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Piano Attivo:"})," Visibile nella Dashboard principale con tracking real-time"]}),t.totalTrades>0&&a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Trade:"})," Seleziona una strategia nella Dashboard per vedere i suoi trade"]})]})]})]})})]}):null}function Jfe(){const[t,e]=P.useState(!1),[r,n]=P.useState(!1),[i,s]=P.useState(null),o=async d=>{e(!0);try{const f=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/db-duplicate/scan/${d}`,{method:"GET",headers:{Authorization:`Bearer ${Ur}`,"Content-Type":"application/json"}});if(!f.ok)throw new Error("Failed to scan database");const p=await f.json();s(p),de.success(` Trovate ${p.count} chiavi con prefisso ${d}`)}catch(f){console.error("Error scanning database:",f),de.error(" Errore durante la scansione del database")}finally{e(!1)}},c=async(d,f,p=!1)=>{n(!0);try{const h=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/db-duplicate/bulk-copy`,{method:"POST",headers:{Authorization:`Bearer ${Ur}`,"Content-Type":"application/json"},body:JSON.stringify({sourcePrefix:d,targetPrefix:f,overwrite:!1,dryRun:p})});if(!h.ok)throw new Error("Failed to copy data");const g=await h.json();p?de.success(` DRY RUN: ${g.results.copied} chiavi verrebbero copiate, ${g.results.skipped} saltate`):de.success(` ${g.results.copied} chiavi copiate da ${d} a ${f}!`,{description:`${g.results.skipped} gi esistenti, ${g.results.errors} errori`}),p||await o(f)}catch(h){console.error("Error copying data:",h),de.error(" Errore durante la copia dei dati")}finally{n(!1)}};return a.jsx(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center",children:a.jsx(_H,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium",children:"Duplica Dati Database"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Copia dati da finanzacreativa a btcwheel"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs(W.button,{onClick:()=>o("finanzacreativa"),disabled:t,className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20 rounded-lg text-left hover:bg-blue-500/20 transition-colors disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?a.jsx(lr,{className:"w-4 h-4 text-blue-400 animate-spin"}):a.jsx(ea,{className:"w-4 h-4 text-blue-400"}),a.jsx("p",{className:"text-sm text-white font-medium",children:"Scansiona finanzacreativa"})]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Vedi quanti dati ci sono"})]}),a.jsxs(W.button,{onClick:()=>o("btcwheel"),disabled:t,className:"p-4 bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 border border-emerald-500/20 rounded-lg text-left hover:bg-emerald-500/20 transition-colors disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?a.jsx(lr,{className:"w-4 h-4 text-emerald-400 animate-spin"}):a.jsx(ea,{className:"w-4 h-4 text-emerald-400"}),a.jsx("p",{className:"text-sm text-white font-medium",children:"Scansiona btcwheel"})]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Controlla dati attuali"})]})]}),i&&a.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("p",{className:"text-sm text-white font-medium",children:["Risultati Scansione: ",i.prefix]}),a.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:[i.count," chiavi"]})]}),i.count>0&&a.jsxs("div",{className:"space-y-2 max-h-[200px] overflow-y-auto text-xs",children:[i.keys.slice(0,10).map((d,f)=>a.jsx("div",{className:"p-2 bg-gray-900/50 rounded text-gray-400 font-mono",children:d.key},f)),i.keys.length>10&&a.jsxs("p",{className:"text-gray-500 text-center py-2",children:["...e altre ",i.keys.length-10," chiavi"]})]})]}),a.jsxs("div",{className:"border-t border-gray-700/50 pt-4 space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Azioni di Copia"}),a.jsxs(W.button,{onClick:()=>c("finanzacreativa","btcwheel",!0),disabled:r,className:"w-full p-3 bg-gray-700/30 hover:bg-gray-700/50 border border-gray-600/50 rounded-lg flex items-center justify-between transition-colors disabled:opacity-50",whileHover:{scale:1.01},whileTap:{scale:.99},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ni,{className:"w-4 h-4 text-amber-400"}),a.jsx("span",{className:"text-sm text-white",children:"Test Copy (Dry Run)"})]}),a.jsx(Gi,{className:"w-4 h-4 text-gray-400"})]}),a.jsxs(W.button,{onClick:()=>{window.confirm(` Sei sicuro di voler copiare TUTTI i dati da finanzacreativa a btcwheel?

Questa operazione copier tutti gli utenti e i loro dati.`)&&c("finanzacreativa","btcwheel",!1)},disabled:r,className:"w-full p-3 bg-gradient-to-r from-cyan-500/20 to-blue-600/20 hover:from-cyan-500/30 hover:to-blue-600/30 border border-cyan-500/30 rounded-lg flex items-center justify-between transition-colors disabled:opacity-50",whileHover:{scale:1.01},whileTap:{scale:.99},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[r?a.jsx(lr,{className:"w-4 h-4 text-cyan-400 animate-spin"}):a.jsx(Dt,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm text-white font-medium",children:r?"Copia in corso...":"Copia TUTTI i Dati finanzacreativa  btcwheel"})]}),a.jsx(Gi,{className:"w-4 h-4 text-cyan-400"})]})]}),a.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ni,{className:"w-4 h-4 text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[a.jsx("p",{className:"text-blue-400 font-medium",children:" Come funziona:"}),a.jsxs("ul",{className:"space-y-0.5 ml-3",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Scansiona:"})," Mostra quante chiavi esistono per ogni prefisso"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Test Copy:"})," Simula la copia senza modificare nulla"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Copia TUTTI:"})," Duplica tutti i dati da finanzacreativa a btcwheel"]}),a.jsx("li",{children:"  Le chiavi gi esistenti vengono saltate (nessuna sovrascrittura)"})]})]})]})})]})})}function Qfe(){xn();const[t,e]=P.useState([]),[r,n]=P.useState(null),[i,s]=P.useState(!1),[o,c]=P.useState(""),[d,f]=P.useState(""),[p,h]=P.useState(""),[g,v]=P.useState(1),[b,w]=P.useState(1),x=20,S=async()=>{try{const{data:{session:T},error:E}=await Ge.auth.getSession();if(E){console.error("Session error:",E),de.error("Sessione scaduta. Ricarica la pagina e fai login di nuovo.");return}if(!T?.access_token){console.error("No active session"),de.error("Nessuna sessione attiva. Fai login per continuare.");return}console.log(" Fetching admin stats..."),console.log("Token preview:",T.access_token.substring(0,30)+"..."),console.log("Full URL:",`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/admin/stats`);const O=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/admin/stats`,{headers:{Authorization:`Bearer ${T.access_token}`,"Content-Type":"application/json"}});if(console.log("Stats response status:",O.status),console.log("Stats response headers:",Object.fromEntries(O.headers.entries())),!O.ok){const H=await O.text();throw console.error("Stats API error response:",H),console.error("Response type:",O.headers.get("content-type")),new Error(`Failed to fetch stats: ${O.status} - ${H}`)}const{stats:R}=await O.json();console.log(" Stats loaded successfully:",R),n(R)}catch(T){console.error("Error fetching stats:",T),console.error("Error stack:",T instanceof Error?T.stack:"No stack"),T?.message?.includes("session")||de.error("Errore nel recupero delle statistiche")}finally{s(!1)}},k=async()=>{s(!0);try{const{data:{session:T},error:E}=await Ge.auth.getSession();if(E){console.error("Session error:",E),de.error("Sessione scaduta. Ricarica la pagina e fai login di nuovo."),s(!1);return}if(!T?.access_token){console.error("No active session"),de.error("Nessuna sessione attiva. Fai login per continuare."),s(!1);return}console.log(" Fetching admin users...");const O=new URLSearchParams({page:g.toString(),limit:x.toString(),...o&&{search:o},...d&&{plan:d},...p&&{status:p}}),R=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/admin/users?${O}`,{headers:{Authorization:`Bearer ${T.access_token}`,"Content-Type":"application/json"}});if(console.log("Users response status:",R.status),!R.ok){const M=await R.text();throw console.error("Users API error response:",M),new Error(`Failed to fetch users: ${R.status} - ${M}`)}const{users:H,pagination:L}=await R.json();console.log(" Users loaded successfully:",H.length,"users"),e(H),w(L.totalPages)}catch(T){console.error("Error fetching users:",T),T?.message?.includes("session")||de.error("Errore nel caricamento utenti")}finally{s(!1)}},_=async(T,E)=>{try{const{data:{session:O}}=await Ge.auth.getSession();if(!O?.access_token)throw new Error("No active session");if(!(await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/admin/users/${T}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${O.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:E})})).ok)throw new Error("Failed to update user status");de.success(E==="suspend"?"Utente sospeso":"Utente riattivato"),k()}catch(O){console.error("Error updating user status:",O),de.error("Errore nell'aggiornamento stato utente")}},C=async T=>{try{const{data:{session:E}}=await Ge.auth.getSession();if(!E?.access_token)throw new Error("No active session");const O=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/backups/create`,{method:"POST",headers:{Authorization:`Bearer ${E.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({targetUserId:T})});if(!O.ok)throw new Error("Failed to create backup");const{backup:R}=await O.json();de.success(`Backup creato (${R.size_kb} KB)`)}catch(E){console.error("Error creating backup:",E),de.error("Errore nella creazione del backup")}};P.useEffect(()=>{k(),S()},[g,o,d,p]);const N=T=>{switch(T){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"suspended":return"bg-red-500/20 text-red-400 border-red-500/30";case"expired":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"trial":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return a.jsxs("div",{className:"space-y-6",children:[r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border-emerald-500/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(bi,{className:"w-5 h-5 text-emerald-400"}),a.jsxs(Ze,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",children:["+",r.newUsersThisWeek]})]}),a.jsx("div",{className:"text-2xl font-bold text-white",children:r.totalUsers}),a.jsx("div",{className:"text-sm text-gray-400",children:"Utenti Totali"})]})}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(il,{className:"w-5 h-5 text-blue-400"}),a.jsxs(Ze,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:[Math.round(r.activeUsers/r.totalUsers*100),"%"]})]}),a.jsx("div",{className:"text-2xl font-bold text-white",children:r.activeUsers}),a.jsx("div",{className:"text-sm text-gray-400",children:"Utenti Attivi"})]})}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx($p,{className:"w-5 h-5 text-purple-400"})}),a.jsx("div",{className:"text-2xl font-bold text-white",children:r.totalStrategies}),a.jsx("div",{className:"text-sm text-gray-400",children:"Strategie Create"})]})}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-orange-500/10 to-orange-600/5 border-orange-500/20",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx(gt,{className:"w-5 h-5 text-orange-400"})}),a.jsx("div",{className:"text-2xl font-bold text-white",children:r.totalTrades}),a.jsx("div",{className:"text-sm text-gray-400",children:"Trades Totali"})]})})]}),a.jsx(oe,{className:"p-4 bg-gray-800/30 backdrop-blur-xl border-white/10",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(h$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(yn,{placeholder:"Cerca per email o nome...",value:o,onChange:T=>c(T.target.value),className:"pl-10 bg-gray-900/50 border-gray-700 text-white"})]}),a.jsxs("select",{value:d,onChange:T=>f(T.target.value),className:"px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Tutti i piani"}),a.jsx("option",{value:"Free",children:"Free"}),a.jsx("option",{value:"Pro",children:"Pro"}),a.jsx("option",{value:"Enterprise",children:"Enterprise"})]}),a.jsxs("select",{value:p,onChange:T=>h(T.target.value),className:"px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Tutti gli stati"}),a.jsx("option",{value:"active",children:"Attivo"}),a.jsx("option",{value:"suspended",children:"Sospeso"}),a.jsx("option",{value:"expired",children:"Scaduto"}),a.jsx("option",{value:"trial",children:"Trial"})]}),a.jsx(ye,{onClick:()=>{k(),S()},variant:"outline",className:"border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/10",children:a.jsx(_i,{className:"w-4 h-4"})})]})}),a.jsxs(oe,{className:"overflow-hidden bg-gray-800/30 backdrop-blur-xl border-white/10",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-900/50 border-b border-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Utente"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Piano"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Stato"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Attivit"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Azioni"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700/50",children:i?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-400",children:"Caricamento..."})}):t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-400",children:"Nessun utente trovato"})}):t.map(T=>a.jsxs(W.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-700/20 transition-colors",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:T.full_name||"N/A"}),a.jsx("div",{className:"text-sm text-gray-400",children:T.email}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-2",children:[a.jsx(bh,{className:"w-3 h-3"}),new Date(T.signup_date).toLocaleDateString("it-IT")]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx(Ze,{className:T.plan_name==="Enterprise"?"bg-purple-500/20 text-purple-400 border-purple-500/30":T.plan_name==="Pro"?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30",children:T.plan_name||"Free"})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx(Ze,{className:N(T.subscription_status),children:T.subscription_status||"active"})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm text-gray-300",children:["Level ",T.level,"  ",T.total_xp," XP"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[T.total_strategies," strategie  ",T.total_trades," trades"]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[T.subscription_status==="suspended"?a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>_(T.id,"activate"),className:"border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/10",children:[a.jsx(OG,{className:"w-3 h-3 mr-1"}),"Attiva"]}):a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>_(T.id,"suspend"),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:[a.jsx(QW,{className:"w-3 h-3 mr-1"}),"Sospendi"]}),a.jsx(ye,{size:"sm",variant:"outline",onClick:()=>C(T.id),className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:a.jsx(Mj,{className:"w-3 h-3"})})]})})]},T.id))})]})}),b>1&&a.jsxs("div",{className:"p-4 border-t border-gray-700/50 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:["Pagina ",g," di ",b]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ye,{size:"sm",variant:"outline",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,className:"border-gray-700 text-gray-400 hover:bg-gray-700/50",children:a.jsx(c$,{className:"w-4 h-4"})}),a.jsx(ye,{size:"sm",variant:"outline",onClick:()=>v(Math.min(b,g+1)),disabled:g===b,className:"border-gray-700 text-gray-400 hover:bg-gray-700/50",children:a.jsx(Dp,{className:"w-4 h-4"})})]})]})]})]})}function Zfe(){xn();const[t,e]=P.useState("overview"),[r,n]=P.useState([]),[i,s]=P.useState([]),[o,c]=P.useState({total_users:0,users_fixed_fee:0,users_profit_share:0,total_capital_managed:0,pending_invoices_count:0,pending_invoices_amount:0,total_revenue:0}),[d,f]=P.useState(!1),[p,h]=P.useState(null),[g,v]=P.useState([]),[b,w]=P.useState(""),[x,S]=P.useState(new Date().getMonth()+1),[k,_]=P.useState(new Date().getFullYear()),C=async()=>{f(!0);try{const{data:{session:M},error:$}=await Ge.auth.getSession();if($)throw console.error("Session error:",$),new Error("Errore sessione: "+$.message);if(!M?.access_token)throw console.error("No active session found"),new Error("Sessione non attiva. Prova a fare logout e login di nuovo.");console.log("Fetching billing overview with token:",M.access_token.substring(0,20)+"...");const V=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/admin/billing/overview`,{headers:{Authorization:`Bearer ${M.access_token}`,"Content-Type":"application/json"}});if(!V.ok){const Z=await V.json().catch(()=>({error:"Unknown error"}));throw console.error("API error:",V.status,Z),new Error(Z.error||`HTTP ${V.status}: Failed to fetch billing overview`)}const{stats:Q,users:K}=await V.json();c(Q),n(K)}catch(M){console.error("Error fetching billing overview:",M),de.error(M instanceof Error?M.message:"Errore nel caricamento overview fatturazione")}finally{f(!1)}},N=async(M="")=>{f(!0);try{const{data:{session:$},error:V}=await Ge.auth.getSession();if(V)throw console.error("Session error in fetchInvoices:",V),new Error("Errore sessione: "+V.message);if(!$?.access_token)throw console.error("No active session in fetchInvoices"),new Error("Sessione non attiva. Prova a fare logout e login di nuovo.");console.log("Fetching invoices with token:",$.access_token.substring(0,20)+"...");const Q=new URLSearchParams({...M&&{status:M}}),K=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/admin/invoices?${Q}`,{headers:{Authorization:`Bearer ${$.access_token}`,"Content-Type":"application/json"}});if(!K.ok){const D=await K.json().catch(()=>({error:"Unknown error"}));throw console.error("API error in fetchInvoices:",K.status,D),new Error(D.error||`HTTP ${K.status}: Failed to fetch invoices`)}const{invoices:Z}=await K.json();s(Z)}catch($){console.error("Error fetching invoices:",$),de.error($ instanceof Error?$.message:"Errore nel caricamento fatture")}finally{f(!1)}},T=async M=>{try{const{data:{session:$}}=await Ge.auth.getSession();if(!$?.access_token)throw new Error("No active session");const V=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/admin/users/${M}/strategies`,{headers:{Authorization:`Bearer ${$.access_token}`,"Content-Type":"application/json"}});if(!V.ok)throw new Error("Failed to fetch strategies");const{strategies:Q,summary:K}=await V.json();v(Q),de.success(`Strategie caricate: ${K.total_strategies} totali, ${K.active_strategies} attive`)}catch($){console.error("Error fetching user strategies:",$),de.error("Errore nel caricamento strategie")}},E=async(M,$)=>{try{const{data:{session:V}}=await Ge.auth.getSession();if(!V?.access_token)throw new Error("No active session");const Q=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/admin/invoices/generate`,{method:"POST",headers:{Authorization:`Bearer ${V.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({userId:M,month:x,year:k})});if(!Q.ok){const Z=await Q.json();throw new Error(Z.error||"Failed to generate invoice")}const{invoice:K}=await Q.json();de.success(`Fattura generata per ${$}: ${K.amount.toFixed(2)}`),C(),t==="invoices"&&N()}catch(V){console.error("Error generating invoice:",V),de.error(V.message||"Errore nella generazione fattura")}},O=async M=>{try{const{data:{session:$}}=await Ge.auth.getSession();if(!$?.access_token)throw new Error("No active session");if(!(await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/admin/invoices/${M}/mark-paid`,{method:"PATCH",headers:{Authorization:`Bearer ${$.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({paymentMethod:"manual",notes:"Marked as paid by admin"})})).ok)throw new Error("Failed to mark invoice as paid");de.success("Fattura segnata come pagata"),N(),C()}catch($){console.error("Error marking invoice as paid:",$),de.error("Errore nell'aggiornamento fattura")}},R=async()=>{if(confirm(`Generare fatture per TUTTI gli utenti per ${x}/${k}?`))try{const{data:{session:M}}=await Ge.auth.getSession();if(!M?.access_token)throw new Error("No active session");de.info("Generazione fatture in corso...");const $=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/admin/invoices/bulk-generate`,{method:"POST",headers:{Authorization:`Bearer ${M.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({month:x,year:k})});if(!$.ok)throw new Error("Failed to bulk generate invoices");const{results:V}=await $.json();de.success(`Fatture generate: ${V.success.length} success, ${V.errors.length} errori, ${V.skipped.length} gi esistenti`),C(),t==="invoices"&&N()}catch(M){console.error("Error bulk generating invoices:",M),de.error("Errore nella generazione massiva")}};P.useEffect(()=>{C()},[]),P.useEffect(()=>{t==="invoices"&&N()},[t]);const H=M=>{switch(M){case"paid":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"overdue":return"bg-red-500/20 text-red-400 border-red-500/30";case"cancelled":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},L=r.filter(M=>M.email?.toLowerCase().includes(b.toLowerCase())||M.full_name?.toLowerCase().includes(b.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border-emerald-500/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(qG,{className:"w-5 h-5 text-emerald-400"}),a.jsxs(Ze,{className:"bg-emerald-500/20 text-emerald-400",children:[o.users_profit_share," profit share"]})]}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:["",o.total_capital_managed.toLocaleString("it-IT")]}),a.jsx("div",{className:"text-sm text-gray-400",children:"Capitale Gestito"})]})}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(z0,{className:"w-5 h-5 text-blue-400"}),a.jsxs(Ze,{className:"bg-red-500/20 text-red-400",children:[o.pending_invoices_count," pending"]})]}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:["",o.pending_invoices_amount.toLocaleString("it-IT",{minimumFractionDigits:2})]}),a.jsx("div",{className:"text-sm text-gray-400",children:"Da Incassare"})]})}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx(gt,{className:"w-5 h-5 text-purple-400"})}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:["",o.total_revenue.toLocaleString("it-IT",{minimumFractionDigits:2})]}),a.jsx("div",{className:"text-sm text-gray-400",children:"Revenue Totale"})]})}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(oe,{className:"p-4 bg-gradient-to-br from-orange-500/10 to-orange-600/5 border-orange-500/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(bi,{className:"w-5 h-5 text-orange-400"}),a.jsxs(Ze,{className:"bg-orange-500/20 text-orange-400",children:[o.users_fixed_fee," canone fisso"]})]}),a.jsx("div",{className:"text-2xl font-bold text-white",children:o.total_users}),a.jsx("div",{className:"text-sm text-gray-400",children:"Utenti Totali"})]})})]}),a.jsxs("div",{className:"flex gap-2 border-b border-gray-700",children:[a.jsx("button",{onClick:()=>e("overview"),className:`px-4 py-2 font-medium transition-colors ${t==="overview"?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-white"}`,children:"Overview Utenti"}),a.jsx("button",{onClick:()=>e("invoices"),className:`px-4 py-2 font-medium transition-colors ${t==="invoices"?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-white"}`,children:"Fatture"}),p&&a.jsx("button",{onClick:()=>e("strategies"),className:`px-4 py-2 font-medium transition-colors ${t==="strategies"?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-white"}`,children:"Strategie Utente"})]}),t==="overview"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"p-4 bg-gray-800/30 backdrop-blur-xl border-white/10",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Periodo Fatturazione"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("select",{value:x,onChange:M=>S(parseInt(M.target.value)),className:"px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white",children:Array.from({length:12},(M,$)=>$+1).map(M=>a.jsx("option",{value:M,children:new Date(2024,M-1).toLocaleString("it-IT",{month:"long"})},M))}),a.jsx(yn,{type:"number",value:k,onChange:M=>_(parseInt(M.target.value)),className:"w-24 bg-gray-900/50 border-gray-700"})]})]}),a.jsxs(ye,{onClick:R,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[a.jsx(z0,{className:"w-4 h-4 mr-2"}),"Genera Fatture per Tutti"]})]})}),a.jsx(oe,{className:"p-4 bg-gray-800/30 backdrop-blur-xl border-white/10",children:a.jsxs("div",{className:"relative",children:[a.jsx(h$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(yn,{placeholder:"Cerca utente per email o nome...",value:b,onChange:M=>w(M.target.value),className:"pl-10 bg-gray-900/50 border-gray-700 text-white"})]})}),a.jsx(oe,{className:"overflow-hidden bg-gray-800/30 backdrop-blur-xl border-white/10",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-900/50 border-b border-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Utente"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Capitale"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Modello"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Fatture"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Azioni"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700/50",children:L.map(M=>a.jsxs(W.tr,{className:"hover:bg-gray-700/20 transition-colors",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:M.full_name||"N/A"}),a.jsx("div",{className:"text-sm text-gray-400",children:M.email})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-white font-bold",children:["",(M.total_capital||0).toLocaleString("it-IT")]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Soglia: ",(M.capital_threshold||2500).toLocaleString("it-IT")]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx(Ze,{className:M.payment_model==="profit_share"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"bg-blue-500/20 text-blue-400 border-blue-500/30",children:M.payment_model==="profit_share"?`${M.profit_share_percentage||15}% profitti`:`${M.plan_price||0}/mese`})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm text-gray-300",children:["Pagato: ",(M.total_paid||0).toFixed(2)]}),M.pending_invoices>0&&a.jsxs("div",{className:"text-xs text-yellow-400",children:[M.pending_invoices," pending (",(M.total_pending||0).toFixed(2),")"]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>{h(M.id),T(M.id),e("strategies")},className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:[a.jsx(Dj,{className:"w-3 h-3 mr-1"}),"Strategie"]}),a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>E(M.id,M.email),className:"border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/10",children:[a.jsx(z0,{className:"w-3 h-3 mr-1"}),"Fattura"]})]})})]},M.id))})]})})})]}),t==="invoices"&&a.jsx("div",{className:"space-y-4",children:a.jsx(oe,{className:"overflow-hidden bg-gray-800/30 backdrop-blur-xl border-white/10",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-900/50 border-b border-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Utente"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Periodo"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Tipo"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Importo"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Azioni"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700/50",children:i.map(M=>a.jsxs("tr",{className:"hover:bg-gray-700/20 transition-colors",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:M.profile?.full_name||"N/A"}),a.jsx("div",{className:"text-sm text-gray-400",children:M.user?.email})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"text-sm text-gray-300",children:[new Date(M.billing_period_start).toLocaleDateString("it-IT")," -",new Date(M.billing_period_end).toLocaleDateString("it-IT")]})}),a.jsxs("td",{className:"px-4 py-4",children:[a.jsx(Ze,{className:M.invoice_type==="profit_share"?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400",children:M.invoice_type==="profit_share"?`Profit Share (${M.profit_share_percentage}%)`:"Canone Fisso"}),M.invoice_type==="profit_share"&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Profitto: ",M.monthly_profit.toFixed(2)]})]}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"text-lg font-bold text-white",children:["",M.amount.toFixed(2)]})}),a.jsxs("td",{className:"px-4 py-4",children:[a.jsx(Ze,{className:H(M.status),children:M.status}),M.paid_at&&a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(M.paid_at).toLocaleDateString("it-IT")})]}),a.jsx("td",{className:"px-4 py-4",children:M.status==="pending"&&a.jsxs(ye,{size:"sm",onClick:()=>O(M.id),className:"bg-emerald-600 hover:bg-emerald-700",children:[a.jsx(Mp,{className:"w-3 h-3 mr-1"}),"Segna Pagato"]})})]},M.id))})]})})})}),t==="strategies"&&p&&a.jsx("div",{className:"space-y-4",children:a.jsxs(oe,{className:"p-4 bg-gray-800/30 backdrop-blur-xl border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:"Strategie Utente"}),a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>{h(null),v([]),e("overview")},className:"border-gray-700",children:[a.jsx(Hs,{className:"w-4 h-4 mr-1"}),"Chiudi"]})]}),g.length===0?a.jsx("div",{className:"text-center py-8 text-gray-400",children:"Nessuna strategia trovata"}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(M=>a.jsxs(oe,{className:"p-4 bg-gray-900/50 border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-white",children:M.name}),a.jsx(Ze,{className:M.status==="active"?"bg-emerald-500/20 text-emerald-400":"bg-gray-500/20 text-gray-400",children:M.status})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:["Capitale: ",a.jsxs("span",{className:"text-white font-bold",children:["",M.allocated_capital.toLocaleString("it-IT")]})]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Creata: ",new Date(M.created_at).toLocaleDateString("it-IT")]})]})]},M.id))})]})})]})}function ehe(){const[t,e]=P.useState("overview"),r=[{id:"overview",label:"Dashboard",icon:zj,color:"emerald"},{id:"users",label:"Utenti",icon:bi,color:"blue"},{id:"billing",label:"Fatturazione",icon:kw,color:"purple"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx(W.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-2xl",children:a.jsx(oe,{className:"p-6 bg-gradient-to-br from-amber-500/10 via-orange-500/10 to-red-500/10 border-amber-500/20",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-xl bg-amber-500/20 border border-amber-500/30",children:a.jsx(ta,{className:"w-8 h-8 text-amber-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pannello Amministrazione"}),a.jsx(wh,{className:"w-6 h-6 text-amber-400"})]}),a.jsx("p",{className:"text-gray-400",children:"Gestisci utenti, fatturazione e monitora l'app"})]})]})})}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsx(oe,{className:"p-2 bg-gray-800/40 backdrop-blur-xl border-white/10",children:a.jsx("div",{className:"flex gap-2",children:r.map(n=>{const i=n.icon,s=t===n.id,o={emerald:"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 shadow-lg",blue:"bg-blue-500/20 text-blue-400 border border-blue-500/30 shadow-lg",purple:"bg-purple-500/20 text-purple-400 border border-purple-500/30 shadow-lg"};return a.jsxs("button",{onClick:()=>e(n.id),className:`
                    flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg
                    font-medium transition-all duration-200
                    ${s?o[n.color]:"text-gray-400 hover:text-white hover:bg-white/5"}
                  `,children:[a.jsx(i,{className:"w-5 h-5"}),a.jsx("span",{children:n.label})]},n.id)})})})}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[t==="overview"&&a.jsx(the,{}),t==="users"&&a.jsx(Qfe,{}),t==="billing"&&a.jsx(Zfe,{})]},t)]})}function the(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},children:a.jsx(oe,{className:"p-6 bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border-emerald-500/20 hover:border-emerald-500/40 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-xl bg-emerald-500/20",children:a.jsx(bi,{className:"w-6 h-6 text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-white",children:"--"}),a.jsx("div",{className:"text-sm text-gray-400",children:"Utenti Attivi"})]})]})})}),a.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},children:a.jsx(oe,{className:"p-6 bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20 hover:border-blue-500/40 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-xl bg-blue-500/20",children:a.jsx(kw,{className:"w-6 h-6 text-blue-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-white",children:"--"}),a.jsx("div",{className:"text-sm text-gray-400",children:"Revenue Mensile"})]})]})})}),a.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},children:a.jsx(oe,{className:"p-6 bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20 hover:border-purple-500/40 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-xl bg-purple-500/20",children:a.jsx(zj,{className:"w-6 h-6 text-purple-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-white",children:"--"}),a.jsx("div",{className:"text-sm text-gray-400",children:"Strategie Attive"})]})]})})})]}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsx(oe,{className:"p-8 bg-gradient-to-br from-gray-800/50 to-gray-900/50 backdrop-blur-xl border-white/10",children:a.jsxs("div",{className:"max-w-3xl",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(ta,{className:"w-6 h-6 text-emerald-400"}),"Benvenuto nel Pannello Admin"]}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Da qui puoi gestire tutti gli aspetti dell'applicazione BTCWheel. Usa le tab sopra per navigare tra:"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(bi,{className:"w-5 h-5 text-blue-400"}),a.jsx("h3",{className:"font-semibold text-white",children:"Gestione Utenti"})]}),a.jsx("p",{className:"text-sm text-gray-400",children:"Visualizza, cerca e gestisci gli utenti. Sospendi account, crea backup e monitora l'attivit."})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(kw,{className:"w-5 h-5 text-purple-400"}),a.jsx("h3",{className:"font-semibold text-white",children:"Fatturazione"})]}),a.jsx("p",{className:"text-sm text-gray-400",children:"Genera fatture, monitora pagamenti e visualizza revenue. Gestione automatica canone fisso e profit share."})]})]})]})})}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(oe,{className:"p-6 bg-gray-800/30 backdrop-blur-xl border-white/10",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Stato Sistema"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Database"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),a.jsx("span",{className:"text-sm text-emerald-400 font-medium",children:"Online"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"API Server"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),a.jsx("span",{className:"text-sm text-emerald-400 font-medium",children:"Online"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Edge Functions"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),a.jsx("span",{className:"text-sm text-emerald-400 font-medium",children:"Online"})]})]})]})]})})]})}function rhe({onNavigate:t,mascotVisible:e,onMascotToggle:r}){const{user:n}=xn(),[i,s]=P.useState(()=>localStorage.getItem("mascotSoundEnabled")!=="false"),[o,c]=P.useState(()=>localStorage.getItem("mascotHapticEnabled")!=="false"),[d,f]=P.useState(!1),p="vibrate"in navigator;P.useEffect(()=>{localStorage.setItem("mascotSoundEnabled",String(i))},[i]),P.useEffect(()=>{localStorage.setItem("mascotHapticEnabled",String(o))},[o]);const h=()=>{s(!i)},g=()=>{c(!o),!o&&"vibrate"in navigator&&navigator.vibrate(20)},v=n?.user_metadata?.name||n?.email?.split("@")[0]||"Utente";return a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white relative",children:[a.jsx("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),a.jsx("div",{className:"fixed top-0 right-0 w-[500px] h-[500px] bg-blue-500/10 rounded-full blur-[150px] pointer-events-none"}),a.jsx("div",{className:"fixed bottom-0 left-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[150px] pointer-events-none"}),a.jsx(tn,{currentView:"settings",onNavigate:t,mascotVisible:e,onMascotToggle:r}),a.jsx(W.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative px-4 py-8 md:px-6 max-w-4xl mx-auto",children:a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[a.jsx(W.div,{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/50",whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:a.jsx(p$,{className:"w-8 h-8 text-white drop-shadow-sm"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Impostazioni"}),a.jsx(W.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},children:a.jsx(yt,{className:"w-6 h-6 text-blue-400"})})]}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Personalizza la tua esperienza"})]})]})}),a.jsxs("main",{className:"relative max-w-4xl mx-auto px-4 py-6 md:px-6 md:py-8 space-y-6",children:[a.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05},children:a.jsx(oe,{className:"p-4 bg-gradient-to-r from-amber-500/20 via-yellow-500/20 to-orange-500/20 backdrop-blur-xl border border-amber-400/30",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(wh,{className:"w-8 h-8 text-amber-400 animate-pulse"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-amber-300 font-bold text-lg",children:" Modalit Amministratore"}),a.jsx("p",{className:"text-amber-200/80 text-sm",children:"Hai accesso completo a tutte le funzioni admin. Scorri in basso per vedere i pannelli di gestione."})]})]})})}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[a.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[a.jsx(_h,{className:"w-6 h-6 text-blue-400"}),"Account"]}),a.jsx(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-400",children:"Nome"}),a.jsx("p",{className:"text-white font-medium text-lg",children:v})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-400",children:"Email"}),a.jsx("p",{className:"text-white font-medium",children:n?.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-400",children:"Provider"}),a.jsx("p",{className:"text-white font-medium capitalize",children:n?.app_metadata?.provider||"Email"})]}),a.jsxs("div",{className:"pt-2 border-t border-amber-400/20",children:[a.jsx("label",{className:"text-sm text-amber-400",children:"Ruolo"}),a.jsxs("p",{className:"text-amber-300 font-bold flex items-center gap-2",children:[a.jsx(wh,{className:"w-5 h-5"}),"Amministratore"]})]})]})})]}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[a.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[a.jsx(eH,{className:"w-6 h-6 text-emerald-400"}),"Preferenze"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"p-5 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:a.jsxs("button",{onClick:h,className:"w-full flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i?"bg-gradient-to-br from-emerald-500 to-teal-600 shadow-lg shadow-emerald-500/30":"bg-gray-700/50"}`,children:i?a.jsx(zG,{className:"w-6 h-6 text-white"}):a.jsx(BG,{className:"w-6 h-6 text-gray-400"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-white font-medium",children:"Audio Mascotte"}),a.jsx("p",{className:"text-gray-400 text-sm",children:i?"Attivo":"Disattivato"})]})]}),a.jsx("div",{className:`w-14 h-8 rounded-full transition-colors ${i?"bg-emerald-500":"bg-gray-700"}`,children:a.jsx("div",{className:`w-6 h-6 bg-white rounded-full mt-1 transition-transform ${i?"ml-7":"ml-1"}`})})]})}),p&&a.jsx(oe,{className:"p-5 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:a.jsxs("button",{onClick:g,className:"w-full flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${o?"bg-gradient-to-br from-purple-500 to-pink-600 shadow-lg shadow-purple-500/30":"bg-gray-700/50"}`,children:a.jsx(MG,{className:`w-6 h-6 ${o?"text-white":"text-gray-400"}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-white font-medium",children:"Feedback Aptico"}),a.jsx("p",{className:"text-gray-400 text-sm",children:o?"Attivo":"Disattivato"})]})]}),a.jsx("div",{className:`w-14 h-8 rounded-full transition-colors ${o?"bg-purple-500":"bg-gray-700"}`,children:a.jsx("div",{className:`w-6 h-6 bg-white rounded-full mt-1 transition-transform ${o?"ml-7":"ml-1"}`})})]})})]})]}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[a.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[a.jsx(ta,{className:"w-6 h-6 text-amber-400"}),"Privacy & Sicurezza"]}),a.jsx(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:a.jsxs("div",{className:"space-y-3 text-gray-300",children:[a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-emerald-400 mt-1",children:""}),a.jsx("span",{children:"I tuoi dati sono crittografati end-to-end"})]}),a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-emerald-400 mt-1",children:""}),a.jsx("span",{children:"Le API keys degli exchange sono salvate in modo sicuro"})]}),a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-emerald-400 mt-1",children:""}),a.jsx("span",{children:"Non condividiamo mai i tuoi dati con terze parti"})]}),a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-emerald-400 mt-1",children:""}),a.jsx("span",{children:"Tutte le connessioni usano HTTPS sicuro"})]})]})})]}),a.jsx(Xfe,{}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.36},children:a.jsx(Yfe,{})}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.38},children:[a.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[a.jsx(ea,{className:"w-6 h-6 text-cyan-400"}),"Duplica Database"]}),a.jsx(Jfe,{})]}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsx(ehe,{})}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[a.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2 text-xl",children:[a.jsx(VH,{className:"w-6 h-6 text-blue-400"}),"Informazioni"]}),a.jsx(oe,{className:"p-6 bg-gradient-to-br from-blue-500/10 to-purple-500/10 backdrop-blur-xl border border-blue-500/20",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Versione App"}),a.jsx("span",{className:"text-white font-medium",children:"1.0.0"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Build"}),a.jsx("span",{className:"text-white font-medium",children:"2024.01"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Piattaforma"}),a.jsx("span",{className:"text-white font-medium",children:"Web PWA"})]}),a.jsx("div",{className:"pt-3 mt-3 border-t border-white/10",children:a.jsx("p",{className:"text-gray-400 text-sm text-center",children:"Made with  for Bitcoin Traders"})})]})})]})]})]})}const nhe={binance:"https://cryptologos.cc/logos/binance-coin-bnb-logo.svg",bybit:"https://cryptologos.cc/logos/bybit-logo.svg",kucoin:"https://cryptologos.cc/logos/kucoin-token-kcs-logo.svg",bingx:"https://images.unsplash.com/photo-1622570230304-a37c75da9d70?w=200",okx:"https://cryptologos.cc/logos/okb-okb-logo.svg",deribit:"https://images.unsplash.com/photo-1639603683079-7398c604497a?w=200",bitget:"https://cryptologos.cc/logos/bitget-token-bgb-logo.svg"},ihe={binance:{bg:"bg-yellow-500",text:"text-yellow-500",gradient:"from-yellow-400 to-yellow-600"},bybit:{bg:"bg-orange-500",text:"text-orange-500",gradient:"from-orange-400 to-orange-600"},kucoin:{bg:"bg-green-500",text:"text-green-500",gradient:"from-green-400 to-green-600"},bingx:{bg:"bg-blue-600",text:"text-blue-600",gradient:"from-blue-500 to-blue-700"},okx:{bg:"bg-gray-900",text:"text-gray-900",gradient:"from-gray-700 to-gray-900"},deribit:{bg:"bg-purple-600",text:"text-purple-600",gradient:"from-purple-500 to-purple-700"},bitget:{bg:"bg-cyan-500",text:"text-cyan-500",gradient:"from-cyan-400 to-cyan-600"}};function zI({exchangeId:t,size:e=40,className:r=""}){const n=nhe[t.toLowerCase()],i=ihe[t.toLowerCase()]||{gradient:"from-gray-400 to-gray-600"},s=o=>({binance:"BN",bybit:"BY",kucoin:"KC",bingx:"BX",okx:"OX",deribit:"DB",bitget:"BG"})[o.toLowerCase()]||o.substring(0,2).toUpperCase();return a.jsx("div",{className:`rounded-lg overflow-hidden flex items-center justify-center ${r}`,style:{width:e,height:e},children:a.jsx("img",{src:n,alt:`${t} logo`,className:"w-full h-full object-contain p-1",onError:o=>{const c=o.target;c.style.display="none";const d=c.parentElement;d&&(d.className=`${d.className} bg-gradient-to-br ${i.gradient}`,d.innerHTML=`<span class="text-white font-bold" style="font-size: ${e*.4}px">${s(t)}</span>`)}})})}function ahe(){const{user:t}=xn(),[e,r]=P.useState([]),[n,i]=P.useState([]),[s,o]=P.useState(!1),[c,d]=P.useState(null),[f,p]=P.useState(!1),[h,g]=P.useState([]),[v,b]=P.useState(null),[w,x]=P.useState(!1),[S,k]=P.useState(""),[_,C]=P.useState(""),[N,T]=P.useState(""),[E,O]=P.useState(!1),[R,H]=P.useState(!1);P.useEffect(()=>{L(),t?.id&&M()},[t]);const L=async()=>{try{const{projectId:D,publicAnonKey:U}=await qi(async()=>{const{projectId:B,publicAnonKey:q}=await Promise.resolve().then(()=>Ba);return{projectId:B,publicAnonKey:q}},void 0),ee=await fetch(`https://${D}.supabase.co/functions/v1/make-server-7c0f82ca/exchanges`,{headers:{Authorization:`Bearer ${U}`}});if(ee.ok){const B=await ee.json();r(B.exchanges)}}catch(D){console.error("Error loading exchanges:",D),de.error("Errore caricamento exchange")}},M=async()=>{if(t?.id)try{const{projectId:D,publicAnonKey:U}=await qi(async()=>{const{projectId:B,publicAnonKey:q}=await Promise.resolve().then(()=>Ba);return{projectId:B,publicAnonKey:q}},void 0),ee=await fetch(`https://${D}.supabase.co/functions/v1/make-server-7c0f82ca/exchanges/user/${t.id}`,{headers:{Authorization:`Bearer ${U}`}});if(ee.ok){const B=await ee.json();i(B.exchanges)}}catch(D){console.error("Error loading connected exchanges:",D)}},$=async()=>{if(!c||!S||!_){de.error("Completa tutti i campi obbligatori");return}H(!0);try{const{projectId:D,publicAnonKey:U}=await qi(async()=>{const{projectId:q,publicAnonKey:Y}=await Promise.resolve().then(()=>Ba);return{projectId:q,publicAnonKey:Y}},void 0),B=await(await fetch(`https://${D}.supabase.co/functions/v1/make-server-7c0f82ca/exchanges/test-connection`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify({exchange:c,apiKey:S,apiSecret:_})})).json();B.success?(de.success(` Connessione a ${B.exchange} verificata!`),await V()):de.error(` Credenziali non valide per ${c}`)}catch(D){console.error("Error testing connection:",D),de.error("Errore durante il test della connessione")}finally{H(!1)}},V=async()=>{if(!(!t?.id||!c||!S||!_)){o(!0);try{const{projectId:D,publicAnonKey:U}=await qi(async()=>{const{projectId:q,publicAnonKey:Y}=await Promise.resolve().then(()=>Ba);return{projectId:q,publicAnonKey:Y}},void 0),B=await(await fetch(`https://${D}.supabase.co/functions/v1/make-server-7c0f82ca/exchanges/save-credentials`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify({userId:t.id,exchange:c,apiKey:S,apiSecret:_,passphrase:N||void 0})})).json();B.success?(de.success(B.message),p(!1),K(),await M()):de.error(B.error||"Errore salvataggio credenziali")}catch(D){console.error("Error saving credentials:",D),de.error("Errore durante il salvataggio")}finally{o(!1)}}},Q=async D=>{if(t?.id){x(!0);try{const{projectId:U,publicAnonKey:ee}=await qi(async()=>{const{projectId:te,publicAnonKey:he}=await Promise.resolve().then(()=>Ba);return{projectId:te,publicAnonKey:he}},void 0);if(!n.find(te=>te.id===D)){de.error("Exchange non connesso");return}de.info("Caricamento trade in corso...");const q=new Date,Y=new Date;Y.setDate(Y.getDate()-7);const fe=await(await fetch(`https://${U}.supabase.co/functions/v1/make-server-7c0f82ca/exchanges/get-trades`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({exchange:D,apiKey:"stored_key",apiSecret:"stored_secret",startDate:Y.toISOString(),endDate:q.toISOString()})})).json();fe.trades?(g(fe.trades),b(fe.stats),de.success(`${fe.stats.wheelTrades} trade caricati da ${fe.exchange}`)):de.error(fe.error||"Errore caricamento trade")}catch(U){console.error("Error loading trades:",U),de.error("Errore durante il caricamento dei trade")}finally{x(!1)}}},K=()=>{k(""),C(""),T(""),O(!1),d(null)},Z=D=>n.some(U=>U.exchange===D);return a.jsxs("div",{className:"space-y-6",children:[n.length>0&&a.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[a.jsxs("h3",{className:"text-white mb-4 flex items-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5 text-emerald-400"}),"Exchange Connessi"]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(D=>a.jsxs(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-4 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border border-emerald-500/20 rounded-lg backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zI,{exchangeId:D.exchange,size:40}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold",children:D.name}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Connesso ",new Date(D.createdAt||"").toLocaleDateString("it-IT")]})]})]}),a.jsx(Ze,{className:"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30",children:"Attivo"})]}),a.jsx(ye,{onClick:()=>Q(D.exchange),disabled:w,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 border-0 shadow-lg",size:"sm",children:w?a.jsxs(a.Fragment,{children:[a.jsx(_i,{className:"w-4 h-4 mr-2 animate-spin"}),"Caricamento..."]}):a.jsxs(a.Fragment,{children:[a.jsx(il,{className:"w-4 h-4 mr-2"}),"Carica Trade"]})})]},D.exchange))})]}),v&&a.jsxs(oe,{className:"p-6 bg-gradient-to-br from-blue-500/10 to-purple-500/10 backdrop-blur-xl border border-blue-500/20",children:[a.jsx("h3",{className:"text-white mb-4 flex items-center gap-2",children:" Statistiche Trade (Ultimi 7 giorni)"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Trade Totali"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:v.totalTrades})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Trade Wheel"}),a.jsx("p",{className:"text-emerald-400 text-2xl font-bold",children:v.wheelTrades})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Premium Totale"}),a.jsxs("p",{className:"text-green-400 text-2xl font-bold",children:["$",v.totalPremium.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Fee Pagate"}),a.jsxs("p",{className:"text-orange-400 text-2xl font-bold",children:["$",v.totalFees.toFixed(2)]})]})]})]}),a.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[a.jsx("h3",{className:"text-white mb-4",children:"Exchange Disponibili"}),a.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(D=>{const U=Z(D.id);return a.jsxs(W.button,{onClick:()=>{U||(d(D.id),p(!0))},disabled:U,whileHover:U?{}:{scale:1.02,y:-2},whileTap:U?{}:{scale:.98},className:`p-4 rounded-xl border-2 text-left transition-all ${U?"bg-gray-800/30 border-white/5 opacity-50 cursor-not-allowed":c===D.id?"bg-gradient-to-br from-purple-500/20 to-pink-500/20 border-purple-500/40 shadow-lg shadow-purple-500/20":"bg-white/5 border-white/10 hover:border-purple-500/30 hover:bg-white/10"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(zI,{exchangeId:D.id,size:36}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("p",{className:"text-white font-semibold truncate",children:D.name})}),U&&a.jsx(Dt,{className:"w-5 h-5 text-emerald-400 flex-shrink-0"})]}),D.supportsOptions&&a.jsx(Ze,{className:"bg-purple-500/20 text-purple-300 border border-purple-500/30",children:"Opzioni "})]},D.id)})})]}),a.jsx(si,{children:f&&c&&a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:a.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border-2 border-purple-500/40 shadow-lg shadow-purple-500/20",children:[a.jsxs("h3",{className:"text-white mb-6 flex items-center gap-2 text-xl",children:[" Configura API per ",e.find(D=>D.id===c)?.name]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(pt,{className:"text-gray-300 mb-2",children:"API Key *"}),a.jsx(yn,{type:"text",value:S,onChange:D=>k(D.target.value),placeholder:"Inserisci la tua API key",className:"h-12 bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-purple-500/50"})]}),a.jsxs("div",{children:[a.jsx(pt,{className:"text-gray-300 mb-2",children:"API Secret *"}),a.jsxs("div",{className:"relative",children:[a.jsx(yn,{type:E?"text":"password",value:_,onChange:D=>C(D.target.value),placeholder:"Inserisci il tuo API secret",className:"h-12 pr-12 bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-purple-500/50"}),a.jsx("button",{onClick:()=>O(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:E?a.jsx(IH,{className:"w-5 h-5"}):a.jsx(Dj,{className:"w-5 h-5"})})]})]}),(c==="kucoin"||c==="okx"||c==="bitget")&&a.jsxs("div",{children:[a.jsxs(pt,{className:"text-gray-300 mb-2",children:["Passphrase ",c==="kucoin"?"*":"(opzionale)"]}),a.jsx(yn,{type:"password",value:N,onChange:D=>T(D.target.value),placeholder:"Inserisci la passphrase",className:"h-12 bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-purple-500/50"})]}),a.jsx("div",{className:"bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-500/30 rounded-xl p-4 backdrop-blur-sm",children:a.jsxs("p",{className:"text-sm text-amber-200 leading-relaxed",children:[" ",a.jsx("strong",{className:"text-amber-100",children:"Importante:"})," Assicurati che le tue API keys abbiano solo permessi di lettura (read-only). Non condividere mai le tue credenziali API."]})}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx(ye,{onClick:$,disabled:R||!S||!_,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 border-0 shadow-lg h-12",children:R?a.jsxs(a.Fragment,{children:[a.jsx(_i,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Testa e Salva"]})}),a.jsx(ye,{onClick:()=>{p(!1),K()},variant:"outline",className:"bg-white/5 border-white/10 text-white hover:bg-white/10 h-12",children:"Annulla"})]})]})]})})}),h.length>0&&a.jsxs(oe,{className:"p-6 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-xl border border-white/10",children:[a.jsxs("h3",{className:"text-white mb-4",children:[" Trade Importati (",h.length,")"]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:h.slice(0,20).map(D=>a.jsxs(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl flex items-center justify-between transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${D.type==="option"?"bg-gradient-to-br from-purple-500/20 to-pink-500/20":"bg-gradient-to-br from-blue-500/20 to-cyan-500/20"}`,children:D.type==="option"?a.jsx(gt,{className:"w-6 h-6 text-purple-400"}):a.jsx(al,{className:"w-6 h-6 text-blue-400"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-white font-semibold",children:[D.symbol,D.optionType&&a.jsx(Ze,{className:"ml-2 bg-purple-500/20 text-purple-300 border-none",children:D.optionType.toUpperCase()})]}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[D.side==="buy"?" Acquisto":" Vendita",D.strike&&`  Strike $${D.strike}`,"  ",new Date(D.timestamp).toLocaleDateString("it-IT")]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-white font-bold text-lg",children:["$",(D.premium||D.price*D.quantity).toFixed(2)]}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[D.quantity," qty"]})]})]},D.id))})]})]})}function she({onNavigate:t,mascotVisible:e,onMascotToggle:r}){return a.jsxs("div",{className:"min-h-screen md:pl-20 pb-24 md:pb-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white relative",children:[a.jsx("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),a.jsx("div",{className:"fixed top-0 right-0 w-[500px] h-[500px] bg-emerald-500/10 rounded-full blur-[150px] pointer-events-none"}),a.jsx("div",{className:"fixed bottom-0 left-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[150px] pointer-events-none"}),a.jsx(tn,{onNavigate:t,currentView:"exchange",mascotVisible:e,onMascotToggle:r}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs(W.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(W.div,{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-lg shadow-purple-500/50",whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:a.jsx(Lj,{className:"w-8 h-8 text-white drop-shadow-sm"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Exchange Connectors"}),a.jsx(W.div,{animate:{rotate:[0,14,-14,14,0],scale:[1,1.1,1.1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:5},children:a.jsx(yt,{className:"w-6 h-6 text-purple-400"})})]}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Collega i tuoi exchange e importa automaticamente i trade della tua Wheel Strategy"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsx(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},whileHover:{y:-4},children:a.jsx(oe,{className:"p-5 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 backdrop-blur-xl border border-emerald-500/20 hover:border-emerald-500/40 transition-all",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-xl flex items-center justify-center flex-shrink-0 backdrop-blur-sm",children:a.jsx(ta,{className:"w-6 h-6 text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold mb-1",children:"Sicurezza Garantita"}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Le tue API keys sono crittografate e utilizzate solo in read-only"})]})]})})}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},whileHover:{y:-4},children:a.jsx(oe,{className:"p-5 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 backdrop-blur-xl border border-blue-500/20 hover:border-blue-500/40 transition-all",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center flex-shrink-0 backdrop-blur-sm",children:a.jsx(ra,{className:"w-6 h-6 text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold mb-1",children:"Sync Automatico"}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"I tuoi trade vengono sincronizzati automaticamente ogni giorno"})]})]})})}),a.jsx(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},whileHover:{y:-4},children:a.jsx(oe,{className:"p-5 bg-gradient-to-br from-purple-500/10 to-pink-500/10 backdrop-blur-xl border border-purple-500/20 hover:border-purple-500/40 transition-all",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center flex-shrink-0 backdrop-blur-sm",children:a.jsx(gt,{className:"w-6 h-6 text-purple-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold mb-1",children:"Analytics Avanzati"}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Traccia performance, premium incassati e metriche della Wheel Strategy"})]})]})})})]})]}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsx(ahe,{})}),a.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8",children:a.jsx(oe,{className:"p-6 bg-gradient-to-br from-amber-500/10 to-orange-500/10 backdrop-blur-xl border border-amber-500/20",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"text-3xl",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:["Come configurare le API Keys in modo sicuro",a.jsx(ta,{className:"w-5 h-5 text-amber-400"})]}),a.jsxs("ul",{className:"space-y-2.5 text-gray-300",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-emerald-400 mt-1 text-lg",children:""}),a.jsxs("span",{children:[a.jsx("strong",{className:"text-white",children:"Permessi read-only:"})," Assicurati di creare API keys con SOLO permessi di lettura (no trading, no withdrawal)"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-emerald-400 mt-1 text-lg",children:""}),a.jsxs("span",{children:[a.jsx("strong",{className:"text-white",children:"IP Whitelist:"})," Se possibile, limita le API keys a specifici indirizzi IP"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-emerald-400 mt-1 text-lg",children:""}),a.jsxs("span",{children:[a.jsx("strong",{className:"text-white",children:"2FA abilitato:"})," Mantieni sempre attiva l'autenticazione a due fattori sul tuo account exchange"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-emerald-400 mt-1 text-lg",children:""}),a.jsxs("span",{children:[a.jsx("strong",{className:"text-white",children:"Revoca immediata:"})," Se sospetti un accesso non autorizzato, revoca immediatamente le API keys dall'exchange"]})]})]})]})]})})}),a.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-6 text-center",children:[a.jsx("p",{className:"text-gray-500 mb-4 text-sm uppercase tracking-wider",children:"Exchange supportati"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[["Binance","Bybit","Kucoin","BingX","OKX","Bitget"].map((n,i)=>a.jsx(W.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7+i*.05},className:"px-4 py-2 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 text-gray-300 text-sm font-medium hover:bg-white/10 hover:border-white/20 transition-all",children:n},n)),a.jsxs(W.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1},className:"px-4 py-2 bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm rounded-xl border border-purple-500/30 text-purple-300 text-sm font-medium hover:from-purple-500/30 hover:to-pink-500/30 transition-all",children:["Deribit ",a.jsx("span",{className:"text-xs ml-1",children:" Opzioni"})]})]})]})]})]})}var ohe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lhe=ohe.reduce((t,e)=>{const r=od(`Primitive.${e}`),n=P.forwardRef((i,s)=>{const{asChild:o,...c}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),che="Separator",LI="horizontal",uhe=["horizontal","vertical"],Tz=P.forwardRef((t,e)=>{const{decorative:r,orientation:n=LI,...i}=t,s=dhe(n)?n:LI,c=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(lhe.div,{"data-orientation":s,...c,...i,ref:e})});Tz.displayName=che;function dhe(t){return uhe.includes(t)}var fhe=Tz;function hhe({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return a.jsx(fhe,{"data-slot":"separator-root",decorative:r,orientation:e,className:gr("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}const phe=nj("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Xo({className:t,variant:e,...r}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:gr(phe({variant:e}),t),...r})}function Yo({className:t,...e}){return a.jsx("div",{"data-slot":"alert-description",className:gr("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function BI({onAuthSuccess:t}){const{loginAsGuest:e}=xn(),[r,n]=P.useState("signup"),[i,s]=P.useState(!1),[o,c]=P.useState(""),[d,f]=P.useState(!1),[p,h]=P.useState(""),[g,v]=P.useState(""),[b,w]=P.useState({email:"",password:"",name:""}),x=SF(),S=async N=>{if(N.preventDefault(),h(""),f(!0),!xt||!x){h("Autenticazione non disponibile. Usa la modalit demo per continuare."),f(!1);return}try{if(r==="signup"){console.log(" [AuthView] Starting signup process...");const T=await fetch(`https://${it}.supabase.co/functions/v1/make-server-7c0f82ca/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ur}`},body:JSON.stringify({email:b.email,password:b.password,name:b.name})});if(T.status===404||T.status>=500){console.error(` [AuthView] Server error (${T.status}) - falling back to direct signup`),h(" Server non disponibile. Creazione account in modalit diretta...");const{error:R}=await x.auth.signUp({email:b.email,password:b.password,options:{data:{name:b.name}}});if(R){if(R.message?.includes("already registered")){console.log(" [AuthView] User already exists (fallback), attempting auto-login..."),h(" Email gi registrata. Provo ad effettuare il login..."),await new Promise(L=>setTimeout(L,1500));const{error:H}=await x.auth.signInWithPassword({email:b.email,password:b.password});if(H){console.error(" [AuthView] Auto-login failed - wrong password:",H),h(' Email gi registrata. La password inserita non  corretta. Usa "Accedi" invece di "Registrati".'),n("login"),f(!1);return}console.log(" [AuthView] Auto-login successful after detecting existing account"),t();return}throw R}h(" Account creato! IMPORTANTE: Conferma la tua email per accedere (controlla la tua casella di posta)."),f(!1);return}const E=await T.json();if(!T.ok){if(console.error(" [AuthView] Signup failed:",E),T.status===409||E.code==="email_exists"||E.error?.includes("already")||E.error?.includes("registered")){console.log(" [AuthView] User already exists, attempting auto-login..."),h(" Email gi registrata. Provo ad effettuare il login..."),await new Promise(H=>setTimeout(H,1500));const{error:R}=await x.auth.signInWithPassword({email:b.email,password:b.password});if(R){console.error(" [AuthView] Auto-login failed - wrong password:",R),h(' Email gi registrata. La password inserita non  corretta. Usa "Accedi" invece di "Registrati".'),n("login"),f(!1);return}console.log(" [AuthView] Auto-login successful after detecting existing account"),t();return}throw f(!1),new Error(E.error||"Signup failed")}console.log(" [AuthView] Signup successful, now signing in...");const{error:O}=await x.auth.signInWithPassword({email:b.email,password:b.password});if(O)throw console.error(" [AuthView] Auto-login failed:",O),O;console.log(" [AuthView] Auto-login successful!"),t()}else{const{error:T}=await x.auth.signInWithPassword({email:b.email,password:b.password});if(T){if(T.message?.includes("Invalid login credentials"))h(" Email o password non corretti. Riprova o crea un nuovo account.");else throw T;return}t()}}catch(T){console.error("Auth error:",T);const E=T.message||"";E.includes("Invalid login credentials")?h(" Email o password non corretti."):E.includes("Email not confirmed")?h(" Conferma la tua email prima di accedere. Controlla la tua casella di posta."):E.includes("User not found")?h(" Account non trovato. Registrati per creare un nuovo account."):h(E||"Si  verificato un errore. Riprova.")}finally{f(!1)}},k=async()=>{try{f(!0),h("");const{error:N}=await x.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin,skipBrowserRedirect:!1,queryParams:{access_type:"offline",prompt:"consent"}}});if(N)throw N}catch(N){console.error("Google auth error:",N);const T=N.message||"";T.includes("provider")||T.includes("not enabled")||T.includes("configured")?h(" Google OAuth non configurato. Usa email/password."):h(`Errore Google OAuth: ${T}. Usa email/password come alternativa.`),f(!1)}},_=async N=>{if(N.preventDefault(),h(""),v(""),f(!0),!xt||!x){h("Autenticazione non disponibile. Usa la modalit demo per continuare."),f(!1);return}try{console.log(" [AuthView] Sending password reset email to:",o);const{error:T}=await x.auth.resetPasswordForEmail(o,{redirectTo:`${window.location.origin}/reset-password`});if(T)throw T;console.log(" [AuthView] Password reset email sent successfully"),v(" Ti abbiamo inviato un'email con le istruzioni per reimpostare la password. Controlla la tua casella di posta!"),c(""),setTimeout(()=>{s(!1),v("")},3e3)}catch(T){console.error(" [AuthView] Reset password error:",T);const E=T.message||"";E.includes("Email not found")||E.includes("User not found")?h(" Nessun account trovato con questa email."):E.includes("rate limit")?h(" Troppe richieste. Riprova tra qualche minuto."):E.includes("Email")||E.includes("SMTP")?h(" Server email non configurato. Contatta il supporto per reimpostare la password."):h(E||"Errore durante il reset della password. Riprova.")}finally{f(!1)}},C=()=>{n(r==="login"?"signup":"login"),h(""),v("")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-orange-500 flex items-center justify-center p-4 safe-area-inset",children:a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[a.jsxs(oe,{className:"p-8 shadow-2xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(W.div,{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:a.jsx(l$,{className:"w-10 h-10 text-white"})}),a.jsx("h1",{className:"text-gray-900 mb-2",children:"Bitcoin Wheel Strategy"}),a.jsx("p",{className:"text-gray-600",children:r==="signup"?"Crea il tuo account per iniziare":"Bentornato! Accedi al tuo account"})]}),a.jsx(si,{children:p&&a.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6",children:a.jsxs(Xo,{variant:"destructive",children:[a.jsx(ni,{className:"h-4 w-4"}),a.jsx(Yo,{children:p})]})})}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs(ye,{type:"button",variant:"outline",className:"w-full h-12 border-2",onClick:k,disabled:d,children:[d?a.jsx(lr,{className:"w-5 h-5 mr-2 animate-spin"}):a.jsx(hH,{className:"w-5 h-5 mr-2"}),"Continua con Google"]}),a.jsxs(ye,{type:"button",variant:"ghost",className:"w-full h-10 text-gray-600 hover:text-gray-900 hover:bg-gray-100",onClick:async()=>{f(!0),await e(),f(!1),t()},disabled:d,children:[a.jsx(_h,{className:"w-4 h-4 mr-2"}),"Entra come Ospite (Demo)"]})]}),a.jsxs("div",{className:"relative mb-6",children:[a.jsx(hhe,{}),a.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-3 text-sm text-gray-500",children:"oppure"})]}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[r==="signup"&&a.jsxs("div",{children:[a.jsxs(pt,{htmlFor:"name",className:"flex items-center gap-2 mb-2",children:[a.jsx(_h,{className:"w-4 h-4"}),"Nome"]}),a.jsx(yn,{id:"name",type:"text",placeholder:"Il tuo nome",value:b.name,onChange:N=>w({...b,name:N.target.value}),required:!0,disabled:d,className:"h-12"})]}),a.jsxs("div",{children:[a.jsxs(pt,{htmlFor:"email",className:"flex items-center gap-2 mb-2",children:[a.jsx(zT,{className:"w-4 h-4"}),"Email"]}),a.jsx(yn,{id:"email",type:"email",placeholder:"tuo@email.com",value:b.email,onChange:N=>w({...b,email:N.target.value}),required:!0,disabled:d,className:"h-12"})]}),a.jsxs("div",{children:[a.jsxs(pt,{htmlFor:"password",className:"flex items-center gap-2 mb-2",children:[a.jsx(Bs,{className:"w-4 h-4"}),"Password"]}),a.jsx(yn,{id:"password",type:"password",placeholder:"",value:b.password,onChange:N=>w({...b,password:N.target.value}),required:!0,disabled:d,minLength:6,className:"h-12"}),r==="signup"&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimo 6 caratteri"})]}),a.jsx(ye,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-5 h-5 mr-2 animate-spin"}),r==="signup"?"Creazione account...":"Accesso..."]}):a.jsx(a.Fragment,{children:r==="signup"?a.jsxs(a.Fragment,{children:[a.jsx(yt,{className:"w-5 h-5 mr-2"}),"Crea Account"]}):"Accedi"})})]}),r==="login"&&a.jsx("div",{className:"mt-4 text-center",children:a.jsx("button",{type:"button",onClick:()=>{s(!0),h(""),v("")},disabled:d,className:"text-sm text-blue-600 hover:text-blue-700 underline disabled:opacity-50",children:"Password dimenticata?"})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{type:"button",onClick:C,disabled:d,className:"text-sm text-blue-600 hover:text-blue-700 font-medium disabled:opacity-50",children:r==="signup"?a.jsxs(a.Fragment,{children:["Hai gi un account? ",a.jsx("span",{className:"underline",children:"Accedi"})]}):a.jsxs(a.Fragment,{children:["Non hai un account? ",a.jsx("span",{className:"underline",children:"Registrati"})]})})}),r==="signup"&&a.jsxs("p",{className:"mt-6 text-xs text-gray-500 text-center",children:["Creando un account accetti i nostri"," ",a.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Termini di Servizio"})," ","e la"," ",a.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),a.jsx(si,{children:i&&a.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>s(!1),children:a.jsx(W.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:N=>N.stopPropagation(),className:"w-full max-w-md",children:a.jsxs(oe,{className:"p-8",children:[a.jsx("h2",{className:"text-gray-900 mb-2",children:"Reimposta Password"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Inserisci la tua email e ti invieremo un link per reimpostare la password."}),g&&a.jsxs(Xo,{className:"mb-4 border-emerald-300 bg-emerald-50",children:[a.jsx(ni,{className:"h-4 w-4 text-emerald-600"}),a.jsx(Yo,{className:"text-emerald-900",children:g})]}),p&&a.jsxs(Xo,{variant:"destructive",className:"mb-4",children:[a.jsx(ni,{className:"h-4 w-4"}),a.jsx(Yo,{children:p})]}),a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(pt,{htmlFor:"reset-email",className:"flex items-center gap-2 mb-2",children:[a.jsx(zT,{className:"w-4 h-4"}),"Email"]}),a.jsx(yn,{id:"reset-email",type:"email",placeholder:"tuo@email.com",value:o,onChange:N=>c(N.target.value),required:!0,disabled:d,className:"h-12"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ye,{type:"button",variant:"outline",className:"flex-1 h-12",onClick:()=>{s(!1),c(""),h(""),v("")},disabled:d,children:"Annulla"}),a.jsx(ye,{type:"submit",className:"flex-1 h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-5 h-5 mr-2 animate-spin"}),"Invio..."]}):"Invia Email"})]})]}),a.jsxs(Xo,{className:"mt-4 border-yellow-300 bg-yellow-50",children:[a.jsx(ni,{className:"h-4 w-4 text-yellow-600"}),a.jsxs(Yo,{className:"text-yellow-900 text-xs",children:[a.jsx("strong",{children:"Nota:"})," Se il server email non  configurato, contatta il supporto per reimpostare la password manualmente."]})]})]})})})}),a.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 text-center",children:a.jsx(oe,{className:"p-4 bg-white/90 backdrop-blur",children:a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-semibold",children:" Demo Mode:"})," Puoi anche"," ",a.jsx("button",{onClick:t,className:"text-blue-600 hover:underline font-medium",children:"continuare senza registrarti"})," ","(dati salvati solo localmente)"]})})})]})})}var wm="Checkbox",[mhe]=Ml(wm),[ghe,QS]=mhe(wm);function vhe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:c,onCheckedChange:d,required:f,value:p="on",internal_do_not_use_render:h}=t,[g,v]=Lp({prop:r,defaultProp:i??!1,onChange:d,caller:wm}),[b,w]=P.useState(null),[x,S]=P.useState(null),k=P.useRef(!1),_=b?!!o||!!b.closest("form"):!0,C={checked:g,disabled:s,setChecked:v,control:b,setControl:w,name:c,form:o,value:p,hasConsumerStoppedPropagationRef:k,required:f,defaultChecked:Ha(i)?!1:i,isFormControl:_,bubbleInput:x,setBubbleInput:S};return a.jsx(ghe,{scope:e,...C,children:yhe(h)?h(C):n})}var Az="CheckboxTrigger",Pz=P.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:o,disabled:c,checked:d,required:f,setControl:p,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:b}=QS(Az,t),w=Qi(i,p),x=P.useRef(d);return P.useEffect(()=>{const S=s?.form;if(S){const k=()=>h(x.current);return S.addEventListener("reset",k),()=>S.removeEventListener("reset",k)}},[s,h]),a.jsx(bn.button,{type:"button",role:"checkbox","aria-checked":Ha(d)?"mixed":d,"aria-required":f,"data-state":$z(d),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:w,onKeyDown:nn(e,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:nn(r,S=>{h(k=>Ha(k)?!0:!k),b&&v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})})});Pz.displayName=Az;var Cz=P.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:c,value:d,onCheckedChange:f,form:p,...h}=t;return a.jsx(vhe,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:c,required:o,onCheckedChange:f,name:n,form:p,value:d,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(Pz,{...h,ref:e,__scopeCheckbox:r}),g&&a.jsx(Rz,{__scopeCheckbox:r})]})})});Cz.displayName=wm;var Ez="CheckboxIndicator",Oz=P.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=QS(Ez,r);return a.jsx(Fp,{present:n||Ha(s.checked)||s.checked===!0,children:a.jsx(bn.span,{"data-state":$z(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Oz.displayName=Ez;var Iz="CheckboxBubbleInput",Rz=P.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:c,disabled:d,name:f,value:p,form:h,bubbleInput:g,setBubbleInput:v}=QS(Iz,t),b=Qi(r,v),w=M$(s),x=$$(n);P.useEffect(()=>{const k=g;if(!k)return;const _=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(_,"checked").set,T=!i.current;if(w!==s&&N){const E=new Event("click",{bubbles:T});k.indeterminate=Ha(s),N.call(k,Ha(s)?!1:s),k.dispatchEvent(E)}},[g,w,s,i]);const S=P.useRef(Ha(s)?!1:s);return a.jsx(bn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:c,disabled:d,name:f,value:p,form:h,...e,tabIndex:-1,ref:b,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Rz.displayName=Iz;function yhe(t){return typeof t=="function"}function Ha(t){return t==="indeterminate"}function $z(t){return Ha(t)?"indeterminate":t?"checked":"unchecked"}function FI({className:t,...e}){return a.jsx(Cz,{"data-slot":"checkbox",className:gr("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(Oz,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Mp,{className:"size-3.5"})})})}function xhe({onComplete:t}){const{completeOnboarding:e,skipOnboarding:r,analyzing:n}=s4(),[i,s]=P.useState(0),[o,c]=P.useState({experienceLevel:void 0,tradingKnowledge:void 0,optionsKnowledge:void 0,goals:[],availableTime:void 0,capital:void 0,learningStyle:[]}),d=6,f=()=>{console.log(" handleNext called, currentStep:",i,"totalSteps:",d),console.log(" isStepComplete:",w()),console.log(" profile:",o),i<d-1?s(i+1):(console.log(" Last step reached, calling handleComplete"),h())},p=()=>{i>0&&s(i-1)},h=async()=>{console.log(" handleComplete called"),console.log(" Profile to submit:",o);try{console.log(" Calling completeOnboarding...");const _=await e(o);console.log(" completeOnboarding returned:",_),console.log(" Calling onComplete callback..."),t(),console.log(" onComplete callback finished")}catch(_){console.error(" Error in handleComplete:",_),console.log(" Calling onComplete despite error..."),t()}},g=()=>{r(),t()},v=(_,C)=>{c(N=>({...N,[_]:C}))},b=(_,C)=>{c(N=>{const T=N[_]||[],E=T.includes(C)?T.filter(O=>O!==C):[...T,C];return{...N,[_]:E}})},w=()=>{switch(i){case 0:return!!o.experienceLevel;case 1:return!!o.tradingKnowledge;case 2:return!!o.optionsKnowledge;case 3:return(o.goals?.length||0)>0;case 4:return!!o.availableTime;case 5:return!!o.capital&&(o.learningStyle?.length||0)>0;default:return!1}},S=[{title:"Livello Esperienza Crypto",icon:l$,content:a.jsx(Lo,{value:o.experienceLevel,onValueChange:_=>v("experienceLevel",_),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"beginner",id:"exp-beginner"}),a.jsxs(pt,{htmlFor:"exp-beginner",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Principiante"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Nuovo al mondo crypto, poca o nessuna esperienza"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"intermediate",id:"exp-intermediate"}),a.jsxs(pt,{htmlFor:"exp-intermediate",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Intermedio"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ho gi investito in crypto, conosco le basi"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"advanced",id:"exp-advanced"}),a.jsxs(pt,{htmlFor:"exp-advanced",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Avanzato"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Trading attivo, esperto di crypto e mercati"})]})]})]})})},{title:"Esperienza Trading",icon:gt,content:a.jsx(Lo,{value:o.tradingKnowledge,onValueChange:_=>v("tradingKnowledge",_),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"none",id:"trade-none"}),a.jsxs(pt,{htmlFor:"trade-none",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Nessuna"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Mai fatto trading prima"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"basic",id:"trade-basic"}),a.jsxs(pt,{htmlFor:"trade-basic",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Base"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ho comprato/venduto azioni o crypto spot"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"experienced",id:"trade-exp"}),a.jsxs(pt,{htmlFor:"trade-exp",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Esperto"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Trading attivo con analisi tecnica"})]})]})]})})},{title:"Conoscenza Opzioni",icon:BH,content:a.jsx(Lo,{value:o.optionsKnowledge,onValueChange:_=>v("optionsKnowledge",_),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"none",id:"opt-none"}),a.jsxs(pt,{htmlFor:"opt-none",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Mai sentite"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Non so cosa sono le opzioni"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"basic",id:"opt-basic"}),a.jsxs(pt,{htmlFor:"opt-basic",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Teoria"}),a.jsx("p",{className:"text-sm text-gray-600",children:"So cosa sono ma non le ho mai tradiate"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"experienced",id:"opt-exp"}),a.jsxs(pt,{htmlFor:"opt-exp",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Pratico"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ho gi tradato opzioni (stocks/crypto)"})]})]})]})})},{title:"I Tuoi Obiettivi",icon:Br,content:a.jsx("div",{className:"space-y-3",children:[{value:"learn",label:" Imparare nuova strategia",desc:"Acquisire competenze trading opzioni"},{value:"income",label:" Generare reddito passivo",desc:"Creare flusso di cassa mensile"},{value:"hedge",label:" Proteggere portfolio",desc:"Hedging e gestione rischio"},{value:"curiosity",label:" Curiosit",desc:"Esplorare il mondo delle opzioni"}].map(_=>a.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-colors cursor-pointer ${o.goals?.includes(_.value)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>b("goals",_.value),children:[a.jsx(FI,{checked:o.goals?.includes(_.value),onCheckedChange:()=>b("goals",_.value)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold",children:_.label}),a.jsx("p",{className:"text-sm text-gray-600",children:_.desc})]})]},_.value))})},{title:"Tempo Disponibile",icon:zp,content:a.jsx(Lo,{value:o.availableTime,onValueChange:_=>v("availableTime",_),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"limited",id:"time-limited"}),a.jsxs(pt,{htmlFor:"time-limited",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Limitato"}),a.jsx("p",{className:"text-sm text-gray-600",children:"10-15 minuti al giorno"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"moderate",id:"time-moderate"}),a.jsxs(pt,{htmlFor:"time-moderate",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Moderato"}),a.jsx("p",{className:"text-sm text-gray-600",children:"30-60 minuti al giorno"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"plenty",id:"time-plenty"}),a.jsxs(pt,{htmlFor:"time-plenty",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"font-semibold",children:" Abbondante"}),a.jsx("p",{className:"text-sm text-gray-600",children:"1-2 ore al giorno o pi"})]})]})]})})},{title:"Capitale & Stile",icon:yt,content:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900 mb-3",children:"Capitale per Trading"}),a.jsx(Lo,{value:o.capital,onValueChange:_=>v("capital",_),children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"learning",id:"cap-learning"}),a.jsx(pt,{htmlFor:"cap-learning",className:"flex-1 cursor-pointer",children:"Solo apprendimento (simulatore)"})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"small",id:"cap-small"}),a.jsx(pt,{htmlFor:"cap-small",className:"flex-1 cursor-pointer",children:"Piccolo (< $5,000)"})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"medium",id:"cap-medium"}),a.jsx(pt,{htmlFor:"cap-medium",className:"flex-1 cursor-pointer",children:"Medio ($5,000 - $25,000)"})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[a.jsx(Sr,{value:"large",id:"cap-large"}),a.jsx(pt,{htmlFor:"cap-large",className:"flex-1 cursor-pointer",children:"Grande (> $25,000)"})]})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900 mb-3",children:"Preferenze Apprendimento"}),a.jsx("div",{className:"space-y-2",children:[{value:"reading",label:" Leggere testi ed esempi"},{value:"practice",label:" Pratica con simulatore"},{value:"visual",label:" Grafici e visual"},{value:"interactive",label:" Quiz interattivi"}].map(_=>a.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg border-2 transition-colors cursor-pointer ${o.learningStyle?.includes(_.value)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>b("learningStyle",_.value),children:[a.jsx(FI,{checked:o.learningStyle?.includes(_.value),onCheckedChange:()=>b("learningStyle",_.value)}),a.jsx(pt,{className:"flex-1 cursor-pointer",children:_.label})]},_.value))})]})]})}][i],k=S.icon;return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center p-4 safe-area-inset",children:a.jsxs(oe,{className:"w-full max-w-2xl shadow-2xl",children:[a.jsxs("div",{className:"p-6 md:p-8 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:a.jsx(k,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-gray-900",children:S.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Passo ",i+1," di ",d]})]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:g,children:"Salta"})]}),a.jsx(ai,{value:(i+1)/d*100,className:"h-2"})]}),a.jsx("div",{className:"p-6 md:p-8 min-h-[400px]",children:a.jsx(si,{mode:"wait",children:a.jsx(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:S.content},i)})}),a.jsxs("div",{className:"p-6 md:p-8 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs(ye,{variant:"outline",onClick:p,disabled:i===0,className:"h-11",children:[a.jsx(wu,{className:"w-4 h-4 mr-2"}),"Indietro"]}),a.jsx(ye,{onClick:f,disabled:!w()||n,className:"bg-blue-600 hover:bg-blue-700 h-11",children:n?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Analisi AI..."]}):i===d-1?a.jsxs(a.Fragment,{children:["Inizia il Corso",a.jsx(yt,{className:"w-4 h-4 ml-2"})]}):a.jsxs(a.Fragment,{children:["Avanti",a.jsx(Gi,{className:"w-4 h-4 ml-2"})]})})]})]})})}function bhe({recommendations:t,onStart:e}){const r=()=>{console.log("[OnboardingResults] Button clicked - calling onStart"),e()};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center p-4 safe-area-inset",children:a.jsx(W.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-3xl",children:a.jsxs(oe,{className:"p-6 md:p-10 shadow-2xl",children:[a.jsx(W.div,{className:"w-20 h-20 md:w-24 md:h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center",initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{delay:.2,duration:.6},children:a.jsx(yt,{className:"w-12 h-12 text-white"})}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-gray-900 mb-3",children:"Percorso Personalizzato Pronto! "}),a.jsx("p",{className:"text-gray-600 text-lg",children:"L'AI ha analizzato il tuo profilo e creato un percorso formativo su misura per te"})]}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:a.jsx(oe,{className:"p-5 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200",children:a.jsx("p",{className:"text-gray-900 leading-relaxed",children:t.customMessage})})}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid md:grid-cols-2 gap-4 mb-8",children:[a.jsxs(oe,{className:"p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Br,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"text-gray-900",children:"Lezione di Partenza"})]}),a.jsxs("p",{className:"text-3xl text-blue-600 font-bold",children:["#",t.startingLesson]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Inizierai dal livello giusto per te"})]}),a.jsxs(oe,{className:"p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(zp,{className:"w-5 h-5 text-purple-600"}),a.jsx("h3",{className:"text-gray-900",children:"Durata Stimata"})]}),a.jsx("p",{className:"text-3xl text-purple-600 font-bold",children:t.estimatedDuration}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Al tuo ritmo di apprendimento"})]})]}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gt,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"text-gray-900",children:"Percorso Raccomandato"})]}),a.jsx("div",{className:"space-y-2",children:t.recommendedPath.map((n,i)=>a.jsxs(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+i*.1},className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx(Ze,{className:"bg-blue-600 text-white flex-shrink-0",children:i+1}),a.jsx("span",{className:"text-gray-900",children:n})]},i))})]}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Br,{className:"w-5 h-5 text-orange-600"}),a.jsx("h3",{className:"text-gray-900",children:"Aree di Focus"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.focusAreas.map((n,i)=>a.jsx(Ze,{variant:"outline",className:"border-orange-300 text-orange-700 bg-orange-50",children:n},i))})]}),a.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(u$,{className:"w-5 h-5 text-yellow-600"}),a.jsx("h3",{className:"text-gray-900",children:"Consigli per il Successo"})]}),a.jsx("div",{className:"space-y-2",children:t.tips.map((n,i)=>a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-yellow-600 flex-shrink-0 mt-1",children:""}),a.jsx("p",{className:"text-gray-700",children:n})]},i))})]}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},children:a.jsxs(ye,{onClick:r,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white h-14 text-lg",children:["Inizia il Tuo Percorso",a.jsx(Gi,{className:"w-5 h-5 ml-2"})]})})]})})})}function whe(){return a.jsxs("div",{className:"flex items-start gap-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex-shrink-0 flex items-center justify-center",children:a.jsx(gi,{className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"bg-gray-100 rounded-2xl rounded-tl-sm px-4 py-3",children:a.jsx("div",{className:"flex gap-1.5",children:[0,1,2].map(t=>a.jsx(W.div,{className:"w-2 h-2 bg-gray-400 rounded-full",animate:{y:[0,-6,0],opacity:[.4,1,.4]},transition:{duration:.8,repeat:1/0,delay:t*.15,ease:"easeInOut"}},t))})})]})}const jhe="/mascot-excited.png",She="/mascot-normal.png",_he=She,Nhe="/mascot-disappointed.png",khe=jhe;function Mz({lessonContext:t,isVisible:e=!0,onVisibilityChange:r}){const[n,i]=P.useState(!1),[s,o]=P.useState([]),[c,d]=P.useState(""),[f,p]=P.useState(!1),[h,g]=P.useState(!1),[v,b]=P.useState(()=>{const q=localStorage.getItem("mascot-position");return q?JSON.parse(q):{x:0,y:0}}),w=P.useRef(null),x=P.useRef(null),S=MW(),k=Z$(),_=eM(),{progress:C}=Ja(),N=C?.streak||0,{emotion:T,message:E,setActivity:O}=Y$(),[R,H]=P.useState(()=>localStorage.getItem("mascotSoundEnabled")!=="false"),L=q=>{R&&q()};P.useEffect(()=>{localStorage.setItem("mascot-position",JSON.stringify(v))},[v]),P.useEffect(()=>{const q=localStorage.getItem("btc-wheel-chat-history");if(q)try{const Y=JSON.parse(q);o(Y.map(se=>({...se,timestamp:new Date(se.timestamp)})))}catch(Y){console.error("Error loading chat history:",Y)}},[]),P.useEffect(()=>{s.length>0&&localStorage.setItem("btc-wheel-chat-history",JSON.stringify(s))},[s]),P.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[s]),P.useEffect(()=>{f?O("ai_thinking"):c.length>0?O("ai_listening"):s.length>0&&s[s.length-1]?.role==="assistant"&&O("ai_responding",3e3)},[f,c.length,s.length,O]);const M=()=>{switch(T){case"disappointed":case"encouraging":return Nhe;case"excited":case"celebrating":return khe;case"normal":case"teaching":case"thinking":case"sleeping":default:return _he}},$=()=>{n?(i(!1),O("idle"),L(()=>_.click()),k.light(),r&&r(!1)):(i(!0),L(()=>{_.click(),_.tipShow()}),k.medium(),s.length===0&&O("excited",2e3))},V=()=>{i(!1),O("idle"),L(()=>_.click()),k.light()},Q=async()=>{if(!c.trim()||f)return;const q={id:Date.now().toString(),role:"user",content:c.trim(),timestamp:new Date};o(Y=>[...Y,q]),d(""),p(!0),O("ai_thinking"),L(()=>_.click()),k.light();try{const{projectId:Y,publicAnonKey:se}=await qi(async()=>{const{projectId:pe,publicAnonKey:_e}=await Promise.resolve().then(()=>Ba);return{projectId:pe,publicAnonKey:_e}},void 0),fe=`https://${Y}.supabase.co/functions/v1/make-server-7c0f82ca/chat-tutor`,te=s.slice(-4).map(pe=>({role:pe.role,content:pe.content})),he={userLevel:C.level,userXP:C.xp,completedLessons:C.completedLessons.length,totalLessons:15,currentStreak:N,badges:C.badges,lessonContext:t,conversationHistory:te},le=await fetch(fe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({message:q.content,context:he})});if(!le.ok)throw new Error(`HTTP ${le.status}`);const ie=await le.json();if(ie.response){const pe={id:(Date.now()+1).toString(),role:"assistant",content:ie.response,timestamp:new Date};o(_e=>[..._e,pe]),O("ai_responding",3e3),L(()=>_.excited()),k.success(),(ie.response.includes("Bravo")||ie.response.includes("Ottimo"))&&O("celebrating",1500)}}catch(Y){console.error("AI Chat error:",Y);const se={id:(Date.now()+1).toString(),role:"assistant",content:"Mi dispiace, ho avuto un problema tecnico. Riprova tra poco! ",timestamp:new Date};o(fe=>[...fe,se]),O("disappointed",3e3),de.error("Errore di connessione AI"),L(()=>_.disappointed()),k.error()}finally{p(!1)}},K=()=>{o([]),localStorage.removeItem("btc-wheel-chat-history"),de.success("Chat cancellata"),L(()=>_.tipDismiss()),k.light(),O("idle")},Z=q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),Q())},D=["Come funziona la Wheel Strategy?","Cosa sono le opzioni cash-secured put?","Quando dovrei vendere covered call?"],U=()=>{switch(T){case"thinking":return"animate-pulse";case"celebrating":case"excited":return"animate-bounce";default:return"mascot-idle"}},B=(()=>{switch(T){case"excited":case"celebrating":return{gradient:"from-yellow-500/20 to-green-500/20",border:"border-yellow-500/30",glow:"shadow-yellow-500/20",ring:"bg-yellow-400"};case"disappointed":case"encouraging":return{gradient:"from-orange-500/20 to-red-500/20",border:"border-orange-500/30",glow:"shadow-orange-500/20",ring:"bg-orange-400"};case"thinking":return{gradient:"from-purple-500/20 to-blue-500/20",border:"border-purple-500/30",glow:"shadow-purple-500/20",ring:"bg-purple-400"};default:return{gradient:"from-blue-500/20 to-purple-500/20",border:"border-blue-500/30",glow:"shadow-blue-500/20",ring:"bg-blue-400"}}})();return e?a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        @keyframes float-idle {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-12px) rotate(2deg); }
        }
        
        .mascot-idle {
          animation: float-idle 3s ease-in-out infinite;
        }
      `}),a.jsx(W.div,{drag:!0,dragControls:S,dragMomentum:!1,dragElastic:.1,onDragEnd:(q,Y)=>{b({x:Y.offset.x,y:Y.offset.y})},style:{x:v.x,y:v.y},className:"fixed bottom-20 md:bottom-8 right-4 md:right-8 z-50 safe-area-bottom",children:a.jsxs("div",{className:"relative",children:[a.jsx(si,{children:n&&a.jsx(W.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{type:"spring",bounce:.3,duration:.4},className:"absolute bottom-32 md:bottom-40 right-0 w-[calc(100vw-2rem)] md:w-[600px] max-w-2xl",children:a.jsxs(oe,{className:"backdrop-blur-xl bg-white/95 shadow-2xl border-2 border-blue-200/50",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 rounded-t-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-12 h-12",children:[a.jsx("img",{src:M(),alt:"Prof Satoshi AI",className:"w-full h-full object-contain"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white",children:"Prof Satoshi AI"}),a.jsx("p",{className:"text-xs text-blue-100",children:"Sempre qui per aiutarti!"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[s.length>0&&a.jsx(ye,{size:"sm",variant:"ghost",onClick:K,className:"text-white hover:bg-white/20",children:a.jsx(NG,{className:"w-4 h-4"})}),a.jsx(ye,{size:"sm",variant:"ghost",onClick:V,className:"text-white hover:bg-white/20",children:a.jsx(Hs,{className:"w-4 h-4"})})]})]})}),a.jsx("div",{className:"h-[400px] md:h-[500px] overflow-y-auto p-4 space-y-4",children:s.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4",children:[a.jsx(W.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx(yt,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-gray-900 mb-2",children:"Ciao!  Sono Prof Satoshi!"}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Il tuo AI tutor personale per la Bitcoin Wheel Strategy.",a.jsx("br",{}),"Chiedimi qualsiasi cosa!"]})]}),a.jsxs("div",{className:"w-full space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Prova a chiedermi:"}),D.map((q,Y)=>a.jsx("button",{onClick:()=>d(q),className:"w-full text-left p-3 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 rounded-lg text-sm text-gray-700 transition-all border border-blue-200/50 hover:border-blue-300",children:q},Y))]})]}):a.jsxs(a.Fragment,{children:[s.map(q=>a.jsx(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${q.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-2xl p-3 ${q.role==="user"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-gray-100 text-gray-900"}`,children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:q.content}),a.jsx("p",{className:`text-xs mt-1 ${q.role==="user"?"text-blue-100":"text-gray-500"}`,children:q.timestamp.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]})},q.id)),f&&a.jsx(whe,{}),a.jsx("div",{ref:w})]})}),a.jsxs("div",{className:"border-t p-4 bg-gray-50/50 rounded-b-lg",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("textarea",{ref:x,value:c,onChange:q=>d(q.target.value),onKeyDown:Z,placeholder:"Scrivi la tua domanda...",className:"flex-1 resize-none rounded-lg border border-gray-300 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[44px] max-h-[120px]",rows:1,disabled:f}),a.jsx(ye,{onClick:Q,disabled:!c.trim()||f,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 px-4",children:a.jsx(gG,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Premi Invio per inviare, Shift+Invio per andare a capo"})]})]})})}),a.jsxs(W.div,{onClick:$,onHoverStart:()=>g(!0),onHoverEnd:()=>g(!1),whileHover:{scale:1.1},whileTap:{scale:.9},animate:n?{}:{scale:[1,1.03,1],y:[0,-8,0]},transition:{scale:{duration:2.5,repeat:1/0,ease:"easeInOut"},y:{duration:3.5,repeat:1/0,ease:"easeInOut"}},className:"relative cursor-pointer group touch-manipulation w-24 h-24 md:w-32 md:h-32","aria-label":n?"Chiudi e nascondi AI Tutor":"Apri AI Tutor",children:[!n&&a.jsxs(a.Fragment,{children:[a.jsx(W.div,{className:`absolute inset-0 rounded-full ${B.ring} opacity-30`,animate:{scale:[1,1.3,1],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),a.jsx(W.div,{className:`absolute inset-0 rounded-full ${B.ring} opacity-20`,animate:{scale:[1,1.5,1],opacity:[.2,0,.2]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:.5}})]}),(h||n)&&a.jsx(W.div,{className:`absolute inset-0 rounded-full bg-gradient-to-br ${B.gradient} blur-xl`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}),a.jsx(si,{children:h&&!n&&E&&a.jsxs(W.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.9},transition:{type:"spring",bounce:.4,duration:.3},className:"absolute -top-16 left-1/2 transform -translate-x-1/2 px-4 py-2 bg-white rounded-2xl shadow-xl border-2 border-blue-200 whitespace-nowrap z-50",children:[a.jsx("p",{className:"text-sm text-gray-800",children:E}),a.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-3 h-3 bg-white border-r-2 border-b-2 border-blue-200"})]})}),a.jsx(W.div,{className:`relative w-full h-full flex items-center justify-center ${U()}`,children:a.jsx(W.img,{src:M(),alt:"Prof Satoshi AI Mascot",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 15px 30px rgba(0, 0, 0, 0.3))"},initial:{scale:.9,opacity:.7},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20}})},T),T==="thinking"&&a.jsx(a.Fragment,{children:[...Array(3)].map((q,Y)=>a.jsx(W.div,{className:"absolute w-3 h-3 bg-purple-400 rounded-full",style:{top:`${30+Y*15}%`,left:"20%"},animate:{scale:[0,1,0],opacity:[0,1,0],x:[-10,0],y:[-20,-40]},transition:{duration:1.5,repeat:1/0,delay:Y*.3,ease:"easeOut"}},Y))}),(T==="excited"||T==="celebrating")&&a.jsx(a.Fragment,{children:[...Array(6)].map((q,Y)=>a.jsx(W.div,{className:"absolute w-2 h-2 bg-yellow-400 rounded-full",style:{top:`${20+Math.random()*60}%`,left:`${20+Math.random()*60}%`},animate:{scale:[0,1,0],opacity:[0,1,0],y:[0,-20]},transition:{duration:1.5,repeat:1/0,delay:Y*.2,ease:"easeOut"}},Y))}),a.jsx(W.div,{className:"absolute top-1 right-1 md:top-2 md:right-2 px-2 py-0.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full text-xs shadow-lg border border-white",animate:{scale:n?1:[1,1.1,1]},transition:{duration:2,repeat:n?0:1/0},children:"AI"})]})]})})]}):a.jsx(W.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"fixed bottom-20 md:bottom-8 right-4 md:right-8 z-50 safe-area-bottom",children:a.jsxs("button",{onClick:()=>{r?.(!0),L(()=>_.appear()),k.light()},className:"relative group","aria-label":"Apri Prof Satoshi",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-emerald-500 to-orange-500 opacity-75 group-hover:opacity-100 animate-pulse blur-md"}),a.jsxs("div",{className:"relative w-14 h-14 md:w-16 md:h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-full shadow-lg flex items-center justify-center border-2 border-white group-hover:scale-110 transition-transform",children:[a.jsx(yt,{className:"w-7 h-7 md:w-8 md:h-8 text-white"}),a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center text-white text-xs font-bold border-2 border-white shadow-md",children:"AI"})]})]})})}function $o(){return P.useEffect(()=>{const t=document.querySelector('meta[name="viewport"]');t&&t.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"),[{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"},{name:"apple-mobile-web-app-title",content:"BTC Wheel"},{name:"mobile-web-app-capable",content:"yes"},{name:"theme-color",content:"#3b82f6"}].forEach(o=>{let c=document.querySelector(`meta[name="${o.name}"]`);c||(c=document.createElement("meta"),c.setAttribute("name",o.name),document.head.appendChild(c)),c.setAttribute("content",o.content)}),[{media:"(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/iphone5_splash.png"},{media:"(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/iphone6_splash.png"},{media:"(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)",href:"/splash/iphoneplus_splash.png"},{media:"(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)",href:"/splash/iphonex_splash.png"},{media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/iphonexr_splash.png"},{media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)",href:"/splash/iphonexsmax_splash.png"},{media:"(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/ipad_splash.png"},{media:"(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/ipadpro1_splash.png"},{media:"(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)",href:"/splash/ipadpro3_splash.png"}].forEach(o=>{let c=document.querySelector(`link[media="${o.media}"]`);c||(c=document.createElement("link"),c.setAttribute("rel","apple-touch-startup-image"),c.setAttribute("media",o.media),document.head.appendChild(c)),c.setAttribute("href",o.href)});const n=document.createElement("link");n.setAttribute("rel","apple-touch-icon"),n.setAttribute("href","/icons/icon-192x192.png"),document.head.appendChild(n),document.body.style.overscrollBehavior="none","vibrate"in navigator&&window.addEventListener("touchstart",()=>{});const i=()=>{console.log("App is online")},s=()=>{console.log("App is offline")};return window.addEventListener("online",i),window.addEventListener("offline",s),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",s)}},[]),null}function The(){return P.useEffect(()=>{let t=0;const e=f=>{if(f.touches.length>1)return;(window.pageYOffset||document.documentElement.scrollTop)===0&&f.touches[0].clientY>t&&f.preventDefault()},r=f=>{t=f.touches[0].clientY},n=f=>{f.touches[0].clientY},i=f=>{"vibrate"in navigator&&f.matches('button, a, [role="button"]')&&navigator.vibrate(10)},s=f=>{f.target instanceof Element&&i(f.target)};document.addEventListener("touchstart",r,{passive:!1}),document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("click",s);const o=()=>{de.success("Sei di nuovo online! ",{description:"I tuoi progressi verranno sincronizzati"})},c=()=>{de.info("Sei offline ",{description:"I progressi verranno salvati localmente"})};window.addEventListener("online",o),window.addEventListener("offline",c);const d=f=>{f.preventDefault()};return document.addEventListener("contextmenu",d),()=>{document.removeEventListener("touchstart",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchmove",e),document.removeEventListener("click",s),window.removeEventListener("online",o),window.removeEventListener("offline",c),document.removeEventListener("contextmenu",d)}},[]),null}function Ahe(){const[t,e]=P.useState(null),[r,n]=P.useState(!1),[i,s]=P.useState(!1),[o,c]=P.useState(!1);P.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){c(!0);return}const p=/iPad|iPhone|iPod/.test(navigator.userAgent);s(p);const h=v=>{v.preventDefault(),e(v),setTimeout(()=>{n(!0)},1e4)};window.addEventListener("beforeinstallprompt",h);const g=localStorage.getItem("pwa-install-dismissed");if(g){const v=new Date(g);(new Date().getTime()-v.getTime())/(1e3*3600*24)<7&&n(!1)}return()=>window.removeEventListener("beforeinstallprompt",h)},[]);const d=async()=>{if(!t)return;t.prompt();const{outcome:p}=await t.userChoice;p==="accepted"&&(console.log("User accepted the install prompt"),c(!0)),e(null),n(!1)},f=()=>{n(!1),localStorage.setItem("pwa-install-dismissed",new Date().toISOString())};return o||!r?null:a.jsx("div",{className:"fixed bottom-20 md:bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-in slide-in-from-bottom-4",children:a.jsx(oe,{className:"p-4 bg-gradient-to-r from-blue-600 to-orange-500 border-none shadow-2xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(bG,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white mb-1",children:"Installa l'App"}),a.jsx("p",{className:"text-white/90 text-sm mb-3",children:i?"Tocca il pulsante 'Condividi' e seleziona 'Aggiungi a Home' per installare l'app.":"Installa btcwheel sul tuo dispositivo per un'esperienza migliore!"}),!i&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{onClick:d,size:"sm",className:"bg-white text-blue-600 hover:bg-white/90",children:[a.jsx(Mj,{className:"w-4 h-4 mr-2"}),"Installa"]}),a.jsx(ye,{onClick:f,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20",children:"Dopo"})]})]}),a.jsx("button",{onClick:f,className:"p-1 hover:bg-white/20 rounded transition-colors",children:a.jsx(Hs,{className:"w-5 h-5 text-white"})})]})})})}function Phe(t={}){const{immediate:e=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let c,d,f;const p=async(g=!0)=>{await d,f?.()};async function h(){if("serviceWorker"in navigator){if(c=await qi(async()=>{const{Workbox:g}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:g}},[]).then(({Workbox:g})=>new g("/sw.js",{scope:"/",type:"classic"})).catch(g=>{o?.(g)}),!c)return;f=()=>{c?.messageSkipWaiting()};{let g=!1;const v=()=>{g=!0,c?.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()}),r?.()};c.addEventListener("installed",b=>{typeof b.isUpdate>"u"?typeof b.isExternal<"u"&&b.isExternal?v():!g&&n?.():b.isUpdate||n?.()}),c.addEventListener("waiting",v)}c.register({immediate:e}).then(g=>{s?s("/sw.js",g):i?.(g)}).catch(g=>{o?.(g)})}}return d=h(),p}function Che(t={}){const{immediate:e=!0,onNeedRefresh:r,onOfflineReady:n,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t,[c,d]=P.useState(!1),[f,p]=P.useState(!1),[h]=P.useState(()=>Phe({immediate:e,onOfflineReady(){p(!0),n?.()},onNeedRefresh(){d(!0),r?.()},onRegistered:i,onRegisteredSW:s,onRegisterError:o}));return{needRefresh:[c,d],offlineReady:[f,p],updateServiceWorker:h}}function Ehe(){const{needRefresh:[t,e],updateServiceWorker:r}=Che({onRegistered(s){console.log("SW Registered: "+s)},onRegisterError(s){console.log("SW registration error",s)}}),n=()=>{r(!0)},i=()=>{e(!1),de.info("Aggiornamento rimandato",{description:"Ricarica la pagina manualmente per aggiornare"})};return t?a.jsx("div",{className:"fixed top-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-in slide-in-from-top-4",children:a.jsx(oe,{className:"p-4 bg-white border-blue-200 shadow-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(_i,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-blue-900 mb-1",children:"Aggiornamento Disponibile"}),a.jsx("p",{className:"text-slate-600 text-sm mb-3",children:" disponibile una nuova versione dell'app con miglioramenti e nuove funzionalit!"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ye,{onClick:n,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Aggiorna Ora"}),a.jsx(ye,{onClick:i,size:"sm",variant:"outline",children:"Dopo"})]})]})]})})}):null}function Ohe(){const[t,e]=P.useState({component:"pending",backend:"pending",context:"pending"}),[r,n]=P.useState(""),[i,s]=P.useState(!1),o=async()=>{s(!0);try{const{projectId:g,publicAnonKey:v}=await qi(async()=>{const{projectId:S,publicAnonKey:k}=await Promise.resolve().then(()=>Ba);return{projectId:S,publicAnonKey:k}},void 0),b=`https://${g}.supabase.co/functions/v1/make-server-7c0f82ca/chat-tutor`,w=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify({message:"Test: Spiega brevemente cos' la Wheel Strategy",context:{userLevel:1,userXP:0,completedLessons:0,totalLessons:15,currentStreak:0,badges:[],lessonContext:null,conversationHistory:[]}})});if(!w.ok)throw new Error(`HTTP ${w.status}`);const x=await w.json();if(x.response)n(x.response),e(S=>({...S,backend:"success"}));else throw new Error("No response field")}catch(g){console.error("Backend test error:",g),e(v=>({...v,backend:"error"})),n(g instanceof Error?g.message:"Unknown error")}finally{s(!1)}},c=()=>{try{const g=!!Mz;e(v=>({...v,component:g?"success":"error"}))}catch{e(v=>({...v,component:"error"}))}},d=()=>{try{const g={lessonId:9,lessonTitle:"Strike Selection e Delta"};e(v=>({...v,context:g.lessonId>0?"success":"error"}))}catch{e(v=>({...v,context:"error"}))}},f=async()=>{c(),d(),await o()},p=({status:g})=>g==="success"?a.jsx(Dt,{className:"w-5 h-5 text-green-600"}):g==="error"?a.jsx(Mr,{className:"w-5 h-5 text-red-600"}):a.jsx(lr,{className:"w-5 h-5 text-gray-400 animate-spin"}),h=({status:g})=>g==="success"?a.jsx(Ze,{className:"bg-green-600",children:"OK"}):g==="error"?a.jsx(Ze,{variant:"destructive",children:"ERROR"}):a.jsx(Ze,{variant:"outline",children:"PENDING"});return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-orange-50 p-4 md:p-8",children:[a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center",children:a.jsx(aH,{className:"w-8 h-8 text-white"})})}),a.jsx("h1",{className:"text-gray-900 mb-2",children:"AI Chat Tutor Test Suite"}),a.jsx("p",{className:"text-gray-600",children:"Verifica funzionamento completo del Chat Tutor con GPT-4o-mini"})]}),a.jsxs(oe,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 mb-1",children:"Test Automatici"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Verifica componente, context e backend API"})]}),a.jsx(ye,{onClick:f,disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:i?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ra,{className:"w-4 h-4 mr-2"}),"Run All Tests"]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(p,{status:t.component}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900",children:"Component Loaded"}),a.jsx("p",{className:"text-xs text-gray-500",children:"MascotAI component available"})]})]}),a.jsx(h,{status:t.component})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(p,{status:t.context}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900",children:"Context Integration"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Lesson context passing works"})]})]}),a.jsx(h,{status:t.context})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(p,{status:t.backend}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900",children:"Backend API"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Supabase Edge Function + OpenAI"})]})]}),a.jsx(h,{status:t.backend})]})]}),r&&a.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(gi,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-900 mb-1",children:"AI Response:"}),a.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap",children:r})]})]})})]}),a.jsxs(oe,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(rG,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900 mb-1",children:"Test Manuale"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Usa il floating button in basso a destra per testare l'AI chat:"})]})]}),a.jsxs("div",{className:"space-y-3 ml-8",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs flex-shrink-0",children:"1"}),a.jsx("p",{className:"text-sm text-gray-700",children:'Click sulla mascotte Prof Satoshi (bottom-right con badge "AI")'})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs flex-shrink-0",children:"2"}),a.jsx("p",{className:"text-sm text-gray-700",children:"Prova una delle domande suggerite o scrivi la tua"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs flex-shrink-0",children:"3"}),a.jsx("p",{className:"text-sm text-gray-700",children:"Verifica che l'AI risponda in italiano e in modo pertinente"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs flex-shrink-0",children:"4"}),a.jsx("p",{className:"text-sm text-gray-700",children:"Testa conversazioni multi-turn (AI deve ricordare context)"})]})]})]}),a.jsxs(oe,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Ht,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900 mb-1",children:"Features da Verificare"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Checklist funzionalit AI Chat Tutor:"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-3 ml-8",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Floating button appare"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Chat window si apre smooth"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Welcome message mostra"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Suggested questions clickable"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"AI risponde in italiano"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Loading animation funziona"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Messages salvate localStorage"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Clear chat funziona"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Enter key invia messaggio"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Auto-scroll a nuovi messaggi"]})]})]}),a.jsxs(oe,{className:"p-6 bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:[a.jsx("h3",{className:"text-gray-900 mb-3",children:" Domande di Test Suggerite"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"p-3 bg-white rounded-lg text-sm text-gray-700",children:'"Come funziona la Wheel Strategy?"'}),a.jsx("div",{className:"p-3 bg-white rounded-lg text-sm text-gray-700",children:'"Cosa sono le cash-secured put?"'}),a.jsx("div",{className:"p-3 bg-white rounded-lg text-sm text-gray-700",children:'"Spiega il delta delle opzioni"'}),a.jsx("div",{className:"p-3 bg-white rounded-lg text-sm text-gray-700",children:'"Quali sono i rischi principali?"  poi  "Come li posso mitigare?"'})]})]})]}),a.jsx(ChatTutor,{})]})}function Ihe(){const{user:t,signInWithEmail:e,signUpWithEmail:r,signOut:n}=xn(),[i,s]=P.useState(!0),[o,c]=P.useState(!1),[d,f]=P.useState([]),[p,h]=P.useState("unconfigured"),[g,v]=P.useState("test@btcwheel.com"),[b,w]=P.useState("testpassword123");P.useEffect(()=>{x()},[]);const x=async()=>{if(s(!0),!xt){h("unconfigured"),s(!1);return}try{const{data:C,error:N}=await Ge.from("kv_store_7c0f82ca").select("count",{count:"exact",head:!0});N?(console.error("Connection error:",N),h("error")):(h("connected"),await S())}catch(C){console.error("Unexpected error:",C),h("error")}s(!1)},S=async()=>{if(!Ge)return;const C=["kv_store_7c0f82ca","user_progress","user_activities","leaderboard_entries","trading_simulations"],N=[];for(const T of C)try{const{count:E,error:O}=await Ge.from(T).select("*",{count:"exact",head:!0});O?N.push({name:T,exists:!1,error:O.message}):N.push({name:T,exists:!0,rowCount:E||0})}catch(E){N.push({name:T,exists:!1,error:E.message})}f(N)},k=async C=>{c(!0);try{C==="signup"?(await r(g,b,"Test User")).user&&de.success(" Signup funzionante!"):(await e(g,b)).user&&de.success(" Login funzionante!")}catch(N){de.error("Test fallito: "+N.message)}c(!1)},_=async()=>{await n(),de.success("Logout effettuato")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(ea,{className:"w-8 h-8 text-emerald-600"}),a.jsx("h1",{className:"text-emerald-900",children:"Supabase Status Dashboard"})]}),a.jsx("p",{className:"text-emerald-700",children:"Verifica connessione database, tabelle e autenticazione"})]}),a.jsxs(oe,{className:"mb-6 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{className:"w-6 h-6 text-emerald-600"}),a.jsx("h2",{className:"text-emerald-900",children:"Stato Connessione"})]}),a.jsx(ye,{onClick:x,disabled:i,variant:"outline",size:"sm",children:i?a.jsx(lr,{className:"w-4 h-4 animate-spin"}):a.jsx(_i,{className:"w-4 h-4"})})]}),i?a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(lr,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"Controllo connessione..."})]}):a.jsxs("div",{className:"space-y-4",children:[p==="unconfigured"&&a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx(Mr,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-yellow-900 mb-1",children:"Supabase non configurato"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"Le credenziali non sono disponibili. L'app funziona in modalit locale."})]})]}),p==="error"&&a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsx(Mr,{className:"w-5 h-5 text-red-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-900 mb-1",children:"Errore di connessione"}),a.jsx("p",{className:"text-sm text-red-700",children:"Impossibile connettersi al database. Verifica le credenziali."})]})]}),p==="connected"&&a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-emerald-50 border border-emerald-200 rounded-lg",children:[a.jsx(Dt,{className:"w-5 h-5 text-emerald-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-emerald-900 mb-1",children:" Connesso a Supabase"}),a.jsxs("p",{className:"text-sm text-emerald-700",children:["Project ID: ",a.jsx("code",{className:"bg-emerald-100 px-2 py-0.5 rounded",children:it})]}),a.jsxs("a",{href:`https://supabase.com/dashboard/project/${it}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-emerald-600 hover:text-emerald-700 mt-2",children:["Apri Dashboard Supabase",a.jsx(EH,{className:"w-3 h-3"})]})]})]})]})]}),p==="connected"&&a.jsxs(oe,{className:"mb-6 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(il,{className:"w-6 h-6 text-emerald-600"}),a.jsx("h2",{className:"text-emerald-900",children:"Stato Tabelle Database"})]}),a.jsx("div",{className:"space-y-3",children:d.map(C=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[C.exists?a.jsx(Dt,{className:"w-5 h-5 text-emerald-600"}):a.jsx(Mr,{className:"w-5 h-5 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900",children:a.jsx("code",{className:"text-sm bg-gray-100 px-2 py-0.5 rounded",children:C.name})}),C.error&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:C.error})]})]}),C.exists&&a.jsxs(Ze,{variant:"secondary",children:[C.rowCount," ",C.rowCount===1?"riga":"righe"]})]},C.name))}),d.some(C=>!C.exists)&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-blue-900 mb-2",children:" Alcune tabelle non esistono ancora"}),a.jsx("p",{className:"text-xs text-blue-700",children:"Questo  normale se  la prima volta che usi l'app. Le tabelle verranno create automaticamente quando necessario, oppure puoi crearle manualmente dalla dashboard Supabase."})]})]}),a.jsxs(oe,{className:"mb-6 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(bi,{className:"w-6 h-6 text-emerald-600"}),a.jsx("h2",{className:"text-emerald-900",children:"Autenticazione"})]}),t?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-emerald-50 border border-emerald-200 rounded-lg",children:[a.jsx(Dt,{className:"w-5 h-5 text-emerald-600 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-emerald-900 mb-1",children:" Utente autenticato"}),a.jsxs("p",{className:"text-sm text-emerald-700",children:["Email: ",a.jsx("code",{className:"bg-emerald-100 px-2 py-0.5 rounded",children:t.email})]}),a.jsxs("p",{className:"text-sm text-emerald-700 mt-1",children:["ID: ",a.jsx("code",{className:"bg-emerald-100 px-2 py-0.5 rounded text-xs",children:t.id})]})]})]}),a.jsx(ye,{onClick:_,variant:"outline",className:"w-full",children:"Logout"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsx(Mr,{className:"w-5 h-5 text-gray-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900 mb-1",children:"Nessun utente autenticato"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Testa login/signup per verificare che l'autenticazione funzioni"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Email Test"}),a.jsx("input",{type:"email",value:g,onChange:C=>v(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"test@btcwheel.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Password Test"}),a.jsx("input",{type:"password",value:b,onChange:C=>w(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"********"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(ye,{onClick:()=>k("signup"),disabled:o||!xt,variant:"outline",children:[o?a.jsx(lr,{className:"w-4 h-4 animate-spin mr-2"}):null,"Test Signup"]}),a.jsxs(ye,{onClick:()=>k("signin"),disabled:o||!xt,children:[o?a.jsx(lr,{className:"w-4 h-4 animate-spin mr-2"}):null,"Test Accesso"]})]})]})]})]}),a.jsxs(oe,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(gt,{className:"w-6 h-6 text-emerald-600"}),a.jsx("h2",{className:"text-emerald-900",children:"Quick Actions"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs(ye,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://supabase.com/dashboard/project/rsmvjsokqolxgczclqjv/editor","_blank"),children:[a.jsx(ea,{className:"w-4 h-4 mr-2"}),"Apri Table Editor"]}),a.jsxs(ye,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://supabase.com/dashboard/project/rsmvjsokqolxgczclqjv/auth/users","_blank"),children:[a.jsx(bi,{className:"w-4 h-4 mr-2"}),"Gestisci Utenti"]}),a.jsxs(ye,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://supabase.com/dashboard/project/rsmvjsokqolxgczclqjv/logs/postgres-logs","_blank"),children:[a.jsx(il,{className:"w-4 h-4 mr-2"}),"Vedi Logs"]}),a.jsxs(ye,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://supabase.com/dashboard/project/rsmvjsokqolxgczclqjv/settings/api","_blank"),children:[a.jsx(ta,{className:"w-4 h-4 mr-2"}),"API Settings"]})]})]})]})})}function Rhe(){const[t,e]=P.useState(!1),[r,n]=P.useState(null),i=async()=>{e(!0);const o={configCheck:!1,projectId:null,hasAnonKey:!1,supabaseUrl:null,clientCreated:!1,pingSuccess:!1,error:null};try{if(o.configCheck=xt,o.projectId=it,o.hasAnonKey=!!(Ur&&Ur.length>0),o.supabaseUrl=`https://${it}.supabase.co`,o.clientCreated=!!Ge,Ge&&xt)try{const{data:c,error:d}=await Ge.auth.getSession();d?o.error=d.message:o.pingSuccess=!0}catch(c){o.error=c.message}}catch(c){o.error=c.message}n(o),e(!1)};if(P.useEffect(()=>{i()},[]),!r)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-orange-500 flex items-center justify-center p-4",children:a.jsx(oe,{className:"p-8 max-w-2xl w-full",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(lr,{className:"w-6 h-6 animate-spin text-blue-600"}),a.jsx("p",{children:"Testing Supabase connection..."})]})})});const s=r.configCheck&&r.clientCreated&&r.pingSuccess;return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-orange-500 flex items-center justify-center p-4",children:a.jsxs(oe,{className:"p-8 max-w-2xl w-full",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(ea,{className:"w-8 h-8 text-blue-600"}),a.jsx("h1",{className:"text-gray-900",children:"Supabase Connection Test"})]}),a.jsx(Xo,{className:`mb-6 ${s?"border-green-500 bg-green-50":"border-orange-500 bg-orange-50"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[s?a.jsx(Dt,{className:"w-5 h-5 text-green-600"}):a.jsx(Mr,{className:"w-5 h-5 text-orange-600"}),a.jsx(Yo,{className:s?"text-green-900":"text-orange-900",children:s?" Supabase is configured correctly!":" Some tests failed. See details below."})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.configCheck?a.jsx(Dt,{className:"w-5 h-5 text-green-600 mt-0.5"}):a.jsx(Mr,{className:"w-5 h-5 text-red-600 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Configuration Check"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.configCheck?"Credentials loaded successfully":"Missing credentials in info.tsx"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.projectId?a.jsx(Dt,{className:"w-5 h-5 text-green-600 mt-0.5"}):a.jsx(Mr,{className:"w-5 h-5 text-red-600 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Project ID"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.projectId?a.jsx("code",{className:"bg-white px-2 py-1 rounded",children:r.projectId}):"Not found"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.hasAnonKey?a.jsx(Dt,{className:"w-5 h-5 text-green-600 mt-0.5"}):a.jsx(Mr,{className:"w-5 h-5 text-red-600 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Anon Key"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.hasAnonKey?a.jsx(a.Fragment,{children:a.jsxs("code",{className:"bg-white px-2 py-1 rounded",children:[Ur.substring(0,20),"...",Ur.slice(-10)]})}):"Not found"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.supabaseUrl?a.jsx(Dt,{className:"w-5 h-5 text-green-600 mt-0.5"}):a.jsx(Mr,{className:"w-5 h-5 text-red-600 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Supabase URL"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.supabaseUrl?a.jsx("code",{className:"bg-white px-2 py-1 rounded",children:r.supabaseUrl}):"Could not construct URL"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.clientCreated?a.jsx(Dt,{className:"w-5 h-5 text-green-600 mt-0.5"}):a.jsx(Mr,{className:"w-5 h-5 text-red-600 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Supabase Client"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.clientCreated?"Client created successfully":"Failed to create client"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.pingSuccess?a.jsx(Dt,{className:"w-5 h-5 text-green-600 mt-0.5"}):a.jsx(Mr,{className:"w-5 h-5 text-red-600 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Server Connection"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.pingSuccess?"Successfully connected to Supabase server":r.error||"Could not reach server"})]})]})]}),r.error&&a.jsxs(Xo,{variant:"destructive",className:"mt-6",children:[a.jsx(Mr,{className:"h-4 w-4"}),a.jsxs(Yo,{children:[a.jsx("strong",{children:"Error Details:"}),a.jsx("pre",{className:"mt-2 text-xs overflow-auto",children:r.error})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx(ye,{onClick:i,disabled:t,className:"flex-1",children:t?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(f$,{className:"w-4 h-4 mr-2"}),"Re-run Tests"]})}),a.jsx(ye,{onClick:()=>window.location.href="/",variant:"outline",children:"Back to App"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-blue-900",children:a.jsx("strong",{children:" Next Steps:"})}),a.jsx("ul",{className:"text-sm text-blue-800 mt-2 space-y-1 ml-4 list-disc",children:s?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:" Authentication is ready!"}),a.jsx("li",{children:" Try creating an account with email/password"}),a.jsx("li",{children:" Google OAuth requires additional setup (see GOOGLE_OAUTH_SETUP.md)"})]}):a.jsxs(a.Fragment,{children:[a.jsx("li",{children:" Check if /utils/supabase/info.tsx exists"}),a.jsx("li",{children:" Verify credentials in info.tsx"}),a.jsx("li",{children:" Contact support if problem persists"})]})})]})]})})}function $he(){const[t,e]=P.useState("landing"),[r,n]=P.useState(9),[i,s]=P.useState(!1),[o,c]=P.useState(!0),[d,f]=P.useState(!1),[p,h]=P.useState(!1),g=xn(),{user:v,loading:b}=g||{user:null,loading:!0},{onboarding:w,shouldShowOnboarding:x,loading:S}=s4(),k=P.useCallback(()=>{c(!0)},[]);P.useEffect(()=>{h(!1)},[]),P.useEffect(()=>{if(!b){if(v)console.log(" [App] User detected:",v.email),(window.location.hash.includes("access_token")||window.location.search.includes("code=")||document.referrer.includes("google.com")||document.referrer.includes("supabase")||t==="landing")&&(console.log(" [App] Authenticated user on landing/OAuth - redirecting..."),window.location.hash.includes("access_token")&&window.history.replaceState(null,"",window.location.pathname),e(x?"onboarding":"home"));else if(!b){const C=window.location.hash,N=window.location.search;(C.includes("access_token")||N.includes("code="))&&console.warn(" [App] OAuth params present but no user session found yet.")}}},[v,b,x,t]),P.useEffect(()=>{w.completed&&w.recommendations&&v?localStorage.getItem("btcwheel_onboarding_results_shown")?(h(!1),s(!0)):(h(!0),s(!0)):h(!1)},[w.completed,w.recommendations,v]);const _=(C,N)=>{t==="landing"&&C!=="landing"&&s(!0),e(C),N!==void 0&&n(N)};if(typeof window<"u"){const C=new URLSearchParams(window.location.search);if(C.get("test")==="chat")return a.jsx(Ohe,{});if(C.get("status")==="supabase")return a.jsx(Ihe,{});if(C.get("test")==="supabase")return a.jsx(Rhe,{})}return t==="landing"?a.jsxs(a.Fragment,{children:[a.jsx($o,{}),a.jsx(Ao,{}),a.jsx(GG,{onNavigate:_})]}):b||S?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center",children:a.jsxs("div",{className:"text-white text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-lg",children:"Caricamento..."})]})}):t==="auth"?a.jsxs(a.Fragment,{children:[a.jsx($o,{}),a.jsx(Ao,{}),a.jsx(BI,{onAuthSuccess:()=>{f(!0),e(x?"onboarding":"home")}})]}):!v&&i?(console.log("[App] No user found, showing auth"),a.jsxs(a.Fragment,{children:[a.jsx($o,{}),a.jsx(Ao,{}),a.jsx(BI,{onAuthSuccess:()=>{f(!0),e(x?"onboarding":"home")}})]})):p&&w.recommendations&&i?(console.log("[App] Rendering onboarding results"),a.jsxs(a.Fragment,{children:[a.jsx($o,{}),a.jsx(Ao,{}),a.jsx(bhe,{recommendations:w.recommendations,onStart:()=>{console.log("[App] Starting course from onboarding results"),localStorage.setItem("btcwheel_onboarding_results_shown","true"),h(!1),e("dashboard")}})]})):t==="onboarding"?(console.log("[App] Rendering onboarding view"),a.jsxs(a.Fragment,{children:[a.jsx($o,{}),a.jsx(Ao,{}),a.jsx(xhe,{onComplete:()=>{console.log("[App]  Onboarding completed! Navigating to dashboard..."),s(!0),e("dashboard")}})]})):(console.log("[App] Rendering normal app flow, currentView:",t),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx($o,{}),a.jsx(The,{}),a.jsx(Ao,{}),a.jsx(Ahe,{}),a.jsx(Ehe,{}),t==="home"&&a.jsx(cK,{onNavigate:_,mascotVisible:o,onMascotToggle:k}),t==="dashboard"&&a.jsx(jK,{onNavigate:_,mascotVisible:o,onMascotToggle:k}),t==="lessons"&&a.jsx(TX,{onNavigate:_}),t==="lesson"&&a.jsx(_X,{onNavigate:C=>_(C),lessonId:r}),t==="badges"&&a.jsx(RX,{onNavigate:_}),t==="simulation"&&a.jsx(qfe,{onNavigate:_}),t==="longterm"&&a.jsx(Ufe,{onNavigate:_}),t==="wheel-strategy"&&a.jsx(Wfe,{onNavigate:_}),t==="leaderboard"&&a.jsx(Kfe,{onNavigate:_}),t==="settings"&&a.jsx(rhe,{onNavigate:_}),t==="exchange"&&a.jsx(she,{onNavigate:_,mascotVisible:o,onMascotToggle:k}),a.jsx(Mz,{lessonContext:t==="lesson"?{lessonId:r,lessonTitle:`Lezione ${r}`}:void 0,isVisible:o,onVisibilityChange:c})]}))}function Mhe(){return a.jsx($he,{})}z6.createRoot(document.getElementById("root")).render(a.jsx(Mhe,{}));
